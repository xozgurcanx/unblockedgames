function getQueryString(a,b){null==b&&(b=""),a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(window.location.href);return null==d?b:d[1]}function angle(a,b,c,d){var e=d-b,f=c-a;return Math.atan2(e,f)}var NeoGame=NeoGame||{};if(NeoGame.DomUtils={hasClass:function(a,b){return a.classList?a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){a.classList?a.classList.add(b):NeoGame.DomUtils.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(a.classList)a.classList.remove(b);else if(NeoGame.DomUtils.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}},getQueryString:function(a,b){null==b&&(b=""),a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(window.location.href);return null==d?b:d[1]},setDebug:function(a){if(a)window.debug={log:window.console.log.bind(window.console),error:window.console.error.bind(window.console,"[ERROR]: %s"),info:window.console.info.bind(window.console,"[INFO]: %s"),warn:window.console.warn.bind(window.console,"[WARN]: %s"),debug:window.console.debug.bind(window.console)};else{var b=function(){};window.debug={log:b,error:b,warn:b,info:b,debug:b,clear:b}}}},null===NP||"object"!=typeof NP)var NP={};var ua=navigator.userAgent,isiPad=null!=ua.match(/iPad/i),iPadVersion=null,isiPhone=null!=ua.match(/iPhone/i)||"true"==getQueryString("isiPhone"),isiPhoneX=isiPhone&&window.innerHeight>=635,isiPod=null!=ua.match(/iPod/i),isAndroid=null!=ua.match(/Android/i),isMobileWebkit=/WebKit/.test(ua)&&/Mobile/.test(ua),isAndroidTablet=isAndroid&&null==ua.match(/Mobile/i),isMobile=isiPad||isiPhone||isiPod||isAndroid||isMobileWebkit,isAndroidPhone=!(!isAndroid||isAndroidTablet),isTablet=isiPad||isAndroidTablet,isIE11=Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject,isIE=null!=ua.match(/MSIE/i)||null!=ua.match(/Trident/i)||isIE11,isChrome=null!=ua.match(/Chrome/i),isIosChrome=null!=ua.match("CriOS"),isSafari=-1!=ua.indexOf("Safari")&&!isChrome,iOS=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(ua)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,isFireFox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;clickEvent=isiPad||isiPhone||isAndroid||isMobileWebkit?"touchend":"click",isiPad&&(iPadVersion=3,window.ondevicemotion=function(a){if(-1!=navigator.platform.indexOf("iPad")){var b=1;a.acceleration&&(b+=window.devicePixelRatio),iPadVersion=b}window.ondevicemotion=null}),NP.Crossbrowser={debug:!1,debugMobile:!1,ua:ua,isiPad:isiPad,iPadVersion:0,isiPhone:isiPhone,isiPhoneX:isiPhoneX,isiPod:isiPod,isAndroid:isAndroid,isMobileWebkit:isMobileWebkit,isAndroidTablet:isAndroidTablet,isMobile:isMobile,isAndroidPhone:isAndroidPhone,isTablet:isTablet,isIE11:isIE11,isIE:isIE,isChrome:isChrome,isIosChrome:isIosChrome,isFireFox:isFireFox,isSafari:isSafari,clickEvent:clickEvent,iOS:iOS};var NeoGame=NeoGame||{};NeoGame.Utils={addRectangle:function(a,b,c){var b=b>0?b:NeoGame.game.width,c=c>0?c:NeoGame.game.height,a=a>=0?a:16777215,d=NeoGame.game.make.graphics(0,0);return d.beginFill(a,1),d.drawRect(0,0,b,c),d.endFill(),d},mobilecheck:function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},getString:function(a){var b="";return NeoGame.strings[a]&&NeoGame.strings[a].value?b=NeoGame.strings[a].value:debug.warn("Did't find string of: "+a),b.capitalize()},createLargeButton:function(a,b,c,d,e){e||(e=NeoGame.game);var f=NeoGame.game.add.sprite(parseInt(a),parseInt(b),"","");f.anchor.set(.5),f.inputEnabled=!0,f.input.useHandCursor=!0,f.events.onInputOver.add(function(){h.scale.set(1)},this),f.events.onInputOut.add(function(){h.scale.set(.95)},this),f.events.onInputDown.add(function(){f.scale.set(.98),NeoGame.game.sound.play("uiButtonClick",1)},this),f.events.onInputUp.add(function(){f.inputEnabled=!1,d.call(e),f.scale.set(1)},this);var g=NeoGame.Utils.addRectangle(16761359,400,80);g.x=-200,g.y=-40,f.addChild(g);var h=NeoGame.game.make.bitmapText(-5,11,"teko-black",c,34);return h.scale.set(.95),h.align="center",h.anchor.setTo(.5),f.addChild(h),f},createSmallButton:function(a,b,c,d,e){e||(e=NeoGame.game);var f=NeoGame.game.add.sprite(parseInt(a),parseInt(b),"","");f.anchor.set(.5),f.inputEnabled=!0,f.input.useHandCursor=!0,f.events.onInputOver.add(function(){h.scale.set(1)},this),f.events.onInputOut.add(function(){h.scale.set(.95)},this),f.events.onInputDown.add(function(){f.scale.set(.98),NeoGame.game.sound.play("uiButtonClick",1)},this),f.events.onInputUp.add(function(){d.call(e),f.scale.set(1)},this);var g=NeoGame.Utils.addRectangle(16761359,200,50);g.x=-.5*g.width,g.y=-.5*g.height,f.addChild(g);var h=NeoGame.game.make.bitmapText(-4,6,"teko-black",c,24);return h.scale.set(.95),h.align="center",h.anchor.setTo(.5),f.addChild(h),f},createTextButton:function(a,b,c,d,e){e||(e=NeoGame.game);var f=NeoGame.game.add.sprite(parseInt(a),parseInt(b),"","");f.anchor.set(.5),f.scale.set(.95),f.inputEnabled=!0,f.input.useHandCursor=!0,f.events.onInputDown.add(function(){NeoGame.game.sound.play("uiButtonClick",1),d.call(e)},this),f.events.onInputOver.add(function(){f.scale.set(1)},this),f.events.onInputOut.add(function(){f.scale.set(.95)},this);var g=NeoGame.game.make.bitmapText(-5,0,"teko-yellow",c,26);return g.align="center",g.anchor.setTo(.5),f.addChild(g),f},createTextBoxButton:function(a,b,c,d,e){e||(e=NeoGame.game);var f=NeoGame.game.add.sprite(parseInt(a),parseInt(b),"ui-assets","exit-tutorial-button-bg");f.anchor.set(.5),f.scale.set(.95),f.inputEnabled=!0,f.input.useHandCursor=!0,f.events.onInputDown.add(function(){NeoGame.game.sound.play("uiButtonClick",1),d.call(e)},this),f.events.onInputOver.add(function(){f.scale.set(1)},this),f.events.onInputOut.add(function(){f.scale.set(.95)},this);var g=NeoGame.game.make.bitmapText(-5,7,"teko-yellow",c,26);return g.align="center",g.anchor.setTo(.5),f.addChild(g),f},createAlert:function(a,b,c,d,e){e||(e=NeoGame.game);var f=c.heading,g=c.copy,h=c.buttonLabel,i=c.hightlightHeader,j=c.hint,k=50,l="alert-bg1";switch(NeoGame.Model.getLevel()){case 0:case 1:case 2:l="alert-bg1";break;case 3:case 4:case 5:l="alert-bg2";break;case 6:case 7:case 8:l="alert-bg3";break;case 9:case 10:case 11:l="alert-bg4";break;case 12:case 13:case 14:case 15:l="alert-bg5";break;default:l="alert-bg5"}var m=NeoGame.game.make.sprite(parseInt(a),parseInt(b),"ui-assets",l);m.inputEnabled=!0,m.anchor.set(.5);var n=NeoGame.game.make.group();m.addChild(n);var o=NeoGame.Utils.addRectangle(16711680,NeoGame.game.width,NeoGame.game.height);o.x=-.5*o.width,o.y=-.5*o.height-100,o.alpha=0,n.addChild(o);var p=NeoGame.game.make.bitmapText(0,0,"header",f,74);p.align="center",p.maxWidth=580,p.anchor.setTo(.5,0),n.addChild(p),i&&(p.tint=16761359);var q=NeoGame.game.make.bitmapText(0,p.y+p.height+k,"copy",g,32);q.align="center",q.anchor.setTo(.5,0),q.maxWidth=520,n.addChild(q);var r=NeoGame.game.add.button(0,0);r.anchor.set(.5),r.inputEnabled=!0,r.input.useHandCursor=!0,n.addChild(r),r.y=q.y+q.height+k+r.height,r.events.onInputOver.add(function(){t.scale.set(1)},this),r.events.onInputOut.add(function(){t.scale.set(.95)},this),r.events.onInputDown.add(function(){r.scale.set(.98),NeoGame.game.sound.play("uiButtonClick",1)},this),r.events.onInputUp.add(function(){r.inputEnabled=!1,d&&d.call(e),m.destroy()},this);var s=NeoGame.Utils.addRectangle(16761359,340,80);s.x=-.5*s.width,s.y=-.5*s.height,r.addChild(s);var t=NeoGame.game.make.bitmapText(0,8,"teko-black",h,34);t.scale.set(.95),t.align="center",t.anchor.setTo(.5),r.addChild(t),debug.debug("contentGroup",n);var u=.5*(p.y+r.y+r.height);if(n.y=-u,j){var v=NeoGame.game.make.bitmapText(0,0,"copy",j,20);v.align="center",v.alpha=.8,v.anchor.setTo(.5,1),v.maxWidth=500,v.y=.5*m.height-35,m.addChild(v),n.y-=20}return m},clamp:function(a,b,c){if(b>c){var d=c;c=b,b=d}return a<b?b:a>c?c:a},translateRange:function(a,b,c,d,e){return(e-a)*(d-c)/(b-a)+c},rnd:function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},smoothEase:function(a,b,c){var d=c||.1,e=b.x-a.x,f=b.y-a.y;Math.sqrt(e*e+f*f)>1&&(a.x+=e*d,a.y+=f*d)},playSound:function(a,b,c,d){return d?NeoGame.game.sound.play(a,b,c):NeoGame.G.sounds.play(a,b,c)},getRotationAngle:function(a,b){return Phaser.Math.radToDeg(a.input.activePointer.position.angle(b))},snapAngle:function(a,b){return Math.floor((a%360+b/2)/b)*b},bezierPoint:function(a,b,c,d,e){v;var f=3*(b.x-a.x),g=3*(c.x-b.x)-f,h=d.x-a.x-f-g,i=3*(b.y-a.y),j=3*(c.y-b.y)-i,k=d.y-a.y-i-j;return{x:h*Math.pow(e,3)+g*Math.pow(e,2)+f*e+a.x,y:k*Math.pow(e,3)+j*Math.pow(e,2)+i*e+a.y}},drawBezierPoints:function(a,b){var c;c=a.add.graphics(0,0),c.clear(),c.lineStyle(2,34816,1),c.moveTo(b[1].x,b[1].y),c.lineTo(b[0].x,b[0].y),c.lineStyle(2,8912896,1),c.moveTo(b[3].x,b[3].y),c.lineTo(b[2].x,b[2].y),c.lineStyle(4,16776960,1),c.moveTo(b[0].x,b[0].y);for(var d=0;d<1;d+=.01){var e=NeoGame.Utils.bezierPoint(b[0],b[1],b[2],b[3],d);c.lineTo(e.x,e.y)}return c},duplicateArray:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c].slice();return b}},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.shuffle=function(){for(var a,b,c=this.length;0!==c;)b=Math.floor(Math.random()*c),c-=1,a=this[c],this[c]=this[b],this[b]=a;return this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var NeoGame=NeoGame||{};NeoGame.BootState=function(a){},NeoGame.BootState.prototype={init:function(){if(window.scrollTo(0,0),this.stage.backgroundColor=NeoGame.config.backgroundColor,this.load.baseURL=NeoGame.config.assetsPath,(this.game.device.desktop||NP.Crossbrowser.iOS&&NP.Crossbrowser.isChrome>-1)&&(this.game.stage.disableVisibilityChange=!0),NeoGame.DomUtils.setDebug(NeoGame.config.debug),NeoGame.config.debug&&(this.game.time.advancedTiming=!0),this.game.device.desktop)debug.log("Running on DESKTOP"),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=NeoGame.config.minWidth,this.game.scale.minHeight=NeoGame.config.minHeight,this.game.scale.maxWidth=NeoGame.config.maxWidth,this.game.scale.maxHeight=NeoGame.config.maxHeight,this.game.scale.pageAlignHorizontally=!0;else{NeoGame.DomUtils.addClass(document.getElementById("game"),"mobile"),console.log("Running on MOBILE");var a=this;this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.game.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),this.game.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this),"1"!=getQueryString("norotate")&&this.game.scale.forceOrientation(!1,!0),window.addEventListener("message",function(b){var c=b.data.orientation;if(void 0==c)return void debug.debug("orientation change from iFrame: "+c,", returning");debug.debug("orientation change from iFrame: "+c),a.game.scale.forceOrientation(!1,!0),0==c?(a.game.scale.updateLayout(),a.leaveIncorrectOrientation()):(a.windowResize(),a.enterIncorrectOrientation())},!1),isAndroid&&(this.game.input.maxPointers=1,this.game.device.touch&&this.game.input.mouse.stop())}this.game.scale.updateLayout(),$(window).resize($.proxy(this.windowResize,this))},windowResize:function(){var a=this.game.device.desktop?0:500;NeoGame.game.time.events.add(a,function(){this.game.scale.updateLayout()},this)},preload:function(){this.load.path="images/game/",this.load.atlas("preloader-assets"),this.load.images(["tracer-landing_withLogo"])},create:function(){this.game.state.start("preload")},shutdown:function(){},enterIncorrectOrientation:function(){document.getElementById("game").classList.add("hide"),document.getElementById("non-orientation").classList.add("show")},leaveIncorrectOrientation:function(){document.getElementById("game").classList.remove("hide"),document.getElementById("non-orientation").classList.remove("show")}};var NeoGame=NeoGame||{};NeoGame.PreloadState=function(a){},NeoGame.PreloadState.prototype={loadText:null,init:function(){},preload:function(){var a=this.game.add.image(this.game.world.centerX,105,"preloader-assets","title");a.anchor.set(.5,0),this.game.add.tween(a).from({alpha:0},300,Phaser.Easing.Linear.None,!0);var b=this.game.add.sprite(this.game.world.centerX,350,"preloader-assets","landing-overlay-bg");b.anchor.set(.5,0),this.game.add.tween(b).from({alpha:0},300,Phaser.Easing.Linear.None,!0);var c=this.game.add.group();b.addChild(c),this.loadingLabel=this.game.make.image(0,165,"preloader-assets","loading"),this.loadingLabel.anchor.set(.5,0),c.add(this.loadingLabel);var d=this.game.make.image(-200,200,"preloader-assets","preloader-bar-line");d.anchor.set(0,0),c.add(d),this.preloaderFill=this.game.make.image(-200,200,"preloader-assets","preloader-bar-fill"),this.preloaderFill.anchor.set(0,0),this.preloaderFill.scale.x=0,c.add(this.preloaderFill),this.load.path="images/game/",this.load.atlas("game-assets"),this.load.atlas("ui-assets"),this.load.atlas("uncompressed-assets"),this.load.images([]),this.load.path="audio/",this.load.audio("musicLoop",["Cipher_Music_Loop.ogg","Cipher_Music_Loop.m4a","Cipher_Music_Loop.mp3"]),this.load.audio("letterTap",["Letter_Tap.ogg","Letter_Tap.m4a","Letter_Tap.mp3"]),this.load.audio("spinTink1",["Spin_tink_01.ogg","Spin_tink_01.m4a","Spin_tink_01.mp3"]),this.load.audio("spinTink2",["Spin_tink_02.ogg","Spin_tink_02.m4a","Spin_tink_02.mp3"]),this.load.audio("spinTink3",["Spin_tink_03.ogg","Spin_tink_03.m4a","Spin_tink_03.mp3"]),this.load.audio("spinTink4",["Spin_tink_04.ogg","Spin_tink_04.m4a","Spin_tink_04.mp3"]),this.load.audio("spinTink5",["Spin_tink_05.ogg","Spin_tink_05.m4a","Spin_tink_05.mp3"]),this.load.audio("spinTinkHigh1",["Spin_tink_high_01.ogg","Spin_tink_high_01.m4a","Spin_tink_high_01.mp3"]),this.load.audio("spinTinkHigh2",["Spin_tink_high_02.ogg","Spin_tink_high_02.m4a","Spin_tink_high_02.mp3"]),this.load.audio("spinTinkHigh3",["Spin_tink_high_03.ogg","Spin_tink_high_03.m4a","Spin_tink_high_03.mp3"]),this.load.audio("spinTinkHigh4",["Spin_tink_high_04.ogg","Spin_tink_high_04.m4a","Spin_tink_high_04.mp3"]),this.load.audio("spinTinkHigh5",["Spin_tink_high_05.ogg","Spin_tink_high_05.m4a","Spin_tink_high_05.mp3"]),this.load.audio("lock",["Lock_lock-it.ogg","Lock_lock-it.m4a","Lock_lock-it.mp3"]),this.load.audio("unlock",["Lock_unlock-it.ogg","Lock_unlock-it.m4a","Lock_unlock-it.mp3"]),this.load.audio("uiButtonClick",["UI_Button_Click.ogg","UI_Button_Click.m4a","UI_Button_Click.mp3"]),this.load.audio("levelFail",["Level_Fail.ogg","Level_Fail.m4a","Level_Fail.mp3"]),this.load.audio("levelSuccess",["Level_Success_Single.ogg","Level_Success_Single.m4a","Level_Success_Single.mp3"]),this.load.audio("levelSuccessFinishLevelSet",["Level_Success_FinishLevelSet.ogg","Level_Success_FinishLevelSet.m4a","Level_Success_FinishLevelSet.mp3"]),this.load.audio("levelSuccessFinishTutorial",["Level_Success_FinishTutorial.ogg","Level_Success_FinishTutorial.m4a","Level_Success_FinishTutorial.mp3"]),this.load.audio("levelSuccessFinishWholeGame",["Level_Success_FinishWholeGame.ogg","Level_Success_FinishWholeGame.m4a","Level_Success_FinishWholeGame.mp3"]),this.load.path="fonts/",this.load.bitmapFont("wheel-font-blue","wheel-font-blue.png","wheel-font-blue.xml"),this.load.bitmapFont("outter-wheel-font","outter-wheel-font.png","outter-wheel-font.xml"),this.load.bitmapFont("inner-wheel-font","inner-wheel-font.png","inner-wheel-font.xml"),this.load.bitmapFont("copy","copy.png","copy.xml"),this.load.bitmapFont("header","header.png","header.xml"),this.load.bitmapFont("teko-black","teko-black.png","teko-black.xml"),this.load.bitmapFont("teko-yellow","teko-yellow.png","teko-yellow.xml"),this.load.bitmapFont("teko-white","teko-white.png","teko-white.xml"),this.load.path="config/",this.load.json(["strings"]),this.load.json(["data"]),this.load.onFileComplete.add(this.onFileComplete,this)},onFileComplete:function(a,b,c,d,e){this.game.add.tween(this.preloaderFill.scale).to({x:.01*a},200,Phaser.Easing.Linear.None,!0)},create:function(){"1"==getQueryString("mute")&&(NeoGame.game.sound.mute=!0),NeoGame.game.cache.getBitmapFont("header").font.lineHeight=60,NeoGame.game.cache.getBitmapFont("copy").font.lineHeight=33,NeoGame.strings=this.game.cache.getJSON("strings");var a=NeoGame.Utils.duplicateArray(NeoGame.game.cache.getJSON("data").phraseData.phrases);NeoGame.Model.setWordBank(a),NeoGame.Model.levelNames=[NeoGame.Utils.getString("LEVEL_1_Name"),NeoGame.Utils.getString("LEVEL_2_Name"),NeoGame.Utils.getString("LEVEL_3_Name"),NeoGame.Utils.getString("LEVEL_4_Name"),NeoGame.Utils.getString("LEVEL_5_Name"),NeoGame.Utils.getString("LEVEL_6_Name"),NeoGame.Utils.getString("LEVEL_7_Name"),NeoGame.Utils.getString("LEVEL_8_Name"),NeoGame.Utils.getString("LEVEL_9_Name"),NeoGame.Utils.getString("LEVEL_10_Name"),NeoGame.Utils.getString("LEVEL_11_Name"),NeoGame.Utils.getString("LEVEL_12_Name"),NeoGame.Utils.getString("LEVEL_13_Name"),NeoGame.Utils.getString("LEVEL_14_Name"),NeoGame.Utils.getString("LEVEL_15_Name")],this.game.add.tween(this.loadingLabel).to({alpha:0},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){getQueryString("state")&&NeoGame.game.state.checkState(getQueryString("state"))?this.game.state.start(getQueryString("state")):this.game.state.start("landing")},this)},update:function(){},render:function(){"1"==getQueryString("fps")&&this.game.debug.text(this.game.time.fps+"fps"||"--",10,this.game.world.height-20,"#00FF00")},shutdown:function(){}};var NeoGame=NeoGame||{};NeoGame.LandingState=function(a){},NeoGame.LandingState.prototype={preload:function(){},create:function(){this.wheel=new NeoGame.Wheel(this.game,this.game.world.centerX,564),this.game.add.existing(this.wheel),this.wheelBlocker=NeoGame.Utils.addRectangle(16711680,this.game.width,this.game.height),this.wheelBlocker.inputEnabled=!0,this.wheelBlocker.alpha=0,this.add.existing(this.wheelBlocker),this.overlayBG=this.game.add.sprite(this.game.world.centerX,350,"preloader-assets","landing-overlay-bg"),this.overlayBG.anchor.set(.5,0);var a=this.game.make.bitmapText(-5,80,"copy",NeoGame.Utils.getString("LANDING_COPY"),26);a.align="center",a.maxWidth=450,a.anchor.set(.5,0),this.overlayBG.addChild(a);var b=this.game.make.image(-200,200,"preloader-assets","preloader-bar-fill");b.anchor.set(0,0),this.overlayBG.addChild(b),this.game.add.tween(b).to({height:80},500,Phaser.Easing.Quadratic.InOut,!0).onComplete.add(function(){this.overlayBG.addChild(this.tutorialButton),this.game.add.tween(this.tutorialButton).to({alpha:1},500,Phaser.Easing.Quadratic.InOut,!0).onComplete.add(function(){b.destroy()},this)},this),this.tutorialButton=NeoGame.Utils.createLargeButton(0,240,NeoGame.Utils.getString("LANDING_TUTORIAL_BUTTON"),function(){this.goToMode("tutorial")},this),this.tutorialButton.alpha=0,this.tutorialButton.events.onInputOver.add(function(){this.game.tweens.remove(this.tutorialButtonPulseTween)},this),this.tutorialButtonPulseTween=this.game.add.tween(this.tutorialButton.scale).to({x:1.05,y:1.05},500,Phaser.Easing.Quadratic.Out,!0,5e3,-1,!0);var c=NeoGame.Utils.createTextButton(0,340,NeoGame.Utils.getString("SKIP_TRAINING"),function(){this.goToMode("expert"),c.destroy()},this);this.overlayBG.addChild(c),this.title=this.game.add.image(this.game.world.centerX,105,"preloader-assets","title"),this.title.anchor.set(.5,0),this.game.add.tween(this.title).to({y:40},1e3,Phaser.Easing.Quadratic.InOut,!0),this.game.add.tween(this.overlayBG).to({y:533},1e3,Phaser.Easing.Quadratic.InOut,!0),this.game.add.tween(c).from({alpha:0},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(a).from({alpha:0},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.tutorialButton).from({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.wheel.scale).from({x:.5,y:.5},1200,Phaser.Easing.Quadratic.Out,!0,200).onComplete.add(function(){},this),this.game.add.tween(this.wheel).from({alpha:0},500,Phaser.Easing.Linear.None,!0,200),this.wheel.continuousSpin()},goToMode:function(a){var b=500;this.game.add.tween(this.title).to({alpha:0},b,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.overlayBG).to({alpha:0},b,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.title.destroy(),this.wheelBlocker.destroy(),this.overlayBG.destroy(!0);var b={wheel:this.wheel,mode:a};this.game.state.start("play",!1,!1,b)},this)},update:function(){},render:function(){"1"==getQueryString("fps")&&this.game.debug.text(this.game.time.fps+"fps"||"--",10,this.game.world.height-20,"#00FF00")},shutdown:function(){}};var NeoGame=NeoGame||{};NeoGame.PlayState=function(a){},NeoGame.PlayState.prototype={activePhraseLetter:null,init:function(a){this.stateData=a,this.currentPhraseNum=0,this.stateData&&this.stateData.mode||("expert"==getQueryString("mode")?this.stateData={mode:"expert"}:this.stateData={mode:"tutorial"}),NeoGame.Model.setMode(this.stateData.mode),this.stateData&&this.stateData.wheel?this.wheel=this.stateData.wheel:this.wheel=new NeoGame.Wheel(this.game,this.game.world.centerX,564)},create:function(){"1"!=getQueryString("mutemusic")&&NeoGame.game.sound.play("musicLoop",1,!0);var a=new NeoGame.MuteButton(this.game,this.game.world.centerX+220,890,"ui-assets","audio-on");switch(this.game.add.tween(a).from({alpha:0},2e3,Phaser.Easing.Linear.None,!0,1e3),this.add.existing(a),this.initWheel(),this.submit=new NeoGame.SubmitButton(this.game,this.game.world.centerX,211),this.game.add.existing(this.submit),this.submit.alpha=0,this.submit.visible=!1,this.phrase=new NeoGame.Phrase(this.game,this.game.world.centerX,-100),this.game.add.existing(this.phrase),this.phrase.alpha=0,this.game.add.tween(this.phrase).to({y:65,alpha:1},1e3,Phaser.Easing.Quadratic.Out,!0),NeoGame.Model.getMode()){case"tutorial":this.initTutorial();break;case"expert":this.initPhrase(),this.setPhrase(),this.initLevelMeter(),this.initExpert(!0)}},initTutorial:function(){this.tutorialCopy=this.game.add.bitmapText(this.game.world.centerX,175,"copy","",24),this.tutorialCopy.align="center",this.tutorialCopy.maxWidth=550,this.tutorialCopy.anchor.set(.5,0),this.tutorialCopy.alpha=0,this.wheel.disableLock(),this.wheel.disableInner(),document.getElementById("bg1").classList.add("show"),this.initPhrase(),this.setPhrase("TEAM",10),this.showTutorial1()},showTutorial1:function(){function a(){i.game.tweens.remove(e),i.game.tweens.remove(f),i.game.tweens.remove(g),i.game.tweens.remove(h),d.destroy(),c.destroy()}function b(){c.position.set(m[0].x,m[0].y),c.angle=60,c.visible=!0,c.scale.set(1),e=i.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),f=i.game.add.tween(c.scale).to({x:.8,y:.8},200,Phaser.Easing.Quadratic.Out,!0,200),g=i.game.add.tween(c).to({angle:0},2e3,Phaser.Easing.Quartic.InOut,!0,800),h=i.game.add.tween(c).to({x:[m[1].x,m[2].x,m[3].x],y:[m[1].y,m[2].y,m[3].y]},2e3,Phaser.Easing.Quadratic.InOut,!0,800).interpolation(function(a,b){return Phaser.Math.bezierInterpolation(a,b)}),h.onComplete.add(function(){b()},i)}debug.debug("showing showTutorial1");var c=this.game.add.image(this.wheel.x,this.wheel.y,"ui-assets","tut-hand-pointer");c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,this.wheel.enableInner(),this.wheel.disableButtons(),this.currentTutorialNum=1;var d,e,f,g,h,i=this,j=360/NeoGame.Model.alphabet.length*-14,k=360/NeoGame.Model.alphabet.length*6;this.wheel.spinToAngles(j,k),NeoGame.game.time.events.add(2e3,function(){this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_1")),this.wheel.setHint(10,!0),d=this.game.add.image(this.wheel.x+115,this.wheel.y-120,"ui-assets","tut-arrows"),d.anchor.set(.5),d.alpha=0,this.game.add.tween(d.scale).from({x:0,y:0},500,Phaser.Easing.Quadratic.Out,!0),this.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){function c(b,d){debug.debug("mouse up",this.wheel.inner.angle),Math.round(this.wheel.inner.angle)!=Math.round(k)&&a(),0==this.wheel.inner.angle&&(this.wheel.inner.events.onInputUp.remove(c,this),this.clearTutorialText(),this.showTutorial2())}b(this),this.wheel.inner.events.onInputUp.add(c,this)},this)},this);var l={x:i.wheel.x,y:i.wheel.y},m=[{x:l.x+180,y:l.y-20},{x:l.x+160,y:l.y-180},{x:l.x,y:l.y-180},{x:l.x,y:l.y-180}]},showTutorial2:function(){function a(){i.game.tweens.remove(e),i.game.tweens.remove(f),i.game.tweens.remove(g),i.game.tweens.remove(h),d.destroy(),c.destroy()}function b(){c.position.set(l[0].x,l[0].y),c.angle=-60,c.visible=!0,c.scale.set(1),e=i.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),f=i.game.add.tween(c.scale).to({x:.8,y:.8},200,Phaser.Easing.Quadratic.Out,!0,200),g=i.game.add.tween(c).to({angle:0},2e3,Phaser.Easing.Quartic.InOut,!0,800),h=i.game.add.tween(c).to({x:[l[1].x,l[2].x,l[3].x],y:[l[1].y,l[2].y,l[3].y]},2e3,Phaser.Easing.Quadratic.InOut,!0,800).interpolation(function(a,b){return Phaser.Math.bezierInterpolation(a,b)}),h.onComplete.add(function(){b()},i)}debug.debug("showing showTutorial2");var c=this.game.add.image(this.wheel.x,this.wheel.y,"ui-assets","tut-hand-pointer");c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,this.currentTutorialNum=2,this.wheel.disableInner(),this.wheel.enableOutter(),this.wheel.setHint(10,!1,!0);var d,e,f,g,h,i=this,j=360/NeoGame.Model.alphabet.length*-14;NeoGame.game.time.events.add(500,function(){var c=Math.round(this.wheel.outter.angle);this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_2")),this.wheel.setHint(10,!0),d=this.game.add.image(this.wheel.x-110,this.wheel.y-205,"ui-assets","tut-arrows2"),d.scale.set(1.1),d.anchor.set(.5),d.alpha=0,this.game.add.tween(d.scale).from({x:0,y:0},500,Phaser.Easing.Quadratic.Out,!0),this.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){function d(b,e){debug.debug("mouse up",this.wheel.outter.angle),Math.round(this.wheel.outter.angle)!=c&&a(),debug.debug(Math.round(this.wheel.outter.angle)),debug.debug(-Math.round(j)),-138==Math.round(this.wheel.outter.angle)&&(this.clearTutorialText(),this.wheel.outter.events.onInputUp.remove(d,this),this.showTutorial3())}b(this),this.wheel.outter.events.onInputUp.add(d,this)},this)},this);var k={x:i.wheel.x,y:i.wheel.y},l=[{x:k.x-185,y:k.y-135},{x:k.x-130,y:k.y-240},{x:k.x,y:k.y-230},{x:k.x,y:k.y-230}]},showTutorial3:function(){function a(){g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.angle=0,c.visible=!0,c.scale.set(1),c.position.set(g.wheel.x,g.wheel.y+40),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:g.wheel.x,y:g.wheel.y+20},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:g.wheel.x,y:g.wheel.y+40},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial3"),this.currentTutorialNum=3,this.wheel.disableButtons(),this.wheel.disableOutter();var c,d,e,f,g=this;NeoGame.Model.alphabet.length;NeoGame.game.time.events.add(500,function(){this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_3")),this.wheel.setHint(10,!0),c=this.game.add.image(this.wheel.x,this.wheel.y,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,c.alpha=0,b(this),this.wheel.enableLock(),this.wheel.lockChangedSignal.addOnce(function(){this.wheel.disableLock(),a(),this.showTutorial4()},this)},this)},showTutorial4:function(){function a(){i.game.tweens.remove(e),i.game.tweens.remove(f),i.game.tweens.remove(g),i.game.tweens.remove(h),d.destroy(),c.destroy()}function b(){c.position.set(m[0].x,m[0].y),c.angle=60,c.visible=!0,c.scale.set(1),e=i.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),f=i.game.add.tween(c.scale).to({x:.8,y:.8},200,Phaser.Easing.Quadratic.Out,!0,200),g=i.game.add.tween(c).to({angle:0},2e3,Phaser.Easing.Quartic.InOut,!0,800),h=i.game.add.tween(c).to({x:[m[1].x,m[2].x,m[3].x],y:[m[1].y,m[2].y,m[3].y]},2e3,Phaser.Easing.Quadratic.InOut,!0,800).interpolation(function(a,b){return Phaser.Math.bezierInterpolation(a,b)}),h.onComplete.add(function(){b()},i)}debug.debug("showing showTutorial4");var c=this.game.add.image(this.wheel.x,this.wheel.y,"ui-assets","tut-hand-pointer");c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,this.wheel.enableOutter(),this.wheel.disableButtons(),this.wheel.disableOutterWheelBlocker(),this.currentTutorialNum=1;var d,e,f,g,h,i=this,j=360/NeoGame.Model.alphabet.length*-14;NeoGame.Model.alphabet.length;NeoGame.game.time.events.add(300,function(){this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_4"),-15),this.phrase.highlightFirstEmpty();var c=Math.round(this.wheel.outter.angle);this.wheel.setHint(10,!0),d=this.game.add.image(this.wheel.x+112,this.wheel.y-45,"ui-assets","tut-arrows3"),d.anchor.set(.5),d.alpha=0,this.game.add.tween(d.scale).from({x:0,y:0},500,Phaser.Easing.Quadratic.Out,!0),this.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){function d(b,e){debug.debug("mouse up",Math.round(this.wheel.outter.angle)),debug.debug(Math.round(j)),Math.round(this.wheel.outter.angle)!=c&&a(),Math.round(this.wheel.outter.angle)==Math.round(97)&&(this.wheel.outter.events.onInputUp.remove(d,this),this.showTutorial5())}b(),this.wheel.outter.events.onInputUp.add(d,this)},this)},this);var k=this.wheel.getLetterButtonByLetter("J"),l=(k.worldPosition,{x:i.wheel.x,y:i.wheel.y}),m=[{x:l.x+150,y:l.y+120},{x:l.x+240,y:l.y-50},{x:l.x+130,y:l.y-170},{x:l.x,y:l.y-180}]},showTutorial5:function(){function a(){g.wheel.disableButtons(),g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.visible=!0,c.scale.set(1),c.angle=45,c.position.set(j.x-30,j.y+20),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({
x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:j.x,y:j.y+5},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:j.x-30,y:j.y+20},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial5"),this.currentTutorialNum=5;var c,d,e,f,g=this,h=this.phraseString.charAt(0),i=this.wheel.getLetterButtonByLetter(h),j=i.worldPosition;NeoGame.game.time.events.add(100,function(){this.wheel.disableButtons(h),this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_5")),c=this.game.add.image(j.x,j.y+30,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,b(),this.wheel.letterPressedSignal.addOnce(function(b){a(),this.showTutorial6()},this)},this)},showTutorial6:function(){function a(){g.wheel.disableButtons(),g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.visible=!0,c.scale.set(1),c.position.set(j.x,j.y+30),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:j.x,y:j.y+5},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:j.x,y:j.y+30},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial6"),this.currentTutorialNum=6;var c,d,e,f,g=this,h=this.phraseString.charAt(1),i=this.wheel.getLetterButtonByLetter(h),j=i.worldPosition;NeoGame.game.time.events.add(500,function(){this.wheel.disableButtons(h),this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_6")),c=this.game.add.image(j.x,j.y+30,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,b(),this.wheel.letterPressedSignal.addOnce(function(b){a(),this.showTutorial7()},this)},this)},showTutorial7:function(){function a(){g.wheel.disableButtons(),g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.visible=!0,c.scale.set(1),c.position.set(j.x,j.y+30),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:j.x,y:j.y+5},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:j.x,y:j.y+30},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial7"),this.currentTutorialNum=7;var c,d,e,f,g=this,h=this.phraseString.charAt(2),i=this.wheel.getLetterButtonByLetter(h),j=i.worldPosition;NeoGame.game.time.events.add(500,function(){this.wheel.disableButtons(h),this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_7")),c=this.game.add.image(j.x,j.y+30,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,b(),this.wheel.letterPressedSignal.addOnce(function(b){a(),this.showTutorial8()},this)},this)},showTutorial8:function(){function a(){g.wheel.disableButtons(),g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.visible=!0,c.scale.set(1),c.position.set(j.x,j.y+30),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:j.x,y:j.y+5},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:j.x,y:j.y+30},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial8"),this.currentTutorialNum=8;var c,d,e,f,g=this,h=this.phraseString.charAt(3),i=this.wheel.getLetterButtonByLetter(h),j=i.worldPosition;NeoGame.game.time.events.add(500,function(){this.wheel.disableButtons(h),this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_8")),c=this.game.add.image(j.x,j.y+30,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,b(),this.wheel.letterPressedSignal.addOnce(function(b){a(),this.showTutorial9()},this)},this)},showTutorial9:function(){function a(){g.clearTutorialText(),g.game.tweens.remove(d),g.game.tweens.remove(e),g.game.tweens.remove(f),c.destroy()}function b(){c.visible=!0,c.scale.set(1),c.position.set(h.x+70,h.y+30),d=g.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Quartic.InOut,!0),e=g.game.add.tween(c.scale).to({x:.8,y:.8},300,Phaser.Easing.Quadratic.InOut,!0,800),f=g.game.add.tween(c).to({x:h.x+70,y:h.y+5},300,Phaser.Easing.Quadratic.InOut,!0,800).onComplete.add(function(){e=g.game.add.tween(c.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.InOut,!0,500),f=g.game.add.tween(c).to({x:h.x+70,y:h.y+30},500,Phaser.Easing.Quadratic.InOut,!0,500).onComplete.add(function(){b()},g)},g)}debug.debug("showing showTutorial9"),this.currentTutorialNum=9,this.submit.onUp.addOnce(this.showTutorial10,this),this.submit.y=220,this.showSubmit();var c,d,e,f,g=this,h=this.submit.worldPosition;this.wheel.disableButtons(),NeoGame.game.time.events.add(500,function(){this.setTutorialText(NeoGame.Utils.getString("TUTORIAL_9"),-15),c=this.game.add.image(h.x+70,h.y+30,"ui-assets","tut-hand-pointer"),c.anchor.set(.45,.15),c.scale.set(.9),c.visible=!1,c.alpha=0,b(),this.submit.onUp.addOnce(function(){a(),this.wheel.enableButtons(),this.wheel.enableOutter(),this.wheel.enableLock()},this)},this)},showTutorial10:function(){debug.debug("showing showTutorial10"),NeoGame.game.sound.play("levelSuccess",1);var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("TUTORIAL_LEVEL_1_COMPLETE_HEADER"),copy:NeoGame.Utils.getString("TUTORIAL_LEVEL_1_COMPLETE_COPY"),buttonLabel:NeoGame.Utils.getString("TUTORIAL_LEVEL_1_COMPLETE_BUTTON")},function(){this.showTutorial11()},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},showTutorial11:function(){debug.debug("showing showTutorial11"),this.setPhrase("SECRET"),this.wheel.clearHint(),this.phrase.setHint(0),this.phrase.setVowelHint();var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:"",copy:NeoGame.Utils.getString("TUTORIAL_10_COPY"),buttonLabel:NeoGame.Utils.getString("TUTORIAL_10_BUTTON")},function(){this.showTutorial12()},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},showTutorial12:function(){function a(){if(this.checkForCorrectPhrase()){this.destroySkip(),NeoGame.game.sound.play("levelSuccessFinishTutorial",1);var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("TUTORIAL_COMPLETE_HEADER"),copy:NeoGame.Utils.getString("TUTORIAL_COMPLETE_COPY"),buttonLabel:NeoGame.Utils.getString("TUTORIAL_COMPLETE_BUTTON")},function(){var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_HEADER"),copy:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_COPY"),buttonLabel:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_BUTTON"),hint:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_HINT")},function(){this.skipTutorial(!1)},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)}else this.showIncorrectFeedback()}debug.debug("showing showTutorial12"),this.phrase.highlightFirstEmpty(),this.wheel.setLock(!0),this.wheel.resetSpin(1e3),this.showSkip(),this.submit.onUp.add(a,this)},showSkip:function(){this.skip=NeoGame.Utils.createTextBoxButton(this.game.world.centerX,910,NeoGame.Utils.getString("SKIP_TRAINING"),function(){this.skipTutorial(!0),this.skip.destroy()},this),this.skip.alpha=0,this.add.existing(this.skip),this.game.add.tween(this.skip).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0)},destroySkip:function(){this.skip&&this.game.add.tween(this.skip).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.skip.destroy()},this)},skipTutorial:function(a){this.submit.onUp.removeAll(),this.destroySkip(),this.initLevelMeter(),this.initExpert(a),this.resetPhrase()},initExpert:function(a){function b(){f.phraseString=e[d],f.phraseData=f.phrase.setPhrase(f.phraseString),f.submit.y=f.phraseData.twoLines?230:211,f.phrase.showPhrase(),++d>e.length-1&&(d=0)}if(NeoGame.Model.setMode("expert"),document.getElementById("bg2").classList.add("show"),"1"==getQueryString("cheat")){var c=NeoGame.Utils.createSmallButton(this.game.world.centerX,this.wheel.y+80,"I'M A CHEATER",function(){this.showCorrectFeedback()},this);this.add.existing(c)}if("1"==getQueryString("testwords")){debug.debug("words:",NeoGame.game.cache.getJSON("data").phraseData.phrases);var d=0,e=[];NeoGame.Utils.duplicateArray(NeoGame.game.cache.getJSON("data").phraseData.phrases).forEach(function(a){a.forEach(function(a){e.push(a)},this)},this);var f=this;b();var g=NeoGame.Utils.createSmallButton(this.game.world.centerX,this.wheel.y-80,"NEXT WORD",b,this);this.add.existing(g)}if(this.showSubmit(),a){var h=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_HEADER"),copy:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_COPY"),buttonLabel:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_BUTTON"),hint:NeoGame.Utils.getString("EXPERT_LEVEL_1_START_HINT")},function(){this.phrase.highlightFirstEmpty(),this.wheel.setLock(!0),this.wheel.resetSpin(1e3)},this);this.add.existing(h),h.alpha=0,h.scale.set(.5),this.game.add.tween(h.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(h).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)}else this.wheel.setLock(!0),this.wheel.resetSpin(1e3);this.submit.onUp.add(this.submitPhrase,this),this.wheel.disableOutterWheelBlocker(),NeoGame.Model.levelChangeSignal.dispatch(0)},clearTutorialText:function(){this.tutorialCopy.text=""},setTutorialText:function(a,b){var c=b||0;this.tutorialCopy.alpha=0,this.tutorialCopy.text=a,this.tutorialCopy.y=175+c,this.game.add.tween(this.tutorialCopy).to({alpha:1},250,Phaser.Easing.Linear.None,!0)},initWheel:function(){this.game.add.existing(this.wheel),this.wheel.startUpBgSpinner(),this.wheel.letterPressedSignal.add(function(a){if(this.activePhraseLetter){this.activePhraseLetter.setLetter(a);var b=this.game.make.bitmapText(a.worldPosition.x,a.worldPosition.y,"outter-wheel-font",a.letter,64);b.align="center",b.anchor.set(.5),b.scale.set(.85),this.game.add.existing(b),b.rotation=a.rotation,this.game.add.tween(b).to({rotation:0,alpha:1,x:this.activePhraseLetter.inputLetter.worldPosition.x,y:this.activePhraseLetter.inputLetter.worldPosition.y},400,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){b.destroy()},this);var c=this.phrase.selectNext(this.activePhraseLetter);if(c)this.activePhraseLetter=c;else{debug.debug("reached end of phrase!"),this.phrase.clearSelect();var d=this.phrase.highlightFirstEmpty();this.activePhraseLetter=d}this.activePhraseLetter||(this.phrase.clearSelect(),this.activePhraseLetter=null,this.enableSubmit())}},this)},initPhrase:function(){debug.debug("initPhrase"),this.phrase.letterSelected.add(function(a){this.activePhraseLetter=a,this.submit.disableInput()},this)},setPhrase:function(a,b){if(debug.debug("setPhrase",a,b),this.phraseString=a||this.getPhrase(),this.phraseData=this.phrase.setPhrase(this.phraseString,b),this.submit.y=this.phraseData.twoLines?230:211,"expert"==NeoGame.Model.getMode())switch(NeoGame.Model.getLevel()){case 0:case 1:case 2:this.phrase.setVowelHint(),this.phrase.setHint();break;case 3:case 4:case 5:this.phrase.setVowelHint()}},showSubmit:function(){this.submit.visible=!0,this.game.add.tween(this.submit).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0)},initLevelMeter:function(){this.levelMeter=new NeoGame.LevelMeter(this.game,this.game.world.centerX,this.game.world.height),this.add.existing(this.levelMeter),this.levelMeter.alpha=0,this.game.add.tween(this.levelMeter).to({y:this.game.world.height-93,alpha:1},1e3,Phaser.Easing.Quadratic.Out,!0)},getPhrase:function(){if(getQueryString("phrase"))return getQueryString("phrase");var a=0;switch(NeoGame.Model.getLevel()){case 0:case 1:case 2:a=0;break;case 3:case 4:case 5:a=1;break;case 6:case 7:case 8:a=2;break;case 9:case 10:case 11:a=3;break;case 12:case 13:case 14:a=4;break;default:a=4}var b;if(!(b=NeoGame.Model.getWordBank()[a].pop())){debug.debug("resetting the word back since it is depleated.");for(var c=NeoGame.Utils.duplicateArray(NeoGame.game.cache.getJSON("data").phraseData.phrases),d=[],e=c,f=0;f<e.length;f++)for(var g=e[f],h=0;h<g.length;h++){var i=g[h];d.push(i)}e[4]=d.shuffle(),NeoGame.Model.setWordBank(e),b=NeoGame.Model.getWordBank()[a].pop()}return debug.debug("===========phrase:",b),debug.debug("===========levelWordNum:",a),debug.debug("===========words left:",NeoGame.Model.getWordBank()[a].length),b},resetPhrase:function(){debug.debug("resetPhrase"),this.phrase.scale.set(.5),this.phrase.alpha=0,this.submit.disableInput(),this.phrase.clearSelect(),this.setPhrase();var a=this.game.add.tween(this.phrase.scale).to({x:1,y:1},800,Phaser.Easing.Back.Out,!0,250);a.onStart.add(function(){this.phrase.alpha=1},this),a.onComplete.add(function(){this.phrase.highlightFirstEmpty()},this),this.wheel.clearHint()},enableSubmit:function(){this.submit.enableInput()},checkForCorrectPhrase:function(){var a=this.phrase.getUserPhrase();debug.debug("this.phraseString",this.phraseString);var b=this.phraseString.replace(/ /g,"");return b=b.replace(/_/g,""),b=b.replace(/'/g,""),b=b.replace(/,/g,""),b=b.replace(/\./g,""),b=b.replace(/-/g,""),debug.debug("checkForCorrectPhrase",b,a),debug.debug("formattedPhrase",b),debug.debug("userPhrase",a),a==b},submitPhrase:function(){this.checkForCorrectPhrase()?(debug.debug("CORRECT"),this.game.time.events.add(500,function(){this.showCorrectFeedback()},this)):(debug.debug("INCORRECT"),this.game.time.events.add(500,function(){this.showIncorrectFeedback()},this))},showCorrectFeedback:function(){function a(a){NeoGame.game.sound.play("levelSuccess",1),d=NeoGame.Utils.createAlert(b.game.world.centerX,b.wheel.y-45,{heading:[NeoGame.Utils.getString("CORRECT_CIPHER_ALERT_HEADER1"),NeoGame.Utils.getString("CORRECT_CIPHER_ALERT_HEADER2"),NeoGame.Utils.getString("CORRECT_CIPHER_ALERT_HEADER3")].random(),copy:NeoGame.Utils.getString("CORRECT_CIPHER_ALERT_COPY"),buttonLabel:NeoGame.Utils.getString("CORRECT_CIPHER_ALERT_BUTTON")},function(){NeoGame.Model.setLevel(a),b.goToNextPhrase()},b),b.add.existing(d),d.alpha=0,d.scale.set(.5),b.game.add.tween(d.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),b.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)}var b=this;if(this.phrase.clearCipher(),"complete"==NeoGame.Model.getMode())return void a();var c=NeoGame.Model.getLevel()+1;if(c>15)return void console.warn("THERE IS NO LEVEL "+c);debug.debug("newLevel",c);var d,e=0;switch(c){case 3:debug.debug("========= UPGRADE TO LEVEL 2!"),e=2;break;case 6:debug.debug("========= UPGRADE TO LEVEL 3!"),e=3;break;case 9:debug.debug("========= UPGRADE TO LEVEL 4!"),e=4;break;case 12:debug.debug("========= UPGRADE TO LEVEL 5!"),e=5;break;case 15:debug.debug("========= UPGRADE TO END!"),e=6}e?(NeoGame.game.sound.play("levelSuccessFinishLevelSet",1),d=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("EXPERT_LEVEL_COMPLETE_HEADER"),copy:NeoGame.Utils.getString("EXPERT_LEVEL_"+(e-1)+"_COMPLETE_COPY"),buttonLabel:NeoGame.Utils.getString("EXPERT_LEVEL_"+(e-1)+"_COMPLETE_BUTTON"),hightlightHeader:!0},function(){NeoGame.Model.setLevel(c),c<15?this.showNewLevelStartAlert(e,c):this.showGameCompleteAlert()},this),this.add.existing(d),d.alpha=0,d.scale.set(.5),this.game.add.tween(d.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)):a(c)},showGameCompleteAlert:function(){NeoGame.game.sound.play("levelSuccessFinishWholeGame",1),NeoGame.Model.setMode("complete");var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:NeoGame.Utils.getString("EXPERT_START_GAME_COMPLETE_HEADER"),copy:NeoGame.Utils.getString("EXPERT_START_GAME_COMPLETE_COPY"),buttonLabel:NeoGame.Utils.getString("EXPERT_START_GAME_COMPLETE_BUTTON"),hightlightHeader:!0},function(){this.continueGameInLastLevel()},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},showNewLevelStartAlert:function(a,b){var c=NeoGame.Model.levelNames[b];c=c.replace(" ","\n");var d=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:c.toUpperCase(),copy:NeoGame.Utils.getString("EXPERT_LEVEL_"+a+"_START_COPY"),buttonLabel:NeoGame.Utils.getString("EXPERT_LEVEL_"+a+"_START_BUTTON"),hint:NeoGame.Utils.getString("EXPERT_LEVEL_"+a+"_START_HINT")},function(){this.goToNextPhrase()},this);this.add.existing(d),d.alpha=0,d.scale.set(.5),this.game.add.tween(d.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(d).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},continueGameInLastLevel:function(){debug.debug("looping game within level 5");for(var a=[],b=NeoGame.Model.getWordBank(),c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++){var f=d[e];a.push(f)}b[4]=a.shuffle(),NeoGame.Model.setWordBank(b),debug.debug("updated wordBank",NeoGame.Model.getWordBank()),NeoGame.Model.setLevel(14),this.goToNextPhrase()},resetGameToBeginning:function(){debug.debug("restart the game. setting level back to 0"),document.getElementById("bg3").classList.remove("show"),document.getElementById("bg4").classList.remove("show"),document.getElementById("bg5").classList.remove("show"),document.getElementById("bg6").classList.remove("show");var a=NeoGame.Utils.duplicateArray(NeoGame.game.cache.getJSON("data").phraseData.phrases);NeoGame.Model.setWordBank(a),NeoGame.Model.setLevel(0),this.goToNextPhrase()},goToNextPhrase:function(){this.wheel.setLock(!0),this.wheel.resetSpin(1e3),this.resetPhrase()},showIncorrectFeedback:function(){NeoGame.game.sound.play("levelFail",1),this.phrase.shake();var a=NeoGame.Utils.createAlert(this.game.world.centerX,this.wheel.y-45,{heading:[NeoGame.Utils.getString("INCORRECT_CIPHER_ALERT_HEADER1"),NeoGame.Utils.getString("INCORRECT_CIPHER_ALERT_HEADER2"),NeoGame.Utils.getString("INCORRECT_CIPHER_ALERT_HEADER3")].random(),copy:NeoGame.Utils.getString("INCORRECT_CIPHER_ALERT_COPY"),buttonLabel:NeoGame.Utils.getString("INCORRECT_CIPHER_ALERT_BUTTON")},function(){this.phrase.clearIncorrect(),this.phrase.highlightFirstEmpty()},this);this.add.existing(a),a.alpha=0,a.scale.set(.5),this.game.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),this.game.add.tween(a).to({alpha:1},500,Phaser.Easing.Quadratic.Out,!0)},update:function(){},render:function(){"1"==getQueryString("fps")&&this.game.debug.text(this.game.time.fps+"fps"||"--",10,this.game.world.height-20,"#00FF00")},shutdown:function(){}};var NeoGame=NeoGame||{};NeoGame.dirtyWords=["anal","analsex","arse","arsehole","arses","ass","asses","asshole","assmunch","asswipe","asswipes","bastard","bastards","beastial","beastiality","beaver","bestial","bisexuality","bisexuals","bi-sexual","bi-sexuals","bitch","bitched","bitches","bitchin","blackie","boff","boffing","boffs","boinking","boinks","boner","boners","boobies","boobs","boy2boy","boy4boy","boyonboy","boys2boys","boys2boys","boys4boys","boysforboys","boysonboys","boytoboy","brothel","bullshit","bullshits","bullshitted","bullshitting","butthole","buttmunch","buttweed","castrate","castration","chick2chick","chick4chick","chickforchick","chickonchick","chicks4chicks","chicksforchicks","chicksonchicks","chickstochicks","chink","choad","choads","clitoris","cock","cockring","cocksucker","comestain","condom","coons","copulates","copulation","cornhole","crapping","craps","crotch","crotches","cum","cums","cunt","cunts","damned","darkies","darky","defecate","defecates","defecating","dickhead","dickring","dicksucker","dicksucking","dicksucks","dike","dikes","dildo","dildoe","dildos","domination","dork","douche","douchebags","douchejobs","douches","dyke","dykes","ejaculate","ejaculates","ejaculation","enema","erection","fag","fart","farts","fck","fckers","fcks","felches","felching","fellatio","feltch","feltcher","feltches","fetish","fisting","flog","flogging","flogs","foreskin","fornicating","fornication","frottage","fuck","fuckas","fucked","fucker","fuckface","fucking","fucks","fudgepacking","fuqs","gangbang","gangbanger","gangbangers","gangbanging","gangbangs","gay","genital","genitalia","genitals","gerbiling","girl4girl","girlongirl","girls4girls","girlsforgirls","girlstogirls","girltogirl","goddammit","goddamned","guy2guy","guyforguy","guys2guys","guysforguys","guytoguy","hardon","hardons","hell","homos","homosexual","homosexuality","homosexuals","honkey","honkies","hooker","hookers","horny","horseshit","hump","jackoff","jerkoff","jism","jizz","kikes","kkk","knockers","koolie","koolielicker","lesbo","lovehole","mammaries","man2man","man4man","manonman","masochism","masochist","masterbate","masterbating","masterbation","masturbate","masturbates","masturbating","masturbation","men4men","menformen","mentomen","motherfuck","motherfucka","motherfuckas","motherfucked","motherfucker","motherfucking","muff","nazis","necrophiles","necrophilia","niggas","niggers","nude","nudity","nymph","nympho","nymphomania","nymphos","orgasm","orgasmic","orgasms","orgi","orgiastic","orgies","orgy","panty","peckers","pedophiles","pedophilia","peepshow","penii","penises","pervert","perverted","perverts","phile","philes","phucker","phuckers","phucking","phucks","phuk","phuker","phuks","phuq","phuqer","phuqers","phuqing","phuqs","piss","pisses","poontang","poopchute","porking","porks","porn","pube","pubes","pud","puds","punanni","punanny","puntang","pussi","pussies","pussy","queer","queers","quim","racial","racist","rape","raping","rapist","rimjob","rimjobs","rubbers","rump","rumpranger","rumprider","sadism","sadist","sadomasochism","sapphic","sappho","sapphos","satan","scatological","scheiss","scheisse","schlong","schlonging","schlongs","schtup","schtupping","schtups","screwing","semen","sex","sexqueen","sexual","sexuality","sexy","shit","shitface","shitlist","shits","shitt","shitted","shitter","shitting","shitts","skrewing","skrews","slanteyes","slave","slaves","slopehead","slopeheads","slut","sluts","slutty","smut","snatch","soddom","sodomist","sodomists","sodomized","sodomy","sonnofabitch","sonnovabitch","sonnuvabitch","sonofabitch","spanked","spanks","spearchucker","sperm","sphincter","spic","spick","spicks","spics","spik","spiks","spooge","stiffie","studs","submissive","submissives","swinger","swingers","tar baby","teen2teen","teen4teen","teenonteen","teens2teens","teens4teens","teensonteens","teenstoteens","testes","testicle","testicles","tit","tits","titties","tramp","transexual","transexuals","transvestite","twat","underwear","urinate","urinated","urinates","urinating","vaginal","virgin","virginity","virgins","voyeur","voyeurs","wetback","wetbacks","whip","whipped","whipping","whips","whorehouse","whores","woman2woman","woman4woman","womanforwoman","womanonwoman","womantowoman","women2women","womenonwomen","xxx","zipperhead","zipperheads"];var NeoGame=NeoGame||{};NeoGame.MuteButton=function(a,b,c){Phaser.Sprite.call(this,a,b,c,"ui-assets","audio-on"),this.isMuted=!1,this.inputEnabled=!0,this.input.useHandCursor=!0,this.events.onInputUp.add(function(){this.game.sound.mute=!this.game.sound.mute,this.game.sound.mute?this.frameName="audio-off":this.frameName="audio-on"},this)},NeoGame.MuteButton.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.MuteButton.prototype.constructor=NeoGame.MuteButton;var NeoGame=NeoGame||{};NeoGame.LevelMeter=function(a,b,c){Phaser.Sprite.call(this,a,b,c,"uncompressed-assets","level-meter-bg"),this.anchor.set(.5,0);var d=this.game.add.group();d.position.set(-198,35),this.addChild(d),this.mark=this.game.make.image(0,0,"game-assets","level-meter-mark"),d.add(this.mark),this.levelWrapper=this.game.add.group(),this.levelWrapper.y=12,this.addChild(this.levelWrapper);var e=NeoGame.game.make.bitmapText(0,0,"teko-black",NeoGame.Utils.getString("LEVEL_METER_LABEL"),24);e.align="left",this.levelWrapper.add(e);var f=this.game.make.image(this.levelWrapper.width+5,-2,"game-assets","level-meter-label-line");this.levelWrapper.add(f),this.levelName=NeoGame.game.make.bitmapText(this.levelWrapper.width+5,0,"teko-white","",24),this.levelName.align="left",this.levelName.tint="0xFFFFFF",this.levelWrapper.add(this.levelName),NeoGame.Model.levelChangeSignal.add(function(a){this.setLevel(a,!1)},this)},NeoGame.LevelMeter.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.LevelMeter.prototype.constructor=NeoGame.LevelMeter,NeoGame.LevelMeter.prototype.setLevel=function(a,b){switch(a){case 3:document.getElementById("bg3").classList.add("show");break;case 6:document.getElementById("bg4").classList.add("show");break;case 9:document.getElementById("bg5").classList.add("show");break;case 12:document.getElementById("bg6").classList.add("show")}var c=[0,19,37,75,95,113,151,170,187,225,243,263,300,318,337],d=[NeoGame.Utils.getString("LEVEL_1_Name"),NeoGame.Utils.getString("LEVEL_2_Name"),NeoGame.Utils.getString("LEVEL_3_Name"),NeoGame.Utils.getString("LEVEL_4_Name"),NeoGame.Utils.getString("LEVEL_5_Name"),NeoGame.Utils.getString("LEVEL_6_Name"),NeoGame.Utils.getString("LEVEL_7_Name"),NeoGame.Utils.getString("LEVEL_8_Name"),NeoGame.Utils.getString("LEVEL_9_Name"),NeoGame.Utils.getString("LEVEL_10_Name"),NeoGame.Utils.getString("LEVEL_11_Name"),NeoGame.Utils.getString("LEVEL_12_Name"),NeoGame.Utils.getString("LEVEL_13_Name"),NeoGame.Utils.getString("LEVEL_14_Name"),NeoGame.Utils.getString("LEVEL_15_Name")],e=b?1:500;a<15&&(this.game.add.tween(this.mark).to({x:c[a]},e,Phaser.Easing.Quadratic.Out,!0),this.levelName.text=d[a].toUpperCase(),this.levelWrapper.x=.5*-this.levelWrapper.width)};var NeoGame=NeoGame||{};NeoGame.SubmitButton=function(a,b,c){Phaser.Sprite.call(this,a,b,c),this.onUp=new Phaser.Signal,this.button=NeoGame.Utils.createSmallButton(0,0,NeoGame.Utils.getString("PHRASE_SUBMIT_BUTTON"),function(){},this),this.addChild(this.button),this.button.events.onInputUp.add(function(){this.scale.set(1),this.onUp.dispatch()},this),this.button.events.onInputDown.add(function(){this.scale.set(.95)},this),this.disableInput()},NeoGame.SubmitButton.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.SubmitButton.prototype.constructor=NeoGame.SubmitButton,NeoGame.SubmitButton.prototype.enableInput=function(){this.button.alpha=1,this.button.inputEnabled=!0,this.button.input.useHandCursor=!0},NeoGame.SubmitButton.prototype.disableInput=function(){this.button.alpha=.4,this.button.inputEnabled=!1};var NeoGame=NeoGame||{};NeoGame.LetterButton=function(a,b,c,d){Phaser.Sprite.call(this,a,b,c),this.inputSignal=new Phaser.Signal,this.pressDownPoint=null,this.pressUpPoint=null,this.letter=d,this.pressDistance=0,this.distanceAllowed=10,this.up=this.game.add.image(2,-9,"game-assets","keybevel"),this.up.anchor.set(.5),this.up.alpha=1,this.addChild(this.up),this.over=this.game.add.image(2,-11,"game-assets","wheel-letter-down2"),this.over.anchor.set(.5),this.over.alpha=0,this.addChild(this.over),this.text=this.game.make.bitmapText(-2,0,"outter-wheel-font",d,64),this.text.align="center",this.text.anchor.set(.5),this.text.scale.set(.85),this.addChild(this.text),this.inputEnabled=!0,this.input.useHandCursor=!0,this.events.onInputDown.add(function(a,b){this.pressDownPoint=new Phaser.Point(this.game.input.activePointer.clientX,this.game.input.activePointer.clientY),this.inputSignal.dispatch(!0,this),this.pressDown()},this),this.events.onInputUp.add(function(a,b){this.pressUp(),this.pressUpPoint=new Phaser.Point(this.game.input.activePointer.clientX,this.game.input.activePointer.clientY),this.pressDistance=Phaser.Math.distance(this.pressDownPoint.x,this.pressDownPoint.y,this.pressUpPoint.x,this.pressUpPoint.y),this.pressDistance<this.distanceAllowed&&this.inputSignal.dispatch(!1,this)},this)},NeoGame.LetterButton.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.LetterButton.prototype.constructor=NeoGame.LetterButton,NeoGame.LetterButton.prototype.disableOver=function(){this.pressUp()},NeoGame.LetterButton.prototype.pressDown=function(){this.up.alpha=0,this.over.alpha=1,this.text.alpha=.8,this.text.scale.set(.75),this.isDown=!0},NeoGame.LetterButton.prototype.pressUp=function(){this.up.alpha=1,this.over.alpha=1,this.over.alpha=0,this.game.add.tween(this.text.scale).to({x:.85,y:.85},50,Phaser.Easing.Linear.None,!0),this.text.alpha=1,this.isDown=!1},NeoGame.LetterButton.prototype.update=function(){if(this.isDown&&this.over.visible&&this.pressDownPoint){var a=new Phaser.Point(this.game.input.activePointer.clientX,this.game.input.activePointer.clientY);Phaser.Math.distance(this.pressDownPoint.x,this.pressDownPoint.y,a.x,a.y)>this.distanceAllowed&&this.pressUp()}};var NeoGame=NeoGame||{};NeoGame.Phrase=function(a,b,c){Phaser.Sprite.call(this,a,b,c),this.anchor.set(.5),this.letters=[],this.phrase="",this.letterSelected=new Phaser.Signal,this.answerSignal=new Phaser.Signal,this.topLineGroup=this.game.add.group(),this.addChild(this.topLineGroup),this.bottomLineGroup=this.game.add.group(),this.addChild(this.bottomLineGroup),this.letterGroup=this.game.add.group(),this.addChild(this.letterGroup),this.spaceGroup=this.game.add.group(),this.addChild(this.spaceGroup)},NeoGame.Phrase.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.Phrase.prototype.constructor=NeoGame.Phrase,NeoGame.Phrase.prototype.onLetterDown=function(a,b){a.isHint||a.isSpace||(this.selectLetter(a),a.inputLetter.text="",this.letterSelected.dispatch(a))},NeoGame.Phrase.prototype.selectNext=function(a){for(var b,c=0;c<this.letters.length-1;c++)if(this.letters[c]==a){b=c;break}if(b+1<this.letters.length){var d=this.getFirstEmpty();return d&&this.selectLetter(d),d}return null},NeoGame.Phrase.prototype.selectLetter=function(a){this.highlight&&(this.highlight.x=a.worldPosition.x+1,this.highlight.y=a.worldPosition.y-1,this.highlight.visible=!0)},NeoGame.Phrase.prototype.isFilled=function(){for(var a=!0,b=0;b<this.letters.length-1;b++){var c=this.letters[b];if(c.inputLetter&&""==c.inputLetter.text){a=!1;break}}return a},NeoGame.Phrase.prototype.getFirstEmpty=function(){for(var a=null,b=0;b<this.letters.length;b++){var c=this.letters[b];if(c.inputLetter&&""==c.inputLetter.text&&!c.isHint){a=c;break}}return a},NeoGame.Phrase.prototype.highlightFirstEmpty=function(){var a=this.getFirstEmpty();if(a){this.highlight&&this.highlight.destroy(),this.highlight=this.game.add.group();var b=this.game.add.image(0,0,"game-assets","phrase-letter-darken");this.highlight.add(b);var c=this.game.add.image(0,0,"game-assets","phrase-letter-highlight");c.anchor.set(.16,.1),this.game.add.tween(c).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0,-1,!0),this.highlight.add(c),this.highlight.x=a.worldPosition.x,
this.highlight.y=a.worldPosition.y,this.highlight.visible=!0,this.selectLetter(a),this.letterSelected.dispatch(a)}return a},NeoGame.Phrase.prototype.clearSelect=function(){this.highlight&&(this.highlight.visible=!1)},NeoGame.Phrase.prototype.getDirtyWord=function(a,b){for(var c=NeoGame.dirtyWords,d=0;d<c.length;d++)if(b){if(c[d].toLowerCase()===a.toLowerCase())return c[d],c[d]}else if(c[d].toLowerCase().indexOf(a.toLowerCase())>0)return c[d],c[d];return!1},NeoGame.Phrase.prototype.createCleanCipher=function(a,b){this.keyCodeNum=b||this.game.rnd.integerInRange(1,NeoGame.Model.alphabet.length-1);for(var c=NeoGame.Model.alphabet.split(""),d=0;d<this.keyCodeNum;d++)c.unshift(c.pop());for(var e=0;e<c.length;e++)NeoGame.Model.cipherLegend[NeoGame.Model.alphabet.charAt(e)]=c[e];for(var f="",g=0;g<a.length;g++){var h=a.charAt(g);"_"!=h&&(f=f.concat(NeoGame.Model.cipherLegend[h]))}return!this.getDirtyWord(f,!0)},NeoGame.Phrase.prototype.setPhrase=function(a,b){var c=!1;do{c=this.createCleanCipher(a,b)}while(!c);return debug.debug("keyCode: A:"+NeoGame.Model.cipherLegend.A),this.phrase=a,this.createLetters()},NeoGame.Phrase.prototype.createLetters=function(){this.clearSelect(),this.topLineGroup&&this.topLineGroup.removeAll(!0),this.bottomLineGroup&&this.bottomLineGroup.removeAll(!0),this.letters=[];var a=0,b=51,c=0,d=3,e=0,f=!1,g=!1,h=90,i=this.topLineGroup;if(this.phrase.indexOf("_")>0){a=-50;.5*((b+d)*this.phrase.split("_")[0].length)-.5*((b+d)*this.phrase.split("_")[1].length)}for(var j=0;j<this.phrase.length;j++){var k=this.phrase.charAt(j);if("_"==k)a+=h,f=!0,c=0,i=this.bottomLineGroup;else if(f&&!g?(e=0,g=!0):c=0==j?0:e+b,","==k||"."==k||" "==k||"'"==k||"-"==k){if(","==k){var l=this.game.make.group();l.position.set(c+d,a),i.add(l);var m=this.game.make.sprite(0,0,"game-assets","phrase-letter-bg");m.scale.x=.3,l.add(m);var n=NeoGame.game.make.bitmapText(0,10,"header",k,35);l.add(n);var o=NeoGame.game.make.bitmapText(0,43,"header",k,35);o.tint=4533520,l.add(o),e=l.x}if("."==k){var p=this.game.make.group();p.position.set(c+d,a),i.add(p);var q=this.game.make.sprite(0,0,"game-assets","phrase-letter-bg");q.scale.x=.3,p.add(q);var r=NeoGame.game.make.bitmapText(0,10,"header",k,35);p.add(r);var s=NeoGame.game.make.bitmapText(0,43,"header",k,35);s.tint=4533520,p.add(s),e=p.x-36}if(" "==k&&(e=c+2),"'"==k){var t=this.game.make.group();t.position.set(c+d,a),i.add(t);var u=this.game.make.sprite(0,0,"game-assets","phrase-letter-bg");u.scale.x=.3,t.add(u);var v=NeoGame.game.make.bitmapText(1,0,"header",k,30);t.add(v);var w=NeoGame.game.make.bitmapText(1,48,"header",k,30);w.tint=4533520,t.add(w),e=t.x-36}if("-"==k){var x=this.game.make.group();x.position.set(c+d,a),i.add(x);var y=this.game.make.sprite(0,0,"game-assets","phrase-letter-bg");y.scale.x=.3,x.add(y);var z=NeoGame.game.make.bitmapText(0,8,"header",k,30);x.add(z);var A=NeoGame.game.make.bitmapText(0,48,"header",k,30);A.tint=4533520,x.add(A),e=x.x-36}}else{var B=new NeoGame.PhraseLetter(this.game,c+d,a,NeoGame.Model.cipherLegend[k],k);i.add(B),this.letters.push(B),B.isSpace||(B.inputEnabled=!0,B.input.useHandCursor=!0,B.events.onInputDown.add(this.onLetterDown,this)),e=B.x}}return this.letters.forEach(function(a){a.isSpace&&this.spaceGroup.add(a)},this),this.topLineGroup.x=-.5*this.topLineGroup.width,this.bottomLineGroup.x=-.5*this.bottomLineGroup.width,"6"==this.topLineGroup.getChildAt(this.topLineGroup.children.length-1).type&&(this.topLineGroup.x+=10),0==NeoGame.Model.getLevel()&&1==getQueryString("showlevel1hint")&&this.setHint(),{keyCodeNum:this.keyCodeNum,twoLines:f}},NeoGame.Phrase.prototype.setHint=function(a){var b=this.game.rnd.integerInRange(0,this.letters.length-1);null!=a&&(b=a);var c=this.letters[b];c.letter&&!c.isHint?c.showHint():this.setHint()},NeoGame.Phrase.prototype.setVowelHint=function(){for(var a=0;a<this.letters.length-1;a++)for(var b=this.letters[a],c=0;c<NeoGame.Model.vowels.length;c++){var d=NeoGame.Model.vowels.charAt(c);if(b.letter==d)return void this.setHint(a)}},NeoGame.Phrase.prototype.doesIncludeVowels=function(){for(var a=0,b=0;b<this.letters.length-1;b++)for(var c=this.letters[b],d=0;d<NeoGame.Model.vowels.length;d++){var e=NeoGame.Model.vowels.charAt(d);c.letter==e&&a++}return a},NeoGame.Phrase.prototype.getUserPhrase=function(){var a="";return this.letters.forEach(function(b){b.inputLetter&&""!=b.inputLetter.text&&(a=a.concat(b.inputLetter.text))}),a},NeoGame.Phrase.prototype.clearCipher=function(){this.letters.forEach(function(a){a.cipherLetter.text=""})},NeoGame.Phrase.prototype.shake=function(){this.x=this.game.world.centerX,this.game.add.tween(this).to({x:340},60,Phaser.Easing.Linear.None,!0,0,2,!0)},NeoGame.Phrase.prototype.clearIncorrect=function(){var a=this.phrase.replace(/ /g,"");a=a.replace(/_/g,""),a=a.replace(/'/g,""),a=a.replace(/,/g,""),a=a.replace(/\./g,""),a=a.replace(/-/g,"");for(var b=0;b<this.letters.length;b++){var c=this.letters[b];c.inputLetter&&!c.isHint&&c.inputLetter.text!=a.charAt(b)&&(c.inputLetter.text="")}},NeoGame.Phrase.prototype.showPhrase=function(){for(var a=0;a<this.letters.length;a++){var b=this.letters[a];b.inputLetter.text=b.letter}};var NeoGame=NeoGame||{};NeoGame.PhraseLetter=function(a,b,c,d,e){Phaser.Sprite.call(this,a,b,c,"game-assets","phrase-letter-bg"),this.cipher=d||"-",this.letter=e,this.isVowel=!1,this.cipherLetter=this.game.make.bitmapText(22,72,"inner-wheel-font",this.cipher.toUpperCase(),64),this.cipherLetter.align="center",this.cipherLetter.scale.set(.55),this.cipherLetter.anchor.set(.5),this.addChild(this.cipherLetter),this.inputLetter=this.game.add.bitmapText(20,33,"outter-wheel-font","",64),this.inputLetter.align="center",this.inputLetter.scale.set(.85),this.inputLetter.anchor.set(.5),this.addChild(this.inputLetter),"-"==this.cipher&&(this.isHint=!0,this.isSpace=!0,this.alpha=0);for(var f=0;f<NeoGame.Model.vowels.length;f++){var g=NeoGame.Model.vowels.charAt(f);if(this.letter==g){this.isVowel=!0;break}}},NeoGame.PhraseLetter.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.PhraseLetter.prototype.constructor=NeoGame.PhraseLetter,NeoGame.PhraseLetter.prototype.setLetter=function(a){this.inputLetter.text=a.letter,this.inputLetter.alpha=0,this.game.add.tween(this.inputLetter).to({alpha:1},1,Phaser.Easing.Linear.None,!0,400),NeoGame.game.sound.play("letterTap",1)},NeoGame.PhraseLetter.prototype.showHint=function(){this.inputLetter.text=this.letter,this.isHint=!0};var NeoGame=NeoGame||{};NeoGame.Wheel=function(a,b,c){Phaser.Sprite.call(this,a,b,c),this.anchor.set(.5),this.letterPressedSignal=new Phaser.Signal,this.lockChangedSignal=new Phaser.Signal,this.pointerWheel=null,this.dragging=!1,this.rotationOffset=0,this.letterButtons=[],this.innerLetters=[],this.locked=!1,this.outterTween=null,this.innerTween=null;var d=this.game.make.group();d.alpha=.2,this.addChild(d);var e=310,f=290,g=this.game.make.image(-e,-f,"game-assets","corner-bg-line");d.add(g);var h=this.game.make.image(e,-f,"game-assets","corner-bg-line");h.scale.set(-1,1),d.add(h);var i=this.game.make.image(-e,f,"game-assets","corner-bg-line");i.scale.set(1,-1),d.add(i);var j=this.game.make.image(e,f,"game-assets","corner-bg-line");j.scale.set(-1,-1),d.add(j),this.game.add.tween(d).from({alpha:0},1e3,Phaser.Easing.Linear.None,!0,1e3),this.bgSpinner=this.game.add.image(0,-3,"game-assets","wheel-bg-spinners"),this.bgSpinner.anchor.set(.5),this.bgSpinner.scale.set(-.97,.97),this.bgSpinner.alpha=0,this.game.add.tween(this.bgSpinner).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,500),this.startUpBgSpinner(),this.addChild(this.bgSpinner);var k=this.game.add.sprite(0,0,"game-assets","wheel-outer");k.anchor.set(.5),this.addChild(k),k.inputEnabled=!0,k.input.pixelPerfectOver=!0,k.input.pixelPerfectClick=!0,k.input.useHandCursor=!0,k.events.onInputDown.add(this.onWheelInputDown,this),k.events.onInputUp.add(this.onWheelInputUp,this),this.outter=k,this.outterBlocker=this.game.add.sprite(0,0,"game-assets","wheel-outer"),this.outterBlocker.anchor.set(.5),this.outterBlocker.inputEnabled=!0,this.outterBlocker.input.pixelPerfectOver=!0,this.outterBlocker.input.pixelPerfectClick=!0,this.outterBlocker.tint=16711680,this.outterBlocker.alpha=0,this.outterBlocker.visible=!1,this.addChild(this.outterBlocker),this.insideOutterWheelBlocker=this.game.add.sprite(0,0,"game-assets","wheel-inner"),this.insideOutterWheelBlocker.anchor.set(.5),this.insideOutterWheelBlocker.inputEnabled=!0,this.insideOutterWheelBlocker.input.pixelPerfectOver=!0,this.insideOutterWheelBlocker.input.pixelPerfectClick=!0,this.insideOutterWheelBlocker.alpha=0,this.insideOutterWheelBlocker.events.onInputUp.add(function(a,b){this.pointerWheel=null},this),this.insideOutterWheelBlocker.events.onInputDown.add(function(a,b){this.pointerWheel=null},this),this.addChild(this.insideOutterWheelBlocker);var l=this.game.add.image(0,0,"game-assets","wheel-outter-shadow");l.anchor.set(.5),this.addChild(l);var m=this.game.add.sprite(0,0,"game-assets","wheel-inner");m.anchor.set(.5),this.addChild(m),m.inputEnabled=!0,m.input.pixelPerfectOver=!0,m.input.pixelPerfectClick=!0,m.input.useHandCursor=!0,m.events.onInputDown.add(this.onWheelInputDown,this),m.events.onInputUp.add(this.onWheelInputUp,this),this.inner=m,this.innerShadow=this.game.make.image(0,0,"game-assets","wheel-inner-shadow"),this.innerShadow.anchor.set(.5),this.addChild(this.innerShadow),this.innerShadow.alpha=1,this.innerShadowLocked=this.game.make.image(0,0,"game-assets","wheel-inner-shadow-locked"),this.innerShadowLocked.anchor.set(.496,.492),this.addChild(this.innerShadowLocked),this.innerShadowLocked.alpha=0;var n=this.game.make.image(0,0,"game-assets","wheel-unlock");n.anchor.set(.5),n.inputEnabled=!0,n.input.useHandCursor=!0,n.events.onInputDown.add(this.toggleLock,this),m.addChild(n),this.lock=n,this.lockShadow=this.game.make.image(0,0,"game-assets","wheel-unlock-shadow"),this.lockShadow.anchor.set(.5),this.addChild(this.lockShadow);for(var o=0;o<NeoGame.Model.alphabet.length;o++){var p=NeoGame.Model.alphabet.charAt(o),q=238,r=0,s=o/(NeoGame.Model.alphabet.length/2)*Math.PI;s-=Phaser.Math.degToRad(90);var t=q*Math.cos(s)+r,u=q*Math.sin(s),v=new NeoGame.LetterButton(this.game,t,u,p);v.anchor.set(.5),v.angle=o*(360/NeoGame.Model.alphabet.length),k.addChild(v),v.inputSignal.add(function(a,b){a?(this.pointerWheel=this.outter,this.rotationOffset=NeoGame.Utils.getRotationAngle(this.game,this.position)-this.pointerWheel.angle):(this.letterPressed(b),this.pointerWheel=null)},this),this.letterButtons.push(v),q=155,s=o/(NeoGame.Model.alphabet.length/2)*Math.PI,s-=Phaser.Math.degToRad(90),t=q*Math.cos(s),u=q*Math.sin(s);var w=this.game.make.bitmapText(t,u,"inner-wheel-font",p,64);w.align="center",w.scale.set(.7),w.anchor.set(.57,1),w.angle=o*(360/NeoGame.Model.alphabet.length),m.addChild(w),this.innerLetters.push(w)}var x=this.game.add.sprite(4,-222,"game-assets","bracket-skrim");x.alpha=.35,x.anchor.set(.5),this.addChild(x);var y=this.game.add.image(4,-206,"game-assets","wheel-bracket");y.anchor.set(.5),this.addChild(y),this.game.input.mouse.moveCallback=function(a,b,c){this.moving=!0,debug.debug("MOVING")}},NeoGame.Wheel.prototype=Object.create(Phaser.Sprite.prototype),NeoGame.Wheel.prototype.constructor=NeoGame.Wheel,NeoGame.Wheel.prototype.letterPressed=function(a){this.letterPressedSignal.dispatch(a),this.dragging=!0},NeoGame.Wheel.prototype.toggleLock=function(){this.locked=!this.locked,debug.debug("locked",this.locked),this.locked?this.setLock(!1):this.setLock(!0)},NeoGame.Wheel.prototype.disableOutter=function(){this.outterBlocker.visible=!0},NeoGame.Wheel.prototype.disableOutterWheelBlocker=function(){this.insideOutterWheelBlocker.visible=!1},NeoGame.Wheel.prototype.enableOutterWheelBlocker=function(){this.insideOutterWheelBlocker.visible=!0},NeoGame.Wheel.prototype.enableOutter=function(){this.outterBlocker.visible=!1},NeoGame.Wheel.prototype.disableInner=function(){this.inner.inputEnabled=!1},NeoGame.Wheel.prototype.enableInner=function(){this.inner.inputEnabled=!0},NeoGame.Wheel.prototype.disableLock=function(){this.lock.inputEnabled=!1},NeoGame.Wheel.prototype.enableLock=function(){this.lock.inputEnabled=!0},NeoGame.Wheel.prototype.disableButtons=function(a){for(var b=0;b<this.letterButtons.length;b++){this.letterButtons[b].inputEnabled=!1}a&&(this.getLetterButtonByLetter(a).inputEnabled=!0)},NeoGame.Wheel.prototype.enableButtons=function(){for(var a=0;a<this.letterButtons.length;a++){this.letterButtons[a].inputEnabled=!0}},NeoGame.Wheel.prototype.getLetterButtonByLetter=function(a){for(var b,c=0;c<this.letterButtons.length;c++)if(b=this.letterButtons[c],b.letter==a)return b;return null},NeoGame.Wheel.prototype.setLock=function(a){var b=200;a?(NeoGame.game.sound.play("unlock",1),this.lock.frameName="wheel-unlock",this.inner.inputEnabled=!0,this.inner.angle+=this.outter.angle,this.lockShadow.frameName="wheel-unlock-shadow",this.game.add.tween(this.inner.scale).to({x:1,y:1},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadow).to({alpha:1},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadow.scale).to({x:1,y:1},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadowLocked).to({alpha:0},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadowLocked.scale).to({x:1,y:1},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.lockShadow.scale).to({x:1,y:1},b,Phaser.Easing.Quintic.InOut,!0),this.addChildAt(this.inner,3),this.locked=!1):(NeoGame.game.sound.play("lock",1),this.lock.frameName="wheel-lock",this.inner.inputEnabled=!1,this.inner.angle-=this.outter.angle,this.outter.addChild(this.inner),this.lockShadow.frameName="wheel-lock-shadow",this.game.add.tween(this.inner.scale).to({x:.98,y:.98},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadow).to({alpha:0},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadow.scale).to({x:.98,y:.98},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadowLocked).to({alpha:1},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.innerShadowLocked.scale).to({x:.98,y:.98},b,Phaser.Easing.Quintic.InOut,!0),this.game.add.tween(this.lockShadow.scale).to({x:.98,y:.98},b,Phaser.Easing.Quintic.InOut,!0),this.locked=!0),this.lockChangedSignal.dispatch(a)},NeoGame.Wheel.prototype.onWheelInputDown=function(a,b){this.pointerWheel=a,this.rotationOffset=NeoGame.Utils.getRotationAngle(this.game,this.position)-this.pointerWheel.angle},NeoGame.Wheel.prototype.onWheelInputUp=function(a,b){this.pointerWheel=null},NeoGame.Wheel.prototype.update=function(){if(this.letterButtons.forEach(function(a){a.update()}),this.pointerWheel&&(this.game.input.activePointer.isDown&&!this.dragging&&(this.dragging=!0,this.rotationOffset=NeoGame.Utils.getRotationAngle(this.game,this.position)-this.pointerWheel.angle),!this.game.input.activePointer.isDown&&this.dragging&&(this.dragging=!1),this.dragging)){if(!0){var a=NeoGame.Utils.getRotationAngle(this.game,this.position)-this.rotationOffset;a=NeoGame.Utils.snapAngle(a,360/NeoGame.Model.alphabet.length);var b=this.pointerWheel.angle;if(b!==this.lastAngle){var c=this.pointerWheel==this.outter?"spinTink":"spinTinkHigh";this.playRandomSpinTinkSound(c),this.lastAngle=b}this.pointerWheel.angle=a}else this.pointerWheel.angle=NeoGame.Utils.getRotationAngle(this.game,this.position)-this.rotationOffset}},NeoGame.Wheel.prototype.playRandomSpinTinkSound=function(a,b){NeoGame.game.sound.play(a+this.game.rnd.integerInRange(1,5),b)},NeoGame.Wheel.prototype.getShortestAngle=function(a,b){var c=b-a;return-1*(c-360*Math.floor((c- -180)/360))},NeoGame.Wheel.prototype.setHint=function(a,b,c){var d;d=a||this.game.rnd.integerInRange(0,NeoGame.Model.alphabet.length-1);var e=NeoGame.Model.alphabet.charAt(d),f=NeoGame.Model.cipherLegend[e];debug.debug("randomHint",e,f),c&&this.letterButtons.forEach(function(a){a.letter==e&&(a.text.font="wheel-font-blue")}),b&&this.innerLetters.forEach(function(a){a.text==f&&(a.font="wheel-font-blue")})},NeoGame.Wheel.prototype.clearHint=function(){this.letterButtons.forEach(function(a){"outter-wheel-font"!=a.text.font&&(a.text.font="outter-wheel-font")}),this.innerLetters.forEach(function(a){"inner-wheel-font"!=a.font&&(a.font="inner-wheel-font")})},NeoGame.Wheel.prototype.randomSpin=function(a){var b=a||2500,c=-Phaser.Math.radToDeg(Math.random()*Math.PI*2),d=Phaser.Math.radToDeg(Math.random()*Math.PI*2);this.spinToAngles(c,d,b)},NeoGame.Wheel.prototype.resetSpin=function(a){this.stopSpin();var b=a||2500;this.spinToAngles(0,0,b,Phaser.Easing.Quadratic.Out)},NeoGame.Wheel.prototype.stopSpin=function(){debug.debug("stopSpin"),this.game.tweens.remove(this.outterTween),this.game.tweens.remove(this.innerTween)},NeoGame.Wheel.prototype.spinToAngles=function(a,b,c,d){var e=c||2500,f=d||Phaser.Easing.Quintic.InOut,g=0,h=0,i=NeoGame.Utils.snapAngle(a,360/NeoGame.Model.alphabet.length),j=NeoGame.Utils.snapAngle(b,360/NeoGame.Model.alphabet.length);this.outterTween=this.game.add.tween(this.outter).to({angle:i},e,f,!0),this.outterTween.onUpdateCallback(function(){var a=NeoGame.Utils.snapAngle(this.outter.angle,360/NeoGame.Model.alphabet.length);a!=g&&(g=a,this.playRandomSpinTinkSound("spinTink"))},this),this.outterTween.onStart.add(function(){this.playRandomSpinTinkSound("spinTink")},this),this.innerTween=this.game.add.tween(this.inner).to({angle:j},e,f,!0,200),this.innerTween.onUpdateCallback(function(){var a=NeoGame.Utils.snapAngle(this.outter.angle,360/NeoGame.Model.alphabet.length);a!=h&&(h=a,this.playRandomSpinTinkSound("spinTinkHigh",.5))},this),this.innerTween.onStart.add(function(){this.playRandomSpinTinkSound("spinTinkHigh",.5)},this)},NeoGame.Wheel.prototype.continuousSpin=function(a){var b=a||5e4;this.outterTween=this.game.add.tween(this.outter).to({angle:360},b,Phaser.Easing.Linear.None,!0,0,-1),this.innerTween=this.game.add.tween(this.inner).to({angle:-360},b,Phaser.Easing.Linear.None,!0,200,-1).onUpdateCallback(function(){},this)},NeoGame.Wheel.prototype.startUpBgSpinner=function(){this.game.add.tween(this.bgSpinner).to({angle:-360},1e5,Phaser.Easing.Linear.None,!0,0,-1)},$(document).ready(function(){NeoGame.init()});var NeoGame=NeoGame||{};NeoGame.config={width:640,height:960,minWidth:320,minHeight:480,maxWidth:null,maxHeight:null,renderer:Phaser.AUTO,antialias:!0,state:"boot",parentContainer:"game",transparent:!0,physicsConfig:null,debug:!1,backgroundColor:16777215,assetsPath:"media/"},NeoGame.init=function(){NeoGame.config.debug=1==NeoGame.DomUtils.getQueryString("debug"),isMobile&&(NeoGame.config.renderer=Phaser.CANVAS),"1"==getQueryString("webgl")&&(NeoGame.config.renderer=Phaser.WEBGL),"1"==getQueryString("canvas")&&(NeoGame.config.renderer=Phaser.CANVAS);var a=new Phaser.Game(NeoGame.config.width,NeoGame.config.height,NeoGame.config.renderer,NeoGame.config.parentContainer,NeoGame.config.state,NeoGame.config.transparent,NeoGame.config.antialias,NeoGame.config.physicsConfig);NeoGame.game=a,a.state.onStateChange.add(function(){debug.debug("%cRunning "+a.state.getCurrentState().state.current+" state  ","color:white;background:red")}),a.state.add("boot",NeoGame.BootState),a.state.add("preload",NeoGame.PreloadState),a.state.add("landing",NeoGame.LandingState),a.state.add("play",NeoGame.PlayState)};var NeoGame=NeoGame||{};NeoGame.Model=function(){function a(){return h}function b(a){h=a,k.dispatch(h)}function c(){return i}function d(a){i=a}function e(){return j}function f(a){j=a.slice(0),g()}function g(){j[0].shuffle(),j[1].shuffle(),j[2].shuffle(),j[3].shuffle(),j[4].shuffle()}var h=0,i="",j=[],k=new Phaser.Signal;return{getLevel:a,setLevel:b,getMode:c,setMode:d,getWordBank:e,setWordBank:f,levelChangeSignal:k}}(),NeoGame.Model.vowels="AEIOU",NeoGame.Model.alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",NeoGame.Model.cipherLegend={};