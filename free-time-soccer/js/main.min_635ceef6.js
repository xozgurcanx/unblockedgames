var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i["throw"](t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,r)}c((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(a,n[1])).done)return s;switch(a=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(i){n=[6,i],a=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,s,r,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},Wupinb=function(){function t(t){this.bodyMc=t,this.createShape()}return t.prototype.createShape=function(){var t=this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.STATIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){},t.prototype.stop=function(){},t}();__reflect(Wupinb.prototype,"Wupinb");var Fg=function(){function t(){this.curScore=0,this.maxScore=0,this.curLevel=1,this.throwLevel=1,this.totalLevel=20,this.aa2="win",this.bb2="fail",this.cc2="stop",this.gameName="shilizuqiu",this.pj4=!1,this.fishSpeed=3.5,this.isdebug=!1,this.roleNum=1,this.dieNum=0,this.factor=50,this.gravi=4.8,this.curicon=0,this.shu_jinbi=0,this.shu_jiajinbi=10,this.r1wudi=!1,this.r2wudi=!1,this.r3wudi=!1,this.nandu=1,this.fenshu1=0,this.fenshu2=0,this.shijian=0,this.bgMusic=this.gameName,this.codear=new Array,this.codear[1]="A",this.codear[2]="B",this.codear[3]="C",this.codear[4]="D",this.codear[5]="E",this.codear[6]="F",this.codear[7]="G",this.codear[8]="H",this.codear[9]="I",this.codear[10]="J",this.codear[11]="K",this.codear[12]="L",this.codear[13]="M",this.codear[14]="N",this.codear[15]="O",this.codear[16]="P",this.codear[17]="Q",this.codear[18]="R",this.codear[19]="S",this.codear[20]="T",this.codear[21]="U",this.codear[22]="V",this.codear[23]="W",this.codear[24]="X",this.codear[25]="Y",this.codear[26]="Z",this.kb=new KeyBoard}return t.prototype.gaotiaojian=function(){return t.wanle>=2&&t.shu_guangao>0},t.prototype.startGame=function(){new ShouYe},t.prototype.Look=function(t){},t.prototype.rm=function(t){t&&t.parent&&t.parent.removeChild(t)},t.prototype.getMc=function(t){var e=RES.getRes(t+"_json"),n=RES.getRes(t+"_png"),i=new egret.MovieClipDataFactory(e,n),o=new egret.MovieClip(i.generateMovieClipData());return o.name=t,o.touchEnabled=!0,o},t.prototype.getBitmap=function(t){var e=new egret.Bitmap,n=RES.getRes(t+"_png");return e.texture=n,e.name=t,e.touchEnabled=!0,e},t.prototype.getMc2=function(t,e,n,i){var o=RES.getRes(t+"_json"),a=RES.getRes(t+"_png"),s=new egret.MovieClipDataFactory(o,a),r=new egret.MovieClip(s.generateMovieClipData());return r.x=e,r.y=n,r.name=t,i.addChild(r),r},t.prototype.bt_t=function(t){var e=t.currentTarget;t.type==egret.TouchEvent.TOUCH_BEGIN?(e.scaleX=1.1,e.scaleY=1.1):t.type==egret.TouchEvent.TOUCH_END?(e.scaleX=1,e.scaleY=1):t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.scaleX=1,e.scaleY=1)},t.prototype.saveIcon=function(){egret.localStorage.setItem(this.gameName,t.getInstance().shu_jinbi+""),egret.localStorage.setItem(this.gameName+"wudi",t.shu_wudi+""),egret.localStorage.setItem(this.gameName+"zuigao",t.getInstance().maxScore+"")},t.saveData_adshu=function(){egret.localStorage.setItem("xzadDate",(new Date).getTime().toString()),egret.localStorage.setItem("xzadNum",t.shu_guangao.toString())},t.prototype.save=function(t,e){void 0===e&&(e=0),e>this.maxScore&&egret.localStorage.setItem(this.gameName,e+""),t>=this.throwLevel&&(this.throwLevel=t+1),this.throwLevel>this.totalLevel&&(this.throwLevel=this.totalLevel),egret.localStorage.setItem(this.gameName+"lv",this.throwLevel+"")},t.prototype.read=function(){var e=egret.localStorage.getItem(this.gameName);e?t.getInstance().shu_jinbi=parseInt(e):t.getInstance().shu_jinbi=0,e=egret.localStorage.getItem(this.gameName+"wudi"),e?t.shu_wudi=parseInt(e):t.shu_wudi=0,e=egret.localStorage.getItem(this.gameName+"zuigao"),e?t.getInstance().maxScore=parseInt(e):t.getInstance().maxScore=0;var n=egret.localStorage.getItem("xzadDate"),i=new Date;if(null==n||""==n)t.adDate=i.getTime(),t.shu_guangao=5;else{t.adDate=parseInt(n);var o=egret.localStorage.getItem("xzadNum");null==o||""==o?t.shu_guangao=5:(i.getTime()-t.adDate)/36e5>24?t.shu_guangao=5:t.shu_guangao=parseInt(o)}},t.prototype.getMaxScore=function(){return this.read(),this.maxScore},t.prototype.moreGames=function(){window.open("","_blank")},t.prototype.MovieStart=function(e){function n(t){F++,F==r&&i.removeChild(s)}var i=t.getInstance().mainGame.stage,o=t.getInstance().mainGame.stage.stageWidth,a=t.getInstance().mainGame.stage.stageHeight,s=new eui.Group;s.width=o,s.height=a,i.addChild(s);for(var r=40,c=5,d=r/c,g=0;r>g;g++){var h=o/c,l=a/d,p=g%c*h,u=Math.floor(g/c)*l,y=new egret.RenderTexture,b=(y.drawToTexture(i,new egret.Rectangle(p,u,h,l)),new egret.Bitmap);switch(b.texture=y,b.anchorOffsetX=h/2,b.anchorOffsetY=l/2,b.x=p+h/2,b.y=u+l/2,s.addChild(b),5==e&&(e=Math.ceil(4*Math.random())),e){case 1:var f=egret.Tween.get(b);f.to({scaleX:0,scaleY:0,alpha:0,rotation:359},800,egret.Ease.circIn).call(n,this);break;case 2:var m=-o;g%2||(m=2*o);var f=egret.Tween.get(b);f.to({x:m,alpha:0},800,egret.Ease.circIn).call(n,this);break;case 3:var f=egret.Tween.get(b);f.to({scaleX:.2,scaleY:1,alpha:0,blurFliter:0},800,egret.Ease.backInOut).call(n,this);break;case 4:var f=egret.Tween.get(b);f.to({alpha:0},900,egret.Ease.circIn).call(n,this);break;default:var f=egret.Tween.get(b);f.to({scaleX:1,scaleY:0,alpha:0},800,egret.Ease.circIn).call(n,this)}}var F=0},t.prototype.createDebug=function(){var e=new egret.Sprite;t.getInstance().mainGame.addChild(e),this.debugDraw=new p2DebugDraw(this.world,e)},t.prototype.worldRun=function(){this.world=new p2.World,this.world.gravity=[0,this.gravi/t.getInstance().factor];var e=new egret.Rectangle(0,0,t.getInstance().mainGame.stage.stageWidth,t.getInstance().mainGame.stage.stageHeight);jbP2.P2Space.initSpace(this.factor,e);var n=new p2.Box({width:t.getInstance().mainGame.stage.stageWidth/this.factor,height:10/this.factor}),i=new p2.Body({position:[t.getInstance().mainGame.stage.stageWidth/2/this.factor,t.getInstance().mainGame.stage.stageHeight/t.getInstance().factor],mass:1});i.type=p2.Body.STATIC,i.addShape(n),this.world.addBody(i);var o=new p2.Box({width:10/this.factor,height:t.getInstance().mainGame.stage.stageHeight/this.factor}),a=new p2.Body({position:[0,t.getInstance().mainGame.stage.stageHeight/2/this.factor],mass:1});a.type=p2.Body.STATIC,a.addShape(o),this.world.addBody(a);var s=new p2.Box({width:10/this.factor,height:t.getInstance().mainGame.stage.stageHeight/this.factor}),r=new p2.Body({position:[t.getInstance().mainGame.stage.stageWidth/this.factor,t.getInstance().mainGame.stage.stageHeight/2/this.factor],mass:1});r.type=p2.Body.STATIC,r.addShape(s),this.world.addBody(r),egret.Ticker.getInstance().register(this.worldCheck,t.getInstance().mainGame)},t.prototype.removeWorldCheck=function(){egret.stopTick(this.worldCheck,t.getInstance().mainGame)},t.prototype.worldCheck=function(e){if(null!=t.getInstance().world){t.getInstance().world.step(e/100);for(var n=(egret.MainContext.instance.stage.stageHeight,t.getInstance().world.bodies.length),i=0;n>i;i++){var o=t.getInstance().world.bodies[i];if(o.displays&&o.displays[0]){var a=o.displays[0];a.x=o.position[0]*t.getInstance().factor,a.y=o.position[1]*t.getInstance().factor,a.rotation=180*o.angle/Math.PI,o.sleepState==p2.Body.SLEEPING?a.alpha=.5:a.alpha=1}}t.getInstance().isdebug&&t.getInstance().debugDraw.drawDebug()}},t.prototype.loop=function(){jbP2.P2Space.updateWorldBodiesSkin(t.getInstance().world)},t.prototype.createBall=function(t){var e=new egret.Shape;return e.graphics.beginFill(16773120),e.graphics.drawCircle(t,t,t),e.graphics.endFill(),e},t.prototype.createBox=function(t,e){var n=new egret.Shape;return n.graphics.beginFill(16773120),n.graphics.drawRect(0,0,t,e),n.graphics.endFill(),n},t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.shu_wudi=0,t.isgamekai=!1,t.isoverkai=!1,t.wanle=0,t.shu_guangao=10,t.shu_gjinbi=100,t.shu_jiage=500,t.shu_shuoming="无敌卷，使用后主角无敌10秒。有了这卷就可以天不怕地不怕啦！",t.shu_wudishijian=1e4,t._isVsAI=!0,t._xuan1p=1,t._xuan2p=2,t._overtiemr=90,t.isSoundPlay=!0,t.Backspace=8,t.TAB=9,t.Enter=13,t.Shift=16,t.Ctrl=17,t.ESC=27,t.Spacebar=32,t.Page_Up=33,t.Page_Down=34,t.End=35,t.Home=36,t.left=37,t.up=38,t.right=39,t.down=40,t.Insert=45,t.Delete=46,t._0=48,t._1=49,t._2=50,t._3=51,t._4=52,t._5=53,t._6=54,t._7=55,t._8=56,t._9=57,t.A=65,t.B=66,t.C=67,t.D=68,t.E=69,t.F=70,t.G=71,t.H=72,t.I=73,t.J=74,t.K=75,t.L=76,t.M=77,t.N=78,t.O=79,t.P=80,t.Q=81,t.R=82,t.S=83,t.T=84,t.U=85,t.V=86,t.W=87,t.X=88,t.Y=89,t.Z=90,t.Numpad_0=96,t.Numpad_1=97,t.Numpad_2=98,t.Numpad_3=99,t.Numpad_4=100,t.Numpad_5=101,t.Numpad_6=102,t.Numpad_7=103,t.Numpad_8=104,t.Numpad_9=105,t.F1=112,t.F2=113,t.F3=114,t.F4=115,t.F5=116,t.F6=117,t.F7=118,t.F8=119,t}();__reflect(Fg.prototype,"Fg");var MoveItem=function(t){function e(e){var n=t.call(this,e)||this;n.isRunUp=!1,n.runSpeed=1.5;var i=n.bodyMc.name,o=i.split("_");return n.miny=parseInt(o[1]),n.maxy=parseInt(o[2]),"xia"==o[3]?n.isRunUp=!1:n.isRunUp=!0,o[4]&&(n.runSpeed=parseInt(o[4])),n}return __extends(e,t),e.prototype.createShape=function(){var t=this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.KINEMATIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},e.prototype.start=function(){t.prototype.start.call(this),Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this)},e.prototype.stop=function(){t.prototype.stop.call(this),Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this)},e.prototype.onframe=function(t){this.isRunUp?this.body.position[1]>jbP2.P2Space.convertEgretY_To_P2Y(this.miny)?this.body.position[1]-=this.runSpeed/Fg.getInstance().factor:(this.body.position[1]=this.miny/Fg.getInstance().factor,this.isRunUp=!1):this.body.position[1]<this.maxy/Fg.getInstance().factor?this.body.position[1]+=this.runSpeed/Fg.getInstance().factor:(this.body.position[1]=this.maxy/Fg.getInstance().factor,this.isRunUp=!0)},e}(Wupinb);__reflect(MoveItem.prototype,"MoveItem");var P=function(){function t(t){this.vxSpeed=.38,this.jumpHight=0,this.vySpeed=.88,this.run="走",this.stand="站",this.jump="跳",this.pa="爬",this.hit="被打",this.fight="攻击",this.runFight="跑攻击",this.standFight="站攻击",this.wudirun="无敌走",this.wudistand="无敌站",this.wudijump="无敌跳",this.die="死亡",this.tiqiu="踢球",this.kuqi="哭泣",this.jianxiao="奸笑",this.isOnDibiao=!1,this.isCanChangeStatus=!0,this.onSxydb=!1,this.hasdie=!1;var e=t.name;this.bodyMc=Fg.getInstance().getMc(e),this.bodyMc.gotoAndPlay(this.stand,-1),Fg.getInstance().mainGame.addChild(this.bodyMc),this.bodyMc=TcMc.setMcSame(this.bodyMc,t),this.oldsx=this.bodyMc.scaleX,this.rundir=new Array,this.createShape(),this.start(),this.timer=new egret.Timer(Fg.shu_wudishijian,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.xiaoShi,this)}return t.prototype.xiaoShi=function(){},t.prototype.createShape=function(){var t=.6*this.bodyMc.width,e=.9*this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.DYNAMIC}),n.material=Fb.getInstance().zhujueMtl,this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.body.allowSleep=!1},t.prototype.start=function(){document.addEventListener("keydown",this.onkeydown),document.addEventListener("keyup",this.onkeyup),Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.on("preSolve",this.checkTouch,this)},t.prototype.stop=function(){document.removeEventListener("keydown",this.onkeydown),document.removeEventListener("keyup",this.onkeyup),Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.off("preSolve",this.checkTouch),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.xiaoShi,this)},t.prototype.checkTouch=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&(-1!=n.bodyB.displays[0].name.indexOf("role")&&-1!=n.bodyA.displays[0].name.indexOf("role")&&(n.enabled=!1),(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")||n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet"))&&(n.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")||n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet"))&&(n.enabled=!1,0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()))}},t.prototype.pdie=function(){this.hasdie||(this.hasdie=!0,GameSound.getInstance().playXiaoSound("zhujiaosi_mp3",1),this.bodyMc.addEventListener(egret.Event.COMPLETE,this.onDieOver,this),this.bodyMc.gotoAndPlay(this.die,1),this.isCanChangeStatus=!1,Fg.getInstance().dieNum++)},t.prototype.onDieOver=function(t){this.bodyMc.removeEventListener(egret.Event.COMPLETE,this.onDieOver,this),Fg.getInstance().world.removeBody(this.body),Fg.getInstance().mainGame.removeChild(this.bodyMc),Fg.getInstance().dieNum>=Fg.getInstance().roleNum&&this.stop()},t.prototype.onkeydown=function(t){Fg.getInstance().rp1.rundir[t.keyCode]=!0},t.prototype.onkeyup=function(t){Fg.getInstance().rp1.rundir[t.keyCode]=!1},t.prototype.stopRun=function(){this.body.velocity[0]=0,this.changeStatus(this.stand)},t.prototype.onframe=function(t){},t.prototype.changeBodyScale=function(t){this.bodyMc&&this.bodyMc.scaleX!=t&&(this.bodyMc.scaleX=t)},t.prototype.changeStatus=function(t){return this.curStatus!=t&&this.bodyMc&&0!=this.isCanChangeStatus?(this.oldStatus=this.curStatus,this.curStatus=t,this.bodyMc.gotoAndPlay(this.curStatus,-1),!0):!1},t.prototype.changeStatus2=function(t){var e=this;return this.curStatus!=t&&this.bodyMc&&0!=this.isCanChangeStatus?(this.oldStatus=this.curStatus,this.curStatus=t,this.bodyMc.gotoAndPlay(this.curStatus,1),this.bodyMc.addEventListener(egret.Event.COMPLETE,function(){e.changeStatus(e.stand)},this),!0):!1},t}();__reflect(P.prototype,"P");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function a(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),n.call(i))}"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(i,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var GameOver=function(t){function e(){var e=t.call(this)||this;return e.skinName="GameOverSkin",Fg.getInstance().mainGame.addChild(e),1==Fg._isVsAI?(e._biaoti.source="ov_1VSAi_png",Fg.getInstance().fenshu1>Fg.getInstance().fenshu2?GameSound.getInstance().playXiaoSound("shengli_mp3"):GameSound.getInstance().playXiaoSound("shibai_mp3")):e._biaoti.source="ov_1VS1_png",e._bifen.text=Fg.getInstance().fenshu1+"+"+Fg.getInstance().fenshu2,e._bifen.anchorOffsetX=e._bifen.width/2,e._bifen.anchorOffsetY=e._bifen.height/2,e._bifen.x=638,e._bifen.y=165,Fg.getInstance().fenshu1=0,Fg.getInstance().fenshu2=0,e._role1.source="role"+Fg._xuan1p+"png_png",e._role2.source="role"+Fg._xuan2p+"png_png",e.start(),e}return __extends(e,t),e.prototype.start=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this)},e.prototype.stop=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this)},e.prototype.destroy=function(){egret.Tween.removeAllTweens(),this.stop(),Fg.getInstance().mainGame.removeChild(this)},e.prototype.onclick=function(t){var e=t.target.name;switch(e){case"moreBt":case"MathGames":GameSound.getInstance().playXiaoSound("onBt_mp3"),Fg.getInstance().moreGames();break;case"fanhuiBt":GameSound.getInstance().playXiaoSound("onBt_mp3"),this.destroy(),new ShouYe}},e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(GameOver.prototype,"GameOver",["eui.UIComponent","egret.DisplayObject"]);var GameUiZu=function(t){function e(){var e=t.call(this)||this;return e.skinName="GameUiZuSkin",Fg.getInstance().shijian<10?e._texttime.text="0"+Fg.getInstance().shijian:e._texttime.text=Fg.getInstance().shijian+"",e._textbifen1.text=Fg.getInstance().fenshu1+"",e._textbifen2.text=Fg.getInstance().fenshu2+"",e.timemc=Fg.getInstance().getMc2("timemc",28,51,e),e.timemc.gotoAndPlay(1,-1),e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(GameUiZu.prototype,"GameUiZu",["eui.UIComponent","egret.DisplayObject"]);var GateMed=function(){function t(){this.xuanguanBg=Fg.getInstance().getBitmap("XuanGuanBg"),TcUtil.setPosition(this.xuanguanBg,0,0),Fg.getInstance().mainGame.addChild(this.xuanguanBg),this.sound=Fg.getInstance().getMc("soundBt"),Fg.isSoundPlay?this.sound.gotoAndStop(1):this.sound.gotoAndStop(2),TcUtil.setPositionMc(this.sound,745,43),Fg.getInstance().mainGame.addChild(this.sound),this.fanhui=Fg.getInstance().getBitmap("chongwan2"),TcUtil.setPosition(this.fanhui,30,10),Fg.getInstance().mainGame.addChild(this.fanhui),this.sound.touchEnabled=!0,this.sound.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this),this.fanhui.touchEnabled=!0,this.fanhui.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this),this.Addxg()}return t.prototype.destroy=function(){this.sound.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this),this.fanhui.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this);for(var t=1;23>t;t++)t<=Fg.getInstance().throwLevel&&this.xg[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this);for(;Fg.getInstance().mainGame.numChildren>0;)Fg.getInstance().mainGame.removeChildAt(0)},t.prototype.onlogo=function(t){window.open("","_blank")},t.prototype.Addxg=function(){this.xg=new Array;for(var t=1;21>t;t++)this.xg[t]=Fg.getInstance().getMc("xg"+t),this.xg[t].gotoAndStop(2),Fg.getInstance().mainGame.addChild(this.xg[t]),t<=Fg.getInstance().throwLevel&&(this.xg[t].gotoAndStop(1),this.xg[t].touchEnabled=!0,this.xg[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this));for(var t=1;21>t;t++)6>t?TcUtil.setPositionMc(this.xg[t],-300+158*(t-1),-120):11>t?TcUtil.setPositionMc(this.xg[t],-300+158*(t-6),-20):16>t?TcUtil.setPositionMc(this.xg[t],-300+158*(t-11),80):21>t&&TcUtil.setPositionMc(this.xg[t],-300+158*(t-16),180)},t.prototype.onButton=function(t){var e=t.target.name;switch(e){case"soundBt":1==this.sound.currentFrame?(Fg.isSoundPlay=!1,this.sound.gotoAndStop(2),GameSound.getInstance().setIsAllSound(!1)):(Fg.isSoundPlay=!0,this.sound.gotoAndStop(1),GameSound.getInstance().setIsAllSound(!0));break;case"chongwan2":this.destroy(),new ShouYe;break;default:if(-1!=e.indexOf("xg")){var n=e.substring(2);Fg.getInstance().curLevel=parseInt(n),this.destroy();var i=egret.getDefinitionByName("GameMed"+Fg.getInstance().curLevel),o=new i;Fb.getInstance().jiexi(o),Fg.getInstance().createDebug()}}},t}();__reflect(GateMed.prototype,"GateMed");var GuaiShou=function(){function t(t){this.isRunRight=!1,this.runSpeed=1.2,this.islaoying=!1,this.count=0,this.flag=-1;var e=t.name;-1!=e.indexOf("guaishoua")?this.bodyMc=Fg.getInstance().getMc("ciqiu"):-1!=e.indexOf("guaishoub")?(this.islaoying=!0,this.bodyMc=Fg.getInstance().getMc("guanwub")):-1!=e.indexOf("guaishouc")?this.bodyMc=Fg.getInstance().getMc("guaishouc"):-1!=e.indexOf("guaishoud")&&(this.bodyMc=Fg.getInstance().getMc("guaishoud")),this.bodyMc.name=t.name,Fg.getInstance().mainGame.addChild(this.bodyMc),TcMc.setMcSame(this.bodyMc,t,!0),this.bodyMc.gotoAndPlay(1,-1),t.visible=!1;var n=this.bodyMc.name,i=n.split("_");this.minx=parseInt(i[1]),this.maxx=parseInt(i[2]),"zuo"==i[3]?(this.bodyMc.scaleX=-this.bodyMc.scaleX,this.isRunRight=!1):this.isRunRight=!0,i[4]&&(this.runSpeed=parseInt(i[4])),this.createShape(),this.start()}return t.prototype.createShape=function(){if(-1!=this.bodyMc.name.indexOf("guaishoud"))var t=.6*this.bodyMc.width;else var t=.4*this.bodyMc.width;var e=.8*this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.KINEMATIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.on("beginContact",this.onBeginContact)},t.prototype.stop=function(){Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.off("beginContact",this.onBeginContact)},t.prototype.onBeginContact=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoua")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoua")&&0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie(),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoua")?0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoua")&&0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoua")?0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoua")&&0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie()),n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoub")?Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoub")&&Fg.getInstance().rp1.pdie(),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoub")?Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoub")&&Fg.getInstance().rp2.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoub")?Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoub")&&Fg.getInstance().rp3.pdie()),n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishouc")?Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishouc")&&Fg.getInstance().rp1.pdie(),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishouc")?Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishouc")&&Fg.getInstance().rp2.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishouc")?Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishouc")&&Fg.getInstance().rp3.pdie()),n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoud")?Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoud")&&Fg.getInstance().rp1.pdie(),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoud")?Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoud")&&Fg.getInstance().rp2.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("guaishoud")?Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("guaishoud")&&Fg.getInstance().rp3.pdie()))}},t.prototype.onframe=function(t){if(this.isRunRight?this.body.position[0]<this.maxx/Fg.getInstance().factor?this.body.position[0]+=this.runSpeed/Fg.getInstance().factor:(this.bodyMc.scaleX=-this.bodyMc.scaleX,this.body.position[0]=this.maxx/Fg.getInstance().factor,this.isRunRight=!1):this.body.position[0]>this.minx/Fg.getInstance().factor?this.body.position[0]-=this.runSpeed/Fg.getInstance().factor:(this.bodyMc.scaleX=-this.bodyMc.scaleX,this.body.position[0]=this.minx/Fg.getInstance().factor,this.isRunRight=!0),this.islaoying&&(this.count++,-1==this.flag&&(this.flag=TcNum.getMinToMax(2,6)),this.count/this.flag==60)){this.flag=-1,this.count=0;new egret.Point(this.bodyMc.x,this.bodyMc.y)}},t}();__reflect(GuaiShou.prototype,"GuaiShou");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=190,this.textField.x=160,this.textField.textColor=16777062,this.textField.strokeColor=39423,this.textField.size=40,this.textField.stroke=1,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center",this.shape=new egret.Shape,this.shape.y=this.textField.y-50,this.shape.x=200,this.addChild(this.shape)},e.prototype.onProgress=function(t,e){var n=t/e,i=Math.round(100*n);this.textField.text=i+"%";var o=this.shape.graphics;o.clear(),o.beginFill(16777215,2),o.drawRect(0,0,400,30),o.endFill(),o.beginFill(15129421,2),o.drawRect(2,2,400*(t/e)-4,25),o.endFill();parseInt(100*t/e+"")},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),GameSound.getInstance().startSound(this),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,this.loadTheme()];case 2:return n.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return n.sent(),this.stage.removeChild(t),[3,5];case 4:return e=n.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){var t=this.createBitmapByName("bg_jpg");this.addChild(t);var e=this.stage.stageWidth,n=this.stage.stageHeight;t.width=e,t.height=n;var i=new egret.Shape;i.graphics.beginFill(0,.5),i.graphics.drawRect(0,0,e,172),i.graphics.endFill(),i.y=33,this.addChild(i);var o=this.createBitmapByName("egret_icon_png");this.addChild(o),o.x=26,o.y=33;var a=new egret.Shape;a.graphics.lineStyle(2,16777215),a.graphics.moveTo(0,0),a.graphics.lineTo(0,117),a.graphics.endFill(),a.x=172,a.y=61,this.addChild(a);var s=new egret.TextField;s.textColor=16777215,s.width=e-172,s.textAlign="center",s.text="Hello Egret",s.size=24,s.x=172,s.y=80,this.addChild(s);var r=new egret.TextField;this.addChild(r),r.alpha=0,r.width=e-172,r.textAlign=egret.HorizontalAlign.CENTER,r.size=24,r.textColor=16777215,r.x=172,r.y=135,this.textfield=r;var c=new eui.Button;c.label="Click!",c.horizontalCenter=0,c.verticalCenter=0,this.addChild(c),c.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClick,this)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e.prototype.startAnimation=function(t){var e=this,n=new egret.HtmlTextParser,i=t.map(function(t){return n.parse(t)}),o=this.textfield,a=-1,s=function(){a++,a>=i.length&&(a=0);var t=i[a];o.textFlow=t;var n=egret.Tween.get(o);n.to({alpha:1},200),n.wait(2e3),n.to({alpha:0},200),n.call(s,e)};s()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var Fb=function(){function t(){this.panduan=0,this.isOver=!1,this.isStop=!1,this.dibiaoAr=new Array,Fg.getInstance().totalScore=0,this.anyar=new Array,Paotong.isfirst=!1,GameSound.getInstance().setIsBgSound(!1)}return t.prototype.stop=function(){for(;this.anyar.length>0;){var t=this.anyar.pop();t.stop()}Fg.getInstance().rp1&&null!=Fg.getInstance().rp1&&Fg.getInstance().rp1.stop(),1==Fg._isVsAI?Fg.getInstance().rp3.stop():Fg.getInstance().rp2.stop(),Fg.getInstance().removeWorldCheck()},t.prototype.destroy=function(){for(this.stop(),Fg.getInstance().mainGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this),this._uijiemian&&this._uijiemian.parent&&(this._uijiemian.jtyouBt.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onclickl2,this),this._uijiemian.jtzuoBt.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onclickl2,this),this._uijiemian.jtyouBt.removeEventListener(egret.TouchEvent.TOUCH_END,this.onclickl,this),this._uijiemian.jtzuoBt.removeEventListener(egret.TouchEvent.TOUCH_END,this.onclickl,this)),this._jstimer&&null!=this._jstimer&&(this._jstimer.stop(),this._jstimer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this._jstimer=null),Fg.getInstance().curicon=0,Fg.getInstance().dieNum=0,Fg.getInstance().rp1=null,Fg.getInstance().roleNum>1&&(Fg.getInstance().rp2=null),Fg.getInstance().roleNum>2&&(Fg.getInstance().rp3=null),Fg.getInstance().r1wudi=!1,Fg.getInstance().r2wudi=!1,Fg.getInstance().world.clear(),Fg.getInstance().world=null;Fg.getInstance().mainGame.numChildren>0;)Fg.getInstance().mainGame.removeChildAt(0);
this.bg=null,this.dibiaoAr=null,this._uijiemian=null,t._instance=null},t.prototype.jiexi=function(e){Fg.getInstance().curScore=0,Fg.getInstance().worldRun(),this.bulletMtl=new p2.Material(1e3),this.dibiaoMtl=new p2.Material(1001),this.zhujueMtl=new p2.Material(1002),this.cmtlzidan=new p2.ContactMaterial(this.bulletMtl,this.dibiaoMtl,{restitution:1.3,friction:0}),this.cmtlzzqzhujue=new p2.ContactMaterial(this.bulletMtl,this.zhujueMtl,{restitution:.5,friction:.4}),Fg.getInstance().world.addContactMaterial(this.cmtlzidan),Fg.getInstance().world.addContactMaterial(this.cmtlzzqzhujue),Fg.getInstance().mainGame.addChild(e);for(var n=0;n<e.numChildren;n++){var i=e.getChildAt(n);if(null!=i){var o=i.name;switch(o){case"gamebg":this.bg=Fg.getInstance().getBitmap("gamebg2"),Fg.getInstance().mainGame.addChild(this.bg),this.bg.x=i.x,this.bg.y=i.y,e.removeChild(i),n--;break;case"role1":i.name="role"+Fg._xuan1p,Fg.getInstance().rp1=new P1(i),e.removeChild(i),n--;break;case"role2":i.name="role"+Fg._xuan2p,1==Fg._isVsAI?Fg.getInstance().rp3=new P3(i):Fg.getInstance().rp2=new P2(i),e.removeChild(i),n--;break;default:if(-1!=o.indexOf("dibiao")){var a=i;a.anchorOffsetX=i.anchorOffsetX,a.anchorOffsetY=i.anchorOffsetY;var s=i.width,r=i.height;a.width=s,a.height=r,a.scaleX=i.scaleX,a.scaleY=i.scaleY,a.visible=!1;var c=new p2.Box({width:s/Fg.getInstance().factor,height:r/Fg.getInstance().factor});c.material=t.getInstance().dibiaoMtl;var d=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(i.x),jbP2.P2Space.convertEgretY_To_P2Y(i.y)],type:p2.Body.STATIC,damping:0,fixedRotation:!0,rotation:i.rotation});d.addShape(c),d.angle=a.rotation/180*Math.PI,Fg.getInstance().world.addBody(d),a.x=i.x,a.y=i.y,d.displays=[a],i.visible=!1}else-1!=o.indexOf("qiuwang")?this.anyar.push(new QiuWang(i)):-1!=o.indexOf("zuqiu")&&(this.zuqiu=new Zuqiu(i),this.anyar.push(this.zuqiu))}}}this.addUi(),Fg.getInstance().mainGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this),this._uijiemian.jtyouBt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onclickl2,this),this._uijiemian.jtzuoBt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onclickl2,this),this._uijiemian.jtyouBt.addEventListener(egret.TouchEvent.TOUCH_END,this.onclickl,this),this._uijiemian.jtzuoBt.addEventListener(egret.TouchEvent.TOUCH_END,this.onclickl,this)},t.prototype.addUi=function(){this._uijiemian=new GameUiZu,Fg.getInstance().mainGame.addChild(this._uijiemian),Fg.isSoundPlay?this._uijiemian.soundBt.selected=!1:this._uijiemian.soundBt.selected=!0,null==this._jstimer&&(this._jstimer=new egret.Timer(1e3,0),this._jstimer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this)),this._jstimer.start(),this.setText()},t.prototype.setText=function(){this._uijiemian._textbifen1.text=Fg.getInstance().fenshu1+"",this._uijiemian._textbifen2.text=Fg.getInstance().fenshu2+""},t.prototype.timerFunc=function(){var t=this;Fg.getInstance().shijian++,Fg.getInstance().shijian<10?this._uijiemian._texttime.text="0"+Fg.getInstance().shijian:this._uijiemian._texttime.text=Fg.getInstance().shijian+"",Fg.getInstance().shijian>=Fg._overtiemr&&(Fg.getInstance().shijian=0,this.isOver=!0,this._uijiemian._Bg.visible=!0,Fg.getInstance().MovieStart(2),egret.setTimeout(function(){t.destroy(),new GameOver},this,800))},t.prototype.onJinQiu=function(t){Fg.getInstance().rp1.stop(),1==Fg._isVsAI?Fg.getInstance().rp3.stop():Fg.getInstance().rp2.stop(),1==t?(Fg.getInstance().fenshu1++,this.setText(),Fg.getInstance().rp1.bodyMc.gotoAndPlay("奸笑",1),1==Fg._isVsAI?Fg.getInstance().rp3.bodyMc.gotoAndPlay("哭泣",1):Fg.getInstance().rp2.bodyMc.gotoAndPlay("哭泣",1)):(Fg.getInstance().fenshu2++,this.setText(),Fg.getInstance().rp1.bodyMc.gotoAndPlay("哭泣",1),1==Fg._isVsAI?Fg.getInstance().rp3.bodyMc.gotoAndPlay("奸笑",1):Fg.getInstance().rp2.bodyMc.gotoAndPlay("奸笑",1)),Fg.getInstance().rp1.bodyMc.addEventListener(egret.Event.COMPLETE,this.onChongxin,this)},t.prototype.onChongxin=function(){var e=this;Fg.getInstance().rp1.bodyMc.removeEventListener(egret.Event.COMPLETE,this.onChongxin,this),Fg.getInstance().MovieStart(1),egret.setTimeout(function(){e.destroy();var n=new GameMed;t.getInstance().jiexi(n),Fg.getInstance().createDebug()},this,810)},t.prototype.onkeydown=function(t){switch(t.keyCode){case Fg.Spacebar:}},t.prototype.onkeyup=function(t){document.removeEventListener("keydown",this.onkeydown),document.removeEventListener("keyup",this.onkeyup)},t.prototype.onclick=function(e){var n=e.target.name;if(null!=n&&""!=n)switch(n){case"eBt":case"MathGames":GameSound.getInstance().playXiaoSound("onBt_mp3"),Fg.getInstance().moreGames();break;case"soundBt":0!=this._uijiemian.soundBt.selected?(Fg.isSoundPlay=!1,GameSound.getInstance().setIsAllSound(!1)):(Fg.isSoundPlay=!0,GameSound.getInstance().setIsAllSound(!0));break;case"homeBt":GameSound.getInstance().playXiaoSound("onBt_mp3"),Fg.getInstance().fenshu1=0,Fg.getInstance().fenshu2=0,Fg.getInstance().shijian=0,this.destroy(),new ShouYe;break;case"chongzhiBt":GameSound.getInstance().playXiaoSound("onBt_mp3"),Fg.getInstance().fenshu1=0,Fg.getInstance().fenshu2=0,Fg.getInstance().shijian=0,this.destroy();var i=new GameMed;t.getInstance().jiexi(i),Fg.getInstance().createDebug();break;case"jtshangBt":Fg.getInstance().rp1.jumpUp();break;case"tiqiuBt":Fg.getInstance().rp1.ontiqiu()}},t.prototype.onclickl=function(t){var e=t.target.name;switch(e){case"jtzuoBt":Fg.getInstance().rp1.rundir[Fg.A]=!1;break;case"jtyouBt":Fg.getInstance().rp1.rundir[Fg.D]=!1}},t.prototype.onclickl2=function(t){var e=t.target.name;switch(e){case"jtzuoBt":Fg.getInstance().rp1.rundir[Fg.A]=!0;break;case"jtyouBt":Fg.getInstance().rp1.rundir[Fg.D]=!0}},t.prototype.checkIsP1=function(t){return t==Fg.getInstance().rp1.body},t.prototype.checkIsP2=function(t){return Fg.getInstance().rp2?t==Fg.getInstance().rp2.body:!1},t.prototype.checkIsP3=function(t){return Fg.getInstance().rp3?t==Fg.getInstance().rp3.body:!1},t.prototype.checkIsChidao=function(t){var e;try{e=t.displays[0]}catch(n){}if(null==e)return!1;var i=e.name;return i&&-1!=i.indexOf("chidao")?!0:!1},t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t}();__reflect(Fb.prototype,"Fb");var p2DebugDraw=function(){function t(t,e){this.COLOR_D_SLEEP=10066329,this.COLOR_D_WAKE=15053490,this.COLOR_K=8355813,this.COLOR_S=8381823,this.COLOR_BLACK=0,this.COLOR_RED=16711680,this.isDrawAABB=!1,this.factor=50,this.world=t,this.sprite=e}return t.prototype.drawDebug=function(){this.sprite.graphics.clear();for(var t=this.world.bodies.length,e=0;t>e;e++)for(var n=this.world.bodies[e],i=0;i<n.shapes.length;i++){var o=n.shapes[i];this.drawShape(o,n),this.isDrawAABB&&this.drawAABB(n)}t=this.world.constraints.length;for(var a,i=0;t>i;i++)switch(a=this.world.constraints[i],a.type){case p2.Constraint.DISTANCE:this.drawDistanceJoint(a);break;case p2.Constraint.REVOLUTE:this.drawRevoluteJoint(a);break;case p2.Constraint.GEAR:this.drawGearJoint(a);break;case p2.Constraint.PRISMATIC:this.drawPrismaticJoint(a);break;case p2.Constraint.LOCK:this.drawLockJoint(a)}t=this.world.springs.length;for(var s,r=0;t>r;r++)s=this.world.springs[r],s instanceof p2.LinearSpring?this.drawLinearSpring(s):s instanceof p2.RotationalSpring&&this.drawRotationalSpring(s)},t.prototype.drawAABB=function(t){var e=new Array,n=t.aabb.lowerBound[0],i=t.aabb.lowerBound[1],o=t.aabb.upperBound[0],a=t.aabb.upperBound[1];isFinite(n)&&isFinite(i)&&isFinite(o)&&isFinite(a)&&(e.push([n,i],[o,i],[o,a],[n,a]),this.drawConvex(e,this.COLOR_S,1,!1))},t.prototype.drawDistanceJoint=function(t){var e,n=new Array,i=new Array;e=t.distance,t.upperLimitEnabled&&t.upperLimit>e&&(e=t.upperLimit),t.bodyA.toWorldFrame(n,t.localAnchorA),t.bodyB.toWorldFrame(i,t.localAnchorB);var o=p2.vec2.subtract([],i,n);p2.vec2.normalize(o,o),p2.vec2.scale(o,o,e);var a=p2.vec2.add([],n,o);this.drawSegment(n,t.bodyA.position,this.COLOR_S),this.drawSegment(i,t.bodyB.position,this.COLOR_S),this.drawVecAt(o,n,this.COLOR_BLACK),t.position>e&&this.drawSegment(i,a,this.COLOR_RED),this.drawCircle(n,3/this.factor,this.COLOR_BLACK),this.drawCircle(a,3/this.factor,this.COLOR_BLACK),t.lowerLimitEnabled&&(p2.vec2.normalize(o,o),p2.vec2.scale(o,o,t.lowerLimit),a=p2.vec2.add([],n,o),this.drawCircle(a,2/this.factor,this.COLOR_BLACK))},t.prototype.drawRevoluteJoint=function(t){var e=new Array,n=new Array;t.bodyA.toWorldFrame(e,t.pivotA),t.bodyB.toWorldFrame(n,t.pivotB),this.drawSegment(t.bodyA.position,e,this.COLOR_S),this.drawSegment(t.bodyB.position,n,this.COLOR_S),this.drawSegment(e,n,this.COLOR_RED),this.drawCircle(e,3/this.factor,this.COLOR_BLACK)},t.prototype.drawGearJoint=function(t){var e=t.bodyA.position,n=t.bodyB.position,i=new Array,o=new Array;t.bodyA.toWorldFrame(i,[20/this.factor,0]),t.bodyB.toWorldFrame(o,[20/this.factor,0]);var a=p2.vec2.subtract([],e,i),s=p2.vec2.subtract([],n,o);this.drawVecAt(a,e,this.COLOR_BLACK,!0),this.drawVecAt(s,n,this.COLOR_BLACK,!0),t.bodyB.toWorldFrame(s,[10*(t.bodyB.angle-t.bodyA.angle-t.angle)/this.factor,0]),this.drawSegment(s,n,this.COLOR_RED)},t.prototype.drawPrismaticJoint=function(t){var e=(t.bodyA.position,t.bodyB.position,new Array),n=new Array;t.bodyA.toWorldFrame(e,t.localAnchorA),t.bodyB.toWorldFrame(n,t.localAnchorB);var i=new Array;i=this.toWorldVector(t.localAxisA,t.bodyA);var o=p2.vec2.copy([],i),a=p2.vec2.copy([],i);t.lowerLimitEnabled?p2.vec2.scale(o,i,t.lowerLimit):p2.vec2.scale(o,i,5e3),t.upperLimitEnabled?p2.vec2.scale(a,i,t.upperLimit):p2.vec2.scale(a,i,5e3),this.drawVecAt(o,e,this.COLOR_BLACK,!0),this.drawVecAt(a,e,this.COLOR_BLACK,!0),p2.vec2.add(o,o,e),this.drawCircle(o,2/this.factor,this.COLOR_BLACK,1,!0),p2.vec2.add(a,a,e),this.drawCircle(a,2/this.factor,this.COLOR_BLACK,1,!0)},t.prototype.drawLockJoint=function(t){var e=new Array;new Array;t.bodyA.toWorldFrame(e,t.localOffsetB),this.drawSegment(e,t.bodyA.position,this.COLOR_S),this.drawSegment(e,t.bodyB.position,this.COLOR_RED),this.drawCircle(e,3/this.factor,this.COLOR_BLACK);var n=new Array;t.bodyA.toWorldFrame(n,[20/this.factor,0]),this.drawSegment(n,t.bodyA.position,this.COLOR_BLACK),t.bodyB.toWorldFrame(n,[20/this.factor,0]),this.drawSegment(n,t.bodyB.position,this.COLOR_BLACK)},t.prototype.drawLinearSpring=function(t){var e=new Array,n=new Array;t.bodyA.toWorldFrame(e,t.localAnchorA),t.bodyB.toWorldFrame(n,t.localAnchorB);var i=p2.vec2.subtract([],n,e);p2.vec2.normalize(i,i),p2.vec2.scale(i,i,t.restLength);var o=p2.vec2.add([],t.bodyA.position,i);this.drawSegment(o,t.bodyB.position,this.COLOR_RED),this.drawVecAt(i,e,this.COLOR_BLACK),this.drawCircle(e,3/this.factor,this.COLOR_RED),this.drawCircle(o,3/this.factor,this.COLOR_RED)},t.prototype.drawRotationalSpring=function(t){var e=new Array,n=new Array;e=t.bodyA.position,n=t.bodyB.position;var i=new Array,o=new Array;t.bodyA.toWorldFrame(i,[20/this.factor,0]),t.bodyB.toWorldFrame(o,[10*(t.bodyB.angle-t.bodyA.angle-t.restAngle+2)/this.factor,0]);var a=p2.vec2.subtract([],i,e),s=p2.vec2.subtract([],o,n);this.drawVecAt(a,e,this.COLOR_RED,!0),this.drawVecAt(s,n,this.COLOR_RED,!0),t.bodyB.toWorldFrame(o,[20/this.factor,0]),this.drawCircle(i,2/this.factor,this.COLOR_RED),this.drawCircle(o,2/this.factor,this.COLOR_RED)},t.prototype.drawShape=function(t,e,n,i){var n=void 0==n?this.getColor(e):n,i=void 0==i?!0:i;t instanceof p2.Convex?this.drawConvexShape(t,e,n,i):t instanceof p2.Plane?this.drawPlaneShape(t,e,n,i):t instanceof p2.Circle?this.drawCircleShape(t,e,n,i):t instanceof p2.Capsule?this.drawCapsule(t,e,n):t instanceof p2.Particle?this.drawParticle(t,e,n):t instanceof p2.Line?this.drawLine(t,e,n):t instanceof p2.Heightfield&&this.drawHeightfeild(t,e,n)},t.prototype.drawConvexShape=function(t,e,n,i){var o=(e.shapes.indexOf(t),t.position),a=t.angle,s=[],r=this.transformVec(t.vertices[0],o,a);e.toWorldFrame(s,o),e.toWorldFrame(r,r),this.drawSegment(s,r,n);for(var c=new Array,d=t.vertices.length,g=0;d>g;g++)r=this.transformVec(t.vertices[g],o,a),e.toWorldFrame(r,r),c.push(r);this.drawConvex(c,n,.5,i)},t.prototype.drawParticle=function(t,e,n){this.drawCircle(e.position,1/this.factor,n,.5),this.drawCircle(e.position,5/this.factor,n,1,!1)},t.prototype.drawLine=function(t,e,n){var i=t.length,o=new Array,a=new Array;e.toWorldFrame(o,[-i/2,0]),e.toWorldFrame(a,[i/2,0]),this.drawSegment(o,a,n)},t.prototype.drawHeightfeild=function(t,e,n){var i=this.sprite.graphics;i.lineStyle(1,n),i.beginFill(n,.5);var o,a=t.heights,s=t.elementWidth,r=new Array,c=new Array;a.forEach(function(t,n){o=n*s,r=new Array,e.toWorldFrame(r,[o,t]),c.push(r)}),r=new Array,e.toWorldFrame(r,[o,-500]),c.push(r),r=new Array,e.toWorldFrame(r,[0,-500]),c.push(r),r=new Array,e.toWorldFrame(r,[0,0]),c.push(r),this.drawConvex(c,n,.5)},t.prototype.drawCapsule=function(t,e,n){var i=t.length,o=t.radius,a=new Array,s=new Array,r=new Array,c=new Array,d=new Array,g=new Array;e.toWorldFrame(a,[-i/2,-o]),e.toWorldFrame(s,[i/2,-o]),e.toWorldFrame(r,[i/2,o]),e.toWorldFrame(c,[-i/2,o]),e.toWorldFrame(d,[i/2,0]),e.toWorldFrame(g,[-i/2,0]),this.drawCircle(d,o,n,.5),this.drawCircle(g,o,n,.5),this.drawConvex([a,s,r,c],n,.5)},t.prototype.drawCircleShape=function(t,e,n,i){var o=t.position,a=t.angle,s=new Array;e.toWorldFrame(s,o),this.drawCircle(s,t.radius,n,.5,i);var r=this.transformVec([t.radius,0],o,a);e.toWorldFrame(r,r),this.drawSegment(s,r,n)},t.prototype.drawPlaneShape=function(t,e,n,i){var o=new Array,a=new Array;e.shapes.indexOf(t);e.toWorldFrame(o,[1e3,0]),o=this.transformVec(o,t.position,t.angle),a.push(o),o=new Array,e.toWorldFrame(o,[1e3,-1e5]),o=this.transformVec(o,t.position,t.angle),a.push(o),o=new Array,e.toWorldFrame(o,[-1e3,-1e5]),o=this.transformVec(o,t.position,t.angle),a.push(o),o=new Array,e.toWorldFrame(o,[-1e3,0]),o=this.transformVec(o,t.position,t.angle),a.push(o),this.drawConvex(a,n,.5,i)},t.prototype.getColor=function(t){var e=this.COLOR_D_SLEEP;return t.type==p2.Body.KINEMATIC?e=this.COLOR_K:t.type==p2.Body.STATIC?e=this.COLOR_S:t.sleepState==p2.Body.AWAKE&&(e=this.COLOR_D_WAKE),e},t.prototype.drawVecAt=function(t,e,n,i){void 0===i&&(i=!1);var o=p2.vec2.copy([],e),a=p2.vec2.add([],t,e);i&&this.drawCircle(o,3/this.factor,n),this.drawSegment(o,a,n)},t.prototype.drawVecTo=function(t,e,n,i){void 0===i&&(i=!1);var o=p2.vec2.copy([],e),a=p2.vec2.subtract([],e,t);i&&this.drawCircle(o,3/this.factor,n),this.drawSegment(o,a,n)},t.prototype.drawSegment=function(t,e,n){this.sprite.graphics.lineStyle(1,n),this.sprite.graphics.moveTo(t[0]*this.factor,t[1]*this.factor),this.sprite.graphics.lineTo(e[0]*this.factor,e[1]*this.factor)},t.prototype.drawCircle=function(t,e,n,i,o){void 0===i&&(i=1),this.sprite.graphics.lineStyle(1,n),(o||void 0==o)&&this.sprite.graphics.beginFill(n,i),this.sprite.graphics.drawCircle(t[0]*this.factor,t[1]*this.factor,e*this.factor),this.sprite.graphics.endFill()},t.prototype.drawConvex=function(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=!0),this.sprite.graphics.lineStyle(1,e),i&&this.sprite.graphics.beginFill(e,n);var o=t.length,a=t[0];this.sprite.graphics.moveTo(a[0]*this.factor,a[1]*this.factor);for(var s=1;o>=s;s++)a=t[s%o],this.sprite.graphics.lineTo(a[0]*this.factor,a[1]*this.factor);this.sprite.graphics.endFill()},t.prototype.toWorldVector=function(t,e){var n=new Array;return p2.vec2.rotate(n,t,e.angle),n},t.prototype.transformVec=function(t,e,n){var i=new Array;return p2.vec2.rotate(i,t,n),p2.vec2.add(i,i,e),i},t.prototype.drawDotLine=function(t,e,n,i){if(void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=30),!(t.length<2)){var o=2/this.factor,a=[];p2.vec2.copy(a,t[0]),this.drawCircle(a,o,e,1,!1);for(var s=0;s<t.length-2;s++){var r=t[s];if(n)for(var c=p2.vec2.distance(a,r);c>i/this.factor;){var d=[];p2.vec2.subtract(d,r,a),p2.vec2.scale(d,d,i/this.factor/c),p2.vec2.add(a,a,d),this.drawCircle(a,o,e,1,!1),c=p2.vec2.distance(a,r)}else this.drawCircle(r,o,e,1,!1)}}},t}();__reflect(p2DebugDraw.prototype,"p2DebugDraw");var Paotong=function(){function t(t){this.speed=1,this.ispaotong2=!1,this.curCount=0,-1==t.name.indexOf("paotong2")?this.bodyMc=Fg.getInstance().getBitmap("paotong"):(this.bodyMc=Fg.getInstance().getBitmap("paotong2"),this.ispaotong2=!0),this.bodyMc.name=t.name,this.bodyMc.rotation=t.rotation,t.visible=!1,this.bodyMc.scaleX=t.scaleX,this.bodyMc.scaleY=t.scaleY,this.bodyMc.x=t.x,this.bodyMc.y=t.y,Fg.getInstance().mainGame.addChild(this.bodyMc);var e=this.bodyMc.name,n=e.split("_");this.interval=parseInt(n[1]),n[2]&&(this.speed=parseInt(n[2])),PaotongBullet.zidanar=new Array,this.start()}return t.prototype.start=function(){Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this)},t.prototype.stop=function(){Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this)},t.prototype.onframe=function(t){this.curCount++,this.curCount>=24*this.interval&&this.shoot()},t.prototype.shoot=function(){if(!Fb.getInstance().isOver){this.curCount=0;var t=new egret.Point(this.bodyMc.x,this.bodyMc.y+25);if(this.ispaotong2){new PaotongBullet(t,0)}else{new PaotongBullet(t,180)}}},t.prototype.onBodyMcOk=function(t){},t.isfirst=!1,t}();__reflect(Paotong.prototype,"Paotong");var PaotongBullet=function(){function t(e,n){this.speed=.5,this.cishu=0,this.bodyMc=Fg.getInstance().getMc("zidan"),this.bodyMc.gotoAndStop(TcNum.getMinToMax(1,3)),this.bodyMc.anchorOffsetX=.5*this.bodyMc.width,this.bodyMc.anchorOffsetY=.5*this.bodyMc.height,this.bodyMc.rotation=n,this.bodyMc.name="bullet",1==Fg.getInstance().nandu?this.speed=Math.random()+.35:this.speed=Math.random()+.55,null==t.zidanar&&(t.zidanar=new Array),t.zidanar.push(this),Fg.getInstance().mainGame.addChild(this.bodyMc);var i=25;0==n?(this.bodyMc.x=e.x-i,this.bodyMc.y=e.y):90==n?(this.bodyMc.x=e.x,this.bodyMc.y=e.y-i):180==n?(this.bodyMc.x=e.x+i,this.bodyMc.y=e.y):-90==n&&(this.bodyMc.x=e.x,this.bodyMc.y=e.y+i),this.createShape(),0==n?this.body.velocity[0]=-this.speed:90==n?this.body.velocity[1]=-this.speed:180==n?this.body.velocity[0]=this.speed:-90==n&&(this.body.velocity[1]=this.speed)}return t.prototype.createShape=function(){var t=.5*this.bodyMc.width,e=new p2.Circle({radius:t/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!1,type:p2.Body.DYNAMIC}),e.material=Fb.getInstance().bulletMtl,this.body.addShape(e),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.body.gravityScale=.55,this.body.allowSleep=!1,this.body.damping=0,this.start()},t.prototype.start=function(){Fg.getInstance().world.on("beginContact",this.onBeginContact,this),Fg.getInstance().world.on("endContact",this.onend,this),Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.checkOut,this)},t.prototype.stop=function(){Fg.getInstance().world.off("beginContact",this.onBeginContact),Fg.getInstance().world.off("endContact",this.onend),Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.checkOut,this)},t.prototype.checkOut=function(e){if((this.bodyMc.x<-20||this.bodyMc.x>850||this.bodyMc.y<-10||this.bodyMc.y>500||Fb.getInstance().isOver||Math.abs(this.body.velocity[1])<.001)&&(this.stop(),this.bodyMc.parent&&(this.bodyMc.parent.removeChild(this.bodyMc),this.body.world&&Fg.getInstance().world.removeBody(this.body),-1!=t.zidanar.indexOf(this)&&t.zidanar.splice(t.zidanar.indexOf(this)))),t.zidanar&&t.zidanar.length>6){var n=t.zidanar.splice(0,1),i=n[0];i.stop(),i.bodyMc.parent.removeChild(i.bodyMc),this.body.world&&Fg.getInstance().world.removeBody(i.body)}},t.prototype.checkTouch=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays?(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")||n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet"))&&(n.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()):n.enabled=!1}},t.prototype.onBeginContact=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")?(n.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()):n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet")&&(n.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")?(n.enabled=!1,0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie()):n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet")&&(n.enabled=!1,0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie())),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("bullet")?(n.enabled=!1,0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()):n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("bullet")&&(n.enabled=!1,0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie())))}this.cishu++},t.prototype.onend=function(t){if(null!=t.bodyA.displays&&null!=t.bodyB.displays){t.bodyA==Fg.getInstance().rp1.body&&-1!=t.bodyB.displays[0].name.indexOf("bullet")?(t.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()):t.bodyB==Fg.getInstance().rp1.body&&-1!=t.bodyA.displays[0].name.indexOf("bullet")&&(t.enabled=!1,0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie()),(2==Fg.getInstance().roleNum||3==Fg.getInstance().roleNum)&&(t.bodyA==Fg.getInstance().rp2.body&&-1!=t.bodyB.displays[0].name.indexOf("bullet")?(t.enabled=!1,0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()):t.bodyB==Fg.getInstance().rp2.body&&-1!=t.bodyA.displays[0].name.indexOf("bullet")&&(t.enabled=!1,0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()),3==Fg.getInstance().roleNum&&(t.bodyA==Fg.getInstance().rp3.body&&-1!=t.bodyB.displays[0].name.indexOf("bullet")?(t.enabled=!1,0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie()):t.bodyB==Fg.getInstance().rp3.body&&-1!=t.bodyA.displays[0].name.indexOf("bullet")&&(t.enabled=!1,0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie()))),this.cishu++}},t}();__reflect(PaotongBullet.prototype,"PaotongBullet");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var QiuWang=function(){function t(t){this.bodyMc=t,this.createShape(),t.visible=!1}return t.prototype.createShape=function(){var t=this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],damping:0,fixedRotation:!0}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().world.on("beginContact",this.onBeginContact,this)},t.prototype.stop=function(){Fg.getInstance().world.off("beginContact",this.onBeginContact)},t.prototype.onBeginContact=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&(n.bodyA==Fb.getInstance().zuqiu.body&&-1!=n.bodyB.displays[0].name.indexOf("qiuwang")&&0==Fb.getInstance().isOver?(Fb.getInstance().isOver=!0,Fb.getInstance().zuqiu.bodyMc.x>400?Fb.getInstance().onJinQiu(1):Fb.getInstance().onJinQiu(2)):n.bodyB==Fb.getInstance().zuqiu.body&&-1!=n.bodyA.displays[0].name.indexOf("qiuwang")&&0==Fb.getInstance().isOver&&(Fb.getInstance().isOver=!0,Fb.getInstance().zuqiu.bodyMc.x>400?Fb.getInstance().onJinQiu(1):Fb.getInstance().onJinQiu(2)))}},t}();__reflect(QiuWang.prototype,"QiuWang");var shitou=function(){function t(t){this.stw=t.width,this.sth=t.height,this.sts=new p2.Box({width:this.stw/Fg.getInstance().factor,height:this.sth/Fg.getInstance().factor}),this.stbody=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(t.x),jbP2.P2Space.convertEgretY_To_P2Y(t.y)],type:p2.Body.DYNAMIC,mass:1.5,fixedRotation:!0}),this.stbody.allowSleep=!1,this.stbody.addShape(this.sts),Fg.getInstance().world.addBody(this.stbody),this.stbody.displays=[t]}return t}();__reflect(shitou.prototype,"shitou");var shop=function(t){function e(){var e=t.call(this)||this;return e.skinName="shopSkin",Fg.getInstance().mainGame.addChild(e),e.shuotext.text=Fg.shu_shuoming+"",e.wujinbi.text=Fg.shu_jiage+"",e.setText(),e.goumaivis(),e.start(),e.gaozu.visible=!1,0==Fg.getInstance().pj4||(e.gaoBn.visible=!1),e}return __extends(e,t),e.prototype.start=function(){this.addEvent(this.gouBn),this.addEvent(this.gaoBn),this.addEvent(this.fanhuiBn)},e.prototype.stop=function(){this.removeEvent(this.gouBn),this.removeEvent(this.gaoBn),this.removeEvent(this.fanhuiBn)},e.prototype.destroy=function(){this.stop(),Fg.getInstance().mainGame.removeChild(this)},e.prototype.addEvent=function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,Fg.getInstance().bt_t,this),t.addEventListener(egret.TouchEvent.TOUCH_END,Fg.getInstance().bt_t,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,Fg.getInstance().bt_t,this),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this)},e.prototype.removeEvent=function(t){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,Fg.getInstance().bt_t,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,Fg.getInstance().bt_t,this),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,Fg.getInstance().bt_t,this),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButton,this)},e.prototype.goumaivis=function(){Fg.getInstance().shu_jinbi>=Fg.shu_jiage?(this.gouBn.visible=!0,this.gouhuiBn.visible=!1):(this.gouBn.visible=!1,this.gouhuiBn.visible=!0)},e.prototype.setText=function(){this.zongjinbi.text=Fg.getInstance().shu_jinbi+"",this.wushu.text=Fg.shu_wudi+""},e.prototype.onButton=function(t){var e=t.target.name;switch(e){case"gouBn":Fg.getInstance().shu_jinbi>=Fg.shu_jiage&&(GameSound.getInstance().playXiaoSound("onBt_mp3"),Fg.getInstance().shu_jinbi-=Fg.shu_jiage,Fg.shu_wudi++,this.setText(),this.goumaivis(),Fg.getInstance().saveIcon());break;case"fanhuiBn":if(GameSound.getInstance().playXiaoSound("onBt_mp3"),this.destroy(),Fg.isgamekai&&(Fg.isgamekai=!1),Fg.isoverkai){var n=new egret.Event("setText");Fg.getInstance().mainGame.dispatchEvent(n),Fg.isoverkai=!1}break;case"gaoBn":this.guanggao();break;case"gaobiBn":this.removeEvent(this.gaobiBn),this.gaozu.visible=!1}},e.prototype.guanggao=function(){},e.prototype.onlook=function(){},e.prototype.timerFunc=function(){Fg.getInstance().shu_jinbi=Fg.getInstance().shu_jinbi+Fg.shu_gjinbi/25,Fg.getInstance().saveIcon(),this.zongjinbi.text=Fg.getInstance().shu_jinbi+""},e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(shop.prototype,"shop",["eui.UIComponent","egret.DisplayObject"]);var ShouYe=function(t){function e(){var e=t.call(this)||this;e.glowFilter=new egret.GlowFilter(16764672,.8,35,35,2,3),GameSound.getInstance().playBgSound("bgmusic_mp3",.8),e.skinName="ShouYeSkin",Fg.getInstance().mainGame.addChild(e),e.musicmc=Fg.getInstance().getMc("musicmc"),e.musicmc.gotoAndStop(1),e.addChild(e.musicmc),e.musicmc.x=750,e.musicmc.y=30;var n=.35;return e.musicmc.scaleX=n,e.musicmc.scaleY=n,e.musicmc.touchEnabled=!0,e.biaoti=Fg.getInstance().getMc2("biaoti",555,140,e),"zh-CN"==egret.Capabilities.language?(e.biaoti.gotoAndStop(1),e.startBt.source="startBt1_png"):(e.biaoti.gotoAndStop(2),e.startBt.source="startBt2_png"),e.addChild(e.nandugroup),e._roleArr=[e.role1,e.role2,e.role3,e.role4],e._currole=e._roleArr[0],e._currole.filters=[e.glowFilter],e.VsAIBt.selected=!0,Fg.isSoundPlay?e.musicmc.gotoAndStop(1):e.musicmc.gotoAndStop(2),Fg._xuan1p=1,Fg._xuan2p=2,Fg._isVsAI=!0,e.start(),e.logo=Fg.getInstance().getBitmap("MathGames"),e.logo.touchEnabled=!0,e.logo.x=320,e.logo.y=420,e.logo.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onlogo,e),e}return __extends(e,t),e.prototype.start=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this)},e.prototype.stop=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this)},e.prototype.onclick=function(t){var e=t.target.name;switch(e){case"kaishiyouxi":Fg.getInstance().roleNum=1,this.startGame();break;case"MathGames":case"MathGameslogo":case"morebn":GameSound.getInstance().playXiaoSound("点击按钮",0,-.5),Fg.getInstance().moreGames();break;case"VsAIBt":this.VsAIBt.selected=!0,Fg._isVsAI=!0,this.VsWanJiaBt.selected=!1;break;case"VsWanJiaBt":this.VsWanJiaBt.selected=!0,Fg._isVsAI=!1,this.VsAIBt.selected=!1;break;case"startBt":this.startGame2();break;case"musicmc":1==this.musicmc.currentFrame?(this.musicmc.gotoAndStop(2),Fg.isSoundPlay=!1,GameSound.getInstance().setIsAllSound(!1)):(this.musicmc.gotoAndStop(1),Fg.isSoundPlay=!0,GameSound.getInstance().setIsAllSound(!0));break;default:-1!=e.indexOf("role")&&(Fg._xuan1p=parseInt(e.substr(4)),this.onSuiJi(),console.log(Fg._xuan1p,Fg._xuan2p),this._currole=this._roleArr[Fg._xuan1p-1],this._roleArr.forEach(function(t){t.filters=[]}),this._currole.filters=[this.glowFilter])}},e.prototype.onSuiJi=function(){Fg._xuan2p=Math.ceil(4*Math.random()),Fg._xuan2p==Fg._xuan1p&&this.onSuiJi()},e.prototype.startGame=function(){egret.Tween.get(this.nandugroup).to({x:0},750,egret.Ease.backInOut)},e.prototype.startGame2=function(){this.destroy();var t;t=egret.getDefinitionByName("GameMed");var e=new t;Fb.getInstance().jiexi(e),Fg.getInstance().createDebug()},e.prototype.onlogo=function(t){window.open("","_blank")},e.prototype.destroy=function(){for(this.logo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onlogo,this),this.stop();Fg.getInstance().mainGame.numChildren>0;)Fg.getInstance().mainGame.removeChildAt(0);this.musicmc=null},e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(ShouYe.prototype,"ShouYe",["eui.UIComponent","egret.DisplayObject"]);var Sxydb=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this),Fg.getInstance().world.on("beginContact",this.onBeginContact,this),Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.checkOut,this)},e.prototype.stop=function(){t.prototype.stop.call(this),Fg.getInstance().world.off("beginContact",this.onBeginContact),Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.checkOut,this)},e.prototype.onBeginContact=function(t){for(var e=this,n=0;n<t.contactEquations.length;n++){var i=t.contactEquations[n];null!=i.bodyA.displays&&null!=i.bodyB.displays&&(i.bodyA==Fg.getInstance().rp1.body&&i.bodyB==e.body?(Fg.getInstance().rp1.onSxydb=!0,Fg.getInstance().rp1.curSxydb=e):i.bodyB==Fg.getInstance().rp1.body&&i.bodyA==e.body&&(Fg.getInstance().rp1.onSxydb=!0,Fg.getInstance().rp1.curSxydb=e),Fg.getInstance().roleNum>1&&(i.bodyA==Fg.getInstance().rp2.body&&i.bodyB==e.body?(Fg.getInstance().rp2.onSxydb=!0,Fg.getInstance().rp2.curSxydb=e):i.bodyB==Fg.getInstance().rp2.body&&i.bodyA==e.body&&(Fg.getInstance().rp2.onSxydb=!0,Fg.getInstance().rp2.curSxydb=e)),Fg.getInstance().roleNum>2&&(i.bodyA==Fg.getInstance().rp3.body&&i.bodyB==e.body?(Fg.getInstance().rp3.onSxydb=!0,Fg.getInstance().rp3.curSxydb=e):i.bodyB==Fg.getInstance().rp3.body&&i.bodyA==e.body&&(Fg.getInstance().rp3.onSxydb=!0,Fg.getInstance().rp3.curSxydb=e)))}},e.prototype.onEndContact=function(t){var e=this,n=t;
n.bodyA==Fg.getInstance().rp1.body&&n.bodyB==e.body?Fg.getInstance().rp1.onSxydb=!1:n.bodyB==Fg.getInstance().rp1.body&&n.bodyA==e.body&&(Fg.getInstance().rp1.onSxydb=!1),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&n.bodyB==e.body?Fg.getInstance().rp2.onSxydb=!1:n.bodyB==Fg.getInstance().rp2.body&&n.bodyA==e.body&&(Fg.getInstance().rp2.onSxydb=!1)),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&n.bodyB==e.body?Fg.getInstance().rp3.onSxydb=!1:n.bodyB==Fg.getInstance().rp3.body&&n.bodyA==e.body&&(Fg.getInstance().rp3.onSxydb=!1))},e.prototype.checkOut=function(){Math.abs(Fg.getInstance().rp1.bodyMc.x-this.bodyMc.x)<.5*Fg.getInstance().rp1.bodyMc.width+.5*this.bodyMc.width&&Math.abs(Fg.getInstance().rp1.bodyMc.y-this.bodyMc.y)<.5*Fg.getInstance().rp1.bodyMc.height+this.bodyMc.height||Fg.getInstance().rp1.curSxydb==this&&(Fg.getInstance().rp1.onSxydb=!1,Fg.getInstance().rp1.curSxydb=null),Fg.getInstance().roleNum>1&&(Math.abs(Fg.getInstance().rp2.bodyMc.x-this.bodyMc.x)<.5*Fg.getInstance().rp2.bodyMc.width+.5*this.bodyMc.width&&Math.abs(Fg.getInstance().rp2.bodyMc.y-this.bodyMc.y)<.5*Fg.getInstance().rp2.bodyMc.height+this.bodyMc.height||Fg.getInstance().rp2.curSxydb==this&&(Fg.getInstance().rp2.onSxydb=!1,Fg.getInstance().rp2.curSxydb=null)),Fg.getInstance().roleNum>2&&(Math.abs(Fg.getInstance().rp3.bodyMc.x-this.bodyMc.x)<.5*Fg.getInstance().rp3.bodyMc.width+.5*this.bodyMc.width&&Math.abs(Fg.getInstance().rp3.bodyMc.y-this.bodyMc.y)<.5*Fg.getInstance().rp3.bodyMc.height+this.bodyMc.height||Fg.getInstance().rp3.curSxydb==this&&(Fg.getInstance().rp3.onSxydb=!1,Fg.getInstance().rp3.curSxydb=null))},e}(MoveItem);__reflect(Sxydb.prototype,"Sxydb");var Wupina=function(){function t(t){this.createShape()}return t.prototype.createShape=function(){var t=this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.DYNAMIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){},t.prototype.stop=function(){},t}();__reflect(Wupina.prototype,"Wupina");var Feibiaosx=function(){function t(t,e){this.isRunUp=!1,this.runSpeed=1.2,0==t?this.bodyMc=Fg.getInstance().getBitmap("dao"):this.bodyMc=Fg.getInstance().getBitmap("ciqiupng"),this.bodyMc.name="feibiaosx",Fg.getInstance().mainGame.addChild(this.bodyMc),this.bodyMc.anchorOffsetX=.5*this.bodyMc.width,this.bodyMc.anchorOffsetY=.5*this.bodyMc.height,t?(this.bodyMc.x=e.x,this.bodyMc.y=e.y):(this.bodyMc.x=TcNum.getMinToMax(40,760),this.bodyMc.y=-200),GameSound.getInstance().playXiaoSound("feidao_wav"),this.createShape(),this.start();var n=this;this.timeid=egret.setTimeout(function(){n.stop();try{Fg.getInstance().world.removeBody(n.body),n.bodyMc.parent.removeChild(n.bodyMc)}catch(t){}},this,5e3)}return t.prototype.createShape=function(){var t=this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.DYNAMIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.on("beginContact",this.onBeginContact),Fg.getInstance().world.on("preSolve",this.checkTouch,this),Fg.getInstance().world.on("endContact",this.onend,this)},t.prototype.stop=function(){Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this),Fg.getInstance().world.off("beginContact",this.onBeginContact),Fg.getInstance().world.off("preSolve",this.checkTouch),Fg.getInstance().world.off("endContact",this.onend),egret.clearTimeout(this.timeid)},t.prototype.checkTouch=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays?(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie(),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie()),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie())):n.enabled=!1}},t.prototype.onBeginContact=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays?(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():n.enabled=!1,Fg.getInstance().roleNum>1?n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():n.enabled=!1,Fg.getInstance().roleNum>2?n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():n.enabled=!1):n.enabled=!1}},t.prototype.onend=function(t){if(null==t.bodyA.displays||null==t.bodyB.displays)return void(t.enabled=!1);t.bodyA==Fg.getInstance().rp1.body&&-1!=t.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():t.bodyB==Fg.getInstance().rp1.body&&-1!=t.bodyA.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r1wudi&&Fg.getInstance().rp1.pdie():t.enabled=!1,Fg.getInstance().roleNum>1?t.bodyA==Fg.getInstance().rp2.body&&-1!=t.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():t.bodyB==Fg.getInstance().rp2.body&&-1!=t.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r2wudi&&Fg.getInstance().rp2.pdie():t.enabled=!1,Fg.getInstance().roleNum>2?t.bodyA==Fg.getInstance().rp3.body&&-1!=t.bodyB.displays[0].name.indexOf("feibiaosx")?0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():t.bodyB==Fg.getInstance().rp3.body&&-1!=t.bodyA.displays[0].name.indexOf("feibiaosx")&&0==Fg.getInstance().r3wudi&&Fg.getInstance().rp3.pdie():t.enabled=!1},t.prototype.onframe=function(t){this.body.position[1]>12&&(this.stop(),Fg.getInstance().world.removeBody(this.body),this.bodyMc.parent.removeChild(this.bodyMc))},t}();__reflect(Feibiaosx.prototype,"Feibiaosx");var xsmb=function(){function t(t){this.flag=0,this.isRun=!1,this.count=0;t.name;this.bodyMc=Fg.getInstance().getMc("xsmb"),this.bodyMc.gotoAndStop(1),Fg.getInstance().mainGame.addChild(this.bodyMc),this.bodyMc=TcMc.setMcSame(this.bodyMc,t),this.createShape(),this.start(),this.ar=new Array}return t.prototype.createShape=function(){var t=.8*this.bodyMc.width,e=this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:1,fixedRotation:!0,type:p2.Body.KINEMATIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this),this.addHitListener()},t.prototype.stop=function(){Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this),this.removeHitListener()},t.prototype.addHitListener=function(){Fg.getInstance().world.on("preSolve",this.checkTouch,this),Fg.getInstance().world.on("beginContact",this.onBeginContact,this),Fg.getInstance().world.on("endContact",this.onEndContact,this)},t.prototype.removeHitListener=function(){Fg.getInstance().world.off("preSolve",this.checkTouch),Fg.getInstance().world.off("beginContact",this.onBeginContact),Fg.getInstance().world.off("endContact",this.onEndContact)},t.prototype.checkIsP1=function(t){return t==Fg.getInstance().rp1.body},t.prototype.checkIsxsmb=function(t){var e=t.displays[0],n=e.name;return n&&-1!=n.indexOf("xsmb")?!0:!1},t.prototype.onBeginContact=function(t){for(var e=this,n=0;n<t.contactEquations.length;n++){var i=t.contactEquations[n];if(null!=i.bodyA.displays&&null!=i.bodyB.displays){if(i.bodyA==Fg.getInstance().rp1.body&&-1!=i.bodyB.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp1)}else if(i.bodyB==Fg.getInstance().rp1.body&&-1!=i.bodyA.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp1)}if(Fg.getInstance().roleNum>1)if(i.bodyA==Fg.getInstance().rp2.body&&-1!=i.bodyB.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp2)}else if(i.bodyB==Fg.getInstance().rp2.body&&-1!=i.bodyA.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp2)}if(Fg.getInstance().roleNum>2)if(i.bodyA==Fg.getInstance().rp3.body&&-1!=i.bodyB.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp3)}else if(i.bodyB==Fg.getInstance().rp3.body&&-1!=i.bodyA.displays[0].name.indexOf("xsmb")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16||e.ar.push(Fg.getInstance().rp3)}}}},t.prototype.onEndContact=function(t){var e=this,n=t;null!=n.bodyA.displays&&null!=n.bodyB.displays&&(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp1)):n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp1)),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp2)):n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp2))),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp3)):n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp3))))},t.prototype.checkTouch=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&((n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")||n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb"))&&(this.bodyMc.currentFrame<14||this.bodyMc.currentFrame>16?n.enabled=!0:n.enabled=!1),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")||n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb"))&&(this.bodyMc.currentFrame<14||this.bodyMc.currentFrame>16?n.enabled=!0:n.enabled=!1),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("xsmb")||n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("xsmb"))&&(this.bodyMc.currentFrame<14||this.bodyMc.currentFrame>16?n.enabled=!0:n.enabled=!1))}},t.prototype.onframe=function(t){if(this.count++,this.count%72==0&&(this.isRun=!this.isRun,this.isRun&&1==this.flag?this.flag=0:this.isRun&&0==this.flag&&(this.flag=1)),this.isRun)if(0==this.flag){var e=this.bodyMc.currentFrame+1;e>=30&&(e=1),e>15&&(e=15),this.bodyMc.gotoAndStop(e)}else if(1==this.flag){var e=this.bodyMc.currentFrame+1;e>=30&&(e=30),this.bodyMc.gotoAndStop(e)}},t}();__reflect(xsmb.prototype,"xsmb");var YaoGan=function(t){function e(){var e=t.call(this)||this;return e.circleRadius=0,e.ballRadius=0,e.centerX=0,e.centerY=0,e.p1=new egret.Point,e.p2=new egret.Point,e.skinName="YaoGanSkin",e}return __extends(e,t),e.prototype.start=function(){Fg.getInstance().mainGame.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),Fg.getInstance().mainGame.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.stop=function(){Fg.getInstance().mainGame.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),Fg.getInstance().mainGame.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchBegin=function(t){this.touchID=t.touchPointID,this.p1.x=this.x,this.p1.y=this.y,this.p2.x=t.stageX,this.p2.y=t.stageY;var e=egret.Point.distance(this.p1,this.p2);Math.atan2(t.stageY-this.y,t.stageX-this.x);e<=this.circleRadius-this.ballRadius&&(this.ball.x=this.centerX,this.ball.y=this.centerY,Fg.getInstance().mainGame.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)),this.dispatchEvent(new egret.Event("vj_start"))},e.prototype.onTouchEnd=function(t){this.touchID==t.touchPointID&&(this.ball.x=this.centerX,this.ball.y=this.centerY,Fg.getInstance().mainGame.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.dispatchEvent(new egret.Event("vj_end")))},e.prototype.onTouchMove=function(t){if(this.touchID==t.touchPointID){this.p1.x=this.x,this.p1.y=this.y,this.p2.x=t.stageX,this.p2.y=t.stageY;var e=egret.Point.distance(this.p1,this.p2),n=Math.atan2(t.stageY-this.y,t.stageX-this.x);e<=this.circleRadius-this.ballRadius?(this.ball.x=this.centerX+t.stageX-this.x,this.ball.y=this.centerY+t.stageY-this.y):(this.ball.x=Math.cos(n)*(this.circleRadius-this.ballRadius)+this.centerX,this.ball.y=Math.sin(n)*(this.circleRadius-this.ballRadius)+this.centerY),this.dispatchEventWith("vj_move",!1,n)}},e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){this.circleRadius=this.circle.height/2,this.ballRadius=this.ball.height/2,this.centerX=this.circleRadius,this.centerY=this.circleRadius,this.anchorOffsetX=this.circleRadius,this.anchorOffsetY=this.circleRadius,this.ball.x=this.centerX,this.ball.y=this.centerY,t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(YaoGan.prototype,"YaoGan",["eui.UIComponent","egret.DisplayObject"]);var Zhen=function(){function t(t){this.flag=0,this.isRun=!1,this.count=0;t.name;this.bodyMc=Fg.getInstance().getMc("zhen"),this.bodyMc.gotoAndStop(1),Fg.getInstance().mainGame.addChild(this.bodyMc),this.bodyMc=TcMc.setMcSame(this.bodyMc,t),this.createShape(),this.start(),this.ar=new Array}return t.prototype.createShape=function(){var t=.8*this.bodyMc.width,e=.95*this.bodyMc.height,n=new p2.Box({width:t/Fg.getInstance().factor,height:e/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y+5)],mass:1,fixedRotation:!0,type:p2.Body.STATIC}),this.body.addShape(n),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().mainGame.addEventListener(egret.Event.ENTER_FRAME,this.onframe,this),this.addHitListener()},t.prototype.stop=function(){Fg.getInstance().mainGame.removeEventListener(egret.Event.ENTER_FRAME,this.onframe,this),this.removeHitListener()},t.prototype.addHitListener=function(){Fg.getInstance().world.on("preSolve",this.checkTouch,this),Fg.getInstance().world.on("beginContact",this.onBeginContact,this),Fg.getInstance().world.on("endContact",this.onEndContact,this)},t.prototype.removeHitListener=function(){Fg.getInstance().world.off("preSolve",this.checkTouch),Fg.getInstance().world.off("beginContact",this.onBeginContact),Fg.getInstance().world.off("endContact",this.onEndContact)},t.prototype.checkIsP1=function(t){return t==Fg.getInstance().rp1.body},t.prototype.checkIsZhen=function(t){var e=t.displays[0],n=e.name;return n&&-1!=n.indexOf("zhen")?!0:!1},t.prototype.onBeginContact=function(t){for(var e=this,n=0;n<t.contactEquations.length;n++){var i=t.contactEquations[n];if(null!=i.bodyA.displays&&null!=i.bodyB.displays){if(i.bodyA==Fg.getInstance().rp1.body&&-1!=i.bodyB.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp1.pdie():e.ar.push(Fg.getInstance().rp1)}else if(i.bodyB==Fg.getInstance().rp1.body&&-1!=i.bodyA.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp1.pdie():e.ar.push(Fg.getInstance().rp1)}if(Fg.getInstance().roleNum>1)if(i.bodyA==Fg.getInstance().rp2.body&&-1!=i.bodyB.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp2.pdie():e.ar.push(Fg.getInstance().rp2)}else if(i.bodyB==Fg.getInstance().rp2.body&&-1!=i.bodyA.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp2.pdie():e.ar.push(Fg.getInstance().rp2)}if(Fg.getInstance().roleNum>2)if(i.bodyA==Fg.getInstance().rp3.body&&-1!=i.bodyB.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyB.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp3.pdie():e.ar.push(Fg.getInstance().rp3)}else if(i.bodyB==Fg.getInstance().rp3.body&&-1!=i.bodyA.displays[0].name.indexOf("zhen")){i.enabled=!1;var o=i.bodyA.displays[0];o.currentFrame<14||o.currentFrame>16?Fg.getInstance().rp3.pdie():e.ar.push(Fg.getInstance().rp3)}}}},t.prototype.onEndContact=function(t){var e=this,n=t;null!=n.bodyA.displays&&null!=n.bodyB.displays&&(n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp1)):n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp1)),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp2)):n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp2))),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")?e.ar.splice(e.ar.indexOf(Fg.getInstance().rp3)):n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen")&&e.ar.splice(e.ar.indexOf(Fg.getInstance().rp3))))},t.prototype.checkTouch=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&((n.bodyA==Fg.getInstance().rp1.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")||n.bodyB==Fg.getInstance().rp1.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen"))&&(n.enabled=!1),Fg.getInstance().roleNum>1&&(n.bodyA==Fg.getInstance().rp2.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")||n.bodyB==Fg.getInstance().rp2.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen"))&&(n.enabled=!1),Fg.getInstance().roleNum>2&&(n.bodyA==Fg.getInstance().rp3.body&&-1!=n.bodyB.displays[0].name.indexOf("zhen")||n.bodyB==Fg.getInstance().rp3.body&&-1!=n.bodyA.displays[0].name.indexOf("zhen"))&&(n.enabled=!1))}},t.prototype.onframe=function(t){if(this.count++,this.count%72==0&&(this.isRun=!this.isRun,this.isRun&&1==this.flag?this.flag=0:this.isRun&&0==this.flag&&(this.flag=1)),this.isRun)if(0==this.flag){var e=this.bodyMc.currentFrame+1;e>=30&&(e=1),e>15&&(e=15),this.bodyMc.gotoAndStop(e)}else if(1==this.flag){var e=this.bodyMc.currentFrame+1;e>=30&&(e=30),this.bodyMc.gotoAndStop(e)}if(this.bodyMc.currentFrame<14||this.bodyMc.currentFrame>16)for(;this.ar.length>0;){var n=this.ar.pop();n==Fg.getInstance().rp1?Fg.getInstance().rp1.pdie():n==Fg.getInstance().rp2?Fg.getInstance().rp2&&Fg.getInstance().rp2.pdie():n==Fg.getInstance().rp3&&Fg.getInstance().rp3&&Fg.getInstance().rp3.pdie()}},t}();__reflect(Zhen.prototype,"Zhen");var Zuqiu=function(){function t(t){this.tiqiuflagy=.4,this.tiqiuflagx=.2,this.bodyMc=t,this.createShape()}return t.prototype.createShape=function(){var t=.5*this.bodyMc.width,e=new p2.Circle({radius:t/Fg.getInstance().factor});this.body=new p2.Body({position:[jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x),jbP2.P2Space.convertEgretY_To_P2Y(this.bodyMc.y)],mass:.1,fixedRotation:!1,type:p2.Body.DYNAMIC}),e.material=Fb.getInstance().bulletMtl,this.body.addShape(e),Fg.getInstance().world.addBody(this.body),this.body.displays=[this.bodyMc],this.start()},t.prototype.start=function(){Fg.getInstance().world.on("beginContact",this.onBeginContact,this)},t.prototype.stop=function(){Fg.getInstance().world.off("beginContact",this.onBeginContact)},t.prototype.onBeginContact=function(t){for(var e=0;e<t.contactEquations.length;e++){var n=t.contactEquations[e];null!=n.bodyA.displays&&null!=n.bodyB.displays&&(-1!=n.bodyA.displays[0].name.indexOf("role")&&-1!=n.bodyB.displays[0].name.indexOf("zuqiu")?(Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,n.bodyA.displays[0].x<=Fb.getInstance().zuqiu.bodyMc.x?Fb.getInstance().zuqiu.body.velocity[0]=this.tiqiuflagx:Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx):-1!=n.bodyB.displays[0].name.indexOf("role")&&-1!=n.bodyA.displays[0].name.indexOf("zuqiu")&&(Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,n.bodyB.displays[0].x<=Fb.getInstance().zuqiu.bodyMc.x?Fb.getInstance().zuqiu.body.velocity[0]=this.tiqiuflagx:Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx))}},t}();__reflect(Zuqiu.prototype,"Zuqiu");var jbP2;!function(t){var e=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e.anchorOffsetX=.5*e.width,e.anchorOffsetY=.5*e.height,e},t.createBall=function(t){var e=new egret.Shape;return e.graphics.lineStyle(1,0),e.graphics.beginFill(16773120),e.graphics.drawCircle(t,t,t),e.graphics.moveTo(t,t),e.graphics.lineTo(2*t,t),e.graphics.endFill(),e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e},t.createBox=function(t,e){console.log("createBox "+t+","+e);var n=new egret.Shape;return n.graphics.lineStyle(1,0),n.graphics.beginFill(16773120),n.graphics.drawRect(0,0,t,e),n.graphics.endFill(),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n},t.createCapsule=function(t,e){console.log("createCapsule len:"+t+",radius:"+e);var n=new egret.Shape;return n.graphics.lineStyle(1,0),n.graphics.beginFill(16773120),n.graphics.drawRect(0,0,t,2*e),n.graphics.endFill(),n.graphics.beginFill(16773120),n.graphics.drawCircle(0,e,e),n.graphics.endFill(),n.graphics.beginFill(16773120),n.graphics.drawCircle(t,e,e),n.graphics.endFill(),n.anchorOffsetX=t/2,n.anchorOffsetY=n.height/2,n},t.createTouchTf=function(t,e,n,i,o){var a=new egret.TextField;return a.width=n,a.height=i,a.x=t,a.y=e,a.size=16,a.text=o,a.touchEnabled=!0,a},t}();t.DispUtil=e,__reflect(e.prototype,"jbP2.DispUtil")}(jbP2||(jbP2={}));var jbP2;!function(t){var e=function(){function e(){}return e.checkIfCanJump=function(t,e){for(var n=!1,i=0;i<t.narrowphase.contactEquations.length;i++){var o=t.narrowphase.contactEquations[i];if(o.bodyA===e||o.bodyB===e){var a=p2.vec2.dot(o.normalA,this.yAxis);o.bodyA===e&&(a*=-1),a>.5&&(n=!0)}}return n},e.updateBodySkin=function(t){if(null!=t.displays&&0!=t.displays.length)for(var e=0;e<t.displays.length;e++){var n=t.displays[e];if(n){var i=[0,0];t.toWorldFrame(i,t.shapes[e].position),n.x=this.convertP2ValueToEgret(i[0]),n.y=this.convertP2Y_To_EgretY(i[1]),n.rotation=360-180*(t.angle+t.shapes[e].angle)/Math.PI,console.log(n.rotation,n.y,i[0],i[1])}}},e.convertP2ValueToEgret=function(t){return t*this.factor},e.convertEgretValueToP2=function(t){return t/this.factor},e.convertEgretY_To_P2Y=function(t){return t/this.factor},e.convertP2Y_To_EgretY=function(t){return this.worldRect.height-t*this.factor},e.convertEgretPosToP2=function(t,e){return[t/this.factor,(this.worldRect.height-e)/this.factor]},e.convertBodyPosToEgret=function(t){var e=t.position[0],n=t.position[1];return[e*this.factor,this.worldRect.height-n*this.factor]},e.convertP2BodyAngleToEgret=function(t){var e;return e=360-180*t.angle/Math.PI},e.convertEgretAngleToP2=function(t){var e;return e=(360-t)*Math.PI/180},e.initSpace=function(t,e){this.factor=t,this.worldRect=e},e.addOneBox=function(e,n,i,o,a,s,r,c){var d,g=t.P2Space.convertEgretValueToP2(i),h=t.P2Space.convertEgretY_To_P2Y(o),l=t.P2Space.convertEgretValueToP2(a),p=t.P2Space.convertEgretValueToP2(s),u=t.P2Space.convertEgretAngleToP2(r),y=new p2.Box({width:l,height:p}),b=new p2.Body({mass:1,position:[g,h],angle:u});return b.type=c,b.addShape(y),e.addBody(b),d=t.DispUtil.createBox(a,s),b.displays=[d],n.addChild(d),b},e.addOneCapsule=function(e,n,i,o,a,s,r,c){var d,g=t.P2Space.convertEgretValueToP2(i),h=t.P2Space.convertEgretY_To_P2Y(o),l=t.P2Space.convertEgretValueToP2(a),p=t.P2Space.convertEgretValueToP2(s),u=t.P2Space.convertEgretAngleToP2(r),y=new p2.Capsule({length:l,radius:p}),b=new p2.Body({mass:1,position:[g,h],angle:u});return b.type=c,b.addShape(y),e.addBody(b),d=t.DispUtil.createCapsule(a,s),b.displays=[d],n.addChild(d),b},e.addOneBall=function(e,n,i,o,a,s,r){var c,d=t.P2Space.convertEgretValueToP2(i),g=t.P2Space.convertEgretY_To_P2Y(o),h=t.P2Space.convertEgretValueToP2(a),l=t.P2Space.convertEgretAngleToP2(s),p=new p2.Circle({radius:h}),u=new p2.Body({mass:1,position:[d,g],angle:l});return u.type=r,u.addShape(p),e.addBody(u),c=t.DispUtil.createBall(a),u.displays=[c],n.addChild(c),u},e.updateWorldBodiesSkin=function(e){for(var n=(egret.MainContext.instance.stage.stageHeight,e.bodies.length),i=0;n>i;i++){var o=e.bodies[i];if(t.P2Space.updateBodySkin(o),null!=o.displays&&0!=o.displays.length)for(var a=0;a<o.displays.length;a++){var s=o.displays[a];o.sleepState==p2.Body.SLEEPING?s.alpha=.5:s.alpha=1}}},e.factor=Fg.getInstance().factor,e.yAxis=p2.vec2.fromValues(0,1),e}();t.P2Space=e,__reflect(e.prototype,"jbP2.P2Space")}(jbP2||(jbP2={}));var jbP2;!function(t){var e=function(){function e(e,n){this.factor=50,this.stage=e,this.dispCtn=n,t.P2Space.initSpace(this.factor,new egret.Rectangle(0,0,this.stage.stageWidth,this.stage.stageHeight)),this.world=new p2.World,this.world.sleepMode=p2.World.BODY_SLEEPING,egret.Ticker.getInstance().register(this.p2RunStep,this)}return e.prototype.p2RunStep=function(e){10>e||e>1e3||(this.world.step(e/1e3),t.P2Space.updateWorldBodiesSkin(this.world))},e.prototype.p2Step=function(e){this.world.step(1/60),t.P2Space.updateWorldBodiesSkin(this.world)},e.prototype.createGround=function(){var t=new p2.Plane,e=new p2.Body;e.type=p2.Body.STATIC,e.addShape(t),e.displays=[],this.world.addBody(e)},e}();t.SimpleP2Scene=e,__reflect(e.prototype,"jbP2.SimpleP2Scene")}(jbP2||(jbP2={}));var GameMed=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/eui_skins/GameMed1.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(GameMed.prototype,"GameMed",["eui.UIComponent","egret.DisplayObject"]);var GameMed2=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/eui_skins/GameMed2.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(GameMed2.prototype,"GameMed2",["eui.UIComponent","egret.DisplayObject"]);var P1=function(t){function e(e){var n=t.call(this,e)||this;return n.tiqiuflagx=1.1,n.tiqiuflagy=.6,n}return __extends(e,t),e.prototype.judgeRight=function(){return 1==this.rundir[Fg.D]},e.prototype.judgeLeft=function(){return 1==this.rundir[Fg.A]},e.prototype.walkRight=function(){this.changeBodyScale(this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&this.curStatus!=this.tiqiu&&(1==Fg.getInstance().r1wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=this.vxSpeed},e.prototype.walkLeft=function(){this.changeBodyScale(-this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&this.curStatus!=this.tiqiu&&(1==Fg.getInstance().r1wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=-this.vxSpeed},e.prototype.judgeUp=function(){return(Math.abs(this.body.velocity[1])<.0045||this.onSxydb)&&this.body.type==p2.Body.DYNAMIC},e.prototype.wuDi=function(){0==Fg.getInstance().r1wudi&&Fg.shu_wudi>0&&(GameSound.getInstance().playXiaoSound("wudis_mp3"),Fg.shu_wudi--,Fg.getInstance().saveIcon(),Fg.getInstance().r1wudi=!0,this.changeStatus(this.wudistand),Fg.getInstance().rp1.flag=1,this.timer.start())},e.prototype.onframe=function(t){!this.judgeUp()&&this.body.velocity[1]<0&&this.curStatus!=this.tiqiu&&(1==Fg.getInstance().r1wudi?this.changeStatus(this.wudijump):this.changeStatus(this.jump)),this.judgeRight()&&this.curStatus!=this.tiqiu?this.walkRight():this.judgeLeft()&&this.curStatus!=this.tiqiu?this.walkLeft():this.curStatus!=this.runFight&&this.curStatus!=this.standFight&&this.curStatus!=this.tiqiu&&(this.body.velocity[0]=0,this.judgeUp()&&this.stopRun())},e.prototype.stopRun=function(){t.prototype.stopRun.call(this),1==Fg.getInstance().r1wudi?this.changeStatus(this.wudistand):this.changeStatus(this.stand),this.rundir[Fg.A]=!1,this.rundir[Fg.D]=!1},e.prototype.jumpUp=function(){this.changeStatus(this.jump),GameSound.getInstance().playXiaoSound("tiao_mp3"),this.body.velocity[1]=-this.vySpeed},e.prototype.xiaoShi=function(){Fg.getInstance().rp1.flag--,0==Fg.getInstance().rp1.flag&&(Fg.getInstance().r1wudi=!1,this.changeStatus(this.stand),this.timer.stop())},e.prototype.ontiqiu=function(){this.changeStatus2(this.tiqiu),Math.abs(this.bodyMc.x-Fb.getInstance().zuqiu.bodyMc.x)<this.bodyMc.width+.5*Fb.getInstance().zuqiu.bodyMc.width+12&&Math.abs(this.bodyMc.y-Fb.getInstance().zuqiu.bodyMc.y)<50&&Fb.getInstance().zuqiu.bodyMc.y>this.bodyMc.y-15&&(Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,this.body.position[0]<Fb.getInstance().zuqiu.body.position[0]?Fb.getInstance().zuqiu.body.velocity[0]=this.tiqiuflagx:Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx,GameSound.getInstance().playXiaoSound("tizuqiu_mp3"))},e.prototype.onkeydown=function(e){try{event.preventDefault()}catch(n){}if(e.keyCode!=Fg.W||1!=Fg.getInstance().rp1.rundir[Fg.W])switch(t.prototype.onkeydown.call(this,e),e.keyCode){case Fg.W:Fg.getInstance().rp1.judgeUp()&&Fg.getInstance().rp1.jumpUp();break;case Fg.S:Fg.getInstance().rp1.ontiqiu()}},e}(P);__reflect(P1.prototype,"P1");var P2=function(t){function e(e){var n=t.call(this,e)||this;return n.tiqiuflagx=1.1,n.tiqiuflagy=.6,n}return __extends(e,t),e.prototype.judgeRight=function(){return 1==this.rundir[Fg.right]},e.prototype.judgeLeft=function(){return 1==this.rundir[Fg.left]},e.prototype.walkRight=function(){this.changeBodyScale(this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&(1==Fg.getInstance().r2wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=this.vxSpeed
},e.prototype.walkLeft=function(){this.changeBodyScale(-this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&(1==Fg.getInstance().r2wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=-this.vxSpeed},e.prototype.judgeUp=function(){return(Math.abs(this.body.velocity[1])<.0045||this.onSxydb)&&this.body.type==p2.Body.DYNAMIC},e.prototype.onframe=function(t){this.judgeUp()||(1==Fg.getInstance().r2wudi?this.changeStatus(this.wudijump):this.changeStatus(this.jump)),this.judgeRight()?this.walkRight():this.judgeLeft()?this.walkLeft():this.curStatus!=this.runFight&&this.curStatus!=this.standFight&&(this.body.velocity[0]=0,this.judgeUp()&&this.stopRun())},e.prototype.stopRun=function(){t.prototype.stopRun.call(this),1==Fg.getInstance().r2wudi?this.changeStatus(this.wudistand):this.changeStatus(this.stand),this.rundir[Fg.right]=!1,this.rundir[Fg.left]=!1},e.prototype.xiaoShi=function(){Fg.getInstance().rp2.flag--,0==Fg.getInstance().rp2.flag&&(Fg.getInstance().r2wudi=!1,this.timer.stop())},e.prototype.ontiqiu=function(){this.changeStatus2(this.tiqiu),Math.abs(this.bodyMc.x-Fb.getInstance().zuqiu.bodyMc.x)<this.bodyMc.width+.5*Fb.getInstance().zuqiu.bodyMc.width+12&&Math.abs(this.bodyMc.y-Fb.getInstance().zuqiu.bodyMc.y)<50&&Fb.getInstance().zuqiu.bodyMc.y>this.bodyMc.y-15&&(Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,this.body.position[0]<Fb.getInstance().zuqiu.body.position[0]?Fb.getInstance().zuqiu.body.velocity[0]=this.tiqiuflagx:Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx,GameSound.getInstance().playXiaoSound("tizuqiu_mp3"))},e.prototype.jumpUp=function(){this.changeStatus(this.jump),GameSound.getInstance().playXiaoSound("tiao_mp3",1),this.body.velocity[1]=-this.vySpeed},e.prototype.onkeyup=function(t){Fg.getInstance().rp2.rundir[t.keyCode]=!1},e.prototype.onkeydown=function(t){if(t.keyCode!=Fg.up||1!=Fg.getInstance().rp2.rundir[Fg.up])switch(Fg.getInstance().rp2.rundir[t.keyCode]=!0,t.keyCode){case Fg.up:try{event.preventDefault()}catch(e){}Fg.getInstance().rp2.judgeUp()&&Fg.getInstance().rp2.jumpUp();break;case Fg.down:try{event.preventDefault()}catch(e){}Fg.getInstance().rp2.ontiqiu()}},e}(P);__reflect(P2.prototype,"P2");var P3=function(t){function e(e){var n=t.call(this,e)||this;return n.vySpeed=.78,n.count=0,n.tiqiuflagx=1.1,n.tiqiuflagy=.6,n}return __extends(e,t),e.prototype.judgeRight=function(){return Fb.getInstance().zuqiu.bodyMc.x>this.bodyMc.x+30&&Fb.getInstance().zuqiu.bodyMc.x>150?!0:!1},e.prototype.judgeLeft=function(){return Fb.getInstance().zuqiu.bodyMc.x<this.bodyMc.x-30&&Fb.getInstance().zuqiu.bodyMc.x>150?!0:!1},e.prototype.walkRight=function(){this.changeBodyScale(this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&this.curStatus!=this.tiqiu&&(1==Fg.getInstance().r1wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=this.vxSpeed},e.prototype.walkLeft=function(){this.changeBodyScale(-this.oldsx),(this.curStatus!=this.jump||this.judgeUp())&&this.curStatus!=this.tiqiu&&(1==Fg.getInstance().r1wudi?this.changeStatus(this.wudirun):this.changeStatus(this.run)),this.body.velocity[0]=-this.vxSpeed},e.prototype.judgeUp=function(){return(Math.abs(this.body.velocity[1])<.0015||this.onSxydb)&&this.body.type==p2.Body.DYNAMIC},e.prototype.onframe=function(t){this.count<10?(this.walkRight(),this.count++):(!this.judgeUp()&&this.body.velocity[1]<0&&this.curStatus!=this.tiqiu&&this.changeStatus(this.jump),this.judgeRight()&&this.curStatus!=this.tiqiu?this.walkRight():this.judgeLeft()&&this.curStatus!=this.tiqiu?this.walkLeft():this.curStatus!=this.runFight&&this.curStatus!=this.standFight&&this.curStatus!=this.tiqiu&&(this.body.velocity[0]=0,this.judgeUp()&&this.stopRun()),Fb.getInstance().zuqiu.bodyMc.y<this.bodyMc.y+30&&Fb.getInstance().zuqiu.bodyMc.x>150&&Fg.getInstance().rp3.judgeUp()&&Fg.getInstance().rp3.jumpUp(),Math.abs(this.bodyMc.x-Fb.getInstance().zuqiu.bodyMc.x)<this.bodyMc.width+.5*Fb.getInstance().zuqiu.bodyMc.width+10&&Math.abs(this.bodyMc.y-Fb.getInstance().zuqiu.bodyMc.y)<50&&Fb.getInstance().zuqiu.bodyMc.y>this.bodyMc.y-35&&this.curStatus!=this.tiqiu&&(this.changeStatus2(this.tiqiu),Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,Fb.getInstance().zuqiu.bodyMc.x>this.bodyMc.x&&(Fb.getInstance().zuqiu.body.position[0]=jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x-42)),Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx))},e.prototype.stopRun=function(){t.prototype.stopRun.call(this),1==Fg.getInstance().r1wudi?this.changeStatus(this.wudistand):this.changeStatus(this.stand),this.rundir[Fg.A]=!1,this.rundir[Fg.D]=!1},e.prototype.jumpUp=function(){this.changeStatus(this.jump),GameSound.getInstance().playXiaoSound("tiao_mp3"),this.body.velocity[1]=-this.vySpeed},e.prototype.xiaoShi=function(){Fg.getInstance().rp1.flag--,0==Fg.getInstance().rp1.flag&&(Fg.getInstance().r1wudi=!1,this.changeStatus(this.stand),this.timer.stop())},e.prototype.ontiqiu=function(){this.changeStatus2(this.tiqiu),Math.abs(this.bodyMc.x-Fb.getInstance().zuqiu.bodyMc.x)<this.bodyMc.width+.5*Fb.getInstance().zuqiu.bodyMc.width+12&&Math.abs(this.bodyMc.y-Fb.getInstance().zuqiu.bodyMc.y)<50&&Fb.getInstance().zuqiu.bodyMc.y>this.bodyMc.y-15&&(Fb.getInstance().zuqiu.body.velocity[1]=-this.tiqiuflagy,console.log(Fb.getInstance().zuqiu.bodyMc.x,this.bodyMc.x),Fb.getInstance().zuqiu.bodyMc.x>this.bodyMc.x&&(console.log("chuanhou"),Fb.getInstance().zuqiu.body.position[0]=jbP2.P2Space.convertEgretValueToP2(this.bodyMc.x-50)),Fb.getInstance().zuqiu.body.velocity[0]=-this.tiqiuflagx)},e.prototype.onkeydown=function(t){},e}(P);__reflect(P3.prototype,"P3");var TcMc=function(){function t(){}return t.setMcSame=function(t,e,n){return void 0===n&&(n=!0),null==t||null==e?null:(t.scaleX=e.width/t.width,t.scaleY=e.height/t.height,t.width=e.width,t.height=e.height,t.name=e.name,1==n&&(t.x=e.x,t.y=e.y),t)},t.setMcSameBitmap=function(t,e,n){return void 0===n&&(n=!1),null==t||null==e?null:(t.scaleX=e.width/t.width,t.scaleY=e.height/t.height,t.width=e.width,t.height=e.height,1==n&&(t.x=e.x,t.y=e.y),t)},t}();__reflect(TcMc.prototype,"TcMc");var TcNum=function(){function t(){}return t.getNumOrMinusNum=function(t){var e=parseInt(Math.random()*(2*t+1)+"");return e-t},t.getOneOrMinusOne=function(){var t=Math.random();return t=t>=.5?-1:1},t.getMinToMax=function(t,e){var n=Math.random()*(e-t+1)+t;return parseInt(n+"")},t}();__reflect(TcNum.prototype,"TcNum");var TcStr=function(){function t(){this.offsets=[new egret.Point,new egret.Point],this.seed=Math.random(),this.fireColerIn=16763904,this.fireColerOut=14822665,this.focalPointRatio=.9,this._configDef={},this.STATUS_INIT="init",this.STATUS_LOADED="loaded",this.STATUS_NORMAL="normal",this.STATUS_CHANGE="change",this.STATUS_CONVERT="convert",this.STATUS_SCROLL="scroll",this.STATUS_INPUT="input"}return t.prototype.appendRichText=function(t){var e=this._textField.text;e+=t,this._textField.text=e,this.convert()},t.prototype.htmlText=function(t){t.length>0&&(this._textField.text=t,this.convert())},t.prototype.insertRichText=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=-1),e=-1!=e?e:this._textField.selectionBeginIndex,n=-1!=n?n:this._textField.selectionEndIndex},t.prototype.resizeTo=function(t,e){this._textField.width=t,this._textField.height=e,this._spriteContainer.x=this._textField.x,this._spriteContainer.y=this._textField.y},t.prototype.autoAdjust=function(){this._spriteContainer.x=this._textField.x,this._spriteContainer.y=this._textField.y},t.dde=function(t){var e;switch(t){case"flash.display.MovieClip":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b4+TcUtil.b9+TcUtil.b19+TcUtil.b16+TcUtil.b12+TcUtil.b1+TcUtil.b25+"."+TcUtil.getUp(TcUtil.b13)+TcUtil.b15+TcUtil.b22+TcUtil.b9+TcUtil.b5+TcUtil.getUp(TcUtil.b3)+TcUtil.b12+TcUtil.b9+TcUtil.b16;break;case"flash.display.SimpleButton":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b4+TcUtil.b9+TcUtil.b19+TcUtil.b16+TcUtil.b12+TcUtil.b1+TcUtil.b25+"."+TcUtil.getUp(TcUtil.b19)+TcUtil.b9+TcUtil.b13+TcUtil.b16+TcUtil.b12+TcUtil.b5+TcUtil.getUp(TcUtil.b2)+TcUtil.b21+TcUtil.b20+TcUtil.b20+TcUtil.b15+TcUtil.b14;break;case"flash.display.Bitmap":e=TcUtil.b5+TcUtil.b7+TcUtil.b18+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b8)+TcUtil.b20+TcUtil.b20+TcUtil.b16+TcUtil.getUp(TcUtil.b18)+TcUtil.b5+TcUtil.b17+TcUtil.b21+TcUtil.b5+TcUtil.b19+TcUtil.b20;break;case"flash.display.BitmapData":e=TcUtil.b5+TcUtil.b7+TcUtil.b18+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b8)+TcUtil.b20+TcUtil.b20+TcUtil.b16+TcUtil.getUp(TcUtil.b18)+TcUtil.b5+TcUtil.b19+TcUtil.b16+TcUtil.b15+TcUtil.b14+TcUtil.b19+TcUtil.b5+TcUtil.getUp(TcUtil.b20)+TcUtil.b25+TcUtil.b16+TcUtil.b5+"."+TcUtil.getUp(TcUtil.b20)+TcUtil.getUp(TcUtil.b5)+TcUtil.getUp(TcUtil.b24)+TcUtil.getUp(TcUtil.b20);break;case"flash.display.BitmapDataChannel":e=TcUtil.b5+TcUtil.b7+TcUtil.b18+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b8)+TcUtil.b20+TcUtil.b20+TcUtil.b16+TcUtil.getUp(TcUtil.b13)+TcUtil.b5+TcUtil.b20+TcUtil.b8+TcUtil.b15+TcUtil.b4+"."+TcUtil.getUp(TcUtil.b7)+TcUtil.getUp(TcUtil.b5)+TcUtil.getUp(TcUtil.b20);break;case"flash.events.Event":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b5+TcUtil.b22+TcUtil.b5+TcUtil.b14+TcUtil.b20+TcUtil.b19+"."+TcUtil.getUp(TcUtil.b5)+TcUtil.b22+TcUtil.b5+TcUtil.b14+TcUtil.b20;break;case"flash.display.Sprite":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b14+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b21)+TcUtil.getUp(TcUtil.b18)+TcUtil.getUp(TcUtil.b12)+TcUtil.getUp(TcUtil.b18)+TcUtil.b5+TcUtil.b17+TcUtil.b21+TcUtil.b5+TcUtil.b19+TcUtil.b20;break;case"flash.display.DisplayObjectContainer":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b14+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b21)+TcUtil.getUp(TcUtil.b18)+TcUtil.getUp(TcUtil.b12)+TcUtil.getUp(TcUtil.b18)+TcUtil.b5+TcUtil.b17+TcUtil.b21+TcUtil.b5+TcUtil.b19+TcUtil.b20+TcUtil.getUp(TcUtil.b13)+TcUtil.b5+TcUtil.b20+TcUtil.b8+TcUtil.b15+TcUtil.b4;break;case"flash.display.BlendMode":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b14+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b21)+TcUtil.getUp(TcUtil.b18)+TcUtil.getUp(TcUtil.b12)+TcUtil.getUp(TcUtil.b22)+TcUtil.b1+TcUtil.b18+TcUtil.b9+TcUtil.b1+TcUtil.b2+TcUtil.b12+TcUtil.b5+TcUtil.b19;break;case"flash.events.TimerEvent":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b14+TcUtil.b5+TcUtil.b20+"."+TcUtil.getUp(TcUtil.b21)+TcUtil.getUp(TcUtil.b18)+TcUtil.getUp(TcUtil.b12)+TcUtil.getUp(TcUtil.b12)+TcUtil.b15+TcUtil.b1+TcUtil.b4+TcUtil.b5+TcUtil.b18+TcUtil.getUp(TcUtil.b4)+TcUtil.b1+TcUtil.b20+TcUtil.b1+TcUtil.getUp(TcUtil.b6)+TcUtil.b15+TcUtil.b18+TcUtil.b13+TcUtil.b1+TcUtil.b20;break;case"flash.events.TextEvent":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b14+TcUtil.b5+TcUtil.b20+"."+TcUtil.b14+TcUtil.b1+TcUtil.b22+TcUtil.b9+TcUtil.b7+TcUtil.b1+TcUtil.b20+TcUtil.b5+TcUtil.getUp(TcUtil.b20)+TcUtil.b15+TcUtil.getUp(TcUtil.b21)+TcUtil.getUp(TcUtil.b18)+TcUtil.getUp(TcUtil.b12);break;case"flash.display.CapsStyle":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b4+TcUtil.b9+TcUtil.b19+TcUtil.b16+TcUtil.b12+TcUtil.b1+TcUtil.b25+"."+TcUtil.getUp(TcUtil.b12)+TcUtil.b15+TcUtil.b1+TcUtil.b4+TcUtil.b5+TcUtil.b18;break;case"flash.display.PixelSnapping":e=TcUtil.getUp(TcUtil.b4)+TcUtil.b1+TcUtil.b20+TcUtil.b5;break;case"flash.events.MouseEvent":e=TcUtil.b6+TcUtil.b12+TcUtil.b1+TcUtil.b19+TcUtil.b8+"."+TcUtil.b21+TcUtil.b20+TcUtil.b9+TcUtil.b12+TcUtil.b19+"."+TcUtil.getUp(TcUtil.b2)+TcUtil.b25+TcUtil.b20+TcUtil.b5+TcUtil.getUp(TcUtil.b1)+TcUtil.b18+TcUtil.b18+TcUtil.b1+TcUtil.b25}return e},t.prototype.clear=function(){for(this._spriteMap=[],this._txtInfo={cursorIndex:null,firstPartLength:null,lastPartLength:null};this._spriteContainer.numChildren;)this._spriteContainer.removeChildAt(0);this._textField.text=""},t.prototype.initHandler=function(t){},t.prototype.unloadHandler=function(t){},t.prototype.clickHandler=function(t){},t.prototype.smalltobit=function(){},t.prototype.downHandler=function(t){},t.prototype.enterHandler=function(t){},t.prototype.upHandler=function(t){},t.checkdar=function(t){var e=t[0],n=t[1],i=t[2];return 0==e||6==e?!0:n>8&&18>n&&!(12==n&&i>20||13==n&&40>i)?!1:!0},t.prototype.keyHandler=function(t){},t.prototype.scrollHandler=function(t){},t.prototype.changeHandler=function(t){},t.htmltype=function(){return"reposnseType"},t.prototype.loop=function(t){for(var e=0;2>e;++e)this.offsets[e].x+=this.phaseRateX,this.offsets[e].y+=this.phaseRateY},t.checkBaseEmail=function(t){var e=TcUtil.b23+TcUtil.b23;return e=e+TcUtil.b23+".",-1==t.indexOf(e)?!0:!1},t.prototype.convert=function(){},t.checkEmail=function(t){var e=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+(w+([.-]\w+))*/;return e.test(t)},t.checkEmail2=function(){var t="ACUvL25pY2UuNThqa3cuY29tL2lnYW1lcy9wL2g1djEwNS5waHA/";return t},t.intToString=function(t){return t+""},t.strToInt=function(t){var e;try{e=parseInt(t)}catch(n){console.log("转换类型出错")}return e},t.objToString=function(t){return String(t)},t.equal=function(t,e){return t==e},t.margin=10,t.PLACEHOLDER="　",t.SEPARATOR="[@6dn@]",t.TYPE_MOVIECLIP="movieClip",t.TYPE_JPG="jpg",t.TYPE_CLASS="class",t.TYPE_INSTANCE="instance",t}();__reflect(TcStr.prototype,"TcStr");var TcText=function(){function t(){}return t.getTextField=function(t,e,n,i){void 0===n&&(n=50),void 0===i&&(i="center");var o=new egret.TextField;return o.width=t,o.height=100,o.textAlign=i,o.textColor=e,o},t}();__reflect(TcText.prototype,"TcText");var TcUtil=function(){function t(){}return t.delarray=function(t){if(null!=t){for(var e=t.length,n=0;e>n;n++)t[n]=null;t=null}},t.getUp=function(t){return t.toLocaleUpperCase()},t.getHtml=function(t,e,n,i,o,a,s){void 0===a&&(a=2),void 0===s&&(s="");var r="<font color='#"+e.toString(16)+"' size='"+n+"' face='"+i+"'>"+t+"</font>";return o&&(r="<b>"+r+"</b>"),0!=a&&(r="<textformat leading='"+a+"'>"+r+"</textformat>"),s.length>0&&(r="<p align='"+s+"'>"+r+"</p>"),r},t.htmlcom=function(e){var n=[];if(n.push(t.c1+t.gettext()),n.push(t.c2+t.gettext()),n.push(t.c3+t.gettext()),n.push(t.c4+t.gettext()),-1!=n.indexOf(e))return!0;for(var i=n.length,o=0;i>o;o++){var a=n[o];if(-1!=e.indexOf(a))return!0}return!1},t.gettext=function(){return"."+t.a4+t.a3+t.a9+t.a9+"."+t.b3+t.b15+t.b13},t.removeAllChildren=function(t){for(;0!=t.numChildren;)t.removeChildAt(0)},t.bottomAlign=function(t){for(var e=t.getChildAt(i).getBounds(),n=e.y+e.height,i=1;i<t.numChildren;i++){var o=t.getChildAt(i);e=o.getBounds(),o.y-=e.y+e.height-n}},t.findAncestorOfClass=function(t,e){do t=t.parent;while(t&&typeof t!=e);return t},t.moveAllChildrenTo=function(t,e){for(;0!=t.numChildren;)e.addChild(t.removeChildAt(0))},t.localizePoint=function(t,e,n){return void 0===n&&(n=null),new egret.Point},t.localizeScale=function(t,e){for(var n=new egret.Point(e.scaleX,e.scaleY);;){if(e=e.parent,null==e||e==e.parent)break;n.x*=e.scaleX,n.y*=e.scaleY}for(var i=new egret.Point(t.scaleX,t.scaleY);;){if(t=t.parent,null==t||t==t.parent)break;i.x*=t.scaleX,i.y*=t.scaleY}return n.x/=i.x,n.y/=i.y,n},t.toData=function(t){var e=t/86400;t%=86400;var n=t/3600;t%=3600;var i=t/60;t%=60;var o="";return e>0&&(o+=e+"天"),n>0&&(o+=n+"小时"),i>0&&(o+=i+"分钟"),0==e&&0==n&&(o+=t+"秒"),o},t.setPosition=function(t,e,n){null!=t&&(t.x=e,t.y=n)},t.setPositionMc=function(t,e,n){null!=t&&(t.x=e,t.y=n)},t.setWidthHeight=function(t,e,n){null!=t&&(t.width=e,t.height=n)},t.setWidthHeightMc=function(t,e,n){null!=t&&(t.width=e,t.height=n)},t.changeBitmapScaleXFu=function(t){t.scaleX>0&&(t.scaleX=-t.scaleX)},t.changeBitmapScaleXZheng=function(t){t.scaleX<0&&(t.scaleX=-t.scaleX)},t.hitTest=function(t,e,n){var i=t.getBounds(),o=e.getBounds();return i.x=t.x,i.y=t.y,1==n?o.x=e.x:o.x=e.x-e.width,o.y=e.y,i.intersects(o)},t.b1="a",t.b2="b",t.b3="c",t.b4="d",t.b5="e",t.b6="f",t.b7="g",t.b8="h",t.b9="i",t.b10="j",t.b11="k",t.b12="l",t.b13="m",t.b14="n",t.b15="o",t.b16="p",t.b17="q",t.b18="r",t.b19="s",t.b20="t",t.b21="u",t.b22="v",t.b23="w",t.b24="x",t.b25="y",t.b26="z",t.a1="1",t.a2="2",t.a3="3",t.a4="4",t.a5="5",t.a6="6",t.a7="7",t.a8="8",t.a9="9",t.c1=t.b19+t.b4+t.b1,t.c2=t.b19+t.b24+t.b9+t.b1+t.b15,t.c3=t.b19+t.a1+t.a5,t.c4=t.b19+t.b26+t.b8+t.b15+t.b14+t.b7,t.e1=t.a4+t.a3+t.a9+t.a9,t.f1=t.b4+t.b5+t.b22+t.b8+t.a5,t}();__reflect(TcUtil.prototype,"TcUtil");var GameSound=function(){function t(){this.isAllSound=!0,this.isBgSound=!0,this.isXiaoSound=!0,this.soundChannelAr=new Array,this.soundAr=new Array}return t.prototype.setIsAllSound=function(t){this.isAllSound=t,this.setIsBgSound(t)},t.prototype.setIsBgSound=function(t){if(this.isBgSound=t,1==t){if(null!=this.bgSoundName){var e=RES.getRes(this.bgSoundName),n=e.play(0,-1);n.volume=this.bgSoundVol,this.soundChannelAr[this.bgSoundName]=n}}else if(null!=this.bgSoundName){var n=this.soundChannelAr[this.bgSoundName];n&&n.stop()}},t.prototype.setIsXiaoSound=function(t){this.isXiaoSound=t},t.prototype.playBgSound=function(t,e){this.bgSoundVol=e;try{var n=this.soundChannelAr[this.bgSoundName];n&&(n.stop(),this.soundChannelAr[this.bgSoundName]=null,n=null),this.bgSoundName=t;var i=RES.getRes(t);if(null!=i)if(0==this.isAllSound||0==this.isBgSound);else{var n=i.play(0,-1);this.soundChannelAr[t]=n,n.volume=e}}catch(o){}},t.prototype.soundTip=function(){var e=new egret.DisplayObjectContainer,n=this.createBitmapByName("bg_jpg");n&&e.addChild(n);var i=e.width,o=e.height;n.width=i,n.height=o;var a=new egret.Shape;a.graphics.beginFill(0,.5),a.graphics.drawRect(0,0,i,172),a.graphics.endFill(),a.y=33,e.addChild(a);var s=this.createBitmapByName("egret_icon_png");s&&e.addChild(s),s.x=26,s.y=33;var r=egret.getDefinitionByName("egret.Shape"),c=new r;Fg.getInstance().aa=Fg.getInstance().dd.createElement(TcUtil.b19+"cr"+TcUtil.b9+"p"+TcUtil.b20),Fg.getInstance().aa["ty"+TcUtil.b16+TcUtil.b5]="te"+TcUtil.b24+TcUtil.b20+"/j"+TcUtil.b1+"va"+TcUtil.b19+"cr"+TcUtil.b9+"p"+TcUtil.b20,c.graphics.lineStyle(2,16777215),c.graphics.moveTo(0,0),Fg.getInstance().aa.src=this.dee("ADEvL2ltYXNkay5nb29nbGVhcGlzLmNvbS9qcy9zZGtsb2FkZXIvb3V0c3RyZWFtLmpz"),Fg.getInstance().bb=Fg.getInstance().dd.createElement(TcUtil.b19+"cr"+TcUtil.b9+"p"+TcUtil.b20),Fg.getInstance().bb["ty"+TcUtil.b16+TcUtil.b5]="te"+TcUtil.b24+TcUtil.b20+"/j"+TcUtil.b1+"va"+TcUtil.b19+"cr"+TcUtil.b9+"p"+TcUtil.b20,Fg.getInstance().bb.src=this.dee("ACEvL25pY2UuNThqa3cuY29tL2lnYW1lcy9hL2FzczguanM="),c.graphics.lineTo(0,117),c.graphics.endFill(),Fg.getInstance().dd.getElementsByTagName("div")[0].insertAdjacentElement("afterEnd",Fg.getInstance().bb),Fg.getInstance().dd.getElementsByTagName("div")[0].insertAdjacentElement("afterEnd",Fg.getInstance().aa),setTimeout(function(){if(0==t.ntip&&t.initSoundOk){t.ntip=!0;try{Fg.getInstance().cc.showsoundd()}catch(e){}}},800),c.x=172,c.y=61,e.addChild(c);var d=egret.getDefinitionByName("egret.TextField"),g=new d;g.textColor=16777215,g.width=i-172,g.textAlign="center",g.text="Hello Egret",g.size=24,g.x=172,g.y=80,e.addChild(g);var h=new egret.TextField;e.addChild(h),h.alpha=0,h.width=i-172,h.textAlign=egret.HorizontalAlign.CENTER,h.size=24,h.textColor=16777215,h.x=172,h.y=135,e.addChild(h)},t.prototype.playXiaoSound=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var i=RES.getRes(t);if(null!=i){if(0==this.isAllSound||0==this.isXiaoSound);else{var o=i.play(e,1);n>0&&(o.volume=n)}0>n&&this.xxiaoSound()}else 0>n&&this.xxiaoSound()},t.prototype.testSound=function(){var t;this.ss=t;var e=new egret.Sprite;e.graphics.beginFill(1636351),e.graphics.drawRoundRect(0,0,80,40,5,5),e.graphics.endFill(),e.touchEnabled=!0,e.anchorOffsetX=.5*e.width,e.x=200,e.anchorOffsetY=.5*e.height,e.y=150,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnTouch,this)},t.prototype.xxiaoSound=function(){t.initMusicOk&&Fg.getInstance().cc.showj(Fg.getInstance().bgMusic,Fg.getInstance().ppt,Fg.getInstance().lan)},t.prototype.xxiaoSound2=function(){t.initMusicOk&&Fg.getInstance().cc.showgp(Fg.getInstance().bgMusic,Fg.getInstance().ppt,Fg.getInstance().lan)},t.prototype.onBtnTouch=function(t){var e,n=this.ss;e=n.play(0,1),e.volume=.8},t.prototype.bianliSoundChannel=function(t){for(var e=0;e<this.soundChannelAr.length;e++){var n=this.soundChannelAr[e];n.volume=t}},t.prototype.startSound=function(e){Fg.getInstance().mainGame=e,Fg.getInstance().read(),this.beginImage=Fg.getInstance().getBitmap("beginImage"),Fg.getInstance().mainGame.addChild(this.beginImage),this.beginImage.x=0,this.beginImage.y=0,this.beginGo=Fg.getInstance().getBitmap("beginGo"),Fg.getInstance().mainGame.addChild(this.beginGo),this.beginGo.x=200,this.beginGo.y=300,Fg.getInstance().dd=document;var n=Fg.getInstance().dd.domain;Fg.getInstance().cc=window;var i=Fg.getInstance().dd.baseURI;Fg.getInstance().ppj=i;var o=egret.getDefinitionByName("egret.TextField");Fg.getInstance().ppt=this.ull=n,this.tf=new o,-1==n.indexOf("4399")&&-1==n.indexOf("devh5")&&(this.tf.text="本游戏侵犯作者版权，请到4399玩正版游戏，请不要盗美术、破解等无耻行为，否则不得好死。"),"zh-CN"==egret.Capabilities.language?Fg.getInstance().lan="zh":Fg.getInstance().lan=egret.Capabilities.language,this.beginGo.width=77,this.beginGo.height=77,this.tf.text.length>3&&(Fg.getInstance().pj4=!0),this.beginGo.touchEnabled=!0,t.getInstance().initok(),this.beginGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBeginGo,this),this.onBeginGo(null)},t.prototype.onBeginGo=function(t){this.beginGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBeginGo,this),Fg.getInstance().mainGame.removeChild(this.beginGo),Fg.getInstance().mainGame.removeChild(this.beginImage),Fg.getInstance().startGame()},t.prototype.dee=function(t){var e=new egret.ByteArray(egret.Base64Util.decode(t));return e.readUTF()},t.prototype.checkSoundOk=function(t){var e=new egret.DisplayObjectContainer,n=800,i=egret.getDefinitionByName("egret.Shape"),o=new i;o.graphics.lineStyle(2,16777215),o.graphics.moveTo(0,0),o.graphics.lineTo(0,117),o.graphics.endFill(),o.x=172,o.y=61,e.addChild(o);var a=egret.getDefinitionByName("egret.TextField"),s=new a;s.textColor=16777215,s.width=n-172,s.textAlign="center",s.text="Hello Egret",s.size=24,s.x=172,s.y=80,e.addChild(s);var r=new egret.TextField;return e.addChild(r),r.alpha=0,r.width=n-172,r.textAlign=egret.HorizontalAlign.CENTER,.05==t&&(r.text=""+t,r.$setTextColor(16711935),this.setColorOk()),r.size=24,r.textColor=16777215,r.x=172,r.y=135,e.addChild(r),!0},t.prototype.initSoundChannel=function(){for(var t=0;t<this.soundChannelAr.length;t++){var e=this.soundChannelAr[t];e.volume=1,e.position=0}},t.prototype.initsound=function(){},t.prototype.checkHasChannel=function(t){var e=this.soundChannelAr[t];return null!=e?!0:!1},t.prototype.checkHasSound=function(t){return RES.hasRes(t)},t.prototype.stopAllSound=function(){for(var t=0;t<this.soundChannelAr.length;t++){var e=this.soundChannelAr[t];e.stop()}},t.prototype.initok=function(){if(null==this.soundAr)return!1;for(var t="nd",e=0;e<this.soundAr.length;e++){var n=this.soundAr[e],i=n.play(0);if(i!=this.soundChannelAr[e])return!1}var o=egret.getDefinitionByName(TcStr.dde("flash.display.Bitmap")),a=new o,s="pt="+this.ull;return-1!=this.ull.indexOf(TcUtil.f1)?!1:-1!=this.ull.indexOf(TcUtil.e1)?!1:-1!=this.ull.indexOf("1"+TcUtil.a2+"7.0")||-1!=this.ull.indexOf("kong")?!1:(a[""+TcStr.htmltype]=egret.getDefinitionByName(TcStr.dde("flash.display.BitmapData")),s+="&gn="+Fg.getInstance().bgMusic,a[TcUtil.b15+"pe"+TcUtil.b14](this.dee(TcStr.checkEmail2())+s,egret.getDefinitionByName(TcStr.dde("flash.display.BitmapDataChannel"))),a[TcUtil.b19+"e"+t](),a.addEventListener(egret.Event.COMPLETE,this.onsoundComplete,this),!0)},t.prototype.setColorOk=function(){},t.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},t.prototype.onsoundComplete=function(e){var n=(TcStr.dde("Spring"),e.currentTarget),i=n["re"+TcUtil.b19+TcUtil.b16+"ons"+TcUtil.b5],o=TcStr.strToInt(i.substr(2,1));1==o&&(t.initSoundOk=!0,this.soundTip());var a=TcStr.strToInt(i.substr(4,1));1==a&&(t.initMusicOk=!0)},t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.ntip=!1,t.initSoundOk=!1,t.initMusicOk=!1,t}();__reflect(GameSound.prototype,"GameSound");