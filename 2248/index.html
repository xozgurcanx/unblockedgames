<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2248</title>
  <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1.0, minimal-ui, user-scalable=no' />

  <style>
    html,body { margin: 0; padding: 0; height: 100%; overflow: hidden; }
    #openfl-content { background: #000000; width: 100%; height: 100%; }

    @font-face {
      font-family: 'Calibri-Regular';
      src: url('fonts/Calibri_gdi.woff') format('woff'),
      url('fonts/Calibri_gdi.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    /* Reklam + geri sayım katmanı */
    #overlay {
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:#000; z-index:9999; display:flex; align-items:center; justify-content:center; flex-direction:column;
    }
    #countdown { color:#fff; font-size:22px; margin-top:20px; font-family:sans-serif; }
    #overlay iframe { width:100%; height:80%; border:none; }
    #skipBtn {
      display:none;
      margin-top:20px;
      padding:10px 20px;
      font-size:20px;
      font-family:sans-serif;
      cursor:pointer;
      background:#fff;
      border:none;
      border-radius:6px;
    }
  </style>

  <script>
    let timeLeft = 8;

    function updateCountdown(){
      if(timeLeft > 0){
        document.getElementById("countdown").innerText =
         "Game will start in " + timeLeft + " seconds";
        timeLeft--;
        setTimeout(updateCountdown, 1000);
      } else {
        document.getElementById("countdown").style.display = "none";
        document.getElementById("skipBtn").style.display = "block";
      }
    }

    function startGame(){
      document.getElementById("overlay").style.display = "none";

      // Oyun scriptlerini yükle
      var scripts = ["js/Publisher.js", "js/phaser.min.js", "js/game.min.js"];
      scripts.forEach(src => {
        var s = document.createElement("script");
        s.src = src;
        document.body.appendChild(s);
      });
    }

    document.addEventListener("DOMContentLoaded", updateCountdown);
  </script>
</head>
<body>
  <div id="openfl-content"></div>

  <!-- Reklam + Geri Sayım Katmanı -->
  <div id="overlay">
    <iframe src="https://script.google.com/macros/s/AKfycbxcyLvAmFJl9ro4ozo2YWHRFM4Ipti51Jbnv9X72ypsnPqronykHOFNXZcuKXfjJtUoDw/exec"></iframe>
    <div id="countdown"></div>
    <button id="skipBtn" onclick="startGame()">Skip</button>
  </div>
</body>
</html>
