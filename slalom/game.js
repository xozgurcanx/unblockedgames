!function(t){"use strict";var e={},s=function(){return zs.__string_rec(this,"")};function i(t,e){function s(){}s.prototype=t;var i=new s;for(var n in e)i[n]=e[n];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}var n=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};e.EReg=n,n.__name__=["EReg"],n.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&t>=0&&t<this.r.m.length)return this.r.m[t];throw new js("EReg::matched")},split:function(t){var e="#__delim__#";return t.replace(this.r,e).split(e)},__class__:n};var r=function(){};e.HxOverrides=r,r.__name__=["HxOverrides"],r.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),s=new Date;return s.setTime(0),s.setUTCHours(e[0]),s.setUTCMinutes(e[1]),s.setUTCSeconds(e[2]),s;case 10:var i=t.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var n=t.split(" "),r=n[0].split("-"),a=n[1].split(":");return new Date(r[0],r[1]-1,r[2],a[0],a[1],a[2]);default:throw new js("Invalid date format : "+t)}},r.cca=function(t,e){var s=t.charCodeAt(e);if(s==s)return s},r.substr=function(t,e,s){if(null==s)s=t.length;else if(s<0){if(0!=e)return"";s=t.length+s}return t.substr(e,s)},r.remove=function(t,e){var s=t.indexOf(e);return-1!=s&&(t.splice(s,1),!0)},r.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var a=function(){};e.Lambda=a,a.__name__=["Lambda"],a.has=function(t,e){for(var s=ci(t)();s.hasNext();){if(s.next()==e)return!0}return!1},a.exists=function(t,e){for(var s=ci(t)();s.hasNext();){if(e(s.next()))return!0}return!1};var _=function(){this.length=0};e.List=_,_.__name__=["List"],_.prototype={add:function(t){var e=new o(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new o(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(t){for(var e=null,s=this.h;null!=s;){if(s.item==t)return null==e?this.h=s.next:e.next=s.next,this.q==s&&(this.q=e),this.length--,!0;e=s,s=s.next}return!1},iterator:function(){return new h(this.h)},__class__:_};var o=function(t,e){this.item=t,this.next=e};e["_List.ListNode"]=o,o.__name__=["_List","ListNode"],o.prototype={__class__:o};var h=function(t){this.head=t};e["_List.ListIterator"]=h,h.__name__=["_List","ListIterator"],h.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:h},Math.__name__=["Math"];var l=function(){};e.Reflect=l,l.__name__=["Reflect"],l.field=function(t,e){try{return t[e]}catch(t){return null}},l.fields=function(t){var e=[];if(null!=t){var s=Object.prototype.hasOwnProperty;for(var i in t)"__id__"!=i&&"hx__closures__"!=i&&s.call(t,i)&&e.push(i)}return e},l.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},l.compareMethods=function(t,e){return t==e||!(!l.isFunction(t)||!l.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},l.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var u=function(){};e.Std=u,u.__name__=["Std"],u.string=function(t){return zs.__string_rec(t,"")},u.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=r.cca(t,1)&&88!=r.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},u.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var c=function(){this.b=""};e.StringBuf=c,c.__name__=["StringBuf"],c.prototype={__class__:c};var d=function(){};e.StringTools=d,d.__name__=["StringTools"],d.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},d.isSpace=function(t,e){var s=r.cca(t,e);return s>8&&s<14||32==s},d.ltrim=function(t){for(var e=t.length,s=0;s<e&&d.isSpace(t,s);)++s;return s>0?r.substr(t,s,e-s):t},d.rtrim=function(t){for(var e=t.length,s=0;s<e&&d.isSpace(t,e-s-1);)++s;return s>0?r.substr(t,0,e-s):t},d.trim=function(t){return d.ltrim(d.rtrim(t))},d.replace=function(t,e,s){return t.split(e).join(s)},d.hex=function(t,e){for(var s="";s="0123456789ABCDEF".charAt(15&t)+s,(t>>>=4)>0;);if(null!=e)for(;s.length<e;)s="0"+s;return s};var p=e.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};p.TNull=["TNull",0],p.TNull.toString=s,p.TNull.__enum__=p,p.TInt=["TInt",1],p.TInt.toString=s,p.TInt.__enum__=p,p.TFloat=["TFloat",2],p.TFloat.toString=s,p.TFloat.__enum__=p,p.TBool=["TBool",3],p.TBool.toString=s,p.TBool.__enum__=p,p.TObject=["TObject",4],p.TObject.toString=s,p.TObject.__enum__=p,p.TFunction=["TFunction",5],p.TFunction.toString=s,p.TFunction.__enum__=p,p.TClass=function(t){var e=["TClass",6,t];return e.__enum__=p,e.toString=s,e},p.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=p,e.toString=s,e},p.TUnknown=["TUnknown",8],p.TUnknown.toString=s,p.TUnknown.__enum__=p;var g=function(){};e.Type=g,g.__name__=["Type"],g.getEnum=function(t){return null==t?null:t.__enum__},g.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},g.getEnumName=function(t){return t.__ename__.join(".")},g.resolveClass=function(t){var s=e[t];return null!=s&&s.__name__?s:null},g.resolveEnum=function(t){var s=e[t];return null!=s&&s.__ename__?s:null},g.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},g.createEnum=function(t,e,s){var i=l.field(t,e);if(null==i)throw new js("No such constructor "+e);if(l.isFunction(i)){if(null==s)throw new js("Constructor "+e+" need parameters");return i.apply(t,s)}if(null!=s&&0!=s.length)throw new js("Constructor "+e+" does not need parameters");return i},g.createEnumIndex=function(t,e,s){var i=t.__constructs__[e];if(null==i)throw new js(e+" is not a valid enum constructor index");return g.createEnum(t,i,s)},g.typeof=function(t){switch(typeof t){case"boolean":return p.TBool;case"function":return t.__name__||t.__ename__?p.TObject:p.TFunction;case"number":return Math.ceil(t)==t%2147483648?p.TInt:p.TFloat;case"object":if(null==t)return p.TNull;var e=t.__enum__;if(null!=e)return p.TEnum(e);var s=zs.getClass(t);return null!=s?p.TClass(s):p.TObject;case"string":return p.TClass(String);case"undefined":return p.TNull;default:return p.TUnknown}},g.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var s=2,i=t.length;s<i;){var n=s++;if(!g.enumEq(t[n],e[n]))return!1}var r=t.__enum__;if(r!=e.__enum__||null==r)return!1}catch(t){return!1}return!0};var f=function(t){this.nodeType=t,this.children=[],this.attributeMap=new Fs};e.Xml=f,f.__name__=["Xml"],f.parse=function(t){return Vs.parse(t)},f.createElement=function(t){var e=new f(f.Element);if(e.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},f.createPCData=function(t){var e=new f(f.PCData);if(e.nodeType==f.Document||e.nodeType==f.Element)throw new js("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},f.createCData=function(t){var e=new f(f.CData);if(e.nodeType==f.Document||e.nodeType==f.Element)throw new js("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},f.createComment=function(t){var e=new f(f.Comment);if(e.nodeType==f.Document||e.nodeType==f.Element)throw new js("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},f.createDocType=function(t){var e=new f(f.DocType);if(e.nodeType==f.Document||e.nodeType==f.Element)throw new js("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},f.createProcessingInstruction=function(t){var e=new f(f.ProcessingInstruction);if(e.nodeType==f.Document||e.nodeType==f.Element)throw new js("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},f.createDocument=function(){return new f(f.Document)},f.prototype={get:function(t){if(this.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Ti[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+this.nodeType);var s=this.attributeMap;null!=Ti[t]?s.setReserved(t,e):s.h[t]=e},exists:function(t){if(this.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Ti[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elements:function(){if(this.nodeType!=f.Document&&this.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=[],e=0,s=this.children;e<s.length;){var i=s[e];++e,i.nodeType==f.Element&&t.push(i)}var n=t;return r.iter(n)},firstElement:function(){if(this.nodeType!=f.Document&&this.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var s=e[t];if(++t,s.nodeType==f.Element)return s}return null},addChild:function(t){if(this.nodeType!=f.Document&&this.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=f.Document&&this.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+this.nodeType);return!!r.remove(this.children,t)&&(t.parent=null,!0)},__class__:f};var E=function(){};e["awe6.interfaces.IPauseable"]=E,E.__name__=["awe6","interfaces","IPauseable"],E.prototype={__class__:E};var m=function(){};e["awe6.interfaces.IDisposable"]=m,m.__name__=["awe6","interfaces","IDisposable"],m.prototype={__class__:m};var y=function(){};e["awe6.interfaces.IUpdateable"]=y,y.__name__=["awe6","interfaces","IUpdateable"],y.prototype={__class__:y};var v=function(){};e["awe6.interfaces.IProcess"]=v,v.__name__=["awe6","interfaces","IProcess"],v.__interfaces__=[E,m,y];var S=function(t){this._kernel=t,this._tools=this._kernel.tools,this._isEntity=zs.__instanceof(this,C),this._init()};e["awe6.core.Process"]=S,S.__name__=["awe6","core","Process"],S.__interfaces__=[v],S.prototype={_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},getAge:function(t){return null==t&&(t=!0),t?this._age:this._updates},update:function(t){null==t&&(t=0),this.isActive&&!this.isDisposed&&(this._age+=t,this._updates++,this._updater(t))},_updater:function(t){null==t&&(t=0)},set_isActive:function(t){return this.isDisposed?(this.isActive=!1,!1):(t!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=t:t?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(te.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(te.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(te.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(te.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:S};var T=function(){};e["awe6.interfaces.IAgendaManager"]=T,T.__name__=["awe6","interfaces","IAgendaManager"],T.prototype={__class__:T};var w=function(){};e["awe6.interfaces.IEntityCollection"]=w,w.__name__=["awe6","interfaces","IEntityCollection"],w.__interfaces__=[T],w.prototype={__class__:w};var A=function(){};e["awe6.interfaces.IViewable"]=A,A.__name__=["awe6","interfaces","IViewable"],A.prototype={__class__:A};var C=function(){};e["awe6.interfaces.IEntity"]=C,C.__name__=["awe6","interfaces","IEntity"],C.__interfaces__=[w,A,v],C.prototype={__class__:C};var b=function(t,e,s){null==this.get_view()&&(this.view=new Vt(t,s,0,this)),this.set_id(null==e?t.tools.createGuid():e),S.call(this,t)};e["awe6.core.Entity"]=b,b.__name__=["awe6","core","Entity"],b.__interfaces__=[C],b.__super__=S,b.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.agenda=Qt.ALWAYS,this._entityAgendaPairs=new Os,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),g.enumEq(this.get_agenda(),Qt.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Qt.ALWAYS))),this._isAgendaDirty=!1);for(var e=0,s=this._cachedEntities;e<s.length;){var i=s[e];++e,i.update(t)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var t=this._getEntities();t.reverse();for(var e=0;e<t.length;){var s=t[e];++e,s.dispose()}for(var i=this._entityAgendaPairs.iterator();i.hasNext();){var n=i.next();this._entityAgendaPairs.remove(n)}this.get_view().dispose(),S.prototype._disposer.call(this)},addEntity:function(t,e,s,i){if(null==i&&(i=0),null==s&&(s=!1),this.isDisposed||null==t)return null;null==e&&(e=Qt.ALWAYS);for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();if(r.entity==t&&g.enumEq(r.agenda,e))return t}(this._isAgendaDirty=!0,t.get_parent()!=this)&&(t.remove(s),zs.__instanceof(t,b)&&t._setParent(this));var a=new D(t,e),_=this._entityAgendaPairs;return _.head=new xs(a,_.head),s&&(g.enumEq(e,this.get_agenda())||e==Qt.ALWAYS?this.get_view().addChild(t.get_view(),i):(t.get_view().set_priority(i),a.isAddedToView=!0)),t},removeEntity:function(t,e,s){if(null==s&&(s=!1),!this.isDisposed&&null!=t){for(var i=!1,n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.entity!=t||null!=e&&!g.enumEq(r.agenda,e)||(this._entityAgendaPairs.remove(r),i=!0)}if(i){if(this._isAgendaDirty=!0,zs.__instanceof(t,b))t._setParent(null);s&&t.get_view().remove()}}},remove:function(t){null==t&&(t=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,t)},getEntities:function(t){return this._getEntities(t)},_getEntities:function(t){if(!this._isAgendaDirty&&(null==t||g.enumEq(t,this.get_agenda())))return this._cachedEntities;for(var e=[],s=this._entityAgendaPairs.iterator();s.hasNext();){var i=s.next();(null==t||g.enumEq(t,i.agenda))&&e.push(i.entity)}return e.reverse(),e},getEntitiesByClass:function(t,e,s,i,n){if(null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),n&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(t,e,!0);for(var r=[],a=this._getEntities(e),_=0;_<a.length;){var o=a[_];++_,zs.__instanceof(o,t)&&r.push(o),s&&(r=r.concat(o.getEntitiesByClass(t,e,!0)))}return i&&null!=this.get_parent()&&(r=r.concat(this.get_parent().getEntitiesByClass(t,e,!1,!0))),r},setAgenda:function(t){if(null==t&&(t=Qt.ALWAYS),g.enumEq(this.get_agenda(),t))return!1;this._isAgendaDirty=!0;for(var e=this._entityAgendaPairs.iterator();e.hasNext();){var s=e.next(),i=g.enumEq(this.get_agenda(),s.agenda)&&s.entity.get_view().get_parent()==this.get_view();i&&s.entity.get_view().remove(),s.isAddedToView=s.isAddedToView||i}this.agenda=t;for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.isAddedToView&&(g.enumEq(Qt.ALWAYS,r.agenda)||g.enumEq(this.get_agenda(),r.agenda))&&this.get_view().addChild(r.entity.get_view())}return!0},_setParent:function(t){this.parent=t},set_id:function(t){return this.id=t,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:b});var R=function(){};e["awe6.interfaces.IPositionable"]=R,R.__name__=["awe6","interfaces","IPositionable"],R.prototype={__class__:R};var k=function(t,e,s,i,n,r,a,_,o,h,l){null==a&&(a=0),null==r&&(r=0),null==n&&(n=20),null==i&&(i=100),this._stateUp=new I(t,e),this._stateOver=new I(t,s),this.x=r,this.y=a,this.set_width(i),this.set_height(n),this._keyType=_,this.onClickCallback=o,this.onRollOverCallback=h,this.onRollOutCallback=l,b.call(this,t)};e["awe6.core.BasicButton"]=k,k.__name__=["awe6","core","BasicButton"],k.__interfaces__=[R],k.__super__=b,k.prototype=i(b.prototype,{_init:function(){b.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Qt.SUB_TYPE(U.UP),!0),this.addEntity(this._stateOver,Qt.SUB_TYPE(U.OVER),!0),this.setAgenda(Qt.SUB_TYPE(U.UP))},_updater:function(t){null==t&&(t=0),b.prototype._updater.call(this,t);var e=this._kernel.inputs.mouse,s=this._isPointInsideRectangle(e.x+this.get_view().x-this.get_view().globalX,e.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);s&&e.set_cursorType(se.BUTTON),s&&!this.isOver&&this.onRollOver(),!s&&this.isOver&&(e.set_cursorType(se.AUTO),this.onRollOut()),this.isOver=s,this.isOver&&e.getIsButtonDown()&&this.setAgenda(Qt.SUB_TYPE(U.OVER)),this.isOver&&e.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(t,e,s,i,n,r){return!(t<s)&&(!(e<i)&&(!(t>s+n)&&!(e>i+r)))},onClick:function(){this.setAgenda(Qt.SUB_TYPE(U.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Qt.SUB_TYPE(U.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Qt.SUB_TYPE(U.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(t){return this.y=t,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(t){return this.width=t,this.width},set_height:function(t){return this.height=t,this.height},__class__:k});var I=function(t,e){b.call(this,t),this.view=e};e["awe6.core._BasicButton._HelperState"]=I,I.__name__=["awe6","core","_BasicButton","_HelperState"],I.__super__=b,I.prototype=i(b.prototype,{__class__:I});var U=e["awe6.core._BasicButton._HelperEState"]={__ename__:["awe6","core","_BasicButton","_HelperEState"],__constructs__:["UP","OVER"]};U.UP=["UP",0],U.UP.toString=s,U.UP.__enum__=U,U.OVER=["OVER",1],U.OVER.toString=s,U.OVER.__enum__=U;var N=function(){};e["awe6.interfaces.IEncrypter"]=N,N.__name__=["awe6","interfaces","IEncrypter"],N.prototype={__class__:N};var P=function(t){this._defaultSecret=t};e["awe6.core.Encrypter"]=P,P.__name__=["awe6","core","Encrypter"],P.__interfaces__=[N],P.prototype={decrypt:function(t,e){null==e&&(e="");var s=""!=e?e:this._defaultSecret;return this._xor(t,s)},_xor:function(t,e){for(var s=new Ps(new wi(t.length)),i=0,n=0,a=s.length;n<a;){var _=n++,o=t.b[_]^r.cca(e,i);s.b[_]=255&o,++i>=e.length&&(i=0)}return s},__class__:P};var D=function(t,e){this.entity=t,this.agenda=e,this.isAddedToView=!1};e["awe6.core._Entity._HelperEntityAgendaPair"]=D,D.__name__=["awe6","core","_Entity","_HelperEntityAgendaPair"],D.prototype={__class__:D};var L=function(){};e["awe6.interfaces.IInputJoypad"]=L,L.__name__=["awe6","interfaces","IInputJoypad"],L.prototype={__class__:L};var x=function(t,e,s,i,n,r,a,_,o,h,l,u,c,d){this._kernel=t,this._keyUp=null!=e?e:$t.UP,this._keyRight=null!=s?s:$t.RIGHT,this._keyDown=null!=i?i:$t.DOWN,this._keyLeft=null!=n?n:$t.LEFT,this._keyPrimary=null!=r?r:$t.SPACE,this._keySecondary=null!=a?a:$t.Z,this._keyUpAlt=null!=_?_:$t.W,this._keyRightAlt=null!=o?o:$t.D,this._keyDownAlt=null!=h?h:$t.S,this._keyLeftAlt=null!=l?l:$t.A,this._keyPrimaryAlt=null!=u?u:$t.Q,this._keySecondaryAlt=null!=c?c:$t.E,this._joypadTouchType=null!=d?d:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=qt.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}};e["awe6.core.InputJoypad"]=x,x.__name__=["awe6","core","InputJoypad"],x.__interfaces__=[L],x.prototype={_checkKeyboard:function(t,e){switch(t[1]){case 0:return!!this._checkKeyboard(Jt.PRIMARY,e)||this._checkKeyboard(Jt.SECONDARY,e);case 1:return!!e(this._keyUp)||e(this._keyUpAlt);case 2:return!!e(this._keyRight)||e(this._keyRightAlt);case 3:return!!e(this._keyDown)||e(this._keyDownAlt);case 4:return!!e(this._keyLeft)||e(this._keyLeftAlt);case 5:return!!e(this._keyPrimary)||e(this._keyPrimaryAlt);case 6:return!!e(this._keySecondary)||e(this._keySecondaryAlt)}},getIsButtonDown:function(t){return!!this._checkKeyboard(t,(di=this._kernel.inputs.keyboard,gi(di,di.getIsKeyDown)))||!!this._isTouchEnabled&&this._checkTouchIsDown(t)},_getTouchButtonPosition:function(t){switch(t[1]){case 1:return{x:.5*this._kernel.factory.width,y:.25*this._kernel.factory.height};case 2:return{x:.75*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 3:return{x:.5*this._kernel.factory.width,y:.75*this._kernel.factory.height};case 4:return{x:.25*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 0:case 5:case 6:return{x:.5*this._kernel.factory.width,y:.5*this._kernel.factory.height}}},_getClosestTouchButton:function(t,e){null==t&&(t=this._mouse.x),null==e&&(e=this._mouse.y);for(var s=99999999,i=Jt.FIRE,n=0,r=[Jt.FIRE,Jt.UP,Jt.RIGHT,Jt.DOWN,Jt.LEFT,Jt.PRIMARY];n<r.length;){var a=r[n];++n;var _=this._getTouchButtonPosition(a),o=this._kernel.tools.distance(t,e,_.x,_.y,!0);o<s&&(s=o,i=a)}return i},_getTouchState:function(){var t;if(null!=this._mouse?t=!0:zs.__instanceof(this._kernel.inputs.mouse,xt)?(this._mouse=zs.__cast(this._kernel.inputs.mouse,xt),t=!0):t=!1,!t||this._mouse.getAge()==this._joypadStateCache.age)return this._joypadStateCache;var e={age:this._mouse.getAge(),isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:this._joypadStateCache.isFire,isPrevUp:this._joypadStateCache.isUp,isPrevRight:this._joypadStateCache.isRight,isPrevDown:this._joypadStateCache.isDown,isPrevLeft:this._joypadStateCache.isLeft},s=this._joypadTouchType;switch(s[1]){case 1:var i=this._getClosestTouchButton();e.isFire=i==Jt.FIRE&&this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._mouse.getIsButtonDown()&&(e.isUp=i==Jt.UP,e.isRight=i==Jt.RIGHT,e.isDown=i==Jt.DOWN,e.isLeft=i==Jt.LEFT);break;case 2:var n=s[2];null==n&&(n=20),e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,e.isUp=this._mouse.getButtonDragHeight()<-n,e.isRight=this._mouse.getButtonDragWidth()>n,e.isDown=this._mouse.getButtonDragHeight()>n,e.isLeft=this._mouse.getButtonDragWidth()<-n;break;case 3:var r=s[2];if(e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._kernel.inputs.mouse.getIsButtonDown()){null==r&&(r=100);var a=this._mouse.getDeltaX(),_=this._mouse.getDeltaY();e.isUp=_<-r,e.isRight=a>r,e.isDown=_>r,e.isLeft=a<-r}}return this._joypadStateCache=e,this._joypadStateCache},_checkTouchIsDown:function(t){var e=this._getTouchState();switch(t[1]){case 1:return e.isUp;case 2:return e.isRight;case 3:return e.isDown;case 4:return e.isLeft;case 0:case 5:case 6:return e.isFire}},__class__:x};var O=function(){};e["awe6.interfaces.IResettable"]=O,O.__name__=["awe6","interfaces","IResettable"],O.prototype={__class__:O};var M=function(){};e["awe6.interfaces.IInputManager"]=M,M.__name__=["awe6","interfaces","IInputManager"],M.__interfaces__=[O],M.prototype={__class__:M};var B=function(t){S.call(this,t)};e["awe6.core.InputManager"]=B,B.__name__=["awe6","core","InputManager"],B.__interfaces__=[M],B.__super__=S,B.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new Lt(this._kernel),this.mouse=this._inputMouse=new xt(this._kernel)},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);var e=this._inputKeyboard;e.isActive&&!e.isDisposed&&(e._age+=t,e._updates++,e._updater(t));var s=this._inputMouse;s.isActive&&!s.isDisposed&&(s._age+=t,s._updates++,s._updater(t))},_disposer:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),S.prototype._disposer.call(this)},createJoypad:function(t,e,s,i,n,r,a,_,o,h,l,u,c){return new x(this._kernel,t,e,s,i,n,r,a,_,o,h,l,u,c)},reset:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;return e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),this._init(),!0},__class__:B});var F=function(){};e["awe6.interfaces.IMessageManager"]=F,F.__name__=["awe6","interfaces","IMessageManager"],F.__interfaces__=[O],F.prototype={__class__:F};var G=function(t){S.call(this,t)};e["awe6.core.MessageManager"]=G,G.__name__=["awe6","core","MessageManager"],G.__interfaces__=[F],G.__super__=S,G.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new Os,this._messageQueue=new _},addSubscriber:function(t,e,s,i,n,r){null==r&&(r=!1);var a=new H(t,e,s,i,n,r),_=this._subscriptions;_.head=new xs(a,_.head)},removeSubscribers:function(t,e,s,i,n){for(var r=this._getSubscriptions(t,e,s,i,n,!0).iterator();r.hasNext();){var a=r.next();this._subscriptions.remove(a),this._isVerbose&&bs.trace("Removing "+u.string(a.sender)+":"+u.string(a.message),{fileName:"MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._sendMessage(t,e,e,s,i,n)},reset:function(){return this.removeSubscribers(),this._messageQueue=new _,!0},_updater:function(t){if(null==t&&(t=0),S.prototype._updater.call(this,t),this._isOkToSendMessage())for(var e=this._messageQueue.h;null!=e;){var s=e.item;e=e.next;var i=s;this._sendMessage(i.message,i.sender,i.target,i.isBubbleDown,i.isBubbleUp,i.isBubbleEverywhere),this._messageQueue.remove(i)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(t,e,s,i,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this._isVerbose&&bs.trace("Sending message: "+u.string(t)+" from "+e.id+"("+u.string(null==e?null:zs.getClass(e))+") via "+s.id+" ("+u.string(null==s?null:zs.getClass(s))+")",{fileName:"MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(r){var a=this._kernel.scenes.get_scene().getEntities()[0];if(null!=a&&null!=a.get_parent())return void this._sendMessage(t,e,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var _=this._getSubscriptions(s,t,null,e).iterator();_.hasNext();){var o=_.next();if(!this._send(o,t,e))return}if(i)for(var h=s.getEntities(),l=0;l<h.length;){var c=h[l];++l,this._sendMessage(t,e,c,!0)}n&&null!=s.get_parent()&&zs.__instanceof(s.get_parent(),C)&&this._sendMessage(t,e,s.get_parent(),!1,!0)}else this._messageQueue.push(new Y(t,e,s,i,n,r))},_send:function(t,e,s){var i=t.handler.apply(t.subscriber,[e,s]);return t.isRemovedAfterFirstSend&&this._subscriptions.remove(t),i},_getSubscriptions:function(t,e,s,i,n,r){null==r&&(r=!1);for(var a=new Os,_=this._subscriptions.iterator();_.hasNext();){var o=_.next();if(null==t||t==o.subscriber||t==o.sender){if(null!=e&&!zs.__instanceof(e,o.messageClass)){var h=g.typeof(e);if(7==h[1]){h[2];if(g.getEnum(e)!=g.getEnum(o.message)||e[0]!=o.message[0]||e.slice(2).toString()!=o.message.slice(2).toString())continue}else if(e!=o.message)continue}if(null==s||l.compareMethods(o.handler,s)){if(null!=i){if(r){if(null!=o.senderClassType)continue;if(null==o.sender)continue}if(null!=o.senderClassType&&!zs.__instanceof(i,o.senderClassType))continue;if(null!=o.sender&&o.sender!=i)continue}a.head=new xs(o,a.head)}}}return a},__class__:G});var H=function(t,e,s,i,n,r){null==r&&(r=!1),this.subscriber=t,this.message=e,this.handler=s,this.sender=i,this.senderClassType=n,this.isRemovedAfterFirstSend=r,this.messageClass=null==e?null:zs.getClass(e)};e["awe6.core._MessageManager._HelperSubscription"]=H,H.__name__=["awe6","core","_MessageManager","_HelperSubscription"],H.prototype={__class__:H};var Y=function(t,e,s,i,n,r){null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this.message=t,this.sender=e,this.target=s,this.isBubbleDown=i,this.isBubbleUp=n,this.isBubbleEverywhere=r};e["awe6.core._MessageManager._HelperMessage"]=Y,Y.__name__=["awe6","core","_MessageManager","_HelperMessage"],Y.prototype={__class__:Y};var V=function(){};e["awe6.interfaces.IScene"]=V,V.__name__=["awe6","interfaces","IScene"],V.__interfaces__=[A,w,v],V.prototype={__class__:V};var W=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this.type=e,this.isPauseable=s,this.isMuteable=i,this.isSessionSavedOnNext=n,S.call(this,t)};e["awe6.core.Scene"]=W,W.__name__=["awe6","core","Scene"],W.__interfaces__=[V],W.__super__=S,W.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.isDisposable=!0,this._entity=new b(this._kernel),this.view=this._entity.get_view()},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t),this._entity.update(t)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),S.prototype._disposer.call(this)},addEntity:function(t,e,s,i){return null==i&&(i=0),null==s&&(s=!1),this._entity.addEntity(t,e,s,i)},removeEntity:function(t,e,s){null==s&&(s=!1),this._entity.removeEntity(t,e,s)},getEntities:function(t){return this._entity.getEntities(t)},getEntitiesByClass:function(t,e,s,i,n){return null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._entity.getEntitiesByClass(t,e,s,i,!1)},get_view:function(){return this.view},setAgenda:function(t){return this._entity.setAgenda(t)},__class__:W});var j=function(){};e["awe6.interfaces.ISceneManager"]=j,j.__name__=["awe6","interfaces","ISceneManager"],j.prototype={__class__:j};var z=function(t){S.call(this,t)};e["awe6.core.SceneManager"]=z,z.__name__=["awe6","core","SceneManager"],z.__interfaces__=[j],z.__super__=S,z.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.view=new Vt(this._kernel)},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t),null!=this.get_scene()&&this.get_scene().update(t),null!=this._sceneTransition&&this._sceneTransition.update(t)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),S.prototype._disposer.call(this)},setScene:function(t){var e=null;if(null!=this.get_scene()){e=this.get_scene().type;var s=this._kernel.factory.createSceneTransition(t,e);null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=s,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null}this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(t),this._kernel.overlay.showButton(ie.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(ie.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(ie.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(ie.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(ie.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var t=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=t&&this.setScene(t)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var t=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=t&&this.setScene(t)},get_scene:function(){return this.scene},__class__:z});var X=function(){};e["awe6.interfaces.ITextStyle"]=X,X.__name__=["awe6","interfaces","ITextStyle"],X.prototype={__class__:X};var Q=function(t,e,s,i,n,r,a,_,o,h){null==o&&(o=0),null==n&&(n=!1),null==i&&(i=!1),this.font=null!=t?t:"_sans",this.size=null!=e?e:12,this.color=null!=s?s:0,this.isBold=i,this.isItalic=n,this.align=null!=r?r:re.LEFT,this.spacingHorizontal=null!=a?a:0,this.spacingVertical=null!=_?_:0,this.thickness=o,this.filters=h};e["awe6.core.TextStyle"]=Q,Q.__name__=["awe6","core","TextStyle"],Q.__interfaces__=[X],Q.prototype={toString:function(){return u.string(this.font+","+this.size+","+this.color+","+u.string(this.isBold)+","+u.string(this.isItalic)+","+u.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+u.string(this.filters))},clone:function(){return new Q(this.font,this.size,this.color,this.isBold,this.isItalic,this.align,this.spacingHorizontal,this.spacingVertical,this.thickness,this.filters)},__class__:Q};var K=function(){};e["awe6.interfaces.ITools"]=K,K.__name__=["awe6","interfaces","ITools"],K.__interfaces__=[N],K.prototype={__class__:K};var Z=function(t){this._kernel=t,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()};e["awe6.core.Tools"]=Z,Z.__name__=["awe6","core","Tools"],Z.__interfaces__=[K],Z.prototype={createGuid:function(t,e){return null==e&&(e=""),null==t&&(t=!1),t?e+r.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):e+(this._randomCharacter()+this._randomCharacter()+"-")+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter()},_randomCharacter:function(){return r.substr(d.hex(0|65536*(1+Math.random()),1),1,null)},sortByPriority:function(t,e){var s=t.get_priority(),i=e.get_priority();return s<i?-1:s>i?1:0},_isCamelCase:function(t){return t.toUpperCase()!=t&&(!(t.indexOf(" ")>-1)&&!(t.indexOf("_")>-1))},_isConstCase:function(t){return t.toUpperCase()==t&&!(t.indexOf(" ")>-1)},fromCamelCase:function(t){if(null==t||""==t)return"";for(var e="",s=t.split(""),i="",n=0;n<s.length;){var r=s[n];++n,r.toLowerCase()!=r&&(e+=i),e+=r,i=" "}return e},toConstCase:function(t){if(null==t||""==t)return"";if(this._isConstCase(t))return t;this._isCamelCase(t)&&(t=this.fromCamelCase(t));return t=d.replace(t,"     "," "),t=d.replace(t,"    "," "),t=d.replace(t,"   "," "),t=d.replace(t,"  "," "),(t=d.replace(t," ","_")).toUpperCase()},limit:function(t,e,s){return t>s?s:t<e?e:t},getRandomType:function(t){return g.createEnumIndex(t,u.random(t.__constructs__.slice().length))},distance:function(t,e,s,i,n){null==n&&(n=!1);var r=s-t,a=i-e,_=r*r+a*a;return n?_:Math.sqrt(_)},shuffle:function(t){for(var e=t.slice(),s=e.length;s>1;){var i=u.random(s),n=e[--s];e[s]=e[i],e[i]=n}return e},convertUpdatesToFormattedTime:function(t,e){var s=Math.round(1e3*t/this._kernel.factory.targetFramerate);return this.convertAgeToFormattedTime(s,e)},convertAgeToFormattedTime:function(t,e){if(null==e&&(e="'"),t<0)return"99"+e+"99"+e+"99";for(var s=t/1e3,i=Math.floor(s),n=u.string(Math.round(100*(s-i))),r=0;i>59;)++r,i-=60;for(r>99&&(r=99);n.length<2;)n="0"+n;var a=null==i?"null":""+i;i<10&&(a="0"+a);var _=null==r?"null":""+r;return r<10&&(_="0"+_),0==i&&(a="00"),0==r&&(_="00"),u.string(_+e+a+e+n)},serialize:function(t){return ks.run(t)},unserialize:function(t){return Ns.run(t)},decrypt:function(t,e){return null==e&&(e=""),this._encrypter.decrypt(t,e)},__class__:Z};var J=function(){};e["awe6.interfaces.IAssetManager"]=J,J.__name__=["awe6","interfaces","IAssetManager"],J.prototype={__class__:J};var q=function(){};e["awe6.interfaces.IAssetManagerProcess"]=q,q.__name__=["awe6","interfaces","IAssetManagerProcess"],q.__interfaces__=[v,J];var $=function(t){S.call(this,t)};e["awe6.core.drivers.AAssetManager"]=$,$.__name__=["awe6","core","drivers","AAssetManager"],$.__interfaces__=[q],$.__super__=S,$.prototype=i(S.prototype,{_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),S.prototype._init.call(this)},getAsset:function(t,e,s){return null==e&&(e=this._packageId),this._driverGetAsset(t,e,s)},_driverGetAsset:function(t,e,s){return null},__class__:$});var tt=function(){};e["awe6.interfaces.IAudioManager"]=tt,tt.__name__=["awe6","interfaces","IAudioManager"],tt.prototype={__class__:tt};var et=function(t){S.call(this,t)};e["awe6.core.drivers.AAudioManager"]=et,et.__name__=["awe6","core","drivers","AAudioManager"],et.__interfaces__=[tt],et.__super__=S,et.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);for(var e=0,s=this._sounds;e<s.length;){var i=s[e];++e,i.isDisposed&&r.remove(this._sounds,i)}},_disposer:function(){for(var t=0,e=this._sounds;t<e.length;){var s=e[t];++t,s.dispose()}this.set_isMute(!1),S.prototype._disposer.call(this)},start:function(t,e,s,i,n,r,a,_){if((null==a&&(a=!1),null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),null==e&&(e=Kt.DEFAULT),a)&&0!=this._getSounds(t,e).length)return;this._sounds.push(this._driverSoundFactory(t,e,s,i,n,r,_))},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new st(this._kernel,t,this._packageId,e,s,i,n,r,a)},stop:function(t,e){for(var s=this._getSounds(t,e),i=0;i<s.length;){var n=s[i];++i,n.stop()}},transform:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=0),null==s&&(s=1);for(var r=this._getSounds(t,e),a=0;a<r.length;){var _=r[a];++a,_.transform(s,i,n)}},set_isMute:function(t){return this.isMute=t,this._driverSetIsMute(t),this.isMute},_driverSetIsMute:function(t){},_getSounds:function(t,e){var s=[];if(null==t&&null==e)s=this._sounds.slice();else if(null==e)for(var i=0,n=this._sounds;i<n.length;){var r=n[i];++i,r.id==t&&s.push(r)}else if(null==t)for(var a=0,_=this._sounds;a<_.length;){var o=_[a];++a,g.enumEq(o.audioChannelType,e)&&s.push(o)}else for(var h=0,l=this._sounds;h<l.length;){var u=l[h];++h,u.id==t&&g.enumEq(u.audioChannelType,e)&&s.push(u)}return s},__class__:et});var st=function(t,e,s,i,n,r,a,_,o){null==_&&(_=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),this._kernel=t,this.isDisposed=!1,this.id=e,this._packageId=s,this.audioChannelType=null!=i?i:Kt.DEFAULT,-1==n&&(n=this._kernel.tools.BIG_NUMBER),this._loops=n,this._startTime=r,this._volume=a,this._pan=_,this._onCompleteCallback=o,this._init()};e["awe6.core.drivers._AHelperSound"]=st,st.__name__=["awe6","core","drivers","_AHelperSound"],st.__interfaces__=[m],st.prototype={_init:function(){this._driverInit()},_driverInit:function(){},transform:function(t,e,s){null==s&&(s=!1),null==e&&(e=0),null==t&&(t=1),this.isDisposed||(s?(this._volume=t,this._pan=e):(this._volume=this._kernel.tools.limit(t,0,1),this._pan=this._kernel.tools.limit(e,-1,1)),this._driverTransform(s))},_driverTransform:function(t){null==t&&(t=!1)},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:st};var it=function(){};e["awe6.interfaces.IFactory"]=it,it.__name__=["awe6","interfaces","IFactory"],it.prototype={__class__:it};var nt=function(t,e,s){null==e&&(e=!1),this._context=t,this.isDebug=e,this._config=s,this.config=new Fs,this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=qt.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=ne.GAME,this.keyPause=$t.P,this.keyMute=$t.M,this.keyNext=$t.SPACE,this.keyBack=$t.ESCAPE,this.keySpecial=$t.CONTROL,this._configurer(!0),this._driverInit()};e["awe6.core.drivers.AFactory"]=nt,nt.__name__=["awe6","core","drivers","AFactory"],nt.__interfaces__=[m,it],nt.prototype={_driverInit:function(){null!=this._config&&"<?xml"==r.substr(this._config,0,5)&&this._traverseElements(f.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(t,e){0!=e.length&&(e+=".");for(var s=t;s.hasNext();){var i=s.next();if(i.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+i.nodeType);var n,a=e+i.nodeName;if(i.elements().hasNext()&&this._traverseElements(i.elements(),a),i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);if(null!=i.children[0]){if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);n="<![CDATA["==r.substr(Ws.print(i.children[0]),0,9)}else n=!1;if(n){if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);var _=i.children[0];if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);var o=Ws.print(i.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(_.nodeType==f.Document||_.nodeType==f.Element)throw new js("Bad node type, unexpected "+_.nodeType);_.nodeValue=o}if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0]){var h=this.config;null!=Ti[a]?h.setReserved(a,""):h.h[a]=""}else{if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);var l=i.children[0].nodeType;if(l!=f.Element&&l!=f.Document){var u;if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0])u="";else{if(i.nodeType!=f.Document&&i.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+i.nodeType);var c=i.children[0];if(c.nodeType==f.Document||c.nodeType==f.Element)throw new js("Bad node type, unexpected "+c.nodeType);u=c.nodeValue}var d=this.config,p=u;null!=Ti[a]?d.setReserved(a,p):d.h[a]=p}else{var g=this.config;null!=Ti[a]?g.setReserved(a,""):g.h[a]=""}}for(var E=i.attributes();E.hasNext();){var m=E.next(),y=a+"."+m,v=this.config,S=i.get(m);null!=Ti[y]?v.setReserved(y,S):v.h[y]=S}}},_configurer:function(t){null==t&&(t=!1)},_launchKernel:function(){null==this._concreteKernel&&(this._configurer(!1),this._concreteKernel=new Ot(this,this._context))},_getAssetUrls:function(){for(var t=[],e=0;e<1e3;){var s="settings.assets.url"+e++,i=this.config;if(null!=Ti[s]?i.existsReserved(s):i.h.hasOwnProperty(s)){var n=this.config;t.push(u.string(null!=Ti[s]?n.getReserved(s):n.h[s]))}}return t},onInitComplete:function(t){null==this._kernel&&null!=t&&(this._kernel=t,this._tools=this._kernel.tools,this.id=r.substr(this._tools.toConstCase(d.trim(this.id)),0,16),this.version=r.substr(d.trim(this.version),0,16),this.author=r.substr(d.trim(this.author),0,16))},createAssetManager:function(){return zs.__instanceof(this._kernel.assets,q)?zs.__cast(this._kernel.assets,q):new Ut(this._kernel)},createEncrypter:function(){return new P(this.secret)},createLogger:function(){return null},createOverlay:function(){return new Mt(this._kernel)},createPreloader:function(){return new Bt(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){return null==t&&(t=this.startingSceneType),new W(this._kernel,t)},createSceneTransition:function(t,e){return new Gt(this._kernel)},createSession:function(t){return new bt(this._kernel,t)},createTextStyle:function(t){return new Q},getBackSceneType:function(t){return null},getNextSceneType:function(t){return null},dispose:function(){if(!this.isDisposed&&null!=this._concreteKernel){this.isDisposed=!0,this._driverDisposer();var t=this._concreteKernel;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null}},_driverDisposer:function(){},__class__:nt};var rt=function(){};e["awe6.interfaces.IInputKeyboard"]=rt,rt.__name__=["awe6","interfaces","IInputKeyboard"],rt.prototype={__class__:rt};var at=function(t){S.call(this,t)};e["awe6.core.drivers.AInputKeyboard"]=at,at.__name__=["awe6","core","drivers","AInputKeyboard"],at.__interfaces__=[rt],at.__super__=S,at.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);for(var e=new Fs,s=[],i=0,n=this._buffer;i<n.length;){var r=n[i];++i;var a=null==r.keyCode?"null":""+r.keyCode;(null!=Ti[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?s.push(r):r.isDown?this._keys[r.keyCode].isDown||(this._onDown(r.keyCode),null!=Ti[a]?e.setReserved(a,!0):e.h[a]=!0):this._keys[r.keyCode].isDown&&(this._onUp(r.keyCode),null!=Ti[a]?e.setReserved(a,!0):e.h[a]=!0)}this._buffer=s.slice();for(var _=0,o=this._keys;_<o.length;){var h=o[_];++_,h.isDown?h.updatesDown++:h.updatesUp++,h.isDown?h.timeDown+=t:h.timeUp+=t}},_disposer:function(){this._keys=null,S.prototype._disposer.call(this)},_addEvent:function(t,e){this._buffer.push(new ot(t,e))},_onDown:function(t){var e=this._keys[t];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(t){var e=this._keys[t];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(t){this._buffer=[],this._keys=[];for(var e=0;e<256;){var s=e++;this._keys[s]=new _t(this._kernel)}},getIsKeyDown:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return this._keys[e].isDown},getIsKeyPress:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyCode:function(t){switch(t[1]){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|t[2]}},getKey:function(t){var e=$t.__constructs__.slice();e.pop();for(var s=0;s<e.length;){var i=e[s];++s;var n=g.createEnum($t,i);if(this.getKeyCode(n)==t)return n}return $t.SUB_TYPE(t)},__class__:at});var _t=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};e["awe6.core.drivers._AInputKeyboard._HelperKey"]=_t,_t.__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKey"],_t.prototype={__class__:_t};var ot=function(t,e){this.keyCode=t,this.isDown=e};e["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=ot,ot.__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKeyEvent"],ot.prototype={__class__:ot};var ht=function(){};e["awe6.interfaces.IInputMouse"]=ht,ht.__name__=["awe6","interfaces","IInputMouse"],ht.prototype={__class__:ht};var lt=function(t){S.call(this,t)};e["awe6.core.drivers.AInputMouse"]=lt,lt.__name__=["awe6","core","drivers","AInputMouse"],lt.__interfaces__=[ht],lt.__super__=S,lt.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(se.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),this._deltaTimePrev=t,S.prototype._updater.call(this,t),this._handleButton(ee.LEFT,this._buffer.length>0?this._buffer.shift():this._buttonLeft.isDown,t),this._handleButton(ee.MIDDLE,this._isMiddleDown(),t),this._handleButton(ee.RIGHT,this._isRightDown(),t),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=t),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(t,e,s){null==s&&(s=0);var i=this._getButton(t);e?(i.isDown||(i.timeUpPrevious=i.timeUp,i.updatesUpPrevious=i.updatesUp,i.timeUp=i.updatesUp=0,i.clickX=this.x,i.clickY=this.y),i.timeDown+=s,i.updatesDown++,i.isDown=!0):(i.isDown&&(i.timeDownPrevious=i.timeDown,i.updatesDownPrevious=i.updatesDown,i.timeDown=i.updatesDown=0),i.timeUp+=s,i.updatesUp++,i.isDown=!1)},_disposer:function(){S.prototype._disposer.call(this)},_reset:function(t){this._buffer=[],this._buttonLeft=new ut(this._kernel),this._buttonMiddle=new ut(this._kernel),this._buttonRight=new ut(this._kernel)},_getButton:function(t){switch(null==t&&(t=ee.LEFT),t[1]){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getDeltaX:function(t){null==t&&(t=!0);var e=this._deltaX;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getDeltaY:function(t){null==t&&(t=!0);var e=this._deltaY;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getIsButtonDown:function(t){return this._getButton(t).isDown},getIsButtonRelease:function(t){return 1==this._getButton(t).updatesUp},getButtonDownDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=this._getButton(t);return s?e?i.timeDownPrevious:i.updatesDownPrevious:e?i.timeDown:i.updatesDown},getButtonUpDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=this._getButton(t);return s?e?i.timeUpPrevious:i.updatesUpPrevious:e?i.timeUp:i.updatesUp},getButtonDragWidth:function(t){var e=this._getButton(t);return e.isDown?this.x-e.clickX:0},getButtonDragHeight:function(t){var e=this._getButton(t);return e.isDown?this.y-e.clickY:0},set_isVisible:function(t){return this.isVisible=t,this.isVisible},set_cursorType:function(t){return this.cursorType=t,this.cursorType},__class__:lt});var ut=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};e["awe6.core.drivers._AInputMouse._HelperButton"]=ut,ut.__name__=["awe6","core","drivers","_AInputMouse","_HelperButton"],ut.prototype={__class__:ut};var ct=function(){};e["awe6.interfaces.ILogger"]=ct,ct.__name__=["awe6","interfaces","ILogger"],ct.prototype={__class__:ct};var dt=function(){};e["awe6.interfaces.IKernel"]=dt,dt.__name__=["awe6","interfaces","IKernel"],dt.__interfaces__=[ct,E],dt.prototype={__class__:dt};var pt=function(t,e){this.factory=t,this._context=e,this.tools=this._tools=new Z(this),S.call(this,this)};e["awe6.core.drivers.AKernel"]=pt,pt.__name__=["awe6","core","drivers","AKernel"],pt.__interfaces__=[dt],pt.__super__=S,pt.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this._view=new Vt(this,this._context,0,this),this._processes=new _,this._helperFramerate=new gt(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new Ut(this._kernel),this.audio=this._audioManager=new Nt(this._kernel),this.inputs=this._inputManager=new B(this._kernel),this.scenes=this._sceneManager=new z(this._kernel),this.messenger=this._messageManager=new G(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(t){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var e=this.factory.createAssetManager();e!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=e,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new Ft(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(t){null==t&&(t=0),this._helperFramerate.update();var e=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;S.prototype._updater.call(this,e);for(var s=this._processes.h;null!=s;){var i=s.item;s=s.next,i.update(e)}var n=this._view;n.isActive&&!n.isDisposed&&(n._age+=e,n._updates++,n._updater(e))},_disposer:function(){for(var t=this._processes.h;null!=t;){var e=t.item;t=t.next;var s=e;this._removeProcess(s)}zs.__instanceof(this.factory,m)&&zs.__cast(this.factory,m).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),S.prototype._disposer.call(this)},getConfig:function(t){var e=this.factory.config;if(null!=Ti[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var s=this.factory.config;return null!=Ti[t]?s.getReserved(t):s.h[t]}return null},log:function(t){null!=this._logger?this._logger.log(t):this.isDebug&&bs.trace("LOG: "+u.string(t),{fileName:"AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(t){return null==t&&(t=!0),t?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(t,e){null==e&&(e=!0),null!=t&&(e?this._processes.add(t):this._processes.push(t))},_removeProcess:function(t){return null!=t&&(t.dispose(),this._processes.remove(t))},set_isEyeCandy:function(t){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=t,this._driverSetIsEyeCandy(t),this.isEyeCandy):(this.isEyeCandy=!0,this.isEyeCandy)},_driverSetIsEyeCandy:function(t){},set_isFullScreen:function(t){return!this.factory.isFullScreenOptionEnabled||g.enumEq(this.factory.fullScreenType,Zt.DISABLED)?(this.isFullScreen=!1,this.isFullScreen):(this.isFullScreen=t,this._driverSetIsFullScreen(t),this.isFullScreen)},_driverSetIsFullScreen:function(t){},_pauser:function(){S.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){S.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(t){return this.session=t,this.get_session()},__class__:pt});var gt=function(t){this.framerate=t,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0};e["awe6.core.drivers._AKernel._HelperFramerate"]=gt,gt.__name__=["awe6","core","drivers","_AKernel","_HelperFramerate"],gt.prototype={update:function(){this.timeInterval=((new Date).getTime()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0},__class__:gt};var ft=function(){};e["awe6.interfaces.IOverlay"]=ft,ft.__name__=["awe6","interfaces","IOverlay"],ft.prototype={__class__:ft};var Et=function(){};e["awe6.interfaces.IOverlayProcess"]=Et,Et.__name__=["awe6","interfaces","IOverlayProcess"],Et.__interfaces__=[A,v,ft];var mt=function(t,e,s,i,n,r,a,_,o,h,l,u,c,d,p,g,f){null==f&&(f=.35),null==g&&(g=0),null==p&&(p=8),null==s&&(s=30),null==e&&(e=30),null==i&&(i=new Vt(t)),null==n&&(n=new Vt(t)),null==r&&(r=new Vt(t)),null==a&&(a=new Vt(t)),null==_&&(_=new Vt(t)),null==o&&(o=new Vt(t)),null==h&&(h=new Vt(t)),null==l&&(l=new Vt(t)),null==u&&(u=new Vt(t)),null==c&&(c=new Vt(t)),null==d&&(d=new Vt(t)),this._borderView=i,this._buttonBack=new k(t,n,r,e,s),this._buttonMute=new k(t,a,_,e,s),this._buttonUnmute=new k(t,o,h,e,s),this._buttonPause=new k(t,l,u,e,s),this._buttonUnpause=new k(t,c,d,e,s),this._pauseBlur=p,this._pauseColor=g,this._pauseAlpha=f,this._context=new createjs.Container,b.call(this,t,null,this._context)};e["awe6.core.drivers.AOverlay"]=mt,mt.__name__=["awe6","core","drivers","AOverlay"],mt.__interfaces__=[Et],mt.__super__=b,mt.prototype=i(b.prototype,{_init:function(){b.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new Vt(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new Vt(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new Vt(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var t=gi(this,this.activateButton);this._buttonBack.onClickCallback=function(){t(ie.BACK)};var e=gi(this,this.activateButton);this._buttonMute.onClickCallback=function(){e(ie.MUTE)};var s=gi(this,this.activateButton);this._buttonPause.onClickCallback=function(){s(ie.PAUSE)};var i=gi(this,this.activateButton);this._buttonUnmute.onClickCallback=function(){i(ie.UNMUTE)};var n=gi(this,this.activateButton);this._buttonUnpause.onClickCallback=function(){n(ie.UNPAUSE)},this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var r=this._buttonBack.height,a=this._buttonBack.width,_=this._kernel.factory.width-4*a,o=r;this.positionButton(ie.BACK,_,o),this.positionButton(ie.MUTE,_+=a,o),this.positionButton(ie.UNMUTE,_,o),this.positionButton(ie.PAUSE,_+=a,o),this.positionButton(ie.UNPAUSE,_,o)},_driverInit:function(){this._progressContext=new createjs.Container,this._pauseContext=new createjs.Container,this._flashContext=new createjs.Container},_updater:function(t){if(null==t&&(t=0),b.prototype._updater.call(this,t),this._flashDuration>0){this._flashDuration-=this._flashAsTime?t:1;this._tools;var e=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration);this._flashAlpha=e>1?1:e<0?0:e}this._flashView.set_isVisible(this._flashAlpha>0),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?ie.BACK:ie.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?ie.PAUSE:ie.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?ie.UNMUTE:ie.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(t),this._pauseView.update(t))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),b.prototype._disposer.call(this)},_getButton:function(t){switch(t[1]){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:t[2];return null}},showButton:function(t,e){null==e&&(e=!0);var s=this._getButton(t);null!=s&&(e?this.addEntity(s,null,!0):this.removeEntity(s,null,!0))},positionButton:function(t,e,s,i,n){var r=this._getButton(t);null!=r&&(r.set_x(e),r.set_y(s),null!=i&&r.set_width(i),null!=n&&r.set_height(n))},hideButtons:function(){this.showButton(ie.BACK,!1),this.showButton(ie.MUTE,!1),this.showButton(ie.UNMUTE,!1),this.showButton(ie.PAUSE,!1),this.showButton(ie.UNPAUSE,!1)},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=s>1?1:s<0?0:s},activateButton:function(t){switch(t[1]){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(ie.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(ie.MUTE,!1),this.showButton(ie.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ie.MUTE,!0),this.showButton(ie.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(ie.PAUSE,!1),this.showButton(ie.UNPAUSE,!0),this.activateButton(ie.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ie.PAUSE,!0),this.showButton(ie.UNPAUSE,!1),this.activateButton(this._wasMute?ie.MUTE:ie.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:t[2]}},_drawPause:function(t){null==t&&(t=!0),this._pauseView.set_isVisible(t)},get_pauseEntity:function(){return this.pauseEntity},set_pauseEntity:function(t){return null!=this.get_pauseEntity()&&this.get_pauseEntity().get_view().remove(),this.pauseEntity=t,this._pauseView.addChild(this.get_pauseEntity().get_view()),this.get_pauseEntity()},__class__:mt});var yt=function(){};e["awe6.interfaces.IProgress"]=yt,yt.__name__=["awe6","interfaces","IProgress"];var vt=function(){};e["awe6.interfaces.IPreloader"]=vt,vt.__name__=["awe6","interfaces","IPreloader"],vt.__interfaces__=[yt,A,v];var St=function(t,e,s){null==s&&(s=!1),this._assets=e,this._isDecached=s,S.call(this,t)};e["awe6.core.drivers.APreloader"]=St,St.__name__=["awe6","core","drivers","APreloader"],St.__interfaces__=[vt],St.__super__=S,St.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new Vt(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,this._assets.length>0&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var t=gi(di=this._kernel,di.onPreloaderComplete),e=this;Is.delay(function(){t(e)},100)}catch(t){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(t){},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(this._age>100)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),S.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:St});var Tt=function(t){this._context=new createjs.Container,b.call(this,t,null,this._context)};e["awe6.core.drivers.AProfiler"]=Tt,Tt.__name__=["awe6","core","drivers","AProfiler"],Tt.__super__=b,Tt.prototype=i(b.prototype,{_init:function(){b.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(t){null==t&&(t=0),b.prototype._updater.call(this,t),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:Tt});var wt=function(){};e["awe6.interfaces.ISceneTransition"]=wt,wt.__name__=["awe6","interfaces","ISceneTransition"],wt.__interfaces__=[A,yt,v];var At=function(t,e){null==e&&(e=500),this._duration=e,this._context=new createjs.Container,b.call(this,t,null,this._context)};e["awe6.core.drivers.ASceneTransition"]=At,At.__name__=["awe6","core","drivers","ASceneTransition"],At.__interfaces__=[wt],At.__super__=b,At.prototype=i(b.prototype,{_init:function(){b.prototype._init.call(this)},_updater:function(t){null==t&&(t=0),b.prototype._updater.call(this,t),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){this._tools;var t=this._age/this._duration;return t>1?1:t<0?0:t},__class__:At});var Ct=function(){};e["awe6.interfaces.ISession"]=Ct,Ct.__name__=["awe6","interfaces","ISession"],Ct.prototype={__class__:Ct};var bt=function(t,e){null==e&&(e=""),this._kernel=t,""==e&&(e="DEBUG_AWE6"),this.id=e,this._tools=this._kernel.tools,this._version=1,this._init()};e["awe6.core.drivers.ASession"]=bt,bt.__name__=["awe6","core","drivers","ASession"],bt.__interfaces__=[Ct],bt.prototype={_init:function(){this._driverLoad(),l.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var t=null!=l.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),t&&(this._data=l.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(t){null==t&&(t=!1),this._data={},this._resetter(),this._setter(),t&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:bt};var Rt=function(){};e["awe6.interfaces.IPriority"]=Rt,Rt.__name__=["awe6","interfaces","IPriority"],Rt.prototype={__class__:Rt};var kt=function(){};e["awe6.interfaces.IView"]=kt,kt.__name__=["awe6","interfaces","IView"],kt.__interfaces__=[y,m,R,Rt],kt.prototype={__class__:kt};var It=function(t,e,s,i){null==s&&(s=0),this.context=e,this.set_priority(s),this.owner=i,S.call(this,t)};e["awe6.core.drivers.AView"]=It,It.__name__=["awe6","core","drivers","AView"],It.__interfaces__=[kt],It.__super__=S,It.prototype=i(S.prototype,{_init:function(){S.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(t,e){if(null==e&&(e=0),this.isDisposed||null==t)return null;if(t.get_parent()!=this&&(t.remove(),zs.__instanceof(t,It))){var s=t;this._children.push(s),s._setParent(this)}return 0!=e&&t.set_priority(e),this._isDirty=!0,t},removeChild:function(t){if(!this.isDisposed&&null!=t){if(zs.__instanceof(t,It)){var e=t;if(e.get_parent()!=this)return;r.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var t=0,e=this._children;t<e.length;){var s=e[t];++t,this.removeChild(s)}},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);for(var e=0,s=this._children;e<s.length;){var i=s[e];++e,i.isActive&&!i.isDisposed&&(i._age+=t,i._updates++,i._updater(t))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),S.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(gi(di=this._tools,di.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(t){this.parent=t},get_priority:function(){return this.priority},set_priority:function(t){if(t==this.get_priority())return this.get_priority();if(this.priority=t,zs.__instanceof(this.get_parent(),It)){var e=this.get_parent();null!=e&&(e._isDirty=!0)}return this.get_priority()},set_isVisible:function(t){if(t==this.isVisible)return this.isVisible;if(this.isVisible=t,zs.__instanceof(this.get_parent(),It)){var e=this.get_parent();null!=e&&e._draw()}return this.isVisible},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(t){return this.x=t,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(t){return this.y=t,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:It});var Ut=function(t){$.call(this,t)};e["awe6.core.drivers.createjs.AssetManager"]=Ut,Ut.__name__=["awe6","core","drivers","createjs","AssetManager"],Ut.__super__=$,Ut.prototype=i($.prototype,{_driverGetAsset:function(t,e,s){var i=null;return null!=Ut.loadQueue&&(i=Ut.loadQueue.getResult(t)),i},__class__:Ut});var Nt=function(t){et.call(this,t)};e["awe6.core.drivers.createjs.AudioManager"]=Nt,Nt.__name__=["awe6","core","drivers","createjs","AudioManager"],Nt.__super__=et,Nt.prototype=i(et.prototype,{_init:function(){et.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",gi(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",gi(this,this._onVisibilityChange)),et.prototype._disposer.call(this)},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new Pt(this._kernel,t,this._packageId,e,s,i,n,r,a)},_driverSetIsMute:function(t){try{createjs.Sound.muted=t}catch(t){}try{createjs.Sound.setMute(t)}catch(t){}},_onVisibilityChange:function(t){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var t=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],e=0;e<t.length;){var s=t[e];++e;var i=window.document;if(Object.prototype.hasOwnProperty.call(i,s))return l.field(window.document,s)}return window.document.hidden},__class__:Nt});var Pt=function(t,e,s,i,n,r,a,_,o){null==_&&(_=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),st.call(this,t,e,s,i,1==n?0:n,r,a,_,o)};e["awe6.core.drivers.createjs._HelperSound"]=Pt,Pt.__name__=["awe6","core","drivers","createjs","_HelperSound"],Pt.__super__=st,Pt.prototype=i(st.prototype,{_driverInit:function(){try{this._sound=createjs.Sound.play("assets.audio."+this.id,null,0,this._startTime,this._loops,this._volume,this._pan)}catch(t){}null!=this._sound?(this._sound.addEventListener("complete",gi(this,this._onSoundComplete)),this._driverTransform()):this.dispose()},_driverTransform:function(t){null==t&&(t=!1),null!=this._sound&&(t&&(this._volume*=this._sound.volume,this._pan*=this._sound.pan),this._sound.volume=this._volume,this._sound.pan=this._pan)},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(t){}},_onSoundComplete:function(t){null!=this._onCompleteCallback&&this._onCompleteCallback.apply(this,[]),this.dispose()},__class__:Pt});var Dt=function(t,e,s){nt.call(this,t,e,s)};e["awe6.core.drivers.createjs.Factory"]=Dt,Dt.__name__=["awe6","core","drivers","createjs","Factory"],Dt.__super__=nt,Dt.prototype=i(nt.prototype,{_driverInit:function(){this.isDebug||(bs.trace=function(t,e){zs.__trace(t,null)});var t=new createjs.Container;if(this._context.addChild(t),this._context=t,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config){var e=null!=this._config?this._config:"assets/__config.xml",s=this._context.getStage().canvas.getAttribute("config");null!=s&&""!=s&&(e=s),this._loadConfig(e)}else this._launchKernel()},_launchKernel:function(){this._displayCredits();var t=!0,e=this.config;if(null!=Ti["settings.nativeExperience"]?e.existsReserved("settings.nativeExperience"):e.h.hasOwnProperty("settings.nativeExperience")){var s=this.config;t="true"==(null!=Ti["settings.nativeExperience"]?s.getReserved("settings.nativeExperience"):s.h["settings.nativeExperience"])}var i=this._context.getStage().canvas.getAttribute("nativeExperience");null!=i&&""!=i&&(t="true"==i),this.isNativeExperience=t,nt.prototype._launchKernel.call(this);var n=this._concreteKernel.system.isDesktop,r="default",a=this.config;if(null!=Ti["settings.fullScreen"]?a.existsReserved("settings.fullScreen"):a.h.hasOwnProperty("settings.fullScreen")){var _=this.config;r=null!=Ti["settings.fullScreen"]?_.getReserved("settings.fullScreen"):_.h["settings.fullScreen"]}var o=this._context.getStage().canvas.getAttribute("fullScreen");null!=o&&""!=o&&(r=o),this._kernel.set_isFullScreen(n&&("desktop"==r||"all"==r)||!n&&("mobile"==r||"all"==r||"default"==r)),this._kernel.isFullScreen&&this.isNativeExperience&&!n&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){var t,e=this.config;if(null!=Ti["settings.asciiArt"]?e.existsReserved("settings.asciiArt"):e.h.hasOwnProperty("settings.asciiArt")){var s=this.config;t=null!=Ti["settings.asciiArt"]?s.getReserved("settings.asciiArt"):s.h["settings.asciiArt"]}else t="";bs.trace(t,{fileName:"Factory.hx",lineNumber:126,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),bs.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"Factory.hx",lineNumber:127,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),bs.trace("Powered by Devgru ",{fileName:"Factory.hx",lineNumber:128,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),this.isDecached&&bs.trace("Note: decaching is currently enabled",{fileName:"Factory.hx",lineNumber:131,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),bs.trace("",{fileName:"Factory.hx",lineNumber:133,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"})},_loadConfig:function(t){if("<?xml"==r.substr(t,0,5))this._parseXml(t);else{this.isDecached&&(t+="?dc="+u.random(99999));try{var e=new Cs(t);e.onError=gi(this,this._onIOError),e.onData=gi(this,this._onComplete),e.request()}catch(t){return t instanceof js&&(t=t.val),void this._onIOError(u.string(t))}this._countConfigsToLoad++}},_parseXml:function(t){this._traverseElements(f.parse(t).firstElement().elements(),"");var e=this.config;if(!(null!=Ti["settings.joinXml"]?!e.existsReserved("settings.joinXml"):!e.h.hasOwnProperty("settings.joinXml"))&&this._countConfigsLoaded<100){var s=this.config,i=null!=Ti["settings.joinXml"]?s.getReserved("settings.joinXml"):s.h["settings.joinXml"];this.config.remove("settings.joinXml");for(var n=i.split(","),r=0;r<n.length;){var a=n[r];++r,this._loadConfig(a)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(t){bs.trace("IO Errors Occurred During Config Loading:"+t,{fileName:"Factory.hx",lineNumber:187,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),bs.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"Factory.hx",lineNumber:188,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==r.substr(this._config,0,5)?(bs.trace("Embedded Config detected, using that to continue ...",{fileName:"Factory.hx",lineNumber:191,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(bs.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"Factory.hx",lineNumber:197,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),bs.trace("Unable to continue without Config.",{fileName:"Factory.hx",lineNumber:198,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}))},_onComplete:function(t){if(this._countConfigsLoaded++,""!=t){var e=t;"<?xml"!=r.substr(e,0,5)&&(e=this.createEncrypter().decrypt(Ps.ofString(e)).toString()),this._parseXml(e)}else this._onIOError(t)},_getAssetUrls:function(){for(var t=["bin/assets/audio/Applause.m4a","bin/assets/audio/Applause.ogg","bin/assets/audio/ButtonOver.m4a","bin/assets/audio/ButtonOver.ogg","bin/assets/audio/Carve1.m4a","bin/assets/audio/Carve1.ogg","bin/assets/audio/Carve2.m4a","bin/assets/audio/Carve2.ogg","bin/assets/audio/Carve3.m4a","bin/assets/audio/Carve3.ogg","bin/assets/audio/Carve4.m4a","bin/assets/audio/Carve4.ogg","bin/assets/audio/Coin.m4a","bin/assets/audio/Coin.ogg","bin/assets/audio/Collision1.m4a","bin/assets/audio/Collision1.ogg","bin/assets/audio/Collision2.m4a","bin/assets/audio/Collision2.ogg","bin/assets/audio/Cowbells.m4a","bin/assets/audio/Cowbells.ogg","bin/assets/audio/GameOver.m4a","bin/assets/audio/GameOver.ogg","bin/assets/audio/GameStart.m4a","bin/assets/audio/GameStart.ogg","bin/assets/audio/Medal1.m4a","bin/assets/audio/Medal1.ogg","bin/assets/audio/Medal2.m4a","bin/assets/audio/Medal2.ogg","bin/assets/audio/Medal3.m4a","bin/assets/audio/Medal3.ogg","bin/assets/audio/MissGate.m4a","bin/assets/audio/MissGate.ogg","bin/assets/audio/MusicMenu.m4a","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/Player.m4a","bin/assets/audio/Player.ogg","bin/assets/audio/Silence.m4a","bin/assets/audio/Silence.ogg","bin/assets/audio/Transition.m4a","bin/assets/audio/Transition.ogg","bin/assets/Blank.png","bin/assets/fonts/__Exo2-extrabolditalic-webfont.eot","bin/assets/fonts/__Exo2-extrabolditalic-webfont.svg","bin/assets/fonts/__Exo2-extrabolditalic-webfont.ttf","bin/assets/fonts/__Exo2-extrabolditalic-webfont.woff","bin/assets/gui/Action.png","bin/assets/gui/AvatarUnitA.png","bin/assets/gui/AvatarUnitB.png","bin/assets/gui/BgAbstract1.png","bin/assets/gui/BgAbstract2.png","bin/assets/gui/BgAbstract3.png","bin/assets/gui/BgAbstract4.png","bin/assets/gui/BgDetail.jpg","bin/assets/gui/BgGradient1.png","bin/assets/gui/BgGradient2.png","bin/assets/gui/BgGradient3.png","bin/assets/gui/Burst.jpg","bin/assets/gui/Buttons.png","bin/assets/gui/HeroMedals.png","bin/assets/gui/HeroUnitA.png","bin/assets/gui/HeroUnitB.png","bin/assets/gui/Hud.png","bin/assets/gui/InstructionsA.png","bin/assets/gui/InstructionsB.png","bin/assets/gui/PanelBigBg.png","bin/assets/gui/PanelBigFg.png","bin/assets/gui/PanelLevel.png","bin/assets/gui/PanelLevelBg.png","bin/assets/gui/PanelResult.png","bin/assets/gui/PanelShop.png","bin/assets/gui/PanelSmallBg.png","bin/assets/gui/PanelSmallFg.png","bin/assets/gui/PanelUnit.png","bin/assets/gui/PauseBg.png","bin/assets/gui/SceneFgFooter1.png","bin/assets/gui/SceneFgFooter2.png","bin/assets/gui/SceneFgHeader1.png","bin/assets/gui/SceneFgHeader2.png","bin/assets/gui/Vignette.png","bin/assets/location/Boost.png","bin/assets/location/FinishLine.png","bin/assets/location/Horizon.jpg","bin/assets/location/LensFlares.jpg","bin/assets/location/Scenery.png","bin/assets/location/Snow.png","bin/assets/location/Streaks.png","bin/assets/location/UnitA.png","bin/assets/location/UnitB.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__PreloaderBg.png"],e=[],s=0,i=t.length;s<i;){var n=s++;t[n]=r.substr(t[n],4,null),("__"==r.substr(t[n],0,2)||t[n].indexOf("/__")>-1)&&e.push(t[n])}for(var a=0;a<e.length;){var _=e[a];++a,r.remove(t,_)}return t},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},preventDefaultForKeys:function(t){this._kernel.inputs.keyboard.preventDefaultForKeys(t)},allowDefaultForKeys:function(t){this._kernel.inputs.keyboard.allowDefaultForKeys(t)},__class__:Dt});var Lt=function(t){at.call(this,t)};e["awe6.core.drivers.createjs.InputKeyboard"]=Lt,Lt.__name__=["awe6","core","drivers","createjs","InputKeyboard"],Lt.__super__=at,Lt.prototype=i(at.prototype,{_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",gi(this,this._onKeyDown)),this._document.addEventListener("keyup",gi(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",gi(this,this._onKeyDown)),this._document.removeEventListener("keyup",gi(this,this._onKeyUp)),at.prototype._disposer.call(this)},_onKeyDown:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!0))},_onKeyUp:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!1))},preventDefaultForKeys:function(t){if(null!=t)for(var e=0;e<t.length;){var s=t[e];++e;var i=this.getKeyCode(s);a.has(this._preventDefaultKeyCodes,i)||this._preventDefaultKeyCodes.push(i)}},allowDefaultForKeys:function(t){if(null!=t)for(var e=0;e<this._preventDefaultKeyCodes.length;){var s=this.getKey(this._preventDefaultKeyCodes[e]);a.has(t,s)?this._preventDefaultKeyCodes.splice(e,1):++e}},__class__:Lt});var xt=function(t){lt.call(this,t)};e["awe6.core.drivers.createjs.InputMouse"]=xt,xt.__name__=["awe6","core","drivers","createjs","InputMouse"],xt.__super__=lt,xt.prototype=i(lt.prototype,{_driverInit:function(){this._stage=this._kernel._stage,this._isTouch=createjs.Touch.isSupported()&&!this._kernel.system.isDesktop,this._isTouch?(createjs.Touch.enable(this._stage,!0),this._touchX=this._touchY=0,this._stage.canvas.addEventListener("touchstart",gi(this,this._onTouchStart)),this._stage.canvas.addEventListener("touchmove",gi(this,this._onTouch)),this._stage.canvas.addEventListener("touchend",gi(this,this._onTouchEnd))):(this._stage.addEventListener("stagemousedown",gi(this,this._onMouseDown)),this._stage.addEventListener("stagemouseup",gi(this,this._onMouseUp))),window.focus()},_disposer:function(){this._isTouch?(createjs.Touch.disable(this._stage),this._stage.canvas.removeEventListener("touchstart",gi(this,this._onTouchStart)),this._stage.canvas.removeEventListener("touchmove",gi(this,this._onTouch)),this._stage.canvas.removeEventListener("touchend",gi(this,this._onTouchEnd))):(this._stage.removeEventListener("stagemousedown",gi(this,this._onMouseDown)),this._stage.removeEventListener("stagemouseup",gi(this,this._onMouseUp))),lt.prototype._disposer.call(this)},_isWithinBounds:function(){return this._stage.mouseInBounds},_getPosition:function(){if(this._isTouch)this.x=this._touchX,this.y=this._touchY;else{this._tools;var t=this._stage.mouseX/this._stage.scaleX,e=this._kernel.factory.width;this.x=0|(t>e?e:t<0?0:t);this._tools;var s=this._stage.mouseY/this._stage.scaleY,i=this._kernel.factory.height;this.y=0|(s>i?i:s<0?0:s)}this.x=this.x==this._kernel.factory.width?this._xPrev:this.x,this.y=this.y==this._kernel.factory.height?this._yPrev:this.y},_onTouchStart:function(t){this._onMouseDown(t),this._onTouch(t),this.x=this._touchX,this.y=this._touchY},_onTouchEnd:function(t){this._onMouseUp(t),this._onTouch(t),xt._isSoundTriggered||(this._kernel.audio.start("Silence"),xt._isSoundTriggered=!0,this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()))},_onTouch:function(t){try{this._tools;var e=(t.targetTouches[0].pageX-(0|this._stage.canvas.offsetLeft))/this._kernel._scaleX,s=this._kernel.factory.width;this._touchX=0|(e>s?s:e<0?0:e);this._tools;var i=(t.targetTouches[0].pageY-(0|this._stage.canvas.offsetTop))/this._kernel._scaleY,n=this._kernel.factory.height;this._touchY=0|(i>n?n:i<0?0:i)}catch(t){}this._stage.mouseInBounds&&t.preventDefault()},_onMouseDown:function(t){window.focus(),this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!0)},_onMouseUp:function(t){this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!1)},set_isVisible:function(t){return this._stage.cursor=t?"none":"auto",lt.prototype.set_isVisible.call(this,t)},set_cursorType:function(t){var e;switch(t[1]){case 0:e="crosshair";break;case 1:e="auto";break;case 2:case 3:e="pointer";break;case 4:e="text";break;case 5:e=t[2]}return this._stage.canvas.style.cursor=e,lt.prototype.set_cursorType.call(this,t)},__class__:xt});var Ot=function(t,e){pt.call(this,t,e)};e["awe6.core.drivers.createjs.Kernel"]=Ot,Ot.__name__=["awe6","core","drivers","createjs","Kernel"],Ot.__super__=pt,Ot.prototype=i(pt.prototype,{_driverGetIsLocal:function(){var t;switch(window.location.protocol){case"http:":case"https:":t=!1;break;default:t=!0}return t},_driverInit:function(){this.system=new Yt(this),this._scaleX=this._scaleY=1,this._stage=this._stageDynamic=this._context.getStage(),this._stage.canvas.style.setProperty("-ms-touch-action","none",""),this._stage.canvas.style.setProperty("image-rendering","-o-crisp-edges",""),this._stage.canvas.style.setProperty("image-rendering","optimize-contrast",""),this._stage.canvas.style.setProperty("-ms-interpolation-mode","nearest-neighbor",""),this._stage.canvas.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("-moz-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("user-select","none",""),this._stage.canvas.style.setProperty("-webkit-touch-callout","none",""),this._stage.canvas.style.setProperty("-webkit-user-select","none",""),this._stage.canvas.style.setProperty("-moz-user-select","none",""),this._stage.canvas.style.setProperty("-ms-user-select","none",""),this._stage.tickOnUpdate=!1,this._stage.mouseEnabled=!1,this._stage.canvas.width=this.factory.width,this._stage.canvas.height=this.factory.height;var t=new createjs.Shape;t.graphics.beginFill("#"+r.substr(d.hex(this.factory.bgColor,8),2,6)),t.graphics.drawRect(0,0,this.factory.width,this.factory.height),t.graphics.endFill(),this._stage.addChildAt(t,0),createjs.Ticker.setFPS(this.factory.targetFramerate),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",gi(this,this._onEnterFrame)),this._stage.canvas.addEventListener("contextmenu",gi(this,this._onContextMenu),!1),window.addEventListener("unload",gi(this,this._onUnload))},_onUnload:function(t){window.removeEventListener("unload",gi(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(t){if(t.preventDefault(),t.stopImmediatePropagation(),null!=this.overlay){var e=gi(di=this.overlay,di.activateButton);Is.delay(function(){e(ie.PAUSE)},100)}},_driverDisposer:function(){this._stage.canvas.removeEventListener("contextmenu",gi(this,this._onContextMenu))},_onEnterFrame:function(t){null!=t.paused&&1==t.paused?this._stage.tickOnUpdate=!1:(this._updates++,this._updater(0),this._stage.tickOnUpdate=this.isActive,this._stageDynamic.update(t));var e=u.string(window.innerWidth)+":"+u.string(window.innerHeight);this._prevWindowSize!=e&&this._driverSetIsFullScreen(this.isFullScreen)},_driverSetIsEyeCandy:function(t){},_driverSetIsFullScreen:function(t){this._prevWindowSize=u.string(window.innerWidth)+":"+u.string(window.innerHeight),this._scaleX=this._scaleY=1;var e=this.factory.width,s=this.factory.height,i=window.innerWidth,n=window.innerHeight,r=e<s,a=i<n;this.system.isRotated=!this.system.isDesktop&&r!=a;var _=0,o=0;if(t){var h=Math.min(i/e,n/s),l=this.factory.fullScreenType;switch(l[1]){case 0:case 1:break;case 2:this._scaleX=i/e,this._scaleY=n/s;break;case 3:this._scaleX=this._scaleY=h;break;case 4:h=h<.5?.25:h<1?.5:Math.floor(h),this._scaleX=this._scaleY=h;break;case 5:var c=l[2];if(null!=c.bleedWidth&&null!=c.bleedHeight){var d=e-2*u.parseInt(c.bleedWidth),p=s-2*u.parseInt(c.bleedHeight);s/e>n/i?p/e>n/i?this._scaleX=this._scaleY=n/p:this._scaleY=this._scaleX=i/e:this._scaleY=this._scaleX=s/d>n/i?n/s:i/d}}_=Math.round((i-e*this._scaleX)/2),o=Math.round((n-s*this._scaleY)/2)}this._stage.canvas.style.setProperty("width",Math.round(e*this._scaleX)+"px",""),this._stage.canvas.style.setProperty("height",Math.round(s*this._scaleY)+"px",""),this._stage.canvas.style.setProperty("margin-left",_+"px",""),this._stage.canvas.style.setProperty("margin-top",o+"px","")},__class__:Ot});var Mt=function(t,e,s,i,n,r,a,_,o,h,l,u,c,d,p,g,f){mt.call(this,t,e,s,i,n,r,a,_,o,h,l,u,c,d,p,g,f)};e["awe6.core.drivers.createjs.Overlay"]=Mt,Mt.__name__=["awe6","core","drivers","createjs","Overlay"],Mt.__super__=mt,Mt.prototype=i(mt.prototype,{_driverInit:function(){zs.__cast(this._borderView,Vt).context.mouseEnabled=!1,this._context.mouseEnabled=!1,this._pauseContext=new createjs.Container,this._pauseContext.mouseEnabled=!1;var t=new createjs.Shape;t.graphics.beginFill("#"+d.hex(this._pauseColor,6)),t.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),t.alpha=this._pauseAlpha,this._pauseContext.addChild(t),this._flashContext=new createjs.Container,this._flashContext.mouseEnabled=!1},_updater:function(t){null==t&&(t=0),mt.prototype._updater.call(this,t),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.removeAllChildren();var n=new createjs.Shape;n.graphics.beginFill("#"+d.hex(i,6)),n.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(n),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=s>1?1:s<0?0:s},__class__:Mt});var Bt=function(t,e,s){St.call(this,t,e,s)};e["awe6.core.drivers.createjs.Preloader"]=Bt,Bt.__name__=["awe6","core","drivers","createjs","Preloader"],Bt.__super__=St,Bt.prototype=i(St.prototype,{_init:function(){this._context=new createjs.Container,this.view=new Vt(this._kernel,this._context),St.prototype._init.call(this),this._system=this._kernel.system,this._isDesktop=this._system.isDesktop,this._audioHoldDelay=this._getAudioHoldDelay(),this._completedDelay=0;var t=this._isDecached?"?dc="+u.random(999999):"",e=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&a.has(e,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3");var s=[];if(this._manifest=[],createjs.Sound.initializeDefaultPlugins()){var i=this._isSoundDisabled||this._system.isAndroid&&this._getIsStockAndroidBrowser();this._validSoundFormat=createjs.Sound.getCapability("ogg")?"ogg":createjs.Sound.getCapability(this._proprietaryAudioFormat)?this._proprietaryAudioFormat:"noValidFormat",this._activePlugin=createjs.Sound.activePlugin;for(var n=0,_=this._assets;n<_.length;){var o=_[n];++n;var h=r.substr(o,-3,null);if(a.has(e,h)&&(s.push(o),!i&&h==this._validSoundFormat)){var l="assets.audio."+r.substr(o.split("/").pop(),0,-4);this._isFastTestMode||this._manifest.push({src:o+t,id:l})}}}for(var c=0;c<s.length;){var d=s[c];++c,r.remove(this._assets,d)}for(var p=0,g=this._assets;p<g.length;){var f=g[p];++p,this._manifest.push({src:f+t,id:f})}this._loadQueue=new createjs.LoadQueue(!this._kernel.isLocal&&!this._isFastTestMode,""),this._loadQueue.setMaxConnections(10),this._loadQueue.installPlugin(createjs.Sound),this._manifest=this._tools.shuffle(this._manifest),this._loadQueue.addEventListener("complete",gi(this,this._onComplete)),this._loadQueue.addEventListener("fileerror",gi(this,this._onError)),this._loadQueue.addEventListener("error",gi(this,this._onError));var E=gi(di=this._loadQueue,di.loadManifest),m=this._manifest;Is.delay(function(){E(m)},200)},_next:function(){},get_progress:function(){return this._loadQueue.progress},_onComplete:function(t){this._isComplete||(this._isComplete=!0,Ut.loadQueue=this._loadQueue,this._completedDelay=this._audioHoldDelay,this._loadQueue.removeEventListener("complete",gi(this,this._onComplete)),this._loadQueue.removeEventListener("fileerror",gi(this,this._onError)),this._loadQueue.removeEventListener("error",gi(this,this._onError)),0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_onError:function(t){bs.trace([t,t.title,t.message,t.data],{fileName:"Preloader.hx",lineNumber:147,className:"awe6.core.drivers.createjs.Preloader",methodName:"_onError"})},_showAudioHoldMessage:function(){},_updater:function(t){null==t&&(t=0),St.prototype._updater.call(this,t),this._isComplete&&(this._completedDelay-=t,(this._audioHoldDelay>=0&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var t=this._system.userAgent.indexOf("Android")>-1&&this._system.userAgent.indexOf("Mozilla/5.0")>-1&&this._system.userAgent.indexOf("AppleWebKit")>-1,e=new n("AppleWebKit/([\\d.]+)",""),s=e.match(this._system.userAgent),i=s?parseFloat(e.matched(1)):0,r=new n("Chrome/([\\d.]+)",""),a=r.match(this._system.userAgent),_=a?parseFloat(r.matched(1)):0;return!!t&&(!!(s&&i<537)||!!a&&_<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;if(!this._system.isIos)return 0;var t=-1,e=this._kernel.factory.config;if(null!=Ti["settings.audioHoldDelay"]?e.existsReserved("settings.audioHoldDelay"):e.h.hasOwnProperty("settings.audioHoldDelay")){var s=this._kernel.factory.config;t=u.parseInt(null!=Ti["settings.audioHoldDelay"]?s.getReserved("settings.audioHoldDelay"):s.h["settings.audioHoldDelay"])}try{var i=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=i&&""!=i&&(t=u.parseInt(i))}catch(t){}return t},__class__:Bt});var Ft=function(t){Tt.call(this,t)};e["awe6.core.drivers.createjs.Profiler"]=Ft,Ft.__name__=["awe6","core","drivers","createjs","Profiler"],Ft.__super__=Tt,Ft.prototype=i(Tt.prototype,{_init:function(){Tt.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var t=new createjs.Shape;this._context.addChild(t),t.alpha=.25,this._isMemoryEnabled&&(t.graphics.beginFill("#"+d.hex(this._backgroundColor,6)),t.graphics.drawRect(0,0,this._width,this._height),t.graphics.endFill()),t.graphics.beginFill("#"+d.hex(this._marginColor,6)),t.graphics.drawRect(0,0,this._width,this._marginHeight),t.graphics.endFill(),t.cache(0,0,this._width,this._height),this._fpsTextField=new createjs.Text("","","#"+d.hex(this._fpsColor,6)),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&(this._memoryTextField=new createjs.Text("","","#"+d.hex(this._memoryColor,6)),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var t=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*t);if(this._fpsTextField.text=this._fpsLabel+": "+t+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0){var e=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),s=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024);this._memoryTextField.text=this._memoryLabel+": "+e+" / "+s}},__class__:Ft});var Gt=function(t,e){At.call(this,t,e)};e["awe6.core.drivers.createjs.SceneTransition"]=Gt,Gt.__name__=["awe6","core","drivers","createjs","SceneTransition"],Gt.__super__=At,Gt.prototype=i(At.prototype,{_init:function(){At.prototype._init.call(this),this._kernel.scenes.get_scene().get_view().context.cache(0,0,this._kernel.factory.width,this._kernel.factory.height);var t=new createjs.Bitmap(this._kernel.scenes.get_scene().get_view().context.cacheCanvas);this._kernel.scenes.get_scene().get_view().context.uncache(),this._context.mouseEnabled=!1,this._context.addChild(t)},_updater:function(t){if(null==t&&(t=0),At.prototype._updater.call(this,t),!this.isDisposed){var e=this.get_progress();this._context.alpha=1-e}},__class__:Gt});var Ht=function(t,e){bt.call(this,t,e)};e["awe6.core.drivers.createjs.Session"]=Ht,Ht.__name__=["awe6","core","drivers","createjs","Session"],Ht.__super__=bt,Ht.prototype=i(bt.prototype,{_init:function(){var t=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(t="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=t?Xs.getLocalStorage():Xs.getSessionStorage(),bt.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=window.document.cookie&&Qs.exists(this._kernel.factory.id)&&(this._savedData=this._tools.unserialize(Qs.get(this._kernel.factory.id)),this._driverSave(),Qs.remove(this._kernel.factory.id)),null!=this._storage)try{var t=this._storage.getItem(this._kernel.factory.id);null!=t&&(this._savedData=this._tools.unserialize(t))}catch(t){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(t){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(t){}},__class__:Ht});var Yt=function(t){this._kernel=t,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=window.navigator.userAgent,this.isSilk=new n("Silk","").match(this.userAgent),this.isCocoonjs=1==window.navigator.isCocoonJS,this.isCocoonjs&&this._cocoonOverrides(),this.isCrosswalk=new n("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new n("Android","").match(this.userAgent)?this.isAndroid=!0:new n("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new n("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new n("Linux","").match(this.userAgent)?this.isLinux=!0:new n("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new n("Windows","").match(this.userAgent)&&(this.isWindows=!0,new n("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};e["awe6.core.drivers.createjs.System"]=Yt,Yt.__name__=["awe6","core","drivers","createjs","System"],Yt.prototype={_cocoonOverrides:function(){Image.prototype.naturalWidth=function(){return this.width},Image.prototype.naturalHeight=function(){return this.height}},requestFullScreen:function(){try{var t=window.document.documentElement;null!=gi(t,t.requestFullscreen)?t.requestFullscreen():null!=t.msRequestFullscreen?t.msRequestFullscreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}catch(t){}},requestExitFullScreen:function(){try{var t=window.document;null!=gi(t,t.exitFullscreen)?t.exitFullscreen():null!=t.msExitFullscreen?t.msExitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():null!=t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){}},requestLockScreen:function(){if(!this.isDesktop)try{var t=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",e=window.screen;null!=e.orientation?null!=gi(di=e.orientation,di.lock)?e.orientation.lock(t):null!=e.orientation.lockOrientation&&e.orientation.lockOrientation(t):null!=e.mozOrientation?e.mozLockOrientation(t):null!=e.msOrientation&&e.msLockOrientation(t)}catch(t){}},__class__:Yt};var Vt=function(t,e,s,i){It.call(this,t,e,s,i)};e["awe6.core.drivers.createjs.View"]=Vt,Vt.__name__=["awe6","core","drivers","createjs","View"],Vt.__super__=It,Vt.prototype=i(It.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),It.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(t){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var s=t[e];++e,s.isVisible&&this._container.addChild(s.context)}},set_x:function(t){return this.context.x=t,It.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,It.prototype.set_y.call(this,t)},__class__:Vt});var Wt=function(t,e,s,i){null==i&&(i=!0),null==s&&(s=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=s,this._context=new createjs.Container,this.setPosition(0,0),b.call(this,t,null,this._context)};e["awe6.core.drivers.createjs.extras.gui.GuiEntity"]=Wt,Wt.__name__=["awe6","core","drivers","createjs","extras","gui","GuiEntity"],Wt.__interfaces__=[R],Wt.__super__=b,Wt.prototype=i(b.prototype,{setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:Wt});var jt=function(t,e,s,i,n,r,a){null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),this.textStyle=n,this._isMultiline=r,this._isCached=a,Wt.call(this,t,e,s,!1),this.set_text(i)};e["awe6.core.drivers.createjs.extras.gui.Text"]=jt,jt.__name__=["awe6","core","drivers","createjs","extras","gui","Text"],jt.__super__=Wt,jt.prototype=i(Wt.prototype,{_init:function(){Wt.prototype._init.call(this),this._textField=new createjs.Text,this._textField.text=this.text,this._draw(),this._context.addChild(this._textField),this._isDirty=!1,this._prevTextStyle=this.textStyle.toString()},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){if(this._textField.lineWidth=this.width,this._prevTextStyle!=this.textStyle.toString()){switch(this.textStyle.align[1]){case 0:case 1:this._textField.textAlign="left";break;case 2:this._textField.textAlign="center",this._textField.x=.5*this.width;break;case 3:this._textField.textAlign="right",this._textField.x=this.width}var t=d.hex(this.textStyle.color,6);if(this._textField.color="#"+t,this._textField.font=(this.textStyle.isBold?"bold ":"")+(this.textStyle.isItalic?"italic ":"")+this.textStyle.size+"px '"+this.textStyle.font+"'",this._textField.lineHeight=this.textStyle.spacingVertical,null!=this.textStyle.filters){var e=this._textField;e.shadow=null;var s=this.textStyle.filters.slice();if(null!=this._textFieldOutline&&null!=this._textFieldOutline.parent&&this._textFieldOutline.parent.removeChild(this._textFieldOutline),this._textFieldOutline=null,2==s.length||6==s.length){this._textFieldOutline=this._textField.clone();var i=d.hex(s.shift(),6);this._textFieldOutline.color="#"+i;var n=s.shift();this._textFieldOutline.outline=2*n,this._context.addChildAt(this._textFieldOutline,0),e=this._textFieldOutline}4==s.length&&(e.shadow=new createjs.Shadow("#"+d.hex(s[0],6),s[1],s[2],s[3]))}}this._isCached&&this._context.cache(0,0,this.width,this.height),this._isDirty=!1},set_text:function(t){return null==t&&(t=""),this.text==t?this.text:(this.text=t,this._textField.text=this.text,null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0,this.text)},__class__:jt});var zt=function(t,e,s,i){It.call(this,t,e,s,i)};e["awe6.core.drivers.flash.View"]=zt,zt.__name__=["awe6","core","drivers","flash","View"],zt.__super__=It,zt.prototype=i(It.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),It.prototype._init.call(this)},_driverDisposer:function(){null!=this.context.parent&&this.context.parent.removeChild(this.context)},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var s=t[e];++e,s.isVisible&&this._container.addChild(s.context)}},set_x:function(t){return this.context.x=t,It.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,It.prototype.set_y.call(this,t)},__class__:zt});var Xt=function(t,e,s){null==s&&(s=1e3),this._callbackFunction=e,this._duration=s,b.call(this,t)};e["awe6.extras.Delay"]=Xt,Xt.__name__=["awe6","extras","Delay"],Xt.__super__=b,Xt.prototype=i(b.prototype,{_updater:function(t){null==t&&(t=0),b.prototype._updater.call(this,t),this._duration-=t,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Xt});var Qt=e["awe6.interfaces.EAgenda"]={__ename__:["awe6","interfaces","EAgenda"],__constructs__:["ALWAYS","BIRTH","DEATH","STANDARD","ATTACK","DEFEND","SUB_TYPE"]};Qt.ALWAYS=["ALWAYS",0],Qt.ALWAYS.toString=s,Qt.ALWAYS.__enum__=Qt,Qt.BIRTH=["BIRTH",1],Qt.BIRTH.toString=s,Qt.BIRTH.__enum__=Qt,Qt.DEATH=["DEATH",2],Qt.DEATH.toString=s,Qt.DEATH.__enum__=Qt,Qt.STANDARD=["STANDARD",3],Qt.STANDARD.toString=s,Qt.STANDARD.__enum__=Qt,Qt.ATTACK=["ATTACK",4],Qt.ATTACK.toString=s,Qt.ATTACK.__enum__=Qt,Qt.DEFEND=["DEFEND",5],Qt.DEFEND.toString=s,Qt.DEFEND.__enum__=Qt,Qt.SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=Qt,e.toString=s,e};var Kt=e["awe6.interfaces.EAudioChannel"]={__ename__:["awe6","interfaces","EAudioChannel"],__constructs__:["DEFAULT","EFFECTS","INTERFACE","MUSIC","SUB_TYPE"]};Kt.DEFAULT=["DEFAULT",0],Kt.DEFAULT.toString=s,Kt.DEFAULT.__enum__=Kt,Kt.EFFECTS=["EFFECTS",1],Kt.EFFECTS.toString=s,Kt.EFFECTS.__enum__=Kt,Kt.INTERFACE=["INTERFACE",2],Kt.INTERFACE.toString=s,Kt.INTERFACE.__enum__=Kt,Kt.MUSIC=["MUSIC",3],Kt.MUSIC.toString=s,Kt.MUSIC.__enum__=Kt,Kt.SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=Kt,e.toString=s,e};var Zt=e["awe6.interfaces.EFullScreen"]={__ename__:["awe6","interfaces","EFullScreen"],__constructs__:["DISABLED","NO_SCALE","SCALE_ASPECT_RATIO_IGNORE","SCALE_ASPECT_RATIO_PRESERVE","SCALE_NEAREST_MULTIPLE","SUB_TYPE"]};Zt.DISABLED=["DISABLED",0],Zt.DISABLED.toString=s,Zt.DISABLED.__enum__=Zt,Zt.NO_SCALE=["NO_SCALE",1],Zt.NO_SCALE.toString=s,Zt.NO_SCALE.__enum__=Zt,Zt.SCALE_ASPECT_RATIO_IGNORE=["SCALE_ASPECT_RATIO_IGNORE",2],Zt.SCALE_ASPECT_RATIO_IGNORE.toString=s,Zt.SCALE_ASPECT_RATIO_IGNORE.__enum__=Zt,Zt.SCALE_ASPECT_RATIO_PRESERVE=["SCALE_ASPECT_RATIO_PRESERVE",3],Zt.SCALE_ASPECT_RATIO_PRESERVE.toString=s,Zt.SCALE_ASPECT_RATIO_PRESERVE.__enum__=Zt,Zt.SCALE_NEAREST_MULTIPLE=["SCALE_NEAREST_MULTIPLE",4],Zt.SCALE_NEAREST_MULTIPLE.toString=s,Zt.SCALE_NEAREST_MULTIPLE.__enum__=Zt,Zt.SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=Zt,e.toString=s,e};var Jt=e["awe6.interfaces.EJoypadButton"]={__ename__:["awe6","interfaces","EJoypadButton"],__constructs__:["FIRE","UP","RIGHT","DOWN","LEFT","PRIMARY","SECONDARY"]};Jt.FIRE=["FIRE",0],Jt.FIRE.toString=s,Jt.FIRE.__enum__=Jt,Jt.UP=["UP",1],Jt.UP.toString=s,Jt.UP.__enum__=Jt,Jt.RIGHT=["RIGHT",2],Jt.RIGHT.toString=s,Jt.RIGHT.__enum__=Jt,Jt.DOWN=["DOWN",3],Jt.DOWN.toString=s,Jt.DOWN.__enum__=Jt,Jt.LEFT=["LEFT",4],Jt.LEFT.toString=s,Jt.LEFT.__enum__=Jt,Jt.PRIMARY=["PRIMARY",5],Jt.PRIMARY.toString=s,Jt.PRIMARY.__enum__=Jt,Jt.SECONDARY=["SECONDARY",6],Jt.SECONDARY.toString=s,Jt.SECONDARY.__enum__=Jt;var qt=e["awe6.interfaces.EJoypadTouch"]={__ename__:["awe6","interfaces","EJoypadTouch"],__constructs__:["DISABLED","DPAD","JOYSTICK","SWIPE"]};qt.DISABLED=["DISABLED",0],qt.DISABLED.toString=s,qt.DISABLED.__enum__=qt,qt.DPAD=["DPAD",1],qt.DPAD.toString=s,qt.DPAD.__enum__=qt,qt.JOYSTICK=function(t){var e=["JOYSTICK",2,t];return e.__enum__=qt,e.toString=s,e},qt.SWIPE=function(t){var e=["SWIPE",3,t];return e.__enum__=qt,e.toString=s,e};var $t=e["awe6.interfaces.EKey"]={__ename__:["awe6","interfaces","EKey"],__constructs__:["NUM_LOCK","CLEAR","HELP","ALT","BACKSPACE","CAPS_LOCK","CONTROL","DELETE","DOWN","END","ENTER","ESCAPE","F1","F10","F11","F12","F13","F14","F15","F2","F3","F4","F5","F6","F7","F8","F9","HOME","INSERT","LEFT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","RIGHT","SHIFT","SPACE","TAB","UP","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","COLON","EQUALS","HYPHEN","SLASH","TILDE","SQUARELEFT","SQUARERIGHT","BACKSLASH","APOSTROPHE","TOPLEFT","SUB_TYPE"]};$t.NUM_LOCK=["NUM_LOCK",0],$t.NUM_LOCK.toString=s,$t.NUM_LOCK.__enum__=$t,$t.CLEAR=["CLEAR",1],$t.CLEAR.toString=s,$t.CLEAR.__enum__=$t,$t.HELP=["HELP",2],$t.HELP.toString=s,$t.HELP.__enum__=$t,$t.ALT=["ALT",3],$t.ALT.toString=s,$t.ALT.__enum__=$t,$t.BACKSPACE=["BACKSPACE",4],$t.BACKSPACE.toString=s,$t.BACKSPACE.__enum__=$t,$t.CAPS_LOCK=["CAPS_LOCK",5],$t.CAPS_LOCK.toString=s,$t.CAPS_LOCK.__enum__=$t,$t.CONTROL=["CONTROL",6],$t.CONTROL.toString=s,$t.CONTROL.__enum__=$t,$t.DELETE=["DELETE",7],$t.DELETE.toString=s,$t.DELETE.__enum__=$t,$t.DOWN=["DOWN",8],$t.DOWN.toString=s,$t.DOWN.__enum__=$t,$t.END=["END",9],$t.END.toString=s,$t.END.__enum__=$t,$t.ENTER=["ENTER",10],$t.ENTER.toString=s,$t.ENTER.__enum__=$t,$t.ESCAPE=["ESCAPE",11],$t.ESCAPE.toString=s,$t.ESCAPE.__enum__=$t,$t.F1=["F1",12],$t.F1.toString=s,$t.F1.__enum__=$t,$t.F10=["F10",13],$t.F10.toString=s,$t.F10.__enum__=$t,$t.F11=["F11",14],$t.F11.toString=s,$t.F11.__enum__=$t,$t.F12=["F12",15],$t.F12.toString=s,$t.F12.__enum__=$t,$t.F13=["F13",16],$t.F13.toString=s,$t.F13.__enum__=$t,$t.F14=["F14",17],$t.F14.toString=s,$t.F14.__enum__=$t,$t.F15=["F15",18],$t.F15.toString=s,$t.F15.__enum__=$t,$t.F2=["F2",19],$t.F2.toString=s,$t.F2.__enum__=$t,$t.F3=["F3",20],$t.F3.toString=s,$t.F3.__enum__=$t,$t.F4=["F4",21],$t.F4.toString=s,$t.F4.__enum__=$t,$t.F5=["F5",22],$t.F5.toString=s,$t.F5.__enum__=$t,$t.F6=["F6",23],$t.F6.toString=s,$t.F6.__enum__=$t,$t.F7=["F7",24],$t.F7.toString=s,$t.F7.__enum__=$t,$t.F8=["F8",25],$t.F8.toString=s,$t.F8.__enum__=$t,$t.F9=["F9",26],$t.F9.toString=s,$t.F9.__enum__=$t,$t.HOME=["HOME",27],$t.HOME.toString=s,$t.HOME.__enum__=$t,$t.INSERT=["INSERT",28],$t.INSERT.toString=s,$t.INSERT.__enum__=$t,$t.LEFT=["LEFT",29],$t.LEFT.toString=s,$t.LEFT.__enum__=$t,$t.NUMPAD_0=["NUMPAD_0",30],$t.NUMPAD_0.toString=s,$t.NUMPAD_0.__enum__=$t,$t.NUMPAD_1=["NUMPAD_1",31],$t.NUMPAD_1.toString=s,$t.NUMPAD_1.__enum__=$t,$t.NUMPAD_2=["NUMPAD_2",32],$t.NUMPAD_2.toString=s,$t.NUMPAD_2.__enum__=$t,$t.NUMPAD_3=["NUMPAD_3",33],$t.NUMPAD_3.toString=s,$t.NUMPAD_3.__enum__=$t,$t.NUMPAD_4=["NUMPAD_4",34],$t.NUMPAD_4.toString=s,$t.NUMPAD_4.__enum__=$t,$t.NUMPAD_5=["NUMPAD_5",35],$t.NUMPAD_5.toString=s,$t.NUMPAD_5.__enum__=$t,$t.NUMPAD_6=["NUMPAD_6",36],$t.NUMPAD_6.toString=s,$t.NUMPAD_6.__enum__=$t,$t.NUMPAD_7=["NUMPAD_7",37],$t.NUMPAD_7.toString=s,$t.NUMPAD_7.__enum__=$t,$t.NUMPAD_8=["NUMPAD_8",38],$t.NUMPAD_8.toString=s,$t.NUMPAD_8.__enum__=$t,$t.NUMPAD_9=["NUMPAD_9",39],$t.NUMPAD_9.toString=s,$t.NUMPAD_9.__enum__=$t,$t.NUMPAD_ADD=["NUMPAD_ADD",40],$t.NUMPAD_ADD.toString=s,$t.NUMPAD_ADD.__enum__=$t,$t.NUMPAD_DECIMAL=["NUMPAD_DECIMAL",41],$t.NUMPAD_DECIMAL.toString=s,$t.NUMPAD_DECIMAL.__enum__=$t,$t.NUMPAD_DIVIDE=["NUMPAD_DIVIDE",42],$t.NUMPAD_DIVIDE.toString=s,$t.NUMPAD_DIVIDE.__enum__=$t,$t.NUMPAD_ENTER=["NUMPAD_ENTER",43],$t.NUMPAD_ENTER.toString=s,$t.NUMPAD_ENTER.__enum__=$t,$t.NUMPAD_MULTIPLY=["NUMPAD_MULTIPLY",44],$t.NUMPAD_MULTIPLY.toString=s,$t.NUMPAD_MULTIPLY.__enum__=$t,$t.NUMPAD_SUBTRACT=["NUMPAD_SUBTRACT",45],$t.NUMPAD_SUBTRACT.toString=s,$t.NUMPAD_SUBTRACT.__enum__=$t,$t.PAGE_DOWN=["PAGE_DOWN",46],$t.PAGE_DOWN.toString=s,$t.PAGE_DOWN.__enum__=$t,$t.PAGE_UP=["PAGE_UP",47],$t.PAGE_UP.toString=s,$t.PAGE_UP.__enum__=$t,$t.RIGHT=["RIGHT",48],$t.RIGHT.toString=s,$t.RIGHT.__enum__=$t,$t.SHIFT=["SHIFT",49],$t.SHIFT.toString=s,$t.SHIFT.__enum__=$t,$t.SPACE=["SPACE",50],$t.SPACE.toString=s,$t.SPACE.__enum__=$t,$t.TAB=["TAB",51],$t.TAB.toString=s,$t.TAB.__enum__=$t,$t.UP=["UP",52],$t.UP.toString=s,$t.UP.__enum__=$t,$t.A=["A",53],$t.A.toString=s,$t.A.__enum__=$t,$t.B=["B",54],$t.B.toString=s,$t.B.__enum__=$t,$t.C=["C",55],$t.C.toString=s,$t.C.__enum__=$t,$t.D=["D",56],$t.D.toString=s,$t.D.__enum__=$t,$t.E=["E",57],$t.E.toString=s,$t.E.__enum__=$t,$t.F=["F",58],$t.F.toString=s,$t.F.__enum__=$t,$t.G=["G",59],$t.G.toString=s,$t.G.__enum__=$t,$t.H=["H",60],$t.H.toString=s,$t.H.__enum__=$t,$t.I=["I",61],$t.I.toString=s,$t.I.__enum__=$t,$t.J=["J",62],$t.J.toString=s,$t.J.__enum__=$t,$t.K=["K",63],$t.K.toString=s,$t.K.__enum__=$t,$t.L=["L",64],$t.L.toString=s,$t.L.__enum__=$t,$t.M=["M",65],$t.M.toString=s,$t.M.__enum__=$t,$t.N=["N",66],$t.N.toString=s,$t.N.__enum__=$t,$t.O=["O",67],$t.O.toString=s,$t.O.__enum__=$t,$t.P=["P",68],$t.P.toString=s,$t.P.__enum__=$t,$t.Q=["Q",69],$t.Q.toString=s,$t.Q.__enum__=$t,$t.R=["R",70],$t.R.toString=s,$t.R.__enum__=$t,$t.S=["S",71],$t.S.toString=s,$t.S.__enum__=$t,$t.T=["T",72],$t.T.toString=s,$t.T.__enum__=$t,$t.U=["U",73],$t.U.toString=s,$t.U.__enum__=$t,$t.V=["V",74],$t.V.toString=s,$t.V.__enum__=$t,$t.W=["W",75],$t.W.toString=s,$t.W.__enum__=$t,$t.X=["X",76],$t.X.toString=s,$t.X.__enum__=$t,$t.Y=["Y",77],$t.Y.toString=s,$t.Y.__enum__=$t,$t.Z=["Z",78],$t.Z.toString=s,$t.Z.__enum__=$t,$t.NUMBER_0=["NUMBER_0",79],$t.NUMBER_0.toString=s,$t.NUMBER_0.__enum__=$t,$t.NUMBER_1=["NUMBER_1",80],$t.NUMBER_1.toString=s,$t.NUMBER_1.__enum__=$t,$t.NUMBER_2=["NUMBER_2",81],$t.NUMBER_2.toString=s,$t.NUMBER_2.__enum__=$t,$t.NUMBER_3=["NUMBER_3",82],$t.NUMBER_3.toString=s,$t.NUMBER_3.__enum__=$t,$t.NUMBER_4=["NUMBER_4",83],$t.NUMBER_4.toString=s,$t.NUMBER_4.__enum__=$t,$t.NUMBER_5=["NUMBER_5",84],$t.NUMBER_5.toString=s,$t.NUMBER_5.__enum__=$t,$t.NUMBER_6=["NUMBER_6",85],$t.NUMBER_6.toString=s,$t.NUMBER_6.__enum__=$t,$t.NUMBER_7=["NUMBER_7",86],$t.NUMBER_7.toString=s,$t.NUMBER_7.__enum__=$t,$t.NUMBER_8=["NUMBER_8",87],$t.NUMBER_8.toString=s,$t.NUMBER_8.__enum__=$t,$t.NUMBER_9=["NUMBER_9",88],$t.NUMBER_9.toString=s,$t.NUMBER_9.__enum__=$t,$t.COLON=["COLON",89],$t.COLON.toString=s,$t.COLON.__enum__=$t,$t.EQUALS=["EQUALS",90],$t.EQUALS.toString=s,$t.EQUALS.__enum__=$t,$t.HYPHEN=["HYPHEN",91],$t.HYPHEN.toString=s,$t.HYPHEN.__enum__=$t,$t.SLASH=["SLASH",92],$t.SLASH.toString=s,$t.SLASH.__enum__=$t,$t.TILDE=["TILDE",93],$t.TILDE.toString=s,$t.TILDE.__enum__=$t,$t.SQUARELEFT=["SQUARELEFT",94],$t.SQUARELEFT.toString=s,$t.SQUARELEFT.__enum__=$t,$t.SQUARERIGHT=["SQUARERIGHT",95],$t.SQUARERIGHT.toString=s,$t.SQUARERIGHT.__enum__=$t,$t.BACKSLASH=["BACKSLASH",96],$t.BACKSLASH.toString=s,$t.BACKSLASH.__enum__=$t,$t.APOSTROPHE=["APOSTROPHE",97],$t.APOSTROPHE.toString=s,$t.APOSTROPHE.__enum__=$t,$t.TOPLEFT=["TOPLEFT",98],$t.TOPLEFT.toString=s,$t.TOPLEFT.__enum__=$t,$t.SUB_TYPE=function(t){var e=["SUB_TYPE",99,t];return e.__enum__=$t,e.toString=s,e};var te=e["awe6.interfaces.EMessage"]={__ename__:["awe6","interfaces","EMessage"],__constructs__:["DISPOSE","INIT","PAUSE","RESUME","SUB_TYPE"]};te.DISPOSE=["DISPOSE",0],te.DISPOSE.toString=s,te.DISPOSE.__enum__=te,te.INIT=["INIT",1],te.INIT.toString=s,te.INIT.__enum__=te,te.PAUSE=["PAUSE",2],te.PAUSE.toString=s,te.PAUSE.__enum__=te,te.RESUME=["RESUME",3],te.RESUME.toString=s,te.RESUME.__enum__=te,te.SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=te,e.toString=s,e};var ee=e["awe6.interfaces.EMouseButton"]={__ename__:["awe6","interfaces","EMouseButton"],__constructs__:["LEFT","MIDDLE","RIGHT"]};ee.LEFT=["LEFT",0],ee.LEFT.toString=s,ee.LEFT.__enum__=ee,ee.MIDDLE=["MIDDLE",1],ee.MIDDLE.toString=s,ee.MIDDLE.__enum__=ee,ee.RIGHT=["RIGHT",2],ee.RIGHT.toString=s,ee.RIGHT.__enum__=ee;var se=e["awe6.interfaces.EMouseCursor"]={__ename__:["awe6","interfaces","EMouseCursor"],__constructs__:["ARROW","AUTO","BUTTON","HAND","IBEAM","SUB_TYPE"]};se.ARROW=["ARROW",0],se.ARROW.toString=s,se.ARROW.__enum__=se,se.AUTO=["AUTO",1],se.AUTO.toString=s,se.AUTO.__enum__=se,se.BUTTON=["BUTTON",2],se.BUTTON.toString=s,se.BUTTON.__enum__=se,se.HAND=["HAND",3],se.HAND.toString=s,se.HAND.__enum__=se,se.IBEAM=["IBEAM",4],se.IBEAM.toString=s,se.IBEAM.__enum__=se,se.SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=se,e.toString=s,e};var ie=e["awe6.interfaces.EOverlayButton"]={__ename__:["awe6","interfaces","EOverlayButton"],__constructs__:["BACK","MUTE","UNMUTE","PAUSE","UNPAUSE","SUB_TYPE"]};ie.BACK=["BACK",0],ie.BACK.toString=s,ie.BACK.__enum__=ie,ie.MUTE=["MUTE",1],ie.MUTE.toString=s,ie.MUTE.__enum__=ie,ie.UNMUTE=["UNMUTE",2],ie.UNMUTE.toString=s,ie.UNMUTE.__enum__=ie,ie.PAUSE=["PAUSE",3],ie.PAUSE.toString=s,ie.PAUSE.__enum__=ie,ie.UNPAUSE=["UNPAUSE",4],ie.UNPAUSE.toString=s,ie.UNPAUSE.__enum__=ie,ie.SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=ie,e.toString=s,e};var ne=e["awe6.interfaces.EScene"]={__ename__:["awe6","interfaces","EScene"],__constructs__:["SPLASH","INTRO","SELECT_SESSION","SELECT_STORY","SELECT_LEVEL","INSTRUCTIONS","SETTINGS","MENU","AVATAR","SHOP","REWARDS","LEADERBOARD","GAME","INTERSTITIAL","CINEMATIC","RESULTS","EXIT","TEST","SUB_TYPE"]};ne.SPLASH=["SPLASH",0],ne.SPLASH.toString=s,ne.SPLASH.__enum__=ne,ne.INTRO=["INTRO",1],ne.INTRO.toString=s,ne.INTRO.__enum__=ne,ne.SELECT_SESSION=["SELECT_SESSION",2],ne.SELECT_SESSION.toString=s,ne.SELECT_SESSION.__enum__=ne,ne.SELECT_STORY=["SELECT_STORY",3],ne.SELECT_STORY.toString=s,ne.SELECT_STORY.__enum__=ne,ne.SELECT_LEVEL=["SELECT_LEVEL",4],ne.SELECT_LEVEL.toString=s,ne.SELECT_LEVEL.__enum__=ne,ne.INSTRUCTIONS=["INSTRUCTIONS",5],ne.INSTRUCTIONS.toString=s,ne.INSTRUCTIONS.__enum__=ne,ne.SETTINGS=["SETTINGS",6],ne.SETTINGS.toString=s,ne.SETTINGS.__enum__=ne,ne.MENU=["MENU",7],ne.MENU.toString=s,ne.MENU.__enum__=ne,ne.AVATAR=["AVATAR",8],ne.AVATAR.toString=s,ne.AVATAR.__enum__=ne,ne.SHOP=["SHOP",9],ne.SHOP.toString=s,ne.SHOP.__enum__=ne,ne.REWARDS=["REWARDS",10],ne.REWARDS.toString=s,ne.REWARDS.__enum__=ne,ne.LEADERBOARD=["LEADERBOARD",11],ne.LEADERBOARD.toString=s,ne.LEADERBOARD.__enum__=ne,ne.GAME=["GAME",12],ne.GAME.toString=s,ne.GAME.__enum__=ne,ne.INTERSTITIAL=["INTERSTITIAL",13],ne.INTERSTITIAL.toString=s,ne.INTERSTITIAL.__enum__=ne,ne.CINEMATIC=["CINEMATIC",14],ne.CINEMATIC.toString=s,ne.CINEMATIC.__enum__=ne,ne.RESULTS=["RESULTS",15],ne.RESULTS.toString=s,ne.RESULTS.__enum__=ne,ne.EXIT=["EXIT",16],ne.EXIT.toString=s,ne.EXIT.__enum__=ne,ne.TEST=["TEST",17],ne.TEST.toString=s,ne.TEST.__enum__=ne,ne.SUB_TYPE=function(t){var e=["SUB_TYPE",18,t];return e.__enum__=ne,e.toString=s,e};var re=e["awe6.interfaces.ETextAlign"]={__ename__:["awe6","interfaces","ETextAlign"],__constructs__:["JUSTIFY","LEFT","CENTER","RIGHT"]};re.JUSTIFY=["JUSTIFY",0],re.JUSTIFY.toString=s,re.JUSTIFY.__enum__=re,re.LEFT=["LEFT",1],re.LEFT.toString=s,re.LEFT.__enum__=re,re.CENTER=["CENTER",2],re.CENTER.toString=s,re.CENTER.__enum__=re,re.RIGHT=["RIGHT",3],re.RIGHT.toString=s,re.RIGHT.__enum__=re;var ae=e["awe6.interfaces.ETextStyle"]={__ename__:["awe6","interfaces","ETextStyle"],__constructs__:["BUTTON","BODY","HEADLINE","SUBHEAD","SMALLPRINT","OVERSIZED","SUB_TYPE"]};ae.BUTTON=["BUTTON",0],ae.BUTTON.toString=s,ae.BUTTON.__enum__=ae,ae.BODY=["BODY",1],ae.BODY.toString=s,ae.BODY.__enum__=ae,ae.HEADLINE=["HEADLINE",2],ae.HEADLINE.toString=s,ae.HEADLINE.__enum__=ae,ae.SUBHEAD=["SUBHEAD",3],ae.SUBHEAD.toString=s,ae.SUBHEAD.__enum__=ae,ae.SMALLPRINT=["SMALLPRINT",4],ae.SMALLPRINT.toString=s,ae.SMALLPRINT.__enum__=ae,ae.OVERSIZED=["OVERSIZED",5],ae.OVERSIZED.toString=s,ae.OVERSIZED.__enum__=ae,ae.SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=ae,e.toString=s,e};var _e=function(t){this._context=new createjs.Container,this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,this._context.mouseChildren=!1,this._context.mouseEnabled=!1,b.call(this,t,null,this._context)};e["DEVGRU.AEntity"]=_e,_e.__name__=["DEVGRU","AEntity"],_e.__super__=b,_e.prototype=i(b.prototype,{__class__:_e});var oe=function(t){this._kernel=t,this._tools=this._kernel.tools,this._session=this._kernel.get_session(),this._assets=this._kernel.assets,this._factory=t.factory};e["DEVGRU.AVo"]=oe,oe.__name__=["DEVGRU","AVo"],oe.prototype={__class__:oe};var he=function(t){Ut.call(this,t)};e["DEVGRU.AssetManager"]=he,he.__name__=["DEVGRU","AssetManager"],he.__super__=Ut,he.prototype=i(Ut.prototype,{_init:function(){Ut.prototype._init.call(this),this._factory=this._kernel.factory,this.overlayPauseUp=this._createView(le.OVERLAY_PAUSE_UP),this.overlayPauseOver=this._createView(le.OVERLAY_PAUSE_OVER)},get_buttonOver:function(){return this._createView(le.BUTTON_OVER)},get_buttonUp:function(){return this._createView(le.BUTTON_UP)},get_buttonSmallOver:function(){return this._createView(le.BUTTON_SMALL_OVER)},get_buttonSmallUp:function(){return this._createView(le.BUTTON_SMALL_UP)},_createView:function(t){var e,s=new createjs.Container,i=new createjs.Bitmap(this.getAsset("assets/gui/Buttons.png"));switch(t[1]){case 0:e=new createjs.Rectangle(0,0,200,65);break;case 1:e=new createjs.Rectangle(200,0,200,65);break;case 2:e=new createjs.Rectangle(400,65,100,30);break;case 3:e=new createjs.Rectangle(400,95,100,30);break;case 4:e=new createjs.Rectangle(0,65,65,65);break;case 5:e=new createjs.Rectangle(65,65,65,65);break;case 6:e=new createjs.Rectangle(130,65,65,65);break;case 7:e=new createjs.Rectangle(195,65,65,65);break;case 8:e=new createjs.Rectangle(400,0,50,50);break;case 9:e=new createjs.Rectangle(450,0,50,50)}return i.sourceRect=e,i.cache(0,0,i.sourceRect.width,i.sourceRect.height),s.addChild(i),new Vt(this._kernel,s)},__class__:he});var le=e["DEVGRU.EAsset"]={__ename__:["DEVGRU","EAsset"],__constructs__:["BUTTON_UP","BUTTON_OVER","BUTTON_SMALL_UP","BUTTON_SMALL_OVER","BUTTON_TWITTER_UP","BUTTON_TWITTER_OVER","BUTTON_FACEBOOK_UP","BUTTON_FACEBOOK_OVER","OVERLAY_PAUSE_UP","OVERLAY_PAUSE_OVER"]};le.BUTTON_UP=["BUTTON_UP",0],le.BUTTON_UP.toString=s,le.BUTTON_UP.__enum__=le,le.BUTTON_OVER=["BUTTON_OVER",1],le.BUTTON_OVER.toString=s,le.BUTTON_OVER.__enum__=le,le.BUTTON_SMALL_UP=["BUTTON_SMALL_UP",2],le.BUTTON_SMALL_UP.toString=s,le.BUTTON_SMALL_UP.__enum__=le,le.BUTTON_SMALL_OVER=["BUTTON_SMALL_OVER",3],le.BUTTON_SMALL_OVER.toString=s,le.BUTTON_SMALL_OVER.__enum__=le,le.BUTTON_TWITTER_UP=["BUTTON_TWITTER_UP",4],le.BUTTON_TWITTER_UP.toString=s,le.BUTTON_TWITTER_UP.__enum__=le,le.BUTTON_TWITTER_OVER=["BUTTON_TWITTER_OVER",5],le.BUTTON_TWITTER_OVER.toString=s,le.BUTTON_TWITTER_OVER.__enum__=le,le.BUTTON_FACEBOOK_UP=["BUTTON_FACEBOOK_UP",6],le.BUTTON_FACEBOOK_UP.toString=s,le.BUTTON_FACEBOOK_UP.__enum__=le,le.BUTTON_FACEBOOK_OVER=["BUTTON_FACEBOOK_OVER",7],le.BUTTON_FACEBOOK_OVER.toString=s,le.BUTTON_FACEBOOK_OVER.__enum__=le,le.OVERLAY_PAUSE_UP=["OVERLAY_PAUSE_UP",8],le.OVERLAY_PAUSE_UP.toString=s,le.OVERLAY_PAUSE_UP.__enum__=le,le.OVERLAY_PAUSE_OVER=["OVERLAY_PAUSE_OVER",9],le.OVERLAY_PAUSE_OVER.toString=s,le.OVERLAY_PAUSE_OVER.__enum__=le;var ue=function(t,e,s){this.COLOR_GREY=5789784,this.COLOR_BLACK=0,this.COLOR_WHITE=16777215,this.TEXTSTYLE_HUD_COINS=ae.SUB_TYPE("HUD_COINS"),this.TEXTSTYLE_HUD_TIMER=ae.SUB_TYPE("HUD_TIMER"),this.TEXTSTYLE_HUD_TITLE=ae.SUB_TYPE("HUD_TITLE"),this.TEXTSTYLE_PANEL_STATS=ae.SUB_TYPE("PANEL_STATS"),this.TEXTSTYLE_PANEL_MESSAGE=ae.SUB_TYPE("PANEL_MESSAGE"),this.TEXTSTYLE_PANEL_TITLE=ae.SUB_TYPE("PANEL_TITLE"),this.MESSAGE_FINISH_LINE=te.SUB_TYPE("FINISH_LINE"),Dt.call(this,t,e,s)};e["DEVGRU.Factory"]=ue,ue.__name__=["DEVGRU","Factory"],ue.__super__=Dt,ue.prototype=i(Dt.prototype,{_configurer:function(t){if(null==t&&(t=!1),t){this.id="DEVGRU";var e="1";null!=Rs.getString("revision")&&(e=Rs.getString("revision").split("\n")[0]),this.version=""+e+"",this.author="DEVGRU",this.isDecached=!1,this.width=720,this.height=405,this.joypadTouchType=qt.DPAD,this.bgColor=0,this.startingSceneType=ne.INTRO,this.targetFramerate=30,this.isFixedUpdates=!0}},_launchKernel:function(){Dt.prototype._launchKernel.call(this),this._kernel.set_session(this.createSession("defaultSessionId")),"true"==this._kernel.getConfig("settings.disableEyeCandy")&&this._kernel.set_isEyeCandy(!1)},createAssetManager:function(){return null==this._assets&&(this._assets=new he(this._kernel)),this._assets},createLogger:function(){var t=u.string(this._kernel.getConfig("settings.googleAnalytics.id"));return""!=t?new ce(this._kernel,t):Dt.prototype.createLogger.call(this)},createOverlay:function(){return new is(this._kernel)},createPreloader:function(){return new pe(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){switch(this._kernel.log("scene: "+u.string(t)),t[1]){case 1:return new ms(this._kernel,t);case 4:return new Ts(this._kernel,t);case 5:return new Es(this._kernel,t);case 7:return new ys(this._kernel,t);case 8:return new gs(this._kernel,t);case 9:return new ws(this._kernel,t);case 12:return new fs(this._kernel,t);case 15:return new vs(this._kernel,t)}return Dt.prototype.createScene.call(this,t)},createSceneTransition:function(t,e){return new Ss(this._kernel)},createSession:function(t){return new ge(this._kernel,t)},createTextStyle:function(t){null==t&&(t=ae.BODY);var e,s=this._kernel.getConfig("settings.font.name");if(null==t)e=new Q(s,12,8421504);else switch(t[1]){case 0:e=new Q(s,18,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case 1:e=new Q(s,16,this.COLOR_BLACK,!1,!1,re.LEFT,0,18,0,[]);break;case 2:e=new Q(s,22,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case 3:e=new Q(s,22,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case 4:e=new Q("Arial",11,this.COLOR_GREY,!1,!1,re.CENTER,0,0,0,[]);break;case 5:e=new Q(s,44,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case 6:switch(t[2]){case"HUD_COINS":e=new Q(s,22,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"HUD_TIMER":e=new Q(s,45,this.COLOR_WHITE,!1,!1,re.LEFT,0,0,0,[]);break;case"HUD_TITLE":e=new Q(s,12,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PANEL_MESSAGE":e=new Q(s,12,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case"PANEL_STATS":e=new Q(s,12,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PANEL_TITLE":e=new Q(s,19,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PRELOADER":e=new Q(s,14,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;default:e=null}}return e},getBackSceneType:function(t){switch(t[1]){case 4:return ne.AVATAR;case 12:return ne.SELECT_LEVEL;case 5:case 8:case 9:case 13:case 15:return ne.MENU}return Dt.prototype.getBackSceneType.call(this,t)},getNextSceneType:function(t){switch(t[1]){case 1:return ne.MENU;case 4:return ne.GAME;case 5:case 7:return ne.AVATAR;case 8:case 9:return ne.SELECT_LEVEL;case 12:return ne.RESULTS;case 13:case 15:return ne.SHOP}return Dt.prototype.getNextSceneType.call(this,t)},createCanvas:function(t,e){var s=window.document.createElement("canvas");return s.width=t,s.height=e,s},__class__:ue});var ce=function(t,e){if(this._kernel=t,this._id=e,this._factory=this._kernel.factory,this._isTrackerEnabled=!t.isLocal&&"true"==t.getConfig("settings.googleAnalytics.enabled"),this._isTrackerEnabled)try{this._gaLib=ga,this._gaLib("create",this._id,"auto"),this._gaLib("send","pageview"),bs.trace("Google Analytics enabled with property ID "+this._id,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:39,className:"DEVGRU.LoggerGoogleAnalytics",methodName:"new"})}catch(t){this._isTrackerEnabled=!1,bs.trace("Google Analytics failed with property ID "+this._id,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:44,className:"DEVGRU.LoggerGoogleAnalytics",methodName:"new"})}};e["DEVGRU.LoggerGoogleAnalytics"]=ce,ce.__name__=["DEVGRU","LoggerGoogleAnalytics"],ce.__interfaces__=[ct],ce.prototype={log:function(t){r.substr(u.string(t),0,25);var e=u.string(t).split(": ");this._isTrackerEnabled?this._gaLib("send",{hitType:"event",eventCategory:e[0],eventAction:e[1],eventLabel:e[2]}):bs.trace("Logger:"+u.string([e[0],e[1],e[2]]),{fileName:"LoggerGoogleAnalytics.hx",lineNumber:64,className:"DEVGRU.LoggerGoogleAnalytics",methodName:"log"})},__class__:ce};var de=function(){};e["DEVGRU.Main"]=de,de.__name__=["DEVGRU","Main"],de.main=function(){var t=window.document.getElementById("gameCanvas"),e=Hs.getParams(),s=null!=Ti.lang?e.getReserved("lang"):e.h.lang,i=null==s?"":"assets/__Config_"+s+".xml";t.setAttribute("config",i);var n=new createjs.Stage(t),r=new createjs.Container;n.addChild(r),de.factory=new ue(r,!1,Rs.getString("config"))};var pe=function(t,e,s){Bt.call(this,t,e,s)};e["DEVGRU.Preloader"]=pe,pe.__name__=["DEVGRU","Preloader"],pe.__super__=Bt,pe.prototype=i(Bt.prototype,{_init:function(){this._factory=this._kernel.factory,this._proprietaryAudioFormat="m4a";var t=new createjs.Bitmap("assets/__PreloaderBg.png");Bt.prototype._init.call(this);this._bg=new createjs.Shape,this._bg.graphics.beginFill("#404040"),this._bg.graphics.drawRoundRect(-2,-2,204,14,4),this._bg.graphics.endFill(),this._fg=new createjs.Shape,this._fg.graphics.beginFill("#ffffff"),this._fg.graphics.drawRoundRect(0,0,200,10,4),this._fg.graphics.endFill(),this._bg.x=this._fg.x=.5*(this._kernel.factory.width-200),this._bg.y=this._fg.y=this._kernel.factory.height-20-10-2,this._context.addChild(t),this._context.addChild(this._bg),this._context.addChild(this._fg)},_updater:function(t){null==t&&(t=0),Bt.prototype._updater.call(this,t),this._fg.scaleX=this.get_progress()},_showAudioHoldMessage:function(){var t=new ls(this._kernel,this._kernel.factory.width,20,u.string(this._kernel.getConfig("gui.audioHoldMessage")).toUpperCase(),this._kernel.factory.createTextStyle(ae.SUB_TYPE("PRELOADER")));t.setPosition(0,this._bg.y-6),this.get_view().addChild(t.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},__class__:pe});var ge=function(t,e){Ht.call(this,t,e)};e["DEVGRU.Session"]=ge,ge.__name__=["DEVGRU","Session"],ge.__super__=Ht,ge.prototype=i(Ht.prototype,{_init:function(){this._version=3,Ht.prototype._init.call(this)},_getter:function(){Ht.prototype._getter.call(this),this._upgradeSpeedUnitA=this._getValidatedInteger(this._data.upgradeSpeedUnitA),this._upgradeSteeringUnitA=this._getValidatedInteger(this._data.upgradeSteeringUnitA),this._upgradeAccelerationUnitA=this._getValidatedInteger(this._data.upgradeAccelerationUnitA),this._upgradeBoostUnitA=this._getValidatedInteger(this._data.upgradeBoostUnitA),this._medalLevel1UnitA=this._getValidatedInteger(this._data.medalLevel1UnitA),this._medalLevel2UnitA=this._getValidatedInteger(this._data.medalLevel2UnitA),this._medalLevel3UnitA=this._getValidatedInteger(this._data.medalLevel3UnitA),this._coinsUnitA=this._getValidatedInteger(this._data.coinsUnitA),this._upgradeSpeedUnitB=this._getValidatedInteger(this._data.upgradeSpeedUnitB),this._upgradeSteeringUnitB=this._getValidatedInteger(this._data.upgradeSteeringUnitB),this._upgradeAccelerationUnitB=this._getValidatedInteger(this._data.upgradeAccelerationUnitB),this._upgradeBoostUnitB=this._getValidatedInteger(this._data.upgradeBoostUnitB),this._medalLevel1UnitB=this._getValidatedInteger(this._data.medalLevel1UnitB),this._medalLevel2UnitB=this._getValidatedInteger(this._data.medalLevel2UnitB),this._medalLevel3UnitB=this._getValidatedInteger(this._data.medalLevel3UnitB),this._coinsUnitB=this._getValidatedInteger(this._data.coinsUnitB)},_getValidatedInteger:function(t){return null==t||isNaN(t)?0:t},_setter:function(){Ht.prototype._setter.call(this),this._data.upgradeSpeedUnitA=this._upgradeSpeedUnitA,this._data.upgradeSteeringUnitA=this._upgradeSteeringUnitA,this._data.upgradeAccelerationUnitA=this._upgradeAccelerationUnitA,this._data.upgradeBoostUnitA=this._upgradeBoostUnitA,this._data.medalLevel1UnitA=this._medalLevel1UnitA,this._data.medalLevel2UnitA=this._medalLevel2UnitA,this._data.medalLevel3UnitA=this._medalLevel3UnitA,this._data.coinsUnitA=this._coinsUnitA,this._data.upgradeSpeedUnitB=this._upgradeSpeedUnitB,this._data.upgradeSteeringUnitB=this._upgradeSteeringUnitB,this._data.upgradeAccelerationUnitB=this._upgradeAccelerationUnitB,this._data.upgradeBoostUnitB=this._upgradeBoostUnitB,this._data.medalLevel1UnitB=this._medalLevel1UnitB,this._data.medalLevel2UnitB=this._medalLevel2UnitB,this._data.medalLevel3UnitB=this._medalLevel3UnitB,this._data.coinsUnitB=this._coinsUnitB},_resetter:function(){Ht.prototype._resetter.call(this),this.cache=new fe(this._kernel),this.resetUnit(Ce.UNIT_A),this.resetUnit(Ce.UNIT_B)},resetUnit:function(t){switch(t[1]){case 0:this._upgradeSpeedUnitA=0,this._upgradeSteeringUnitA=0,this._upgradeAccelerationUnitA=0,this._upgradeBoostUnitA=0,this._medalLevel1UnitA=0,this._medalLevel2UnitA=0,this._medalLevel3UnitA=0,this._coinsUnitA=0;break;case 1:this._upgradeSpeedUnitB=0,this._upgradeSteeringUnitB=0,this._upgradeAccelerationUnitB=0,this._upgradeBoostUnitB=0,this._medalLevel1UnitB=0,this._medalLevel2UnitB=0,this._medalLevel3UnitB=0,this._coinsUnitB=0}},setCoins:function(t,e){switch(null==t&&(t=this.cache.unitType),t[1]){case 0:return this._coinsUnitA=e;case 1:return this._coinsUnitB=e}},getCoins:function(t){var e;switch(null==t&&(t=this.cache.unitType),t[1]){case 0:e=this._coinsUnitA;break;case 1:e=this._coinsUnitB}return 0|Math.min(99999,e)},setMedal:function(t,e,s){switch(null==e&&(e=this.cache.unitType),e[1]){case 0:switch(t[1]){case 0:this._medalLevel1UnitA=0|Math.max(this._medalLevel1UnitA,s[1]);break;case 1:this._medalLevel2UnitA=0|Math.max(this._medalLevel2UnitA,s[1]);break;case 2:this._medalLevel3UnitA=0|Math.max(this._medalLevel3UnitA,s[1])}break;case 1:switch(t[1]){case 0:this._medalLevel1UnitB=0|Math.max(this._medalLevel1UnitB,s[1]);break;case 1:this._medalLevel2UnitB=0|Math.max(this._medalLevel2UnitB,s[1]);break;case 2:this._medalLevel3UnitB=0|Math.max(this._medalLevel3UnitB,s[1])}}},getMedal:function(t,e){switch(null==e&&(e=this.cache.unitType),e[1]){case 0:switch(t[1]){case 0:return g.createEnumIndex(Se,this._medalLevel1UnitA,null);case 1:return g.createEnumIndex(Se,this._medalLevel2UnitA,null);case 2:return g.createEnumIndex(Se,this._medalLevel3UnitA,null)}break;case 1:switch(t[1]){case 0:return g.createEnumIndex(Se,this._medalLevel1UnitB,null);case 1:return g.createEnumIndex(Se,this._medalLevel2UnitB,null);case 2:return g.createEnumIndex(Se,this._medalLevel3UnitB,null)}}},setUpgrade:function(t,e,s){switch(null==e&&(e=this.cache.unitType),s<0&&(s=0),s>8&&(s=8),e[1]){case 0:switch(t[1]){case 0:this._upgradeSpeedUnitA=s;break;case 1:this._upgradeSteeringUnitA=s;break;case 2:this._upgradeAccelerationUnitA=s;break;case 3:this._upgradeBoostUnitA=s}break;case 1:switch(t[1]){case 0:this._upgradeSpeedUnitB=s;break;case 1:this._upgradeSteeringUnitB=s;break;case 2:this._upgradeAccelerationUnitB=s;break;case 3:this._upgradeBoostUnitB=s}}},getUpgrade:function(t,e){switch(null==e&&(e=this.cache.unitType),e[1]){case 0:switch(t[1]){case 0:return this._upgradeSpeedUnitA;case 1:return this._upgradeSteeringUnitA;case 2:return this._upgradeAccelerationUnitA;case 3:return this._upgradeBoostUnitA}break;case 1:switch(t[1]){case 0:return this._upgradeSpeedUnitB;case 1:return this._upgradeSteeringUnitB;case 2:return this._upgradeAccelerationUnitB;case 3:return this._upgradeBoostUnitB}}},getUpgradeTitle:function(t){var e;switch(t[1]){case 0:e="gui.upgrades.speed";break;case 1:e="gui.upgrades.steering";break;case 2:e="gui.upgrades.acceleration";break;case 3:e="gui.upgrades.boost"}return u.string(this._kernel.getConfig(e)).toUpperCase()},getMedalTitle:function(t){var e;switch(t[1]){case 0:e="gui.medals.none";break;case 1:e="gui.medals.bronze";break;case 2:e="gui.medals.silver";break;case 3:e="gui.medals.gold"}return u.string(this._kernel.getConfig(e)).toUpperCase()},getMedalFromScore:function(t,e,s,i){return t<e?Se.MEDAL_GOLD:t<s?Se.MEDAL_SILVER:t<i?Se.MEDAL_BRONZE:Se.MEDAL_NONE},setIsTester:function(t){this._isTester=t},get_isTester:function(){return!!this._kernel.isDebug||this._isTester},__class__:ge});var fe=function(t){this._kernel=t,this.totalPlays=0,this.benchmark=0,this.debugMessage="",this.unitType=Ce.UNIT_B,this.levelType=ye.LEVEL_1,this.medalType=Se.MEDAL_NONE};e["DEVGRU._Session._HelperCache"]=fe,fe.__name__=["DEVGRU","_Session","_HelperCache"],fe.prototype={__class__:fe};var Ee=function(t,e){this._trackLength=e,_e.call(this,t)};e["DEVGRU.game.Camera"]=Ee,Ee.__name__=["DEVGRU","game","Camera"],Ee.__super__=_e,Ee.prototype=i(_e.prototype,{_init:function(){_e.prototype._init.call(this),this.drawDistance=80,this.fieldOfView=120,this.fogDensity=5,this.height=1440,this.depth=1/Math.tan(this.fieldOfView/2*Math.PI/180),this.position=0,this.angle=.135},_updater:function(t){null==t&&(t=0),_e.prototype._updater.call(this,t),1==this._updates&&(this.height=5e3);this._tools;this.height=.95*this.height+60|0},increasePosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.position+=t;this._tools;var s,i=this.angle+e,n=i;s=n-1*Math.floor(n/1),this.angle=s},__class__:Ee});var me=function(t){if(this._kernel=t,this.isEnabled=!1,this.motionRelative=0,this._parentOrientation="",this._isIos=new n("iP[ao]d|iPhone","i").match(window.navigator.userAgent),this._isWindows=new n("Windows","").match(window.navigator.userAgent),this._isOrientationApproximation="true"==this._kernel.getConfig("settings.orientationApproximation"),"true"!=this._kernel.getConfig("settings.disableDeviceMotion"))try{this._orientation=this._getOrientation(),window.MessageEvent&&window.addEventListener("message",gi(this,this._onMessage),!1),window.DeviceMotionEvent&&window.addEventListener("devicemotion",gi(this,this._onDeviceMotion),!1),this.isEnabled=!0}catch(t){this.isEnabled=!1}};e["DEVGRU.game.DeviceMotion"]=me,me.__name__=["DEVGRU","game","DeviceMotion"],me.prototype={dispose:function(){this.isEnabled=!1;try{window.MessageEvent&&window.removeEventListener("message",gi(this,this._onMessage),!1),window.DeviceMotionEvent&&window.removeEventListener("devicemotion",gi(this,this._onDeviceMotion),!1)}catch(t){}},_onMessage:function(t){null!=t.data.orientation&&(this._parentOrientation=t.data.orientation)},_onDeviceMotion:function(t){this._orientation=this._getOrientation(),this.motionRelative=0,"landscape"==this._orientation||"landscape-primary"==this._orientation||"90"==this._orientation?(this.motionRelative=t.accelerationIncludingGravity.y,this._isWindows&&(this.motionRelative=-t.accelerationIncludingGravity.x)):"landscape-secondary"==this._orientation||"-90"==this._orientation?(this.motionRelative=-t.accelerationIncludingGravity.y,this._isWindows&&(this.motionRelative=t.accelerationIncludingGravity.x)):"portrait"==this._orientation||"portrait-primary"==this._orientation||"0"==this._orientation?(this.motionRelative=-t.accelerationIncludingGravity.x,this._isWindows&&(this.motionRelative=-t.accelerationIncludingGravity.y)):"portrait-secondary"==this._orientation||"180"==this._orientation?(this.motionRelative=t.accelerationIncludingGravity.x,this._isWindows&&(this.motionRelative=t.accelerationIncludingGravity.y)):this.motionRelative=-t.accelerationIncludingGravity.y,this.motionRelative=Math.max(Math.min(this.motionRelative/3,1),-1)*(this._isIos?-1:1)},_getOrientation:function(){var t="";return""==(t=this._getWindowOrientation(window.top))&&(t=""!=this._parentOrientation?this._parentOrientation:this._isOrientationApproximation?window.innerWidth>window.innerHeight?"90":"0":this._getWindowOrientation(window)),t},_getWindowOrientation:function(t){var e="";try{null!=t.screen.orientation?(e=t.screen.orientation,null!=t.screen.orientation.type&&(e=t.screen.orientation.type)):null!=t.screen.mozOrientation?e=t.screen.mozOrientation:null!=t.screen.msOrientation?e=t.screen.msOrientation:null!=t.orientation&&(e=t.orientation)}catch(t){}return e},__class__:me};var ye=e["DEVGRU.game.ELevel"]={__ename__:["DEVGRU","game","ELevel"],__constructs__:["LEVEL_1","LEVEL_2","LEVEL_3"]};ye.LEVEL_1=["LEVEL_1",0],ye.LEVEL_1.toString=s,ye.LEVEL_1.__enum__=ye,ye.LEVEL_2=["LEVEL_2",1],ye.LEVEL_2.toString=s,ye.LEVEL_2.__enum__=ye,ye.LEVEL_3=["LEVEL_3",2],ye.LEVEL_3.toString=s,ye.LEVEL_3.__enum__=ye;var ve=e["DEVGRU.game.ELocation"]={__ename__:["DEVGRU","game","ELocation"],__constructs__:["LOCATION_A"]};ve.LOCATION_A=["LOCATION_A",0],ve.LOCATION_A.toString=s,ve.LOCATION_A.__enum__=ve;var Se=e["DEVGRU.game.EMedal"]={__ename__:["DEVGRU","game","EMedal"],__constructs__:["MEDAL_NONE","MEDAL_BRONZE","MEDAL_SILVER","MEDAL_GOLD"]};Se.MEDAL_NONE=["MEDAL_NONE",0],Se.MEDAL_NONE.toString=s,Se.MEDAL_NONE.__enum__=Se,Se.MEDAL_BRONZE=["MEDAL_BRONZE",1],Se.MEDAL_BRONZE.toString=s,Se.MEDAL_BRONZE.__enum__=Se,Se.MEDAL_SILVER=["MEDAL_SILVER",2],Se.MEDAL_SILVER.toString=s,Se.MEDAL_SILVER.__enum__=Se,Se.MEDAL_GOLD=["MEDAL_GOLD",3],Se.MEDAL_GOLD.toString=s,Se.MEDAL_GOLD.__enum__=Se;var Te=e["DEVGRU.game.EPose"]={__ename__:["DEVGRU","game","EPose"],__constructs__:["POSE_START1","POSE_START2","POSE_START3","POSE_START4","POSE_START5","POSE_START6","POSE_START7","POSE_SLOW_STRAIGHT","POSE_SLOW_TURN1","POSE_SLOW_TURN2","POSE_SLOW_TURN3","POSE_FAST_STRAIGHT","POSE_FAST_TURN1","POSE_FAST_TURN2","POSE_FAST_TURN3"]};Te.POSE_START1=["POSE_START1",0],Te.POSE_START1.toString=s,Te.POSE_START1.__enum__=Te,Te.POSE_START2=["POSE_START2",1],Te.POSE_START2.toString=s,Te.POSE_START2.__enum__=Te,Te.POSE_START3=["POSE_START3",2],Te.POSE_START3.toString=s,Te.POSE_START3.__enum__=Te,Te.POSE_START4=["POSE_START4",3],Te.POSE_START4.toString=s,Te.POSE_START4.__enum__=Te,Te.POSE_START5=["POSE_START5",4],Te.POSE_START5.toString=s,Te.POSE_START5.__enum__=Te,Te.POSE_START6=["POSE_START6",5],Te.POSE_START6.toString=s,Te.POSE_START6.__enum__=Te,Te.POSE_START7=["POSE_START7",6],Te.POSE_START7.toString=s,Te.POSE_START7.__enum__=Te,Te.POSE_SLOW_STRAIGHT=["POSE_SLOW_STRAIGHT",7],Te.POSE_SLOW_STRAIGHT.toString=s,Te.POSE_SLOW_STRAIGHT.__enum__=Te,Te.POSE_SLOW_TURN1=["POSE_SLOW_TURN1",8],Te.POSE_SLOW_TURN1.toString=s,Te.POSE_SLOW_TURN1.__enum__=Te,Te.POSE_SLOW_TURN2=["POSE_SLOW_TURN2",9],Te.POSE_SLOW_TURN2.toString=s,Te.POSE_SLOW_TURN2.__enum__=Te,Te.POSE_SLOW_TURN3=["POSE_SLOW_TURN3",10],Te.POSE_SLOW_TURN3.toString=s,Te.POSE_SLOW_TURN3.__enum__=Te,Te.POSE_FAST_STRAIGHT=["POSE_FAST_STRAIGHT",11],Te.POSE_FAST_STRAIGHT.toString=s,Te.POSE_FAST_STRAIGHT.__enum__=Te,Te.POSE_FAST_TURN1=["POSE_FAST_TURN1",12],Te.POSE_FAST_TURN1.toString=s,Te.POSE_FAST_TURN1.__enum__=Te,Te.POSE_FAST_TURN2=["POSE_FAST_TURN2",13],Te.POSE_FAST_TURN2.toString=s,Te.POSE_FAST_TURN2.__enum__=Te,Te.POSE_FAST_TURN3=["POSE_FAST_TURN3",14],Te.POSE_FAST_TURN3.toString=s,Te.POSE_FAST_TURN3.__enum__=Te;var we=e["DEVGRU.game.ERoad"]={__ename__:["DEVGRU","game","ERoad"],__constructs__:["ROAD_NONE","ROAD_LEFT_SHORT","ROAD_LEFT_MEDIUM","ROAD_LEFT_LONG","ROAD_RIGHT_SHORT","ROAD_RIGHT_MEDIUM","ROAD_RIGHT_LONG"]};we.ROAD_NONE=["ROAD_NONE",0],we.ROAD_NONE.toString=s,we.ROAD_NONE.__enum__=we,we.ROAD_LEFT_SHORT=["ROAD_LEFT_SHORT",1],we.ROAD_LEFT_SHORT.toString=s,we.ROAD_LEFT_SHORT.__enum__=we,we.ROAD_LEFT_MEDIUM=["ROAD_LEFT_MEDIUM",2],we.ROAD_LEFT_MEDIUM.toString=s,we.ROAD_LEFT_MEDIUM.__enum__=we,we.ROAD_LEFT_LONG=["ROAD_LEFT_LONG",3],we.ROAD_LEFT_LONG.toString=s,we.ROAD_LEFT_LONG.__enum__=we,we.ROAD_RIGHT_SHORT=["ROAD_RIGHT_SHORT",4],we.ROAD_RIGHT_SHORT.toString=s,we.ROAD_RIGHT_SHORT.__enum__=we,we.ROAD_RIGHT_MEDIUM=["ROAD_RIGHT_MEDIUM",5],we.ROAD_RIGHT_MEDIUM.toString=s,we.ROAD_RIGHT_MEDIUM.__enum__=we,we.ROAD_RIGHT_LONG=["ROAD_RIGHT_LONG",6],we.ROAD_RIGHT_LONG.toString=s,we.ROAD_RIGHT_LONG.__enum__=we;var Ae=e["DEVGRU.game.EScenery"]={__ename__:["DEVGRU","game","EScenery"],__constructs__:["SCENERY_COIN","SCENERY_START_LEFT","SCENERY_START_RIGHT","SCENERY_FINISH_LEFT","SCENERY_FINISH_RIGHT","SCENERY_TUNNEL_1_LEFT","SCENERY_TUNNEL_1_RIGHT","SCENERY_TUNNEL_2_LEFT","SCENERY_TUNNEL_2_RIGHT","SCENERY_FLOODLIGHT","SCENERY_SIDING_LEFT","SCENERY_SIDING_RIGHT","SCENERY_TREE_1","SCENERY_TREE_2","SCENERY_BANNER_LEFT","SCENERY_BANNER_RIGHT","SCENERY_HILL_1","SCENERY_HILL_2","SCENERY_GATE_1_LEFT","SCENERY_GATE_1_RIGHT","SCENERY_GATE_2_LEFT","SCENERY_GATE_2_RIGHT","SCENERY_SNOW_1","SCENERY_SNOW_2","SCENERY_STADIUM_LEFT","SCENERY_STADIUM_RIGHT"]};Ae.SCENERY_COIN=["SCENERY_COIN",0],Ae.SCENERY_COIN.toString=s,Ae.SCENERY_COIN.__enum__=Ae,Ae.SCENERY_START_LEFT=["SCENERY_START_LEFT",1],Ae.SCENERY_START_LEFT.toString=s,Ae.SCENERY_START_LEFT.__enum__=Ae,Ae.SCENERY_START_RIGHT=["SCENERY_START_RIGHT",2],Ae.SCENERY_START_RIGHT.toString=s,Ae.SCENERY_START_RIGHT.__enum__=Ae,Ae.SCENERY_FINISH_LEFT=["SCENERY_FINISH_LEFT",3],Ae.SCENERY_FINISH_LEFT.toString=s,Ae.SCENERY_FINISH_LEFT.__enum__=Ae,Ae.SCENERY_FINISH_RIGHT=["SCENERY_FINISH_RIGHT",4],Ae.SCENERY_FINISH_RIGHT.toString=s,Ae.SCENERY_FINISH_RIGHT.__enum__=Ae,Ae.SCENERY_TUNNEL_1_LEFT=["SCENERY_TUNNEL_1_LEFT",5],Ae.SCENERY_TUNNEL_1_LEFT.toString=s,Ae.SCENERY_TUNNEL_1_LEFT.__enum__=Ae,Ae.SCENERY_TUNNEL_1_RIGHT=["SCENERY_TUNNEL_1_RIGHT",6],Ae.SCENERY_TUNNEL_1_RIGHT.toString=s,Ae.SCENERY_TUNNEL_1_RIGHT.__enum__=Ae,Ae.SCENERY_TUNNEL_2_LEFT=["SCENERY_TUNNEL_2_LEFT",7],Ae.SCENERY_TUNNEL_2_LEFT.toString=s,Ae.SCENERY_TUNNEL_2_LEFT.__enum__=Ae,Ae.SCENERY_TUNNEL_2_RIGHT=["SCENERY_TUNNEL_2_RIGHT",8],Ae.SCENERY_TUNNEL_2_RIGHT.toString=s,Ae.SCENERY_TUNNEL_2_RIGHT.__enum__=Ae,Ae.SCENERY_FLOODLIGHT=["SCENERY_FLOODLIGHT",9],Ae.SCENERY_FLOODLIGHT.toString=s,Ae.SCENERY_FLOODLIGHT.__enum__=Ae,Ae.SCENERY_SIDING_LEFT=["SCENERY_SIDING_LEFT",10],Ae.SCENERY_SIDING_LEFT.toString=s,Ae.SCENERY_SIDING_LEFT.__enum__=Ae,Ae.SCENERY_SIDING_RIGHT=["SCENERY_SIDING_RIGHT",11],Ae.SCENERY_SIDING_RIGHT.toString=s,Ae.SCENERY_SIDING_RIGHT.__enum__=Ae,Ae.SCENERY_TREE_1=["SCENERY_TREE_1",12],Ae.SCENERY_TREE_1.toString=s,Ae.SCENERY_TREE_1.__enum__=Ae,Ae.SCENERY_TREE_2=["SCENERY_TREE_2",13],Ae.SCENERY_TREE_2.toString=s,Ae.SCENERY_TREE_2.__enum__=Ae,Ae.SCENERY_BANNER_LEFT=["SCENERY_BANNER_LEFT",14],Ae.SCENERY_BANNER_LEFT.toString=s,Ae.SCENERY_BANNER_LEFT.__enum__=Ae,Ae.SCENERY_BANNER_RIGHT=["SCENERY_BANNER_RIGHT",15],Ae.SCENERY_BANNER_RIGHT.toString=s,Ae.SCENERY_BANNER_RIGHT.__enum__=Ae,Ae.SCENERY_HILL_1=["SCENERY_HILL_1",16],Ae.SCENERY_HILL_1.toString=s,Ae.SCENERY_HILL_1.__enum__=Ae,Ae.SCENERY_HILL_2=["SCENERY_HILL_2",17],Ae.SCENERY_HILL_2.toString=s,Ae.SCENERY_HILL_2.__enum__=Ae,Ae.SCENERY_GATE_1_LEFT=["SCENERY_GATE_1_LEFT",18],Ae.SCENERY_GATE_1_LEFT.toString=s,Ae.SCENERY_GATE_1_LEFT.__enum__=Ae,Ae.SCENERY_GATE_1_RIGHT=["SCENERY_GATE_1_RIGHT",19],Ae.SCENERY_GATE_1_RIGHT.toString=s,Ae.SCENERY_GATE_1_RIGHT.__enum__=Ae,Ae.SCENERY_GATE_2_LEFT=["SCENERY_GATE_2_LEFT",20],Ae.SCENERY_GATE_2_LEFT.toString=s,Ae.SCENERY_GATE_2_LEFT.__enum__=Ae,Ae.SCENERY_GATE_2_RIGHT=["SCENERY_GATE_2_RIGHT",21],Ae.SCENERY_GATE_2_RIGHT.toString=s,Ae.SCENERY_GATE_2_RIGHT.__enum__=Ae,Ae.SCENERY_SNOW_1=["SCENERY_SNOW_1",22],Ae.SCENERY_SNOW_1.toString=s,Ae.SCENERY_SNOW_1.__enum__=Ae,Ae.SCENERY_SNOW_2=["SCENERY_SNOW_2",23],Ae.SCENERY_SNOW_2.toString=s,Ae.SCENERY_SNOW_2.__enum__=Ae,Ae.SCENERY_STADIUM_LEFT=["SCENERY_STADIUM_LEFT",24],Ae.SCENERY_STADIUM_LEFT.toString=s,Ae.SCENERY_STADIUM_LEFT.__enum__=Ae,Ae.SCENERY_STADIUM_RIGHT=["SCENERY_STADIUM_RIGHT",25],Ae.SCENERY_STADIUM_RIGHT.toString=s,Ae.SCENERY_STADIUM_RIGHT.__enum__=Ae;var Ce=e["DEVGRU.game.EUnit"]={__ename__:["DEVGRU","game","EUnit"],__constructs__:["UNIT_A","UNIT_B"]};Ce.UNIT_A=["UNIT_A",0],Ce.UNIT_A.toString=s,Ce.UNIT_A.__enum__=Ce,Ce.UNIT_B=["UNIT_B",1],Ce.UNIT_B.toString=s,Ce.UNIT_B.__enum__=Ce;var be=e["DEVGRU.game.EUpgrade"]={__ename__:["DEVGRU","game","EUpgrade"],__constructs__:["UPGRADE_SPEED","UPGRADE_STEERING","UPGRADE_ACCELERATION","UPGRADE_BOOST"]};be.UPGRADE_SPEED=["UPGRADE_SPEED",0],be.UPGRADE_SPEED.toString=s,be.UPGRADE_SPEED.__enum__=be,be.UPGRADE_STEERING=["UPGRADE_STEERING",1],be.UPGRADE_STEERING.toString=s,be.UPGRADE_STEERING.__enum__=be,be.UPGRADE_ACCELERATION=["UPGRADE_ACCELERATION",2],be.UPGRADE_ACCELERATION.toString=s,be.UPGRADE_ACCELERATION.__enum__=be,be.UPGRADE_BOOST=["UPGRADE_BOOST",3],be.UPGRADE_BOOST.toString=s,be.UPGRADE_BOOST.__enum__=be;var Re=function(t,e,s){this.index=t,this.offset=e,this.width=s};e["DEVGRU.game.Gate"]=Re,Re.__name__=["DEVGRU","game","Gate"],Re.prototype={__class__:Re};var ke=function(t,e,s,i){null==i&&(i=1),this._kernel=t,this._width=e,this._height=s,this._brightness=i,this._x=0,this._y=0,this._hyp=1.75*Math.sqrt(this._width*this._width+this._height*this._height),this._lenses=[];for(var n=[.75,0,.25,.35,.55,.65,.75,.9,1],r=0,a=n.length;r<a;){var _=r++,o=new Ie;o.deviation=n[_],o.sprite=this._getSprite(_),this._lenses.push(o)}this._spriteSource=this._kernel.assets.getAsset("assets/location/LensFlares.jpg")};e["DEVGRU.game.Lensflare"]=ke,ke.__name__=["DEVGRU","game","Lensflare"],ke.prototype={_getSprite:function(t){var e,s,i={x:0,y:0,w:256,h:256};switch(t){case 1:case 5:e=256;break;case 2:case 6:e=512;break;case 3:case 7:e=768;break;case 0:case 4:e=0;break;default:e=0}switch(i.x=e,t){case 4:case 5:case 6:case 7:s=256;break;default:s=0}return i.y=s,i},draw:function(t,e,s){this._x=(e+256)%1024,this._y=s-64;var i=2*(this._x-.5*this._width),n=2*(this._y-.5*this._height),r=Math.sqrt(i*i+n*n)/this._hyp,a=4*(this._brightness-2.5*r*this._brightness);if(a<0&&(a=0),t.save(),t.globalCompositeOperation="lighter",a>0){t.globalAlpha=a;for(var _=0,o=this._lenses;_<o.length;){var h=o[_];++_;var l=Math.round(this._x+Math.round(h.deviation*-i)-128),u=Math.round(this._y+Math.round(.9*h.deviation*-n)-128);t.drawImage(this._spriteSource,h.sprite.x,h.sprite.y,h.sprite.w,h.sprite.h,l,u,256,256)}}t.restore()},__class__:ke};var Ie=function(){};e["DEVGRU.game._Lensflare._HelperLens"]=Ie,Ie.__name__=["DEVGRU","game","_Lensflare","_HelperLens"],Ie.prototype={__class__:Ie};var Ue=function(t,e,s){oe.call(this,t),this.type=e,this.title=this._getTitle(),this.locationType=this._getLocationType(),this.scoreGold=this._getScoreGold(),this.scoreSilver=this._getScoreSilver(),this.scoreBronze=this._getScoreBronze(),this.medalType=this._session.getMedal(this.type,s),this.isLocked=this._getIsLocked(s),this.isNew=this.medalType==Se.MEDAL_NONE&&!this.isLocked,this.message=this._getMessage(),this.trackLength=this._getTrackLength(),this.trackHills=this._getTrackHills(),this.trackCurves=this._getTrackCurves(),this.gateWidth=this._getGateWidth(),this.gateOffset=this._getGateOffset(),this.gateInterval=this._getGateInterval()};e["DEVGRU.game.LevelVo"]=Ue,Ue.__name__=["DEVGRU","game","LevelVo"],Ue.__super__=oe,Ue.prototype=i(oe.prototype,{_getLocationType:function(){switch(this.type[1]){case 0:case 1:case 2:return ve.LOCATION_A}},_getTitle:function(){var t;switch(this.type[1]){case 0:t="gui.levels.level1";break;case 1:t="gui.levels.level2";break;case 2:t="gui.levels.level3"}return this._kernel.getConfig(t)},_getIsLocked:function(t){switch(this.type[1]){case 0:return!1;case 1:return this._session.getMedal(ye.LEVEL_1,t)[1]<=Se.MEDAL_NONE[1];case 2:return this._session.getMedal(ye.LEVEL_2,t)[1]<=Se.MEDAL_NONE[1]}},_getScoreGold:function(){var t;switch(this.type[1]){case 0:t=28;break;case 1:t=40;break;case 2:t=54}return t*this._factory.targetFramerate},_getScoreSilver:function(){var t;switch(this.type[1]){case 0:t=30;break;case 1:t=47;break;case 2:t=67}return t*this._factory.targetFramerate},_getScoreBronze:function(){var t;switch(this.type[1]){case 0:t=40;break;case 1:t=57;break;case 2:t=77}return t*this._factory.targetFramerate},_getMessage:function(){var t,e=this._kernel.getConfig(this.isLocked?"gui.scenes.selectLevel.messageLocked":"gui.scenes.selectLevel.messageNew");switch(this.type[1]){case 0:t="";break;case 1:t="gui.levels.level1";break;case 2:t="gui.levels.level2"}var s=this._kernel.getConfig(t);return d.replace(e,"__PREVIOUS_LEVEL__",s)},_getTrackLength:function(){switch(this.type[1]){case 0:return 640;case 1:return 960;case 2:return 1280}},_getTrackHills:function(){switch(this.type[1]){case 0:return.35;case 1:return.65;case 2:return 1}},_getTrackCurves:function(){switch(this.type[1]){case 0:return.5;case 1:return.8;case 2:return 1}},_getGateWidth:function(){switch(this.type[1]){case 0:return.8;case 1:return.6;case 2:return.5}},_getGateOffset:function(){switch(this.type[1]){case 0:return 1;case 1:return 1.5;case 2:return 1.9}},_getGateInterval:function(){switch(this.type[1]){case 0:return 64;case 1:return 48;case 2:return 32}},__class__:Ue});var Ne=function(t,e,s){this._levelVo=e,this._unitVo=s,this.type=e.locationType,_e.call(this,t)};e["DEVGRU.game.Location"]=Ne,Ne.__name__=["DEVGRU","game","Location"],Ne.__super__=_e,Ne.prototype=i(_e.prototype,{_init:function(){_e.prototype._init.call(this),this.vo=new Pe(this._kernel,this.type),this.addEntity(this._track=new Fe(this._kernel,this._levelVo,this.vo)),this.addEntity(this._camera=new Ee(this._kernel,this._track.totalDistance)),this.addEntity(this._player=new De(this._kernel,this._unitVo,this._track,this._camera));var t=this._system.isDesktop?1:.7,e=Math.ceil(this._factory.width*t),s=Math.ceil(this._factory.height*t);this.addEntity(this._renderer=new xe(this._kernel,this._track,this._camera,this._player,e,s),null,!0),this._renderer._context.scaleX=this._factory.width/e,this._renderer._context.scaleY=this._factory.height/s},getTime:function(){return this._player.time},getSpeed:function(){return Math.round(144*Math.pow(this._player.speedPerc*(.9975+.025*Math.random()),2.5))},__class__:Ne});var Pe=function(t,e){oe.call(this,t),this.type=e,this.imageHorizon=this._getImageHorizon(),this.imageRoad=this._getImageRoad(),this.bgColor=this._getBgColor(),this.sidingDistance=this._getSidingDistance()};e["DEVGRU.game.LocationVo"]=Pe,Pe.__name__=["DEVGRU","game","LocationVo"],Pe.__super__=oe,Pe.prototype=i(oe.prototype,{_getImageHorizon:function(){return this._assets.getAsset("assets/location/Horizon.jpg")},_getImageRoad:function(){return this._assets.getAsset("assets/location/Snow.png")},_getBgColor:function(){return"#ffffff"},_getSidingDistance:function(){return 2.75},__class__:Pe});var De=function(t,e,s,i){this.unitVo=e,this._track=s,this._camera=i,_e.call(this,t)};e["DEVGRU.game.Player"]=De,De.__name__=["DEVGRU","game","Player"],De.__super__=_e,De.prototype=i(_e.prototype,{_init:function(){_e.prototype._init.call(this),this.x=0,this.y=0,this.z=this._camera.height*this._camera.depth,this.speedPerc=0,this.segment=null,this.percent=0,this._speed=0,this._boost=0,this._impact=0,this.steer=0,this.time=0,this._width=.36,this._prevQuarter=0,this._biasSpeed=this.unitVo.getBias(be.UPGRADE_SPEED,.85,1),this._biasSteering=this.unitVo.getBias(be.UPGRADE_STEERING,.9,1.1),this._biasAcceleration=this.unitVo.getBias(be.UPGRADE_ACCELERATION,.95,1.25),this._biasBoost=this.unitVo.getBias(be.UPGRADE_BOOST,.5,1.02),this._biasCarving=this.unitVo.getBias(be.UPGRADE_STEERING,0,.25),this._maxSpeed=this._factory.targetFramerate*this._track.segmentDistance*.9|0,this._forceAcceleration=this._maxSpeed/6,this._forceBraking=-this._maxSpeed,this._forceCoasting=-this._maxSpeed/10,this._forceOffRoadDeceleration=-this._maxSpeed/1.5,this._forceOffRoadLimit=.09*this._maxSpeed,this._forceCarve=.95,this._deviceMotion=new me(this._kernel),this._deviceMotion.isEnabled=this._deviceMotion.isEnabled&&!this._system.isDesktop,this._kernel.audio.start("Player",Kt.EFFECTS,-1,0,.5,0,!0)},_disposer:function(){_e.prototype._disposer.call(this),this._deviceMotion.dispose(),this._kernel.audio.stop("Player",Kt.EFFECTS),this._kernel.audio.stop("Applause",Kt.EFFECTS)},_updater:function(t){if(null==t&&(t=0),_e.prototype._updater.call(this,t),this._move(t),this._collision(),this._boost*=.925*this._biasBoost,this._impact*=.925*this._biasBoost,this._boost<.05&&(this._boost=0),this._impact<.05&&(this._boost=0),this._kernel.audio.transform("Player",Kt.EFFECTS,.5*this.speedPerc+.5),this.isRaceComplete){var e=this._track.totalDistance-this._camera.position+this.z+6e3;if(e<0){this._tools;var s=3*Math.sin(e/700);this.steer=s>1?1:s<-1?-1:s,this._speed*=.975,this.x*=.975}}else this._camera.position+this.z<this._track.totalDistance?this.time++:(this.isRaceComplete=!0,this._kernel.messenger.sendMessage(this._factory.MESSAGE_FINISH_LINE,this,!1,!1,!0))},_move:function(t){null==t&&(t=0);var e=t/1e3;this.speedPerc=this._speed/this._maxSpeed;var s=3.25*e*this.speedPerc;if(this._deviceMotion.isEnabled&&0!=this._deviceMotion.motionRelative&&!this._kernel.inputs.mouse.getIsButtonDown()&&this._kernel.inputs.mouse.getButtonUpDuration()>1e3){if(this.speedPerc>.05){this._tools;this.steer=.5*this.steer+.5*this._deviceMotion.motionRelative}}else this.steer*=.75,this._kernel.inputs.joypad.getIsButtonDown(Jt.LEFT)?this.steer-=.25:this._kernel.inputs.joypad.getIsButtonDown(Jt.RIGHT)&&(this.steer+=.25);this.x+=s*this._biasSteering*this.steer;this._tools;var i=this.steer;this.steer=i>1?1:i<-1?-1:i,this._speed=He.easeIn(this._speed,this._speed*this._forceCarve,this.steer*(1-this._biasCarving)),this._updates%8==0&&Math.abs(this.steer)>.1&&this._kernel.audio.start("Carve"+(u.random(4)+1),Kt.EFFECTS,0,0,Math.abs(this.steer)*this.speedPerc*.25,0,!0),this._age>500||this._kernel.inputs.joypad.getIsButtonDown(Jt.UP)?this._speed=He.accelerate(this._speed,this._biasAcceleration*this._forceAcceleration,e):this._kernel.inputs.joypad.getIsButtonDown(Jt.DOWN)?this._speed=He.accelerate(this._speed,this._forceBraking,e):this._speed=He.accelerate(this._speed,this._forceCoasting,e),(this.x<-1||this.x>1)&&this._speed>this._forceOffRoadLimit&&(this._speed=He.accelerate(this._speed,this._forceOffRoadDeceleration,e),this.steer-=(1-this.speedPerc)*this.x*.125),this.x-=s*this.speedPerc*this._track.findSegment(this._camera.position).curve*.05;this._tools;var n=this.x;this.x=n>1.25?1.25:n<-1.25?-1.25:n;this._tools;var r=this._speed,a=this._biasSpeed*this._maxSpeed;this._speed=r>a?a:r<0?0:r,this._speed+=(this._boost>0?.1:0)*this._maxSpeed,this.segment=this._track.findSegment(this._camera.position+this.z),this.percent=He.percentRemaining(this._camera.position+this.z,this._track.segmentDistance),this.y=He.interpolate(this.segment.position1.worldY,this.segment.position2.worldY,this.percent),this._camera.increasePosition(e*this._speed,-.04*e*this.segment.curve*.25*this.speedPerc);var _=(this.segment.index+this.percent)/this._track.maxSegments,o=Math.round(3.25*_);o>this._prevQuarter&&(this._kernel.audio.start("Cowbells",Kt.EFFECTS,0,0,.5,0,!0),this._prevQuarter=o),_>.8&&(this._isApplause||(this._kernel.audio.start("Applause",Kt.EFFECTS,-1,0,.25,0,!0),this._isApplause=!0),this._kernel.audio.transform("Applause",Kt.EFFECTS,5*(_-.8)))},_collision:function(){var t=this._track.segments[this.segment.index+1];if(t.isGate){var e=t.gate,s=e.width-Math.abs(this.x-e.offset);s>.2&&this._activateBoost(),s<.2&&s>-.2&&this._activateImpact(),s<-.2&&this._activateMissGate(),t.isGate=!1}for(var i=0,n=t.scenery;i<n.length;){var a=n[i];++i,a.isCoin&&(r.remove(t.scenery,a),Math.abs(this.x-a.offset)<.165&&this._activateCoin())}},getSprite:function(){var t,e,s=Te.POSE_START1,i=!1,n=this.speedPerc<.01,r=this._updates<80||!n&&this.speedPerc<.1,a=!r&&this.speedPerc<.6,_=!r&&!a;if(n&&(s=Te.POSE_START1),r){var o=[Te.POSE_START1,Te.POSE_START1,Te.POSE_START1,Te.POSE_START2,Te.POSE_START3,Te.POSE_START4,Te.POSE_START5,Te.POSE_START5,Te.POSE_START6,Te.POSE_START7,Te.POSE_START1,Te.POSE_START1,Te.POSE_START1,Te.POSE_START2,Te.POSE_START3,Te.POSE_START4,Te.POSE_START5,Te.POSE_START5,Te.POSE_START6,Te.POSE_START7],h=(this._updates/2|0)%o.length;h>9&&(i=!0),s=o[h]}switch(_&&(s=Te.POSE_FAST_STRAIGHT,this.steer<-.2&&(s=Te.POSE_FAST_TURN1),this.steer<-.75&&(s=Te.POSE_FAST_TURN2),this.steer<-.95&&(s=Te.POSE_FAST_TURN3),this.steer>.2&&(s=Te.POSE_FAST_TURN1),this.steer>.75&&(s=Te.POSE_FAST_TURN2),this.steer>.95&&(s=Te.POSE_FAST_TURN3),this.steer<-.2&&(i=!0)),a&&(s=Te.POSE_SLOW_STRAIGHT,this.steer<-.2&&(s=Te.POSE_SLOW_TURN1),this.steer<-.75&&(s=Te.POSE_SLOW_TURN2),this.steer<-.95&&(s=Te.POSE_SLOW_TURN3),this.steer>.2&&(s=Te.POSE_SLOW_TURN1),this.steer>.75&&(s=Te.POSE_SLOW_TURN2),this.steer>.95&&(s=Te.POSE_SLOW_TURN3),this.steer<-.2&&(i=!0)),s[1]){case 2:case 5:case 8:case 11:case 14:t=2;break;case 0:case 3:case 6:case 9:case 12:t=0;break;case 1:case 4:case 7:case 10:case 13:t=1}switch(s[1]){case 0:case 1:case 2:e=0;break;case 3:case 4:case 5:e=1;break;case 6:case 7:case 8:e=2;break;case 9:case 10:case 11:e=3;break;case 12:case 13:case 14:e=4}return{x:332*t,y:204*e,w:332,h:204,isFlip:i}},_activateBoost:function(){this._boost=1,this._speed=this._maxSpeed+this._boost*this._maxSpeed*.1,this._kernel.audio.start("Carve"+(u.random(4)+1),Kt.EFFECTS,0,0,.5,0,!1)},_activateImpact:function(){this._impact>.5||(this._kernel.overlay.flash(500*this.speedPerc,!0,this.speedPerc,16711680),this._impact=1,this._speed*=.5,this._kernel.audio.start("Collision"+(u.random(2)+1),Kt.EFFECTS,0,0,2*this.speedPerc,0,!0))},_activateMissGate:function(){this._kernel.overlay.flash(1e3,!0,.75,0),this.time+=4*this._factory.targetFramerate,this._kernel.audio.start("MissGate",Kt.EFFECTS,0,0,1,0,!0)},_activateCoin:function(){this._session.setCoins(null,this._session.getCoins()+20)},__class__:De});var Le=function(t,e){this.worldX=0,this.worldY=t,this.worldZ=e,this.cameraX=this.cameraY=this.cameraZ=0,this.screenScale=1,this.screenX=this.screenY=0,this.screenWidth=1};e["DEVGRU.game.Position"]=Le,Le.__name__=["DEVGRU","game","Position"],Le.prototype={__class__:Le};var xe=function(t,e,s,i,n,r){this._track=e,this._camera=s,this._player=i,this._width=n,this._height=r,_e.call(this,t)};e["DEVGRU.game.Renderer"]=xe,xe.__name__=["DEVGRU","game","Renderer"],xe.__super__=_e,xe.prototype=i(_e.prototype,{_init:function(){_e.prototype._init.call(this),this._context.cache(0,0,this._width,this._height);var t=this._context.cacheCanvas;this._canvasBuffer=this._factory.createCanvas(this._width,this._height),this._context2dBuffer=this._canvasBuffer.getContext("2d",null),this._context2d=t.getContext("2d",null),this._context2d.imageSmoothingEnabled=!0,this._imageUnits=this._player.unitVo.imageSprites,this._imageScenery=this._assets.getAsset("assets/location/Scenery.png"),this._imageRoad=this._track.locationVo.imageRoad,this._imageFinishLine=this._assets.getAsset("assets/location/FinishLine.png"),this._imageBoost=this._assets.getAsset("assets/location/Boost.png"),this._imageHorizon=this._track.locationVo.imageHorizon,this._isDrawImageUsingCanvas=this._session.cache.isDrawImageUsingCanvas,this._isDrawImageUsingCanvas&&(this._canvasUnits=this._factory.createCanvas(this._imageUnits.width,this._imageUnits.height),this._canvasUnits.getContext("2d",null).drawImage(this._imageUnits,0,0),this._canvasScenery=this._factory.createCanvas(this._imageScenery.width,this._imageScenery.height),this._canvasScenery.getContext("2d",null).drawImage(this._imageScenery,0,0),this._canvasRoad=this._factory.createCanvas(this._imageRoad.width,this._imageRoad.height),this._canvasRoad.getContext("2d",null).drawImage(this._imageRoad,0,0),this._canvasFinishLine=this._factory.createCanvas(this._imageFinishLine.width,this._imageFinishLine.height),this._canvasFinishLine.getContext("2d",null).drawImage(this._imageFinishLine,0,0),this._canvasBoost=this._factory.createCanvas(this._imageBoost.width,this._imageBoost.height),this._canvasBoost.getContext("2d",null).drawImage(this._imageBoost,0,0),this._canvasHorizon=this._factory.createCanvas(this._imageHorizon.width,this._imageHorizon.height),this._canvasHorizon.getContext("2d",null).drawImage(this._imageHorizon,0,0)),this._framerateBiasTotal=0,this._roadWidth=2e3,this._resolution=this._height/405,this._horizonY=0,this._horizonPattern=this._context2d.createPattern(this._isDrawImageUsingCanvas?this._canvasHorizon:this._imageHorizon,"repeat"),this._maxScanlines=16,this._cameraRotation=0,this._lensflare=new ke(this._kernel,this._width,this._height),this._streaks=new Be(this._kernel,this._width,this._height),this._isLensEffectsEnabled=this._kernel.isEyeCandy&&this._session.cache.benchmark>400,this.c_textureRatio=512/this._track.segmentDistance/16,this._coinSprites=[];for(var e=0;e<32;){var s=e++;this._coinSprites.push({x:s%32*32,y:0,w:32,h:32,isFlip:!1})}},_updater:function(t){(null==t&&(t=0),_e.prototype._updater.call(this,t),this._updates>10)&&(this._framerateBiasTotal+=this._kernel.getFramerate(!0),this._age>1e3&&(this._framerateBiasTotal/(this._updates-10)/this._factory.targetFramerate>.8?this._maxScanlines++:this._maxScanlines=Math.round(.8*this._maxScanlines)));this._tools;var e=this._maxScanlines;this._maxScanlines=0|(e>16?16:e<8?8:e);var s,i,n=this._track.findSegment(this._camera.position),r=He.percentRemaining(this._camera.position,this._track.segmentDistance),a=this._height,_=0,o=-n.curve*r,h=this._camera.position,l=this._camera.drawDistance,u=this._camera.fogDensity,c=(this._tools,this._camera.angle-this._player.x/50),d=c;i=d-1*Math.floor(d/1),this._context2d.globalAlpha=1,this._drawHorizon(i,this._horizonY);for(var p=0,g=l;p<g;){var f=p++;(s=this._track.segments[(n.index+f)%this._track.segments.length]).fog=1/Math.pow(Math.exp(1),Math.pow(f/l,7)*u),s.clip=a;var E=s.position1,m=this._width,y=this._height;E.cameraX=E.worldX-(this._player.x*this._roadWidth-_),E.cameraY=E.worldY-(this._player.y+this._camera.height),E.cameraZ=E.worldZ-h,E.screenScale=this._camera.depth/E.cameraZ,E.screenX=Math.round(m/2+E.screenScale*E.cameraX*m/2),E.screenY=Math.round(y/2-E.screenScale*E.cameraY*y/2),E.screenWidth=Math.round(E.screenScale*this._roadWidth*m/2);var v=s.position2,S=this._width,T=this._height;if(v.cameraX=v.worldX-(this._player.x*this._roadWidth-_-o),v.cameraY=v.worldY-(this._player.y+this._camera.height),v.cameraZ=v.worldZ-h,v.screenScale=this._camera.depth/v.cameraZ,v.screenX=Math.round(S/2+v.screenScale*v.cameraX*S/2),v.screenY=Math.round(T/2-v.screenScale*v.cameraY*T/2),v.screenWidth=Math.round(v.screenScale*this._roadWidth*S/2),_+=o,o+=s.curve,!(s.position1.cameraZ<=this._camera.depth||s.position2.screenY>=s.position1.screenY||s.position2.screenY>=a)){a=s.position2.screenY;var w=s.position1.worldZ,A=(s.position2.worldZ,s.position1.screenWidth),C=s.position2.screenY,b=s.position2.screenWidth,R=s.isFinishLine,k=s.isBoost,I=s.boostPosition;if(C>this._height&&(C=this._height),A=1.3*A|0,b=1.3*b|0,this.c_startX=s.position1.screenX-A,this.c_endX=s.position2.screenX-b,this.c_dx=this.c_endX-this.c_startX,this.c_startY=s.position1.screenY,this.c_endY=C,this.c_endY<=this.c_startY){this.c_dy=0|Math.abs(this.c_endY-this.c_startY),this.c_startW=2*A,this.c_dw=2*(b-A),this.c_startZ=w,this.c_dz=this._track.segmentDistance,this.c_sourceX=0,this.c_sourceY=0,this.c_sourceW=512,this.c_sourceH=1,this.c_destX=0,this.c_destY=this.c_startY,this.c_destW=1,this.c_destH=1,this.c_steps=0|Math.min(this.c_dy,this._maxScanlines),this.c_perc=0,this.c_destHF=Math.floor(this.c_dy/this.c_steps),this.c_destHC=Math.ceil(this.c_dy/this.c_steps),this.c_mod=1,this.c_destHC!=this.c_destHF&&(this.c_mod=Math.round(1/(this.c_destHC-this.c_dy/this.c_steps))),this.c_destH=this.c_destHC,this.c_source=this._isDrawImageUsingCanvas?this._canvasRoad:this._imageRoad,this._context2d.globalAlpha=s.fog;for(var U=0,N=this.c_steps;U<N;){var P=U++;this.c_perc=P/this.c_steps,this.c_sourceY=511-Math.floor((w+150+this.c_perc*this.c_dz)*this.c_textureRatio)%512,this.c_destX=this.c_startX+this.c_perc*this.c_dx|0,this.c_destY-=this.c_destH,this.c_destW=this.c_startW+this.c_perc*this.c_dw|0,this.c_sourceH=this.c_sourceY>512-this.c_destH?1:this.c_destH,this.c_destW>2048&&(this.c_destX+=.5*(this.c_destW-2048)|0,this.c_destW=2048),this.c_destY<this._height&&this.c_destY>-this.c_destH&&(this._context2d.drawImage(this.c_source,this.c_sourceX,this.c_sourceY,this.c_sourceW,this.c_sourceH,this.c_destX,this.c_destY,this.c_destW,this.c_destH),R&&this._context2d.drawImage(this._isDrawImageUsingCanvas?this._canvasFinishLine:this._imageFinishLine,this.c_sourceX,(this.c_sourceY+16)%64,this.c_sourceW,this.c_sourceH,this.c_destX,this.c_destY,this.c_destW,this.c_destH),k&&this._context2d.drawImage(this._isDrawImageUsingCanvas?this._canvasBoost:this._imageBoost,0,(this.c_sourceY+16)%64,64,this.c_sourceH,this.c_destX+(this.c_destW*(.5+.5*I/1.3)-.125*this.c_destW|0),this.c_destY,.25*this.c_destW|0,this.c_destH)),this.c_destH=P%this.c_mod==0?this.c_destHF:this.c_destHC}this.c_destY>this.c_endY&&(this.c_destH=this.c_destY-this.c_endY,this.c_destY-=this.c_destH,this._context2d.drawImage(this.c_source,this.c_sourceX,this.c_sourceY,this.c_sourceW,this.c_sourceH,this.c_destX,this.c_destY,this.c_destW,this.c_destH)),this._context2d.globalAlpha=1}}}this._horizonY=a;for(var D=0,L=0,x=0,O=0,M=null,B=this._isDrawImageUsingCanvas?this._canvasScenery:this._imageScenery,F=this._isDrawImageUsingCanvas?this._canvasUnits:this._imageUnits,G=0,H=l;G<H;){D=l-G++;for(var Y=0,V=(s=this._track.segments[(n.index+D)%this._track.segments.length]).scenery;Y<V.length;){var W=V[Y];++Y,L=s.position1.screenScale,x=s.position1.screenX+L*W.offset*this._roadWidth*(.5*this._width),O=s.position1.screenY,M=W.sprite,W.isCoin&&(M=this._coinSprites[(this._updates+W.seed)%32]),this._drawSprite(B,M,L*W.scale,x,O,-.5,-1,s.clip,s.fog,W.life)}s==this._player.segment&&this._drawPlayer(F)}if(this._isLensEffectsEnabled){this._lensflare.draw(this._context2d,1024*i,this._horizonY-80),this._streaks.draw(this._context2d,this._player.isRaceComplete?0:Math.pow(this._player.speedPerc,4));this._tools;this._cameraRotation=.925*this._cameraRotation+.35*this._player.steer*this._player.speedPerc*.075,this._cameraRotation+=.0015*n.curve,this._drawRotation(this._cameraRotation)}},_drawSprite:function(t,e,s,i,n,r,a,_,o,h){null==h&&(h=1),null==o&&(o=1),null==_&&(_=0),null==a&&(a=0),null==r&&(r=0),s>.002||(this.c_destW=Math.round(e.w*s*this._width*.5*(.003*this._roadWidth)),this.c_destH=Math.round(e.h*s*this._width*.5*(.003*this._roadWidth)),this.c_destW>768||this.c_destH>768||(i=(i+this.c_destW*(r*(e.isFlip?-1:1)))*(e.isFlip?-1:1),n+=this.c_destH*a,this.c_clipH=Math.round(Math.max(0,n+this.c_destH-_+1)),0==_&&(this.c_clipH=0),this.c_clipH<this.c_destH&&(this._context2d.globalAlpha=Math.pow(o,.4)*h,e.isFlip&&this._context2d.scale(-1,1),this._context2d.drawImage(t,e.x,e.y,e.w,e.h-e.h*this.c_clipH/this.c_destH,i,n,this.c_destW,this.c_destH-this.c_clipH),e.isFlip&&this._context2d.scale(-1,1),this._context2d.globalAlpha=1)))},_drawHorizon:function(t,e){null==e&&(e=0),null==t&&(t=0);var s=Math.round(1024*t),i=Math.round(Math.min(e,320));this._context2d.fillStyle=this._horizonPattern,this._context2d.translate(s,i),this._context2d.fillRect(-s,-i,this._width,i),this._context2d.translate(-s,-i),this._context2d.fillStyle=this._track.locationVo.bgColor,this._context2d.fillRect(0,i,this._width,this._height-i)},_drawRotation:function(t,e){null==e&&(e=200),null==t&&(t=0);this._tools;t=t>.35?.35:t<-.35?-.35:t;var s=.5*this._width,i=.75*this._height;this._context2dBuffer.drawImage(this._context.cacheCanvas,0,0);var n=this._canvasBuffer;this._context2d.translate(s,i),this._context2d.rotate(-t),this._context2d.translate(-s,-i),this._context2d.drawImage(n,0,0,this._width,this._height,0,0,this._width,this._height),this._context2d.drawImage(n,0,0,this._width,1,0,1-e,this._width,e),this._context2d.drawImage(n,0,this._height-1,this._width,1,0,this._height-1,this._width,e),this._context2d.drawImage(n,1,0,1,this._height,2-e,0,e,this._height),this._context2d.drawImage(n,this._width-1,0,1,this._height,this._width-1,0,e,this._height),this._context2d.drawImage(n,0,0,1,1,-e,-e,e,e),this._context2d.drawImage(n,this._width-1,0,1,1,this._width,-e,e,e),this._context2d.drawImage(n,0,this._height-1,1,1,-e,this._height-1,e,e),this._context2d.drawImage(n,this._width-1,this._height-1,1,1,this._width,this._height-1,e,e),this._context2d.translate(s,i),this._context2d.rotate(t),this._context2d.translate(-s,-i)},_drawPlayer:function(t){var e=this._camera.depth/this._player.z,s=.5*this._width,i=.5*this._height-e*He.interpolate(this._player.segment.position1.cameraY,this._player.segment.position2.cameraY,this._player.percent)*(.5*this._height),n=3*Math.random()*this._player.speedPerc*this._resolution*(Math.random()<.5?-1:1);this._drawSprite(t,this._player.getSprite(),.7*e,s,i+n+25,-.5,-1)},__class__:xe});var Oe=function(t,e,s,i){null==i&&(i=1),null==s&&(s=0),this.configure(t,e,s,i),this.seed=u.random(32)};e["DEVGRU.game.Scenery"]=Oe,Oe.__name__=["DEVGRU","game","Scenery"],Oe.prototype={_getWidth:function(){return 0},_getScale:function(){switch(this.type[1]){case 0:return 2;case 1:case 3:case 5:case 7:return 2.61;case 2:case 4:case 6:case 8:return 2.61;case 9:return 2;case 10:case 11:return 1;case 12:case 13:return 4*Math.pow(Math.random(),.2);case 14:case 15:return 3;case 16:case 17:return 5*Math.pow(Math.random(),.2);case 18:case 19:case 20:case 21:return 1.25;case 22:case 23:return 2*Math.pow(Math.random(),.1);case 24:case 25:return 6}},_getSprite:function(){switch(this.type[1]){case 0:return{x:0,y:0,w:32,h:32,isFlip:!1};case 1:return{x:0,y:32,w:256,h:224,isFlip:!1};case 2:return{x:256,y:32,w:256,h:224,isFlip:!1};case 3:return{x:512,y:32,w:256,h:224,isFlip:!1};case 4:return{x:768,y:32,w:256,h:224,isFlip:!1};case 5:return{x:0,y:288,w:256,h:224,isFlip:!1};case 6:return{x:256,y:288,w:256,h:224,isFlip:!1};case 7:return{x:512,y:288,w:256,h:224,isFlip:!1};case 8:return{x:768,y:288,w:256,h:224,isFlip:!1};case 9:return{x:14,y:512,w:100,h:512,isFlip:!1};case 10:return{x:128,y:512,w:128,h:256,isFlip:!1};case 11:return{x:128,y:768,w:128,h:256,isFlip:!1};case 12:return{x:314,y:512,w:140,h:256,isFlip:Math.random()<.5};case 13:return{x:555,y:512,w:170,h:256,isFlip:Math.random()<.5};case 14:return{x:800,y:512,w:64,h:256,isFlip:!1};case 15:return{x:928,y:512,w:64,h:256,isFlip:!1};case 16:return{x:266,y:768,w:236,h:128,isFlip:Math.random()<.5};case 17:return{x:266,y:976,w:236,h:48,isFlip:Math.random()<.5};case 18:return{x:520,y:768,w:112,h:128,isFlip:!1};case 19:return{x:648,y:768,w:112,h:128,isFlip:!1};case 20:return{x:520,y:896,w:112,h:128,isFlip:!1};case 21:return{x:648,y:896,w:112,h:128,isFlip:!1};case 22:return{x:768,y:864,w:128,h:32,isFlip:Math.random()<.5};case 23:return{x:896,y:864,w:128,h:32,isFlip:Math.random()<.5};case 24:return{x:768,y:896,w:128,h:128,isFlip:!1};case 25:return{x:896,y:896,w:128,h:128,isFlip:!1}}},configure:function(t,e,s,i){null==i&&(i=1),null==s&&(s=0),this.offset=e,this.life=i,this.perc=s,this.type!=t&&(this.type=t,this.scale=this._getScale(),this.width=this._getWidth(),this.isCoin=this.type==Ae.SCENERY_COIN,this.sprite=this._getSprite())},__class__:Oe};var Me=function(t,e,s,i,n){this.index=t,this.position1=e,this.position2=s,this.curve=i,this.scenery=null!=n?n:[],this.gate=null,this.fog=0,this.clip=0,this.isFinishLine=!1,this.isBoost=!1,this.isGate=!1,this.boostPosition=0};e["DEVGRU.game.Segment"]=Me,Me.__name__=["DEVGRU","game","Segment"],Me.prototype={setBoost:function(t){this.isBoost=!0,this.boostPosition=t},setGate:function(t,e,s){this.isGate=!0,this.gate=new Re(this.index,t,e),this.scenery.unshift(new Oe(s?Ae.SCENERY_GATE_1_LEFT:Ae.SCENERY_GATE_2_LEFT,t-e)),this.scenery.unshift(new Oe(s?Ae.SCENERY_GATE_1_RIGHT:Ae.SCENERY_GATE_2_RIGHT,t+e))},__class__:Me};var Be=function(t,e,s){this._TEXTURE_HEIGHT=405,this._TEXTURE_WIDTH=720,this._kernel=t,this._width=e,this._height=s,this._texture=this._kernel.assets.getAsset("assets/location/Streaks.png")};e["DEVGRU.game.Streaks"]=Be,Be.__name__=["DEVGRU","game","Streaks"],Be.prototype={draw:function(t,e){if(null==e&&(e=1),!(e<=.25)){var s=e*(.5*Math.random()+.5);t.save(),t.globalAlpha=s,Math.random()<.5&&(t.translate(this._width,0),t.scale(-1,1)),Math.random()<.5&&(t.translate(0,this._height),t.scale(1,-1)),t.scale(this._width/this._TEXTURE_WIDTH,this._height/this._TEXTURE_HEIGHT),t.drawImage(this._texture,0,0),t.globalAlpha=1,t.restore()}},__class__:Be};var Fe=function(t,e,s){this.levelVo=e,this.locationVo=s,_e.call(this,t)};e["DEVGRU.game.Track"]=Fe,Fe.__name__=["DEVGRU","game","Track"],Fe.__super__=_e,Fe.prototype=i(_e.prototype,{_init:function(){_e.prototype._init.call(this),this.maxSegments=this.levelVo.trackLength;this._tools;for(this.maxSegments%2==0&&this.maxSegments++,this._kernel.isDebug&&(this.maxSegments=100),this.segmentDistance=300,this.segments=[],this._addRoad(0,32,0,0,-20),this._addRoad(0,64,0,0,-30);this.segments.length<this.maxSegments-32;){var t=this._tools.getRandomType(we),e=this._getRoadLength(t),s=this._getRoadCurve(t),i=e*Math.sqrt(Math.random())*-1*this.levelVo.trackHills;this.segments.length+2*e<this.maxSegments-32?this._addRoad(e,e,e,s,i):this._addRoad(0,this.maxSegments-this.segments.length,0,0,.25*-(this.maxSegments-this.segments.length)|0)}this.maxSegments=this.segments.length;for(var n=0;n<10;){n++;this._addRoad(0,30,0,0,30)}for(var r,a=!0,_=0,o=this.segments.length;_<o;){var h=_++;if(Math.abs(h-this.maxSegments)>10){if(h>48&&h<this.maxSegments-32&&h%this.levelVo.gateInterval==8){a=!a;var l=(Math.random()-.5)*this.levelVo.gateOffset;this.segments[h].setGate(l,this.levelVo.gateWidth,a);for(var u=h-6,c=h;u<c;){var d=u++;this.segments[d].setBoost(l)}}!this.levelVo.isNew&&h>16&&h<this.maxSegments+140&&Math.random()<(h<this.maxSegments?.03:0)&&this._addScenery(h,Ae.SCENERY_COIN,2*Math.random()-1)}this._createDefaultScenery(this.segments[h])}this._addScenery(12,Ae.SCENERY_START_LEFT,-1),this._addScenery(12,Ae.SCENERY_START_RIGHT,1),this._addScenery(this.maxSegments,Ae.SCENERY_FINISH_LEFT,-1),this._addScenery(this.maxSegments,Ae.SCENERY_FINISH_RIGHT,1),this.segments[this.maxSegments].isFinishLine=!0;this._tools;r=this.maxSegments%2==0?1:-1,this.segments[this.maxSegments+r].isFinishLine=!0,this.totalDistance=this.maxSegments*this.segmentDistance},findSegment:function(t){return this.segments[Math.floor(t/this.segmentDistance)%this.segments.length]},_getRoadLength:function(t){switch(t[1]){case 0:return 10;case 3:case 6:return 50;case 1:case 4:return 10;case 2:case 5:return 20}},_getRoadCurve:function(t){var e;switch(t[1]){case 0:e=0;break;case 1:e=-10;break;case 2:e=-15;break;case 3:e=-20;break;case 4:e=10;break;case 5:e=15;break;case 6:e=20}return Math.round(e*this.levelVo.trackCurves*.8)},_addRoad:function(t,e,s,i,n){null==n&&(n=0);var r=this._getLastY(),a=r+n*this.segmentDistance;r-=this._getMound(this.segments.length-1);for(var _=t+e+s,o=0,h=t;o<h;){var l=o++;this._addSegment(Math.round(He.easeIn(0,i,l/t)),He.easeInOut(r,a,l/_))}for(var u=0,c=e;u<c;){var d=u++;this._addSegment(i,He.easeInOut(r,a,(t+d)/_))}for(var p=0,g=s;p<g;){var f=p++;this._addSegment(Math.round(He.easeInOut(i,0,f/s)),He.easeInOut(r,a,(t+e+f)/_))}},_addSegment:function(t,e){var s=this.segments.length,i=this._getMound(s);this.segments.push(new Me(s,new Le(this._getLastY(),s*this.segmentDistance),new Le(e+i,(s+1)*this.segmentDistance),t))},_getMound:function(t){var e=250+250*this.levelVo.trackHills,s=0;return s+=Math.sin(t/2.5)*e*.25,s+=Math.sin(t/3.1)*e*.25,s+=Math.sin(t/5)*e*.5,s+=Math.cos(t/6)*e,s+=Math.cos(t/6.5)*-e,s+=Math.cos(t/7)*-e},_getLastY:function(){return 0==this.segments.length?0:this.segments[this.segments.length-1].position2.worldY},_createDefaultScenery:function(t){var e=t.index;e%10==0&&(Math.random()<.4&&((t.curve>2||e>this.maxSegments||e<64)&&this._addScenery(e,Ae.SCENERY_STADIUM_LEFT,-7.5),(t.curve<-2||e>this.maxSegments||e<64)&&this._addScenery(e,Ae.SCENERY_STADIUM_RIGHT,7.5)));e%2==0&&((t.curve>2||e>this.maxSegments||e<32)&&this._addScenery(e,Ae.SCENERY_SIDING_LEFT,-this.locationVo.sidingDistance),(t.curve<-2||e>this.maxSegments||e<32)&&this._addScenery(e,Ae.SCENERY_SIDING_RIGHT,this.locationVo.sidingDistance));var s=Math.random();e%8==3&&s<.2&&(t.curve<-2&&this._addScenery(e,Ae.SCENERY_BANNER_LEFT,-1.5),t.curve>2&&this._addScenery(e,Ae.SCENERY_BANNER_RIGHT,1.5));var i=Math.random();e%2==0&&i<.2&&this._addScenery(e,Math.random()<.5?Ae.SCENERY_SNOW_1:Ae.SCENERY_SNOW_2,(Math.random()<.5?-1:1)*(2+Math.random()));var n=Math.random();Math.abs(e-this.maxSegments)>32&&e>32&&e%32==0&&n<.4&&(Math.random()<.5?(this._addScenery(e,Ae.SCENERY_TUNNEL_1_LEFT,-1),this._addScenery(e,Ae.SCENERY_TUNNEL_1_RIGHT,1)):(this._addScenery(e,Ae.SCENERY_TUNNEL_2_LEFT,-1),this._addScenery(e,Ae.SCENERY_TUNNEL_2_RIGHT,1))),e%32==8&&this._addScenery(e,Ae.SCENERY_FLOODLIGHT,-2),e%32==24&&this._addScenery(e,Ae.SCENERY_FLOODLIGHT,2);var r=Math.random();e%2==0&&r<(this._system.isDesktop?.25:.1)&&this._addScenery(e,Math.random()<.5?Ae.SCENERY_TREE_1:Ae.SCENERY_TREE_2,(Math.random()<.5?-1:1)*(Math.random()+3.5));var a=Math.random();e%2==1&&a<(this._system.isDesktop?.125:.05)&&this._addScenery(e,Math.random()<.5?Ae.SCENERY_HILL_1:Ae.SCENERY_HILL_2,(Math.random()<.5?-1:1)*(Math.random()+10))},_addScenery:function(t,e,s){this.segments[t].scenery.unshift(new Oe(e,s))},__class__:Fe});var Ge=function(t,e){this._MAX_UPGRADES=8,oe.call(this,t),this.type=e,this.title=this._getTitle(),this.subtitle=this._getSubtitle(),this.imageSprites=this._getImageSprites()};e["DEVGRU.game.UnitVo"]=Ge,Ge.__name__=["DEVGRU","game","UnitVo"],Ge.__super__=oe,Ge.prototype=i(oe.prototype,{_getTitle:function(){var t;switch(this.type[1]){case 0:t="gui.units.unitA.title";break;case 1:t="gui.units.unitB.title"}return this._kernel.getConfig(t)},_getSubtitle:function(){var t;switch(this.type[1]){case 0:t="gui.units.unitA.subtitle";break;case 1:t="gui.units.unitB.subtitle"}return this._kernel.getConfig(t)},_getImageSprites:function(){var t;switch(this.type[1]){case 0:t="assets/location/UnitA.png";break;case 1:t="assets/location/UnitB.png"}return this._assets.getAsset(t)},getDefault:function(t){switch(this.type[1]){case 0:switch(t[1]){case 0:return 5;case 1:return 2;case 2:return 3;case 3:return 4}break;case 1:switch(t[1]){case 0:return 3;case 1:return 5;case 2:return 4;case 3:return 2}}},getUpgrade:function(t){switch(t[1]){case 0:return this._session.getUpgrade(be.UPGRADE_SPEED,this.type);case 1:return this._session.getUpgrade(be.UPGRADE_STEERING,this.type);case 2:return this._session.getUpgrade(be.UPGRADE_ACCELERATION,this.type);case 3:return this._session.getUpgrade(be.UPGRADE_BOOST,this.type)}},getTotal:function(t){var e,s=this._MAX_UPGRADES;switch(t[1]){case 0:e=this.getDefault(be.UPGRADE_SPEED)+this.getUpgrade(be.UPGRADE_SPEED);break;case 1:e=this.getDefault(be.UPGRADE_STEERING)+this.getUpgrade(be.UPGRADE_STEERING);break;case 2:e=this.getDefault(be.UPGRADE_ACCELERATION)+this.getUpgrade(be.UPGRADE_ACCELERATION);break;case 3:e=this.getDefault(be.UPGRADE_BOOST)+this.getUpgrade(be.UPGRADE_BOOST)}return 0|Math.min(s,e)},getAvailable:function(t){switch(t[1]){case 0:return this._MAX_UPGRADES-this.getTotal(be.UPGRADE_SPEED);case 1:return this._MAX_UPGRADES-this.getTotal(be.UPGRADE_STEERING);case 2:return this._MAX_UPGRADES-this.getTotal(be.UPGRADE_ACCELERATION);case 3:return this._MAX_UPGRADES-this.getTotal(be.UPGRADE_BOOST)}},getBias:function(t,e,s){var i=this.getTotal(t);i<0&&(i=0),i>this._MAX_UPGRADES&&(i=this._MAX_UPGRADES);var n=s-e;return e+i/this._MAX_UPGRADES*n},getPercentageComplete:function(){return(this.getTotal(be.UPGRADE_SPEED)+this.getTotal(be.UPGRADE_STEERING)+this.getTotal(be.UPGRADE_ACCELERATION)+this.getTotal(be.UPGRADE_BOOST))/(4*this._MAX_UPGRADES)},__class__:Ge});var He=function(){};e["DEVGRU.game.Util"]=He,He.__name__=["DEVGRU","game","Util"],He.percentRemaining=function(t,e){return t%e/e},He.accelerate=function(t,e,s){return t+e*s},He.interpolate=function(t,e,s){return t+(e-t)*s},He.easeIn=function(t,e,s){return t+(e-t)*Math.pow(s,2)},He.easeInOut=function(t,e,s){return t+(e-t)*(-Math.cos(s*Math.PI)/2+.5)};var Ye=function(t,e,s,i){null==i&&(i=!0),null==s&&(s=100),null==e&&(e=100),this._assets=zs.__cast(t.assets,he),this._factory=zs.__cast(t.factory,ue),this._session=zs.__cast(t.get_session(),ge),this._system=t.system,Wt.call(this,t,e,s,i)};e["DEVGRU.gui.AGuiEntity"]=Ye,Ye.__name__=["DEVGRU","gui","AGuiEntity"],Ye.__super__=Wt,Ye.prototype=i(Wt.prototype,{__class__:Ye});var Ve=function(t){Ye.call(this,t,720,405,!1)};e["DEVGRU.gui.Action"]=Ve,Ve.__name__=["DEVGRU","gui","Action"],Ve.__super__=Ye,Ve.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._context.addChild(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/Action.png")))},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t),this._bitmap.x=30*Math.sin(this._updates/50),this._bitmap.y=10*Math.sin(this._updates/125)},__class__:Ve});var We=function(t,e){this._sceneType=e,Ye.call(this,t,t.factory.width,t.factory.height,!1)};e["DEVGRU.gui.Bg"]=We,We.__name__=["DEVGRU","gui","Bg"],We.__super__=Ye,We.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._texture=this._assets.getAsset("assets/gui/BgDetail.jpg"),this._bitmap=new createjs.Bitmap(this._assets.getAsset(this._getAbstract())),this._bitmap.cache(0,0,this.width,this.height),this._context.addChild(this._bitmap),this._context.addChild(new createjs.Bitmap(this._assets.getAsset(this._getAbstract()))),this._context.addChild(new createjs.Bitmap(this._assets.getAsset(this._getGradient()))),this._canvas=this._bitmap.cacheCanvas,this._context2d=this._canvas.getContext("2d",null),this._pattern=this._context2d.createPattern(this._texture,"repeat"),this._context2d.fillStyle=this._pattern},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t),this._draw()},_draw:function(){var t=-2*this._kernel._updates%this._texture.width,e=10*Math.sin(this._kernel._updates/30)-10;this._context2d.translate(t,e),this._context2d.fillRect(-t,-e,this.width,this.height),this._context2d.translate(-t,-e)},_getAbstract:function(){switch(this._sceneType[1]){case 4:case 9:return"assets/gui/BgAbstract4.png";case 7:return"assets/gui/BgAbstract1.png";case 8:return"assets/gui/BgAbstract2.png";case 15:return"assets/gui/BgAbstract3.png";default:return"assets/gui/BgAbstract4.png"}},_getGradient:function(){switch(this._sceneType[1]){case 7:return"assets/gui/BgGradient1.png";case 4:case 8:return"assets/gui/BgGradient2.png";case 9:return"assets/gui/BgGradient3.png";case 15:return"assets/gui/Vignette.png";default:return"assets/gui/BgGradient3.png"}},__class__:We});var je=function(t,e,s,i,n,r,a,_,o){null==n&&(n=0),null==i&&(i=0);var h=new zt(t),l=new zt(t);k.call(this,t,h,l,e,s,i,n,r,a,_,o)};e["DEVGRU.gui.BlankButton"]=je,je.__name__=["DEVGRU","gui","BlankButton"],je.__super__=k,je.prototype=i(k.prototype,{_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,k.prototype._updater.call(this,t)},__class__:je});var ze=function(t,e,s,i){null==e&&(e=1),this._scale=e,Ye.call(this,t,192,192,!1),this.setPosition(0|s,0|i)};e["DEVGRU.gui.Burst"]=ze,ze.__name__=["DEVGRU","gui","Burst"],ze.__super__=Ye,ze.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);var t=this._scale,e=Math.random()<.5?-1:1;this._context.scaleX=t*e;var s=this._scale,i=Math.random()<.5?-1:1;this._context.scaleY=s*i,this._context.compositeOperation="lighter",this._context.mouseEnabled=!1,this._context.mouseChildren=!1,this._sprite=new createjs.Sprite(this._createSpriteSheet(),0),this._context.addChild(this._sprite),this._drop=0},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t),this._sprite.gotoAndStop(this._updates-1),this._updates>=16&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())),this._drop+=Math.random(),this._context.y+=this._drop},_createSpriteSheet:function(){return new createjs.SpriteSheet({framerate:this._factory.targetFramerate,images:[this._assets.getAsset("assets/gui/Burst.jpg")],frames:{width:192,height:192,count:16,regX:96,regY:96}})},__class__:ze});var Xe=function(t,e,s,i,n,r,a,_){null==i&&(i=0),null==s&&(s=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,this._title=e.toUpperCase(),k.call(this,t,this._assets.get_buttonUp(),this._assets.get_buttonOver(),200,65,s,i,n,r,a,_)};e["DEVGRU.gui.Button"]=Xe,Xe.__name__=["DEVGRU","gui","Button"],Xe.__super__=k,Xe.prototype=i(k.prototype,{_init:function(){k.prototype._init.call(this);var t=19;new n("iP[ao]d|iPhone","i").match(window.navigator.userAgent)&&(t-=2);var e=this.width-10,s=this.height-t,i=this._kernel.factory.createTextStyle(ae.BUTTON);this._textUp=new ls(this._kernel,e,s,this._title,i),this._textOver=new ls(this._kernel,e,s,this._title,i),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(t)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},setTitle:function(t){this._title!=t&&(this._title=t.toUpperCase(),this._textUp.set_text(this._textOver.set_text(this._title)))},onRollOver:function(){k.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Kt.INTERFACE,0,0,.25)},__class__:Xe});var Qe=function(t,e,s,i,n,r,a,_){null==i&&(i=0),null==s&&(s=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,k.call(this,t,this._assets.get_buttonSmallUp(),this._assets.get_buttonSmallOver(),100,30,s,i,n,r,a,_),this.setTitle(e)};e["DEVGRU.gui.ButtonSmall"]=Qe,Qe.__name__=["DEVGRU","gui","ButtonSmall"],Qe.__super__=k,Qe.prototype=i(k.prototype,{_init:function(){k.prototype._init.call(this);var t=6;new n("iP[ao]d|iPhone","i").match(window.navigator.userAgent)&&(t-=2);var e=this.width-10,s=this.height-t,i=this._kernel.factory.createTextStyle(ae.BUTTON);i.size=12,this._textUp=new ls(this._kernel,e,s,this._title,i);var r=this._kernel.factory.createTextStyle(ae.BUTTON);r.size=12,this._textOver=new ls(this._kernel,e,s,this._title,r),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(t)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,k.prototype._updater.call(this,t)},setTitle:function(t){this._title=t,this._title=this._title.toUpperCase(),this._textUp.set_text(this._title),this._textOver.set_text(this._title)},onRollOver:function(){k.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Kt.INTERFACE,0,0,.25)},onClick:function(){k.prototype.onClick.call(this),this.isOver=!1},__class__:Qe});var Ke=function(t,e){null==e&&(e=!0),this._isAnimated=e,Ye.call(this,t,120,32,!1)};e["DEVGRU.gui.Coins"]=Ke,Ke.__name__=["DEVGRU","gui","Coins"],Ke.__super__=Ye,Ke.prototype=i(Ye.prototype,{_init:function(){var t=this;Ye.prototype._init.call(this),this._displayValue=this._prevCoins=this._session.getCoins(),this._isAnimated?(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/location/Scenery.png")),this._bitmap.sourceRect=new createjs.Rectangle(0,0,32,32),this._bitmap.y=3):(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/location/Scenery.png")),this._bitmap.sourceRect=new createjs.Rectangle(320,0,32,32),this._bitmap.cache(0,0,32,32)),this._bitmap.x=this.width-32,this._bitmap.y=3,this._context.addChild(this._bitmap);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new ls(this._kernel,this._bitmap.x-5,20,u.string(this._kernel.getConfig("gui.scenes.game.hud.coins")).toUpperCase(),e,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10),this._message=new ls(this._kernel,this._bitmap.x-5,35,u.string(this._displayValue),this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_COINS)),this._message.setPosition(.85*this._message.width-1,.5*this._message.height+5),this._message._context.regX=.85*this._message.width,this._message._context.regY=.5*this._message.height,this._session.get_isTester()&&this.addEntity(new je(this._kernel,0|this.width,0|this.height,0,0,null,function(){t._session.setCoins(null,t._session.getCoins()+100)}),null,!0,10),this.addEntity(this._message,null,!0,1)},_updater:function(t){null==t&&(t=0);var e=this;if(Ye.prototype._updater.call(this,t),this._isAnimated&&(this._bitmap.sourceRect.x=this._updates%32*32),!(this._age<3e3)){if(this._prevCoins!=this._session.getCoins()){if(this._kernel.audio.start("Coin",Kt.INTERFACE,0,0,.65,null,!1),null!=this._tweezer){var s=this._tweezer;s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer())}this.addEntity(this._tweezer=new ti(this._kernel,function(t){e._message._context.scaleX=e._message._context.scaleY=t},1.75,1,0,1e3,null,Js.EASE_OUT,qs.QUARTIC))}if(this._prevCoins=this._session.getCoins(),this._displayValue!=this._session.getCoins()){this._tools;this._displayValue=Math.round(.9*this._displayValue+.1*this._session.getCoins()),Math.abs(this._displayValue-this._session.getCoins())<5&&(this._displayValue=this._session.getCoins()),this._message.set_text(u.string(this._displayValue))}}},__class__:Ke});var Ze=function(t,e,s){this._MEDAL_WIDTH=100,this._unitType=e,this._medalType=s,Ye.call(this,t,720,405,!1)};e["DEVGRU.gui.Hero"]=Ze,Ze.__name__=["DEVGRU","gui","Hero"],Ze.__super__=Ye,Ze.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._container=new createjs.Container,this._context.addChild(this._container),this._container.addChild(this._bitmap=new createjs.Bitmap(this._assets.getAsset(this._getImage()))),this._medalBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/HeroMedals.png"));var t=this._getMedalCol()*this._MEDAL_WIDTH;this._medalBitmap.sourceRect=new createjs.Rectangle(t,0,this._MEDAL_WIDTH,this.height),this._medalBitmap.x=.5*(this.width-this._MEDAL_WIDTH),this._medalType!=Se.MEDAL_NONE&&this._container.addChild(this._medalBitmap)},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t),this._container.x=10*Math.sin(this._updates/50)},_getImage:function(){switch(this._unitType[1]){case 0:return"assets/gui/HeroUnitA.png";case 1:return"assets/gui/HeroUnitB.png"}},_getMedalCol:function(){switch(this._unitType[1]){case 0:switch(this._medalType[1]){case 0:case 1:return 0;case 2:return 1;case 3:return 2}break;case 1:switch(this._medalType[1]){case 0:return 0;case 1:return 3;case 2:return 4;case 3:return 5}}},__class__:Ze});var Je=function(t,e,s,i,n){this._isCoinsVisible=e,this._scoreGold=s,this._scoreSilver=i,this._scoreBronze=n,Ye.call(this,t,t.factory.width,t.factory.height,!1)};e["DEVGRU.gui.Hud"]=Je,Je.__name__=["DEVGRU","gui","Hud"],Je.__super__=Ye,Je.prototype=i(Ye.prototype,{_init:function(){var t=this;Ye.prototype._init.call(this);var e=new createjs.Bitmap(this._assets.getAsset("assets/gui/Hud.png"));this._context.addChild(e),this._targets=new $e(this._kernel,this._scoreGold,this._scoreSilver,this._scoreBronze),this.addEntity(this._targets,null,!0,10),this._targets.setPosition(40,12),this._timer=new es(this._kernel),this.addEntity(this._timer,null,!0,10),this._timer.setPosition(this._targets.x+100,12),this._coins=new Ke(this._kernel,!1),this.addEntity(this._coins,null,this._isCoinsVisible,10),this._coins.setPosition(this.width-310,12),this._speedo=new qe(this._kernel),this.addEntity(this._speedo,null,!0,10),this._speedo.setPosition(this._coins.x-20,12),this.addEntity(this._instructions=new ss(this._kernel,this._assets.getAsset(this._system.isDesktop?"assets/gui/InstructionsA.png":"assets/gui/InstructionsB.png")),null,!1,9),this._instructions.setPosition((this._factory.width-300)/2,this._factory.height-200);var s=function(e){t._instructions.set_y(e)};this.addEntity(new ti(this._kernel,s,this._factory.height,this._instructions.y,0,1e3,1e3,Js.EASE_OUT,qs.QUARTIC,function(){t.addEntity(new ti(t._kernel,s,t._instructions.y,t._factory.height,0,1e3,0,Js.EASE_IN,qs.BACK(),function(){t._instructions.get_view().set_isVisible(!1)}))})),this.addEntity(new ti(this._kernel,function(e){t._targets.set_y(e)},-100,this._targets.y,2e3,1e3,0,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(e){t._timer.set_y(e)},-100,this._timer.y,2e3,1e3,0,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(e){t._speedo.set_y(e)},-100,this._speedo.y,2e3,1e3,0,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(e){t._coins.set_y(e)},-100,this._coins.y,2e3,1e3,0,Js.EASE_OUT,qs.QUARTIC))},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t)},configureTargets:function(t){this._targets.configure(t)},configureTimer:function(t){this._timer.configure(t)},configureSpeedo:function(t){this._speedo.configure(t)},__class__:Je});var qe=function(t){Ye.call(this,t,220,60,!1)};e["DEVGRU.gui.HudSpeedo"]=qe,qe.__name__=["DEVGRU","gui","HudSpeedo"],qe.__super__=Ye,qe.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new ls(this._kernel,this.width,20,u.string(this._kernel.getConfig("gui.scenes.game.hud.speedo")).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_COINS);this._message=new ls(this._kernel,this.width,20,"55",e,null,null,1),this._message.setPosition(0,6),this.addEntity(this._message,null,!0,10)},configure:function(t){this._prevValue!=t&&(this._prevValue=t,this._message.set_text(null==t?"null":""+t))},__class__:qe});var $e=function(t,e,s,i){this._scoreGold=e,this._scoreSilver=s,this._scoreBronze=i,Ye.call(this,t,110,60,!1)};e["DEVGRU.gui.HudTargets"]=$e,$e.__name__=["DEVGRU","gui","HudTargets"],$e.__super__=Ye,$e.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new ls(this._kernel,this.width,20,u.string(this._kernel.getConfig("gui.scenes.game.hud.targets")).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10);var e=11;this.addEntity(this._targetGold=new ts(this._kernel,Se.MEDAL_GOLD,this._scoreGold,e),null,!0,10),this.addEntity(this._targetSilver=new ts(this._kernel,Se.MEDAL_SILVER,this._scoreSilver,e+=11),null,!0,10),this.addEntity(this._targetBronze=new ts(this._kernel,Se.MEDAL_BRONZE,this._scoreBronze,e+=11),null,!0,10)},configure:function(t){t>=this._scoreGold&&this._targetGold.setIsExpired(),t>=this._scoreSilver&&this._targetSilver.setIsExpired(),t>=this._scoreBronze&&this._targetBronze.setIsExpired()},__class__:$e});var ts=function(t,e,s,i){this._delimeter=".",this._medalType=e,this._score=s,Ye.call(this,t,110,20,!1),this.set_y(i)};e["DEVGRU.gui._HudTargets._HelperTarget"]=ts,ts.__name__=["DEVGRU","gui","_HudTargets","_HelperTarget"],ts.__super__=Ye,ts.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new ls(this._kernel,50,20,this._session.getMedalTitle(this._medalType).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10),this._digits=[];for(var e=55,s=0,i=this._tools.convertUpdatesToFormattedTime(this._score,this._delimeter).split("");s<i.length;){var n=i[s];++s;var r=this._createDigit(n,e,0);this._digits.push(r),this.addEntity(r,null,!0,10),e+=n==this._delimeter?4:8}},_createDigit:function(t,e,s){var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);i.align=re.LEFT;var n=new ls(this._kernel,10,10,t,i);return n.setPosition(e,s),n},setIsExpired:function(){this._context.alpha=.25},__class__:ts});var es=function(t){this._delimeter=".",Ye.call(this,t,220,60,!1)};e["DEVGRU.gui.HudTimer"]=es,es.__name__=["DEVGRU","gui","HudTimer"],es.__super__=Ye,es.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new ls(this._kernel,this.width,20,u.string(this._kernel.getConfig("gui.scenes.game.hud.timer")).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10),this._digits=[];for(var e=33,s=0,i=this._tools.convertUpdatesToFormattedTime(0,this._delimeter).split("");s<i.length;){var n=i[s];++s;var r=this._createDigit(n,e,-4);this._digits.push(r),this.addEntity(r,null,!0,10),e+=n==this._delimeter?10:28}},configure:function(t){if(this._value!=t){this._value=t;for(var e=0,s=0,i=this._tools.convertUpdatesToFormattedTime(this._value,this._delimeter).split("");s<i.length;){var n=i[s];++s,this._digits[e].set_text(n),++e}}},_createDigit:function(t,e,s){var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TIMER),n=new ls(this._kernel,40,40,"",i);return n.setPosition(e,s),n},__class__:es});var ss=function(t,e,s,i){null==i&&(i=1),null==s&&(s=!1),this._imageElement=e,this._isAdd=s,Ye.call(this,t,this._imageElement.width,this._imageElement.height,!1),this.set_alpha(i)};e["DEVGRU.gui.Image"]=ss,ss.__name__=["DEVGRU","gui","Image"],ss.__super__=Ye,ss.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._imageElement),this._context.addChild(this._bitmap),this._bitmap.compositeOperation=this._isAdd?"lighter":"source-over"},set_alpha:function(t){return this._bitmap.alpha=t},__class__:ss});var is=function(t){this._assetManager=zs.__cast(t.assets,he),this._buttonSize=50,Mt.call(this,t,this._buttonSize,this._buttonSize,null,null,null,null,null,null,null,this._assetManager.overlayPauseUp,this._assetManager.overlayPauseOver,null,null,4,0,.85)};e["DEVGRU.gui.Overlay"]=is,is.__name__=["DEVGRU","gui","Overlay"],is.__super__=Mt,is.prototype=i(Mt.prototype,{_init:function(){Mt.prototype._init.call(this);var t=this._kernel.factory.width-this._buttonSize-5;this.positionButton(ie.PAUSE,t,4),this.positionButton(ie.UNPAUSE,-this._buttonSize-10,4),this.positionButton(ie.BACK,-this._buttonSize-10,4),this.positionButton(ie.MUTE,-this._buttonSize-10,4),this.positionButton(ie.UNMUTE,-this._buttonSize-10,4),this._flashView.set_isVisible(!0),this._pauseMenu=new hs(this._kernel),this.set_pauseEntity(this._pauseMenu)},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.compositeOperation=0==i?"source-over":"lighter",Mt.prototype.flash.call(this,t,e,s,i)},_drawPause:function(t){null==t&&(t=!0),Mt.prototype._drawPause.call(this,t),this._pauseMenu.pauseHandler(t)},__class__:is});var ns=function(t,e){this._isSmall=e,Ye.call(this,t,this._isSmall?230:380,this._isSmall?190:240,!1)};e["DEVGRU.gui.Panel"]=ns,ns.__name__=["DEVGRU","gui","Panel"],ns.__super__=Ye,ns.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this.set_y(.5*(this._factory.height-this.height)),this.addEntity(new b(this._kernel,null,this._bgContext=new createjs.Container),null,!0,1),this._bgContext.alpha=.5,this.addEntity(new ss(this._kernel,this._kernel.assets.getAsset(this._isSmall?"assets/gui/PanelSmallBg.png":"assets/gui/PanelBigBg.png")),null,!0,2),this.addEntity(new b(this._kernel,null,this._fgContext=new createjs.Container),null,!0,999),this.addEntity(new ss(this._kernel,this._kernel.assets.getAsset(this._isSmall?"assets/gui/PanelSmallFg.png":"assets/gui/PanelBigFg.png")),null,!0,1e3)},__class__:ns});var rs=function(t,e){this._type=e,ns.call(this,t,!0)};e["DEVGRU.gui.PanelLevel"]=rs,rs.__name__=["DEVGRU","gui","PanelLevel"],rs.__super__=ns,rs.prototype=i(ns.prototype,{_init:function(){ns.prototype._init.call(this),this.vo=new Ue(this._kernel,this._type),this._bgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelLevelBg.png"));var t=this._getBgCol()*this.width;this._bgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._bgContext.addChild(this._bgBitmap),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelLevel.png"));var e=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(e,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);s.spacingVertical=16,this._title=new ls(this._kernel,125,this.height-60,this._getTitle().toUpperCase(),s),this._title.setPosition(0,72),this.addEntity(this._title,null,!0,10);var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);this._message=new ls(this._kernel,this.width-60,this.height-60,this._getMessage().toUpperCase(),i,null,null,.5),this._message.setPosition(30,131),this.addEntity(this._message,null,!0,10)},_getTitle:function(){var t="";return t+=this.vo.title,this.vo.isLocked||this.vo.isNew?this.vo.isNew?t+="\n"+u.string(this._kernel.getConfig("gui.scenes.selectLevel.new")).toUpperCase():this.vo.isLocked&&(t+="\n"+u.string(this._kernel.getConfig("gui.scenes.selectLevel.locked")).toUpperCase()):t+="\n"+this._session.getMedalTitle(this.vo.medalType),t},_getMessage:function(){return this.vo.message},_getBgCol:function(){switch(this._type[1]){case 0:return 0;case 1:return 1;case 2:return 2}},_getFgCol:function(){if(this.vo.isLocked)return 4;switch(this.vo.medalType[1]){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},__class__:rs});var as=function(t,e){this._medalType=e,this._delayInitial=1500,this._delayMedal=750,ns.call(this,t,!0)};e["DEVGRU.gui.PanelResult"]=as,as.__name__=["DEVGRU","gui","PanelResult"],as.__super__=ns,as.prototype=i(ns.prototype,{_init:function(){ns.prototype._init.call(this),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelResult.png")),this._fgBitmap.sourceRect=new createjs.Rectangle(0,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var t,e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);switch(this._message=new ls(this._kernel,this.width-60,this.height-60,this._getMessage().toUpperCase(),e),this._message.setPosition(30,131),this.addEntity(this._message,null,!0,10),this._medalType[1]){case 0:t=[];break;case 1:t=[Se.MEDAL_BRONZE];break;case 2:t=[Se.MEDAL_BRONZE,Se.MEDAL_SILVER];break;case 3:t=[Se.MEDAL_BRONZE,Se.MEDAL_SILVER,Se.MEDAL_GOLD]}for(var s=this._delayInitial,i=0;i<t.length;){var n=t[i];++i,s+=this._delayMedal,this.addEntity(new Xt(this._kernel,function(t,e){return function(){e[0](t[0])}}([n],[gi(this,this._showMedal)]),s))}},_showMedal:function(t){var e=this._getFgCol(t);this._fgBitmap.sourceRect.x=e*this.width;var s=t[1];this.addEntity(new ze(this._kernel,1,40*(s+1),70),null,!0,1e3),this._kernel.overlay.flash(100*s+100,!0,.3*s),s>0&&(this._kernel.audio.start("GameOver",Kt.INTERFACE,1,0,.5*s),this._kernel.audio.start("Medal"+s,Kt.INTERFACE,1,0,.5*s))},_getMessage:function(){var t="";return t+=u.string(this._kernel.getConfig("gui.scenes.results.message"))+" ",t+=this._session.getMedalTitle(this._medalType)+"\n"},_getFgCol:function(t){switch(t[1]){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},__class__:as});var _s=function(t,e){this._type=e,ns.call(this,t,!1)};e["DEVGRU.gui.PanelShop"]=_s,_s.__name__=["DEVGRU","gui","PanelShop"],_s.__super__=ns,_s.prototype=i(ns.prototype,{_init:function(){ns.prototype._init.call(this),this.vo=new Ge(this._kernel,this._type),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelShop.png"));var t=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var e=new Ke(this._kernel);e.setPosition(215,43),this.addEntity(e,null,!0,30);var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);this._message=new ls(this._kernel,112,this.height-60,this._getTitle().toUpperCase(),s,null,null,1),this._message.setPosition(0,50),this.addEntity(this._message,null,!0,10);var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_STATS);this._title=new ls(this._kernel,this._message.width,this.height-60,this._getMessage().toUpperCase(),i,null,null,.5),this._title.setPosition(this._message.x,this._message.y-7),this.addEntity(this._title,null,!0,10);for(var n=86,r=[be.UPGRADE_SPEED,be.UPGRADE_STEERING,be.UPGRADE_ACCELERATION,be.UPGRADE_BOOST],a=0;a<r.length;){var _=r[a];++a;var o=this._createUpgrade(_,this._type,0,n);this.addEntity(o,null,!0,15),n+=0|o.height}},_createUpgrade:function(t,e,s,i){var n=new ds(this._kernel,t,this.vo);return n.setPosition(s,i),n},_getTitle:function(){return this.vo.title},_getMessage:function(){return this.vo.subtitle},_getFgCol:function(){switch(this._type[1]){case 0:return 0;case 1:return 1}},__class__:_s});var os=function(t,e){this._statHeight=12,this._statWidth=8,this._type=e,ns.call(this,t,!0)};e["DEVGRU.gui.PanelUnit"]=os,os.__name__=["DEVGRU","gui","PanelUnit"],os.__super__=ns,os.prototype=i(ns.prototype,{_init:function(){ns.prototype._init.call(this),this.vo=new Ge(this._kernel,this._type),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelUnit.png"));var t=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);this._message=new ls(this._kernel,112,this.height-60,this._getTitle().toUpperCase(),e,null,null,1),this._message.setPosition(0,50),this.addEntity(this._message,null,!0,10);var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_STATS);this._title=new ls(this._kernel,this._message.width,this.height-60,this._getMessage().toUpperCase(),s,null,null,.5),this._title.setPosition(this._message.x,this._message.y-7),this.addEntity(this._title,null,!0,10);for(var i=80,n=[be.UPGRADE_SPEED,be.UPGRADE_STEERING,be.UPGRADE_ACCELERATION,be.UPGRADE_BOOST],r=0;r<n.length;){var a=n[r];++r;var _=this._createBar(a);_.set_y(i),i+=_.height,this.addEntity(_,null,!0,15)}},_createBar:function(t){var e=new Ye(this._kernel,this.width,this._statHeight+2,!1),s=this._title.textStyle.clone();s.size=16;var i=new ls(this._kernel,this._message.width,e.height,this._session.getUpgradeTitle(t).toUpperCase(),s);e.addEntity(i,null,!0,1);for(var n=[],r=0,a=this.vo.getDefault(t);r<a;){r++;n.push(0)}for(var _=0,o=this.vo.getUpgrade(t);_<o;){_++;n.push(1)}for(var h=0,l=this.vo.getAvailable(t);h<l;){h++;n.push(2)}for(;n.length>8;)n.shift();for(var u=123,c=0;c<n.length;){var d=n[c];++c;var p=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelUnit.png"));p.sourceRect=new createjs.Rectangle(2*this.width+d*this._statWidth,0,this._statWidth,this._statHeight),e._context.addChild(p),p.x=u,p.y=7,u+=this._statWidth}return e},_getTitle:function(){return this.vo.title},_getMessage:function(){return this.vo.subtitle},_getFgCol:function(){switch(this._type[1]){case 0:return 0;case 1:return 1}},__class__:os});var hs=function(t){_e.call(this,t)};e["DEVGRU.gui.PauseMenu"]=hs,hs.__name__=["DEVGRU","gui","PauseMenu"],hs.__super__=_e,hs.prototype=i(_e.prototype,{_init:function(){var t=this;_e.prototype._init.call(this),this.addEntity(this._debugText=new ls(this._kernel,this._factory.width-20,20,"",this._factory.createTextStyle(ae.SMALLPRINT),!0,!1,.5),null,!0,2),this._debugText.setPosition(10,this._factory.height-this._debugText.height);var e=(this._kernel.factory.width-200)/2,s=(this._kernel.factory.height-65*(this._isFullScreenSupported()?4:3))/2;this.addEntity(new je(this._kernel,460,50,(this._kernel.factory.width-400)/2,0,null,gi(this,this._pressAuthor)),Qt.ALWAYS,!0,1),this.addEntity(this._logo=new ss(this._kernel,this._kernel.assets.getAsset("assets/gui/PauseBg.png")),null,!0,0),this.addEntity(new Xe(this._kernel,this._kernel.getConfig("gui.buttons.unpause"),e,s,null,function(){t._kernel.overlay.activateButton(ie.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(this._audioButton=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.audioOff"),e,s+=65,null,function(){t._kernel.overlay._wasMute=!t._kernel.overlay._wasMute,t._kernel.overlay.activateButton(ie.UNPAUSE)}),Qt.ALWAYS,!0,1),this._isFullScreenSupported()&&this.addEntity(this._fullScreenButton=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.fullScreenOn"),e,s+=65,null,function(){t._stageClick(),t._kernel.overlay.activateButton(ie.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(new Xe(this._kernel,this._kernel.getConfig("gui.buttons.back"),e,s+=65,null,function(){t._kernel.overlay.activateButton(ie.UNPAUSE),t._kernel.scenes.back()}),Qt.DEFEND,!0,1),this.addEntity(new Xe(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),e,s,null,function(){t._kernel.overlay.activateButton(ie.UNPAUSE),t._pressInstructions()}),Qt.STANDARD,!0,1)},_isFullScreenSupported:function(){try{var t=window.document.documentElement;if(null!=gi(t,t.requestFullscreen))return!0;if(null!=t.msRequestFullscreen)return!0;if(null!=t.mozRequestFullScreen)return!0;if(null!=t.webkitRequestFullscreen)return!0}catch(t){}return!1},_isFullScreenEnabled:function(){try{var t=window.document;return!!t.fullscreenElement||(!!t.mozFullScreenElement||(!!t.webkitFullscreenElement||t.msFullscreenElement))}catch(t){}return!1},_disposer:function(){this._kernel._stage.removeEventListener("click",gi(this,this._stageClick),!0),_e.prototype._disposer.call(this)},_pressInstructions:function(){try{this._kernel.scenes.get_scene()._pressInstructions()}catch(t){this._kernel.scenes.setScene(ne.INSTRUCTIONS)}},_pressAuthor:function(){try{this._kernel.scenes.get_scene()._pressAuthor()}catch(t){}},_updater:function(t){null==t&&(t=0),_e.prototype._updater.call(this,t),this._isFullScreenClicked=!1},pauseHandler:function(t){var e=this;t?(this._audioButton.setTitle(this._kernel.getConfig(this._kernel.audio.isMute?"gui.buttons.audioOn":"gui.buttons.audioOff")),null!=this._fullScreenButton&&this._fullScreenButton.setTitle(this._kernel.getConfig(this._isFullScreenEnabled()?"gui.buttons.fullScreenOff":"gui.buttons.fullScreenOn")),this._kernel._stage.addEventListener("click",gi(this,this._stageClick),!0),this._debugText.set_text(this._factory.id.toLowerCase()+" v"+this._factory.version+" @ "+Math.round(this._kernel.getFramerate())+"fps : "+this._session.cache.debugMessage),this.addEntity(new ti(this._kernel,function(t){e._context.y=t},this._factory.height,0,0,500,null,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(t){e._logo.set_alpha(t)},0,1,2e3,2e3,null,Js.EASE_OUT,qs.QUARTIC))):this._kernel._stage.removeEventListener("click",gi(this,this._stageClick),!0)},_stageClick:function(t){this._kernel.isActive||null!=this._fullScreenButton&&(this._isFullScreenClicked||this._fullScreenButton.isOver&&(this._isFullScreenEnabled()?this._kernel.system.requestExitFullScreen():(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()),this._isFullScreenClicked=!0,null!=t&&t.stopPropagation(),this._kernel.overlay.activateButton(ie.UNPAUSE)))},__class__:hs});var ls=function(t,e,s,i,n,r,a,_){null==_&&(_=1),null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),i=d.replace(i,"<BR/>","\n"),i=d.replace(i,"<br/>","\n"),jt.call(this,t,e,s,i,n,r,a),this.set_alpha(_)};e["DEVGRU.gui.Text"]=ls,ls.__name__=["DEVGRU","gui","Text"],ls.__super__=jt,ls.prototype=i(jt.prototype,{_init:function(){jt.prototype._init.call(this),new n("Firefox","").match(window.navigator.userAgent)&&(this._textField.y+=.25*this.textStyle.size)},set_alpha:function(t){return this._context.alpha=t},__class__:ls});var us=function(t,e,s){this._big=e,this._small=s,Ye.call(this,t,360,200,!1)};e["DEVGRU.gui.TitleBig"]=us,us.__name__=["DEVGRU","gui","TitleBig"],us.__super__=Ye,us.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this);this._textBig=new ls(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.OVERSIZED),!1,!1,1),this._textBig.setPosition(-1,20),this.addEntity(this._textBig,null,!0,1),this._textSmall=new ls(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.SUBHEAD),!1,!1,.5),this._textSmall.setPosition(0,10),this.addEntity(this._textSmall,null,!0,1),this.configure(this._big,this._small)},configure:function(t,e){this._big=t,this._small=e,this._textBig.set_text(this._big.toUpperCase()),this._textSmall.set_text(this._small.toUpperCase())},__class__:us});var cs=function(t,e){this._title=e,Ye.call(this,t,350,40,!1)};e["DEVGRU.gui.TitleSmall"]=cs,cs.__name__=["DEVGRU","gui","TitleSmall"],cs.__super__=Ye,cs.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._text=new ls(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.HEADLINE),!1,!1,1),this._text.setPosition(0,7),this.addEntity(this._text,null,!0,1),this.set_x((this._factory.width-this.width)/2),this.configure(this._title)},configure:function(t){this._title=t,this._title=this._title.toUpperCase(),this._text.set_text(this._title)},__class__:cs});var ds=function(t,e,s){this._statHeight=24,this._statWidth=16,this._MAX_STATS=8,this._type=e,this._unitVo=s,Ye.call(this,t,380,28,!1)};e["DEVGRU.gui.Upgrade"]=ds,ds.__name__=["DEVGRU","gui","Upgrade"],ds.__super__=Ye,ds.prototype=i(Ye.prototype,{_init:function(){Ye.prototype._init.call(this),this._prevCoins=this._session.getCoins();var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE),e=new ls(this._kernel,112,this.height,this._session.getUpgradeTitle(this._type).toUpperCase(),t);e.set_y(-2),this.addEntity(e,null,!0,1),this._bars=new createjs.Container,this._bars.x=123,this._context.addChild(this._bars),this._button=new Qe(this._kernel,"",245,-2,null,gi(this,this.buy)),this._session.get_isTester()&&this.addEntity(new je(this._kernel,this._statWidth*this._MAX_STATS,this._statHeight,this._bars.x,0,null,gi(this,this._reduce)),null,!0,1);var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);this._message=new ls(this._kernel,100,20,"",s,null,null,.5),this._message.setPosition(244,4),this.addEntity(this._message,null,!0,29),this.configure()},_updater:function(t){null==t&&(t=0),Ye.prototype._updater.call(this,t),this._prevCoins!=this._session.getCoins()&&(this._prevCoins=this._session.getCoins(),this.configure())},configure:function(){this._bars.removeAllChildren();var t=this._unitVo.getTotal(this._type),e=this._getPrice(t+1),s=e<=this._session.getCoins();this._button.setTitle(u.string(this._kernel.getConfig("gui.buttons.buy"))+" "+e),t==this._MAX_STATS?(this._button.remove(!0),this._message.set_text(u.string(this._kernel.getConfig("gui.scenes.shop.maxed")).toUpperCase())):s?(this._message.set_text(""),this.addEntity(this._button,null,!0,30)):(this._button.remove(!0),this._message.set_text(null==e?"null":""+e));for(var i=[],n=0,r=this._unitVo.getDefault(this._type);n<r;){n++;i.push(0)}for(var a=0,_=this._unitVo.getUpgrade(this._type);a<_;){a++;i.push(1)}for(var o=0,h=this._unitVo.getAvailable(this._type);o<h;){o++;i.push(2)}for(;i.length>8;)i.shift();for(var l=0,c=0;c<i.length;){var d=i[c];++c;var p=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelShop.png"));p.sourceRect=new createjs.Rectangle(2*this.width+d*this._statWidth,0,this._statWidth,this._statHeight),this._bars.addChild(p),p.x=l,l+=this._statWidth}},_getPrice:function(t){t<0&&(t=0),t>this._MAX_STATS&&(t=this._MAX_STATS);return[0,100,300,500,800,1300,2100,3400,5500][t]},buy:function(){var t=this._unitVo.getTotal(this._type),e=this._getPrice(t+1);e<=this._session.getCoins()&&(this._session.setCoins(null,this._session.getCoins()-e),this._session.setUpgrade(this._type,this._unitType,this._unitVo.getUpgrade(this._type)+1),this.configure(),this._kernel.audio.start("Coin",Kt.INTERFACE,0,0,.5))},_reduce:function(){this._session.setUpgrade(this._type,this._unitType,this._session.getUpgrade(this._type,this._unitType)-1),this.configure()},__class__:ds});var ps=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,W.call(this,t,e,s=!0,i,n)};e["DEVGRU.scenes.AScene"]=ps,ps.__name__=["DEVGRU","scenes","AScene"],ps.__super__=W,ps.prototype=i(W.prototype,{_init:function(){W.prototype._init.call(this),this._easyTweezers=[],this._kernel.overlay.get_pauseEntity().setAgenda(Qt.STANDARD),this._factory.preventDefaultForKeys([$t.SPACE]),this._kernel.audio.start("MusicMenu",Kt.MUSIC,-1,7111,.5,null,!0)},_disposer:function(){this._factory.allowDefaultForKeys([$t.SPACE]),W.prototype._disposer.call(this)},_pressContinue:function(){this._kernel.log("button: continue: "+u.string(this.type)),this._kernel.inputs.keyboard.getIsKeyDown($t.SQUARELEFT)&&this._kernel.inputs.keyboard.getIsKeyDown($t.SQUARERIGHT)&&this._session.setIsTester(!this._session.get_isTester());var t=this._factory.getNextSceneType(this.type);t==ne.SELECT_LEVEL&&this._session.getMedal(ye.LEVEL_1)==Se.MEDAL_NONE&&(t=ne.GAME);var e=gi(di=this._kernel.scenes,di.setScene),s=t;this._outro(function(){e(s)})},_pressInstructions:function(){this._kernel.log("button: instructions");var t=gi(di=this._kernel.scenes,di.setScene);this._outro(function(){t(ne.INSTRUCTIONS)})},_pressWebsite:function(){var t=this;this._kernel.log("url: website"),this._kernel.log("button: website"),Is.delay(function(){var e=t._kernel.getConfig("settings.urls.website");window.top.location.href=u.string(e)},500)},_pressAuthor:function(){var t=this;this._kernel.log("button: author"),Is.delay(function(){var e=t._kernel.getConfig("settings.urls.author");window.top.location.href=u.string(e)},500)},_outro:function(t){this._isOutroCalled||(this._isOutroCalled=!0,null!=t&&t())},_addBg:function(){this.addEntity(new We(this._kernel,this.type),null,!0,1)},_addFg:function(t,e,s,i){null==i&&(i=0),null==s&&(s=""),null==e&&(e="");var n=this;this._fgHeader=new ss(this._kernel,this._assets.getAsset(t?"assets/gui/SceneFgHeader2.png":"assets/gui/SceneFgHeader1.png"));var r=this._fgHeader;r.set_x(r.x-i),this.addEntity(this._fgHeader,null,!0,110),t?this._fgHeader.addEntity(new cs(this._kernel,e),null,!0,1):this._fgHeader.addEntity(new us(this._kernel,e,s),null,!0,1),this._fgFooter=new ss(this._kernel,this._assets.getAsset(t?"assets/gui/SceneFgFooter2.png":"assets/gui/SceneFgFooter1.png")),this.addEntity(this._fgFooter,null,!0,100),this.addEntity(new ti(this._kernel,function(t){n._fgHeader.set_y(t)},-this._factory.height,this._fgHeader.y,500,1e3,null,Js.EASE_OUT,qs.EXPONENTIAL)),this.addEntity(new ti(this._kernel,function(t){n._fgFooter.set_y(t)},this._factory.height,this._fgFooter.y,t?0:750,1e3,null,Js.EASE_OUT,qs.EXPONENTIAL))},_addButtons:function(t,e,s,i,n,r,a){null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),null==t&&(t=1e3);var _=this;this._buttonRight=e,this._buttonLeft=s,this._buttonCenter=i,null!=this._buttonRight&&(this._buttonRight.setPosition(this._factory.width-200-30,this._factory.height-65-13),this.addEntity(this._buttonRight,null,!0,t),this.addEntity(new ti(this._kernel,function(t){_._buttonRight.set_y(t)},this._factory.height+60,this._buttonRight.y,n+1200,2e3,null,Js.EASE_OUT,qs.ELASTIC()))),null!=this._buttonCenter&&(this._buttonCenter.setPosition(.5*(this._factory.width-200),this._factory.height-65-13),this.addEntity(this._buttonCenter,null,!0,t+1),this.addEntity(new ti(this._kernel,function(t){_._buttonCenter.set_y(t)},this._factory.height+60,this._buttonCenter.y,a+1300,2e3,null,Js.EASE_OUT,qs.ELASTIC()))),null!=this._buttonLeft&&(this._buttonLeft.setPosition(30,this._factory.height-65-13),this.addEntity(this._buttonLeft,null,!0,t+2),this.addEntity(new ti(this._kernel,function(t){_._buttonLeft.set_y(t)},this._factory.height+60,this._buttonLeft.y,r+1400,2e3,null,Js.EASE_OUT,qs.ELASTIC())))},_defaultOutro:function(t){var e=this;if(!this._isOutroCalled){this._isOutroCalled=!0;for(var s=0,i=this.getEntitiesByClass(ti);s<i.length;){var n=i[s];++s,n.remove()}this._easyTweez(!1),null!=this._buttonLeft&&this.addEntity(new ti(this._kernel,function(t){e._buttonLeft.set_y(t)},this._buttonLeft.y,this._factory.height,0,1e3,null,Js.EASE_IN,qs.BACK())),null!=this._buttonCenter&&this.addEntity(new ti(this._kernel,function(t){e._buttonCenter.set_y(t)},this._buttonCenter.y,this._factory.height,50,1e3,null,Js.EASE_IN,qs.BACK())),null!=this._buttonRight&&this.addEntity(new ti(this._kernel,function(t){e._buttonRight.set_y(t)},this._buttonRight.y,this._factory.height,100,1e3,null,Js.EASE_IN,qs.BACK())),this.addEntity(new ti(this._kernel,function(t){e._fgHeader.set_y(t)},this._fgHeader.y,-this._factory.height,250,500,null,Js.EASE_IN,qs.EXPONENTIAL)),this.addEntity(new ti(this._kernel,function(t){e._fgFooter.set_y(t)},this._fgFooter.y,this._factory.height,500,500,null,Js.EASE_IN,qs.EXPONENTIAL)),this.addEntity(new ti(this._kernel,function(t){},0,0,100,1e3,null,Js.EASE_IN,qs.BACK(),t)),this._kernel.audio.start("Transition",Kt.INTERFACE,0,0,.25),this._kernel.isDebug&&t()}},_easyTweez:function(t){null==t&&(t=!0);for(var e=0,s=this._easyTweezers;e<s.length;){var i=[s[e]];++e,t?i[0].isVerticalIn?this.addEntity(new ti(this._kernel,function(t){return function(e){t[0].guiEntity.set_y(e)}}(i),-this._factory.height+i[0].guiEntity.y,i[0].guiEntity.y,500+100*i[0].sequence,2e3,null,Js.EASE_OUT,qs.QUARTIC)):this.addEntity(new ti(this._kernel,function(t){return function(e){t[0].guiEntity.set_x(e)}}(i),this._factory.width+i[0].guiEntity.x,i[0].guiEntity.x,500+100*i[0].sequence,2e3,null,Js.EASE_OUT,qs.QUARTIC)):this.addEntity(new ti(this._kernel,function(t){return function(e){t[0].guiEntity.set_x(e)}}(i),i[0].guiEntity.x,-1.5*this._factory.width+i[0].guiEntity.x,50*i[0].sequence,500,null,Js.EASE_IN,qs.BACK()))}},_addEasyTweez:function(t,e,s){null==s&&(s=!0),null!=t&&this._easyTweezers.push({guiEntity:t,sequence:e,isVerticalIn:s})},_createBurst:function(t,e,s,i){null==i&&(i=1e4);var n=new ze(this._kernel,t,e,s);return this.addEntity(n,null,!0,i),n},__class__:ps});var gs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Avatar"]=gs,gs.__name__=["DEVGRU","scenes","Avatar"],gs.__super__=ps,gs.prototype=i(ps.prototype,{_init:function(){var t=this;ps.prototype._init.call(this),this._session.cache.levelType=ye.LEVEL_1,this._kernel.audio.start("MusicMenu",Kt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.avatar.title")),this._panelUnitA=new os(this._kernel,Ce.UNIT_A),this._panelUnitA.set_x(15),this.addEntity(this._panelUnitA,null,!0,1e3),this._panelUnitB=new os(this._kernel,Ce.UNIT_B),this._panelUnitB.set_x(this._factory.width-this._panelUnitB.width-15),this.addEntity(this._panelUnitB,null,!0,1e3),this.addEntity(new ti(this._kernel,function(e){t._panelUnitA.set_x(e)},-(this._panelUnitA.width+this._panelUnitA.x),this._panelUnitA.x,1500,1e3,null,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(e){t._panelUnitB.set_x(e)},this._factory.width,this._panelUnitB.x,1500,1e3,null,Js.EASE_OUT,qs.QUARTIC)),this._avatarUnitA=new ss(this._kernel,this._assets.getAsset("assets/gui/AvatarUnitA.png")),this._avatarUnitB=new ss(this._kernel,this._assets.getAsset("assets/gui/AvatarUnitB.png")),this.addEntity(this._avatarUnitA,null,!0,300),this.addEntity(this._avatarUnitB,null,!0,300),this.addEntity(new ti(this._kernel,function(e){t._avatarUnitA.set_x(e)},-this._factory.width,this._avatarUnitA.x,100,2e3,null,Js.EASE_OUT,qs.QUARTIC)),this.addEntity(new ti(this._kernel,function(e){t._avatarUnitB.set_x(e)},this._factory.width,this._avatarUnitB.x,100,2e3,null,Js.EASE_OUT,qs.QUARTIC));var e=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.avatars.unitA"),0,0,this._kernel.factory.keyNext,gi(this,this._pressUnitA)),s=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.avatars.unitB"),0,0,null,gi(this,this._pressUnitB));this._addButtons(null,s,e),this._easyTweez()},_updater:function(t){null==t&&(t=0),ps.prototype._updater.call(this,t)},_outro:function(t){var e=this;this._defaultOutro(t),this._kernel.audio.start("GameStart",Kt.INTERFACE,1,0,.5),this.addEntity(new ti(this._kernel,function(t){e._panelUnitA.set_x(t)},this._panelUnitA.x,-this._factory.width,0,800,null,Js.EASE_IN,qs.BACK())),this.addEntity(new ti(this._kernel,function(t){e._panelUnitB.set_x(t)},this._panelUnitB.x,this._factory.width,0,800,null,Js.EASE_IN,qs.BACK())),this.addEntity(new ti(this._kernel,function(t){e._avatarUnitA.set_x(t)},this._avatarUnitA.x,-this._factory.width,0,1e3,null,Js.EASE_IN,qs.BACK(.75))),this.addEntity(new ti(this._kernel,function(t){e._avatarUnitB.set_x(t)},this._avatarUnitB.x,this._factory.width,0,1e3,null,Js.EASE_IN,qs.BACK(.75)))},_pressUnitA:function(){this._session.cache.unitType=Ce.UNIT_A,this._pressContinue()},_pressUnitB:function(){this._session.cache.unitType=Ce.UNIT_B,this._pressContinue()},__class__:gs});var fs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Game"]=fs,fs.__name__=["DEVGRU","scenes","Game"],fs.__super__=ps,fs.prototype=i(ps.prototype,{_init:function(){if(ps.prototype._init.call(this),this.isPauseable=!0,this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._session.cache.totalPlays++,this._levelVo=new Ue(this._kernel,this._session.cache.levelType),this._unitVo=new Ge(this._kernel,this._session.cache.unitType),this.addEntity(this._hud=new Je(this._kernel,!this._levelVo.isNew,this._levelVo.scoreGold,this._levelVo.scoreSilver,this._levelVo.scoreBronze),null,!0,100),this.addEntity(this._location=new Ne(this._kernel,this._levelVo,this._unitVo),null,!0,10),this._session.get_isTester()){var t=gi(this,this._winMedal),e=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.testMode.bronze"),0,0,null,function(){t(Se.MEDAL_BRONZE,!0)}),s=gi(this,this._winMedal),i=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.testMode.silver"),0,0,null,function(){s(Se.MEDAL_SILVER,!0)}),n=gi(this,this._winMedal),r=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.testMode.gold"),0,0,null,function(){n(Se.MEDAL_GOLD,!0)});this._addButtons(null,r,e,i,1e3,1e3,1e3)}this._kernel.messenger.addSubscriber(this._entity,this._factory.MESSAGE_FINISH_LINE,gi(this,this._handleFinishLine),null,null,!0),this._kernel.audio.stop(null,Kt.MUSIC),this._kernel.audio.start("GameStart",Kt.EFFECTS,1,0,1),this._kernel.audio.start("Cowbells",Kt.EFFECTS,1,0,1),this._kernel.log("play: "+u.string(this._levelVo.type)),this._factory.preventDefaultForKeys([$t.UP,$t.RIGHT,$t.DOWN,$t.LEFT,$t.SPACE])},_createDelay:function(t,e){null==e&&(e=1e3),null==this._delay&&this.addEntity(this._delay=new Xt(this._kernel,t,e))},_handleFinishLine:function(t,e){for(var s=0,i=this.getEntitiesByClass(Xe);s<i.length;){var n=i[s];++s,n.isDisposed||(n.isDisposed=!0,n.set_isActive(!1),n._disposer())}var r=this._session.getMedalFromScore(this._location.getTime(),this._levelVo.scoreGold,this._levelVo.scoreSilver,this._levelVo.scoreBronze);return this._winMedal(r),this._createDelay(gi(this,this._gameOver),2500),this._kernel.overlay.flash(500,!0,.5,16777215),this._kernel.audio.start("Cowbells",Kt.EFFECTS,1,0,1),r!=Se.MEDAL_NONE&&this._kernel.audio.start("GameOver",Kt.EFFECTS,1,0,1),!1},_winMedal:function(t,e){null==e&&(e=!1),this._session.cache.medalType=t,this._session.setMedal(this._levelVo.type,this._unitVo.type,t),this._session.setCoins(null,this._session.getCoins()+this._getScore(t)),this._kernel.log("medal: "+u.string(t)+": "+u.string(this._levelVo.type)),e&&this._gameOver()},_gameOver:function(){this._kernel.scenes.next()},_updater:function(t){null==t&&(t=0),ps.prototype._updater.call(this,t),this._hud.configureTargets(this._location.getTime()),this._hud.configureTimer(this._location.getTime()),this._hud.configureSpeedo(this._location.getSpeed())},_disposer:function(){this._factory.allowDefaultForKeys([$t.UP,$t.RIGHT,$t.DOWN,$t.LEFT,$t.SPACE]),this._kernel.audio.stop(null,Kt.MUSIC);var t=this._session;t.saveCount++,t._setter(),t._savedData._____VERSION=t._version,t._savedData[t.id]=t._data,t._driverSave(),ps.prototype._disposer.call(this)},_getScore:function(t){switch(t[1]){case 0:return 1e3;case 1:return 3e3;case 2:return 5e3;case 3:return 8e3}},__class__:fs});var Es=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Instructions"]=Es,Es.__name__=["DEVGRU","scenes","Instructions"],Es.__super__=ps,Es.prototype=i(ps.prototype,{_init:function(){ps.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._kernel.audio.start("MusicMenu",Kt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.instructions.title"));var t=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,gi(this,this._pressContinue));this._addButtons(null,t);var e=new ss(this._kernel,this._assets.getAsset(this._system.isDesktop?"assets/gui/InstructionsA.png":"assets/gui/InstructionsB.png"));this.addEntity(e,null,!0,20),e.setPosition((this._factory.width-e.width)/5,(this._factory.height-e.height)/2);var s=new ls(this._kernel,300,200,u.string(this._kernel.getConfig("gui.scenes.instructions.message")).toUpperCase(),this._factory.createTextStyle(ae.BODY),!0,!1);s.setPosition(this._kernel.factory.width-s.width-40,120),this.addEntity(s,null,!0,21),this._addEasyTweez(e,1,!1),this._addEasyTweez(s,2,!1),this._easyTweez(!0)},_outro:function(t){this._defaultOutro(t)},__class__:Es});var ms=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Intro"]=ms,ms.__name__=["DEVGRU","scenes","Intro"],ms.__super__=ps,ms.prototype=i(ps.prototype,{_init:function(){ps.prototype._init.call(this);var t=this._factory.createCanvas(this._factory.width,this._factory.height);this._destinationContext2d=t.getContext("2d",null),this._sourceImage=this._assets.getAsset("assets/location/Snow.png"),this._sourceCanvas=this._factory.createCanvas(this._sourceImage.width,this._sourceImage.height),this._sourceCanvas.getContext("2d",null).drawImage(this._sourceImage,0,0)},_updater:function(t){null==t&&(t=0),ps.prototype._updater.call(this,t),1==this._updates&&(this._session.cache.isDrawImageUsingCanvas=!1,this._session.cache.benchmark=700),2==this._updates&&this._kernel.scenes.next()},__class__:ms});var ys=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Menu"]=ys,ys.__name__=["DEVGRU","scenes","Menu"],ys.__super__=ps,ys.prototype=i(ps.prototype,{_init:function(){var t=this;ps.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Kt.MUSIC,-1,0,.15,0,!0),this._kernel.audio.start("Carve3",Kt.EFFECTS,0,0,.5),this._addBg(),this._addFg(!1,this._kernel.getConfig("gui.scenes.menu.title"),this._kernel.getConfig("gui.scenes.menu.subtitle")),this.addEntity(this._action=new Ve(this._kernel),null,!0,200),this.addEntity(new ti(this._kernel,function(e){t._action.set_x(e)},-this._factory.width,this._action.x,500,2e3,null,Js.EASE_OUT,qs.ELASTIC()));var e=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,gi(this,this._pressContinue)),s=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),0,0,null,gi(this,this._pressInstructions));this._addButtons(null,e,s),this._easyTweez()},_outro:function(t){var e=this;this._defaultOutro(t),this._kernel.audio.start("Carve1",Kt.INTERFACE,0,0,.5,0,!0),this.addEntity(new ti(this._kernel,function(t){e._action.set_x(t)},this._action.x,this._factory.width,0,1e3,null,Js.EASE_IN,qs.BACK()))},__class__:ys});var vs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Results"]=vs,vs.__name__=["DEVGRU","scenes","Results"],vs.__super__=ps,vs.prototype=i(ps.prototype,{_init:function(){var t=this;ps.prototype._init.call(this),this._levelVo=new Ue(this._kernel,this._session.cache.levelType,this._session.cache.unitType),this._kernel.audio.start("GameStart",Kt.INTERFACE,1,0,.5),this._addBg(),this._addFg(!1,this._kernel.getConfig("gui.scenes.results.title"),this._levelVo.title,120),this.addEntity(this._hero=new Ze(this._kernel,this._session.cache.unitType,this._session.cache.medalType),null,!0,300),this.addEntity(new ti(this._kernel,function(e){t._hero.set_x(e)},-this._factory.width,this._hero.x,500,2e3,null,Js.EASE_OUT,qs.ELASTIC())),this._panelResult=new as(this._kernel,this._session.cache.medalType),this._panelResult.set_x(this._factory.width-this._panelResult.width-15),this.addEntity(this._panelResult,null,!0,1e3),this.addEntity(new ti(this._kernel,function(e){t._panelResult.set_x(e)},this._factory.width,this._panelResult.x,1500,1e3,null,Js.EASE_OUT,qs.QUARTIC));var e=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.continue"),0,0,this._kernel.factory.keyNext,gi(this,this._pressContinue)),s=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.website"),0,0,null,gi(this,this._pressWebsite));this._addButtons(null,e,s,null,3e3,3e3),this._easyTweez(!0)},_updater:function(t){null==t&&(t=0),ps.prototype._updater.call(this,t),this._age>2e3&&Math.random()<this._session.cache.medalType[1]/3&&this._createBurst(.5*Math.random()+.5,((Math.random()<.5?-.5:.5)*(Math.random()*Math.random())+.5)*this._factory.width,((Math.random()<.5?-.5:.5)*(Math.random()*Math.random())+.25)*this._factory.height,299)},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ti(this._kernel,function(t){e._hero.set_x(t)},this._hero.x,this._factory.width,0,1e3,null,Js.EASE_IN,qs.BACK())),this.addEntity(new ti(this._kernel,function(t){e._panelResult.set_x(t)},this._panelResult.x,this._factory.width,0,800,null,Js.EASE_IN,qs.BACK()))},__class__:vs});var Ss=function(t){Gt.call(this,t,1e3)};e["DEVGRU.scenes.SceneTransition"]=Ss,Ss.__name__=["DEVGRU","scenes","SceneTransition"],Ss.__super__=Gt,Ss.prototype=i(Gt.prototype,{_init:function(){Gt.prototype._init.call(this)},__class__:Ss});var Ts=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.SelectLevel"]=Ts,Ts.__name__=["DEVGRU","scenes","SelectLevel"],Ts.__super__=ps,Ts.prototype=i(ps.prototype,{_init:function(){ps.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Kt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.selectLevel.title")),this._panelLevel1=new rs(this._kernel,ye.LEVEL_1),this._panelLevel1.set_x(15),this.addEntity(this._panelLevel1,null,!0,200),this._panelLevel2=new rs(this._kernel,ye.LEVEL_2),this._panelLevel2.set_x(.5*(this._factory.width-this._panelLevel2.width)),this.addEntity(this._panelLevel2,null,!0,200),this._panelLevel3=new rs(this._kernel,ye.LEVEL_3),this._panelLevel3.set_x(this._factory.width-this._panelLevel3.width-15),this.addEntity(this._panelLevel3,null,!0,200);var t=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.levels.level1"),0,0,this._kernel.factory.keyNext,gi(this,this._pressLevel1)),e=this._panelLevel2.vo.isLocked?null:new Xe(this._kernel,this._kernel.getConfig("gui.buttons.levels.level2"),0,0,null,gi(this,this._pressLevel2)),s=this._panelLevel3.vo.isLocked?null:new Xe(this._kernel,this._kernel.getConfig("gui.buttons.levels.level3"),0,0,null,gi(this,this._pressLevel3));this._addButtons(null,s,t,e),this._addEasyTweez(this._panelLevel1,1,!1),this._addEasyTweez(this._panelLevel2,2,!1),this._addEasyTweez(this._panelLevel3,3,!1),this._easyTweez()},_updater:function(t){null==t&&(t=0),ps.prototype._updater.call(this,t)},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ti(this._kernel,function(t){e._kernel.audio.transform("MusicMenu",Kt.MUSIC,t)},.5,0,0,2e3))},_pressLevel1:function(){this._session.cache.levelType=ye.LEVEL_1,this._pressContinue()},_pressLevel2:function(){this._session.cache.levelType=ye.LEVEL_2,this._pressContinue()},_pressLevel3:function(){this._session.cache.levelType=ye.LEVEL_3,this._pressContinue()},__class__:Ts});var ws=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),ps.call(this,t,e,s,i,n)};e["DEVGRU.scenes.Shop"]=ws,ws.__name__=["DEVGRU","scenes","Shop"],ws.__super__=ps,ws.prototype=i(ps.prototype,{_init:function(){var t=this;ps.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Kt.MUSIC,0,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.shop.title")),this.addEntity(this._hero=new Ze(this._kernel,this._session.cache.unitType,this._session.cache.medalType),null,!0,300),this._hero.set_x(-160),this.addEntity(new ti(this._kernel,function(e){t._hero.set_x(e)},this._factory.width,this._hero.x,500,2e3,null,Js.EASE_OUT,qs.QUARTIC)),this._panelShop=new _s(this._kernel,this._session.cache.unitType),this._panelShop.set_x(this._factory.width-this._panelShop.width-15),this.addEntity(this._panelShop,null,!0,1e3),this.addEntity(new ti(this._kernel,function(e){t._panelShop.set_x(e)},this._factory.width,this._panelShop.x,1500,1e3,null,Js.EASE_OUT,qs.QUARTIC));var e=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.continue"),0,0,this._kernel.factory.keyNext,gi(this,this._pressContinue)),s=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.avatar"),0,0,null,gi(this,this._pressAvatar)),i=new Xe(this._kernel,this._kernel.getConfig("gui.buttons.reset"),0,0,null,gi(this,this._pressReset));this._addButtons(null,e,s,1==this._panelShop.vo.getPercentageComplete()?i:null),this._easyTweez(!0)},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ti(this._kernel,function(t){e._hero.set_x(t)},this._hero.x,-this._factory.width,0,1e3,null,Js.EASE_IN,qs.BACK())),this.addEntity(new ti(this._kernel,function(t){e._panelShop.set_x(t)},this._panelShop.x,this._factory.width,0,800,null,Js.EASE_IN,qs.BACK()))},_pressReset:function(){this._kernel.log("button: reset: "),this._session.resetUnit(this._session.cache.unitType);var t=gi(di=this._kernel.scenes,di.setScene);this._outro(function(){t(ne.MENU)})},_pressAvatar:function(){this._kernel.log("button: avatar: ");var t=gi(di=this._kernel.scenes,di.setScene);this._outro(function(){t(ne.AVATAR)})},__class__:ws});var As=function(){};e["haxe.IMap"]=As,As.__name__=["haxe","IMap"];var Cs=function(t){this.url=t,this.headers=new _,this.params=new _,this.async=!0,this.withCredentials=!1};e["haxe.Http"]=Cs,Cs.__name__=["haxe","Http"],Cs.prototype={request:function(t){var e=this;e.responseData=null;var s=this.req=Xs.createXMLHttpRequest(),i=function(t){if(4==s.readyState){var i;try{i=s.status}catch(t){i=null}if(null!=i&&"undefined"!=typeof window){var r=window.location.protocol.toLowerCase();new n("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(r)&&(i=null!=s.responseText?200:404)}if(null==i&&(i=null),null!=i&&e.onStatus(i),null!=i&&i>=200&&i<400)e.req=null,e.onData(e.responseData=s.responseText);else if(null==i)e.req=null,e.onError("Failed to connect or resolve host");else switch(i){case 12007:e.req=null,e.onError("Unknown host");break;case 12029:e.req=null,e.onError("Failed to connect to host");break;default:e.req=null,e.responseData=s.responseText,e.onError("Http Error #"+s.status)}}};this.async&&(s.onreadystatechange=i);var r=this.postData;if(null!=r)t=!0;else for(var _=this.params.h;null!=_;){var o=_.item;_=_.next;var h=o;null==r?r="":r+="&";var l=h.param,u=encodeURIComponent(l)+"=",c=h.value;r+=u+encodeURIComponent(c)}try{if(t)s.open("POST",this.url,this.async);else if(null!=r){var d=this.url.split("?").length<=1;s.open("GET",this.url+(d?"?":"&")+r,this.async),r=null}else s.open("GET",this.url,this.async)}catch(t){return t instanceof js&&(t=t.val),e.req=null,void this.onError(t.toString())}s.withCredentials=this.withCredentials,!a.exists(this.headers,function(t){return"Content-Type"==t.header})&&t&&null==this.postData&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var p=this.headers.h;null!=p;){var g=p.item;p=p.next;var f=g;s.setRequestHeader(f.header,f.value)}s.send(r),this.async||i()},onData:function(t){},onError:function(t){},onStatus:function(t){},__class__:Cs};var bs=function(){};e["haxe.Log"]=bs,bs.__name__=["haxe","Log"],bs.trace=function(t,e){zs.__trace(t,e)};var Rs=function(){};e["haxe.Resource"]=Rs,Rs.__name__=["haxe","Resource"],Rs.getString=function(t){for(var e=0,s=Rs.content;e<s.length;){var i=s[e];if(++e,i.name==t)return null!=i.str?i.str:Ds.decode(i.data).toString()}return null};var ks=function(){this.buf=new c,this.cache=[],this.useCache=ks.USE_CACHE,this.useEnumIndex=ks.USE_ENUM_INDEX,this.shash=new Fs,this.scount=0};e["haxe.Serializer"]=ks,ks.__name__=["haxe","Serializer"],ks.run=function(t){var e=new ks;return e.serialize(t),e.toString()},ks.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,s=null!=Ti[t]?e.getReserved(t):e.h[t];if(null!=s)return this.buf.b+="R",void(this.buf.b+=null==s?"null":""+s);var i=this.shash,n=this.scount++;null!=Ti[t]?i.setReserved(t,n):i.h[t]=n,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=u.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,s=0,i=this.cache.length;s<i;){var n=s++,r=this.cache[n];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,s=l.fields(t);e<s.length;){var i=s[e];++e,this.serializeString(i),this.serialize(l.field(t,i))}this.buf.b+="g"},serialize:function(t){var e=g.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var s=t;if(0==s)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==s?"null":""+s;break;case 2:var i=t;isNaN(i)?this.buf.b+="k":isFinite(i)?(this.buf.b+="d",this.buf.b+=null==i?"null":""+i):this.buf.b+=i<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(zs.__instanceof(t,vi)){var n=g.getClassName(t);this.buf.b+="A",this.serializeString(n)}else if(zs.__instanceof(t,Si))this.buf.b+="B",this.serializeString(g.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new js("Cannot serialize function");case 6:var a=e[2];if(a==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(a){case Array:var o=0;this.buf.b+="a";for(var h=0,c=t.length;h<c;){var d=h++;null==t[d]?++o:(o>0&&(1==o?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==o?"null":""+o),o=0),this.serialize(t[d]))}o>0&&(1==o?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==o?"null":""+o)),this.buf.b+="h";break;case Date:var p=t;this.buf.b+="v",this.buf.b+=u.string(p.getTime());break;case _:this.buf.b+="l";for(var f=t.h;null!=f;){var E=f.item;f=f.next;var m=E;this.serialize(m)}this.buf.b+="h";break;case Ms:this.buf.b+="q";for(var y=t,v=y.keys();v.hasNext();){var S=v.next();this.buf.b+=":",this.buf.b+=null==S?"null":""+S,this.serialize(y.h[S])}this.buf.b+="h";break;case Bs:this.buf.b+="M";for(var T=t,w=T.keys();w.hasNext();){var A=w.next(),C=l.field(A,"__id__");l.deleteField(A,"__id__"),this.serialize(A),A.__id__=C,this.serialize(T.h[A.__id__])}this.buf.b+="h";break;case Fs:this.buf.b+="b";for(var b=t,R=b.keys();R.hasNext();){var k=R.next();this.serializeString(k),this.serialize(null!=Ti[k]?b.getReserved(k):b.h[k])}this.buf.b+="h";break;case Ps:var I=t;this.buf.b+="s",this.buf.b+=u.string(Math.ceil(8*I.length/6)),this.buf.b+=":";var U=0,N=I.length-2,P=ks.BASE64_CODES;if(null==P){var D=ks.BASE64.length;P=new Array(D);for(var L=0,x=ks.BASE64.length;L<x;){var O=L++;P[O]=r.cca(ks.BASE64,O)}ks.BASE64_CODES=P}for(;U<N;){var M=I.b[U++],B=I.b[U++],F=I.b[U++];this.buf.b+=String.fromCharCode(P[M>>2]),this.buf.b+=String.fromCharCode(P[63&(M<<4|B>>4)]),this.buf.b+=String.fromCharCode(P[63&(B<<2|F>>6)]),this.buf.b+=String.fromCharCode(P[63&F])}if(U==N){var G=I.b[U++],H=I.b[U++];this.buf.b+=String.fromCharCode(P[G>>2]),this.buf.b+=String.fromCharCode(P[63&(G<<4|H>>4)]),this.buf.b+=String.fromCharCode(P[H<<2&63])}else if(U==N+1){var Y=I.b[U++];this.buf.b+=String.fromCharCode(P[Y>>2]),this.buf.b+=String.fromCharCode(P[Y<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(g.getClassName(a)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(g.getClassName(a)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var V=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=u.string(this.useEnumIndex?"j":"w"),this.serializeString(g.getEnumName(V)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var W=t.length;this.buf.b+=u.string(W-2);for(var j=2,z=W;j<z;){var X=j++;this.serialize(t[X])}this.useCache&&this.cache.push(t);break;default:throw new js("Cannot serialize "+u.string(t))}},__class__:ks};var Is=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};e["haxe.Timer"]=Is,Is.__name__=["haxe","Timer"],Is.delay=function(t,e){var s=new Is(e);return s.run=function(){s.stop(),t()},s},Is.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Is};var Us=function(){};e["haxe._Unserializer.DefaultResolver"]=Us,Us.__name__=["haxe","_Unserializer","DefaultResolver"],Us.prototype={resolveClass:function(t){return g.resolveClass(t)},resolveEnum:function(t){return g.resolveEnum(t)},__class__:Us};var Ns=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=Ns.DEFAULT_RESOLVER;null==e&&(e=new Us,Ns.DEFAULT_RESOLVER=e),this.resolver=e};e["haxe.Unserializer"]=Ns,Ns.__name__=["haxe","Unserializer"],Ns.initCodes=function(){for(var t=[],e=0,s=Ns.BASE64.length;e<s;){var i=e++;t[Ns.BASE64.charCodeAt(i)]=i}return t},Ns.run=function(t){return new Ns(t).unserialize()},Ns.prototype={readDigits:function(){for(var t=0,e=!1,s=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;t=10*t+(i-48),this.pos++}else{if(this.pos!=s)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(e>=43&&e<58||101==e||69==e))break;this.pos++}return parseFloat(r.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new js("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new js("Invalid object key");var s=this.unserialize();t[e]=s}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new js("Invalid enum format");var s=this.readDigits();if(0==s)return g.createEnum(t,e);for(var i=[];s-- >0;)i.push(this.unserialize());return g.createEnum(t,e,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw new js("Class not found "+t);return e;case 66:var s=this.unserialize(),i=this.resolver.resolveEnum(s);if(null==i)throw new js("Enum not found "+s);return i;case 67:var n=this.unserialize(),a=this.resolver.resolveClass(n);if(null==a)throw new js("Class not found "+n);var o=g.createEmptyInstance(a);if(this.cache.push(o),o.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new js("Invalid custom data");return o;case 77:var h=new Bs;this.cache.push(h);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();h.set(l,this.unserialize())}return this.pos++,h;case 82:var u=this.readDigits();if(u<0||u>=this.scache.length)throw new js("Invalid string reference");return this.scache[u];case 97:this.buf;var c=[];for(this.cache.push(c);;){var d=this.buf.charCodeAt(this.pos);if(104==d){this.pos++;break}if(117==d){this.pos++;var p=this.readDigits();c[c.length+p-1]=null}else c.push(this.unserialize())}return c;case 98:var f=new Fs;this.cache.push(f);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var E=this.unserialize(),m=this.unserialize();null!=Ti[E]?f.setReserved(E,m):f.h[E]=m}return this.pos++,f;case 99:var y=this.unserialize(),v=this.resolver.resolveClass(y);if(null==v)throw new js("Class not found "+y);var S=g.createEmptyInstance(v);return this.cache.push(S),this.unserializeObject(S),S;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var T=this.unserialize(),w=this.resolver.resolveEnum(T);if(null==w)throw new js("Enum not found "+T);this.pos++;var A=this.readDigits(),C=w.__constructs__.slice()[A];if(null==C)throw new js("Unknown enum index "+T+"@"+A);var b=this.unserializeEnum(w,C);return this.cache.push(b),b;case 107:return NaN;case 108:var R=new _;this.cache.push(R);for(this.buf;104!=this.buf.charCodeAt(this.pos);)R.add(this.unserialize());return this.pos++,R;case 109:return-1/0;case 110:return null;case 111:var k={};return this.cache.push(k),this.unserializeObject(k),k;case 112:return 1/0;case 113:var I=new Ms;this.cache.push(I);this.buf;for(var U=this.buf.charCodeAt(this.pos++);58==U;){var N=this.readDigits(),P=this.unserialize();I.h[N]=P,U=this.buf.charCodeAt(this.pos++)}if(104!=U)throw new js("Invalid IntMap format");return I;case 114:var D=this.readDigits();if(D<0||D>=this.cache.length)throw new js("Invalid reference");return this.cache[D];case 115:var L=this.readDigits(),x=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<L)throw new js("Invalid bytes length");var O=Ns.CODES;null==O&&(O=Ns.initCodes(),Ns.CODES=O);for(var M=this.pos,B=3&L,F=M+(L-B),G=new Ps(new wi(3*(L>>2)+(B>=2?B-1:0))),H=0;M<F;){var Y=O[x.charCodeAt(M++)],V=O[x.charCodeAt(M++)];G.b[H++]=255&(Y<<2|V>>4);var W=O[x.charCodeAt(M++)];G.b[H++]=255&(V<<4|W>>2);var j=O[x.charCodeAt(M++)];G.b[H++]=255&(W<<6|j)}if(B>=2){var z=O[x.charCodeAt(M++)],X=O[x.charCodeAt(M++)];if(G.b[H++]=255&(z<<2|X>>4),3==B){var Q=O[x.charCodeAt(M++)];G.b[H++]=255&(X<<4|Q>>2)}}return this.pos+=L,this.cache.push(G),G;case 116:return!0;case 118:var K;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))K=r.strDate(r.substr(this.buf,this.pos,19)),this.pos+=19;else{var Z=this.readFloat();K=new Date(Z)}return this.cache.push(K),K;case 119:var J=this.unserialize(),q=this.resolver.resolveEnum(J);if(null==q)throw new js("Enum not found "+J);var $=this.unserializeEnum(q,this.unserialize());return this.cache.push($),$;case 120:throw js.wrap(this.unserialize());case 121:var tt=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<tt)throw new js("Invalid string length");var et=r.substr(this.buf,this.pos,tt);return this.pos+=tt,et=decodeURIComponent(et.split("+").join(" ")),this.scache.push(et),et;case 122:return 0}throw this.pos--,new js("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Ns};var Ps=function(t){this.length=t.byteLength,this.b=new Ci(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};e["haxe.io.Bytes"]=Ps,Ps.__name__=["haxe","io","Bytes"],Ps.alloc=function(t){return new Ps(new wi(t))},Ps.ofString=function(t){for(var e=[],s=0;s<t.length;){var i=t.charCodeAt(s++);55296<=i&&i<=56319&&(i=i-55232<<10|1023&t.charCodeAt(s++)),i<=127?e.push(i):i<=2047?(e.push(192|i>>6),e.push(128|63&i)):i<=65535?(e.push(224|i>>12),e.push(128|i>>6&63),e.push(128|63&i)):(e.push(240|i>>18),e.push(128|i>>12&63),e.push(128|i>>6&63),e.push(128|63&i))}return new Ps(new Ci(e).buffer)},Ps.ofData=function(t){var e=t.hxBytes;return null!=e?e:new Ps(t)},Ps.fastGet=function(t,e){return t.bytes[e]},Ps.prototype={getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new js(Gs.OutsideBounds);for(var s="",i=this.b,n=String.fromCharCode,r=t,a=t+e;r<a;){var _=i[r++];if(_<128){if(0==_)break;s+=n(_)}else if(_<224)s+=n((63&_)<<6|127&i[r++]);else if(_<240){s+=n((31&_)<<12|(127&i[r++])<<6|127&i[r++])}else{var o=(15&_)<<18|(127&i[r++])<<12|(127&i[r++])<<6|127&i[r++];s+=n(55232+(o>>10)),s+=n(1023&o|56320)}}return s},toString:function(){return this.getString(0,this.length)},__class__:Ps};var Ds=function(){};e["haxe.crypto.Base64"]=Ds,Ds.__name__=["haxe","crypto","Base64"],Ds.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==r.cca(t,t.length-1);)t=r.substr(t,0,-1);return new Ls(Ds.BYTES).decodeBytes(Ps.ofString(t))};var Ls=function(t){for(var e=t.length,s=1;e>1<<s;)++s;if(s>8||e!=1<<s)throw new js("BaseCode : base length must be a power of two.");this.base=t,this.nbits=s};e["haxe.crypto.BaseCode"]=Ls,Ls.__name__=["haxe","crypto","BaseCode"],Ls.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[e++]=-1}for(var s=0,i=this.base.length;s<i;){var n=s++;t[this.base.b[n]]=n}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var s=this.tbl,i=t.length*e>>3,n=new Ps(new wi(i)),r=0,a=0,_=0,o=0;o<i;){for(;a<8;){a+=e,r<<=e;var h=s[t.b[_++]];if(-1==h)throw new js("BaseCode : invalid encoded char");r|=h}a-=8,n.b[o++]=255&r>>a}return n},__class__:Ls};var xs=function(t,e){this.elt=t,this.next=e};e["haxe.ds.GenericCell"]=xs,xs.__name__=["haxe","ds","GenericCell"],xs.prototype={__class__:xs};var Os=function(){};e["haxe.ds.GenericStack"]=Os,Os.__name__=["haxe","ds","GenericStack"],Os.prototype={remove:function(t){for(var e=null,s=this.head;null!=s;){if(s.elt==t){null==e?this.head=s.next:e.next=s.next;break}e=s,s=s.next}return null!=s},iterator:function(){var t=this.head;return{hasNext:function(){return null!=t},next:function(){var e=t;return t=e.next,e.elt}}},__class__:Os};var Ms=function(){this.h={}};e["haxe.ds.IntMap"]=Ms,Ms.__name__=["haxe","ds","IntMap"],Ms.__interfaces__=[As],Ms.prototype={keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return r.iter(t)},__class__:Ms};var Bs=function(){this.h={__keys__:{}}};e["haxe.ds.ObjectMap"]=Bs,Bs.__name__=["haxe","ds","ObjectMap"],Bs.__interfaces__=[As],Bs.assignId=function(t){return t.__id__=++Bs.count},Bs.getId=function(t){return t.__id__},Bs.prototype={set:function(t,e){var s=t.__id__||(t.__id__=++Bs.count);this.h[s]=e,this.h.__keys__[s]=t},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return r.iter(t)},__class__:Bs};var Fs=function(){this.h={}};e["haxe.ds.StringMap"]=Fs,Fs.__name__=["haxe","ds","StringMap"],Fs.__interfaces__=[As],Fs.prototype={setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Ti[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return r.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:Fs};var Gs=e["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Gs.Blocked=["Blocked",0],Gs.Blocked.toString=s,Gs.Blocked.__enum__=Gs,Gs.Overflow=["Overflow",1],Gs.Overflow.toString=s,Gs.Overflow.__enum__=Gs,Gs.OutsideBounds=["OutsideBounds",2],Gs.OutsideBounds.toString=s,Gs.OutsideBounds.__enum__=Gs,Gs.Custom=function(t){var e=["Custom",3,t];return e.__enum__=Gs,e.toString=s,e};var Hs=function(){};e["haxe.web.Request"]=Hs,Hs.__name__=["haxe","web","Request"],Hs.getParams=function(){for(var t=r.substr(window.location.search,1,null),e=new Fs,s=0,i=new n("[&;]","g").split(t);s<i.length;){var a=i[s];++s;var _=a.split("=");if(!(_.length<2)){var o=_.shift(),h=decodeURIComponent(o.split("+").join(" ")),l=_.join("="),u=decodeURIComponent(l.split("+").join(" "));null!=Ti[h]?e.setReserved(h,u):e.h[h]=u}}return e};var Ys=function(t,e,s){this.xml=e,this.message=t,this.position=s,this.lineNumber=1,this.positionAtLine=0;for(var i=0,n=s;i<n;){var r=i++,a=e.charCodeAt(r);10==a?(this.lineNumber++,this.positionAtLine=0):13!=a&&this.positionAtLine++}};e["haxe.xml.XmlParserException"]=Ys,Ys.__name__=["haxe","xml","XmlParserException"],Ys.prototype={toString:function(){return g.getClassName(zs.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ys};var Vs=function(){};e["haxe.xml.Parser"]=Vs,Vs.__name__=["haxe","xml","Parser"],Vs.parse=function(t,e){null==e&&(e=!1);var s=f.createDocument();return Vs.doParse(t,e,0,s),s},Vs.doParse=function(t,e,s,i){null==s&&(s=0);for(var n=null,a=1,_=1,o=null,h=0,l=0,d=0,p=t.charCodeAt(s),g=new c,E=1,m=-1;p==p;){switch(a){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:a=_;continue}break;case 1:if(60!=p){h=s,a=13;continue}a=0,_=2;break;case 2:switch(p){case 33:if(91==t.charCodeAt(s+1)){if(s+=2,"CDATA["!=r.substr(t,s,6).toUpperCase())throw new js(new Ys("Expected <![CDATA[",t,s));a=17,h=(s+=5)+1}else if(68==t.charCodeAt(s+1)||100==t.charCodeAt(s+1)){if("OCTYPE"!=r.substr(t,s+2,6).toUpperCase())throw new js(new Ys("Expected <!DOCTYPE",t,s));a=16,h=(s+=8)+1}else{if(45!=t.charCodeAt(s+1)||45!=t.charCodeAt(s+2))throw new js(new Ys("Expected \x3c!--",t,s));a=15,h=(s+=2)+1}break;case 47:if(null==i)throw new js(new Ys("Expected node name",t,s));h=s+1,a=0,_=10;break;case 63:a=14,h=s;break;default:a=3,h=s;continue}break;case 3:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(s==h)throw new js(new Ys("Expected node name",t,s));n=f.createElement(r.substr(t,h,s-h)),i.addChild(n),++l,a=0,_=4;continue}break;case 4:switch(p){case 47:a=11;break;case 62:a=9;break;default:a=5,h=s;continue}break;case 5:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(h==s)throw new js(new Ys("Expected attribute name",t,s));if(o=r.substr(t,h,s-h),n.exists(o))throw new js(new Ys("Duplicate attribute ["+o+"]",t,s));a=0,_=6;continue}break;case 6:if(61!=p)throw new js(new Ys("Expected =",t,s));a=0,_=7;break;case 7:switch(p){case 34:case 39:g=new c,a=8,h=s+1,m=p;break;default:throw new js(new Ys('Expected "',t,s))}break;case 8:switch(p){case 38:var y=s-h;g.b+=null==y?r.substr(t,h,null):r.substr(t,h,y),a=18,E=8,h=s+1;break;case 60:case 62:if(e)throw new js(new Ys("Invalid unescaped "+String.fromCharCode(p)+" in attribute value",t,s));if(p==m){var v=s-h;g.b+=null==v?r.substr(t,h,null):r.substr(t,h,v);var S=g.b;g=new c,n.set(o,S),a=0,_=4}break;default:if(p==m){var T=s-h;g.b+=null==T?r.substr(t,h,null):r.substr(t,h,T);var w=g.b;g=new c,n.set(o,w),a=0,_=4}}break;case 9:h=s=Vs.doParse(t,e,s,n),a=1;break;case 10:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(h==s)throw new js(new Ys("Expected node name",t,s));var A=r.substr(t,h,s-h);if(i.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+i.nodeType);if(A!=i.nodeName){if(i.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+i.nodeType);throw new js(new Ys("Expected </"+i.nodeName+">",t,s))}a=0,_=12;continue}break;case 11:if(62!=p)throw new js(new Ys("Expected >",t,s));a=1;break;case 12:if(62==p)return 0==l&&i.addChild(f.createPCData("")),s;throw new js(new Ys("Expected >",t,s));case 13:if(60==p){var C=s-h;g.b+=null==C?r.substr(t,h,null):r.substr(t,h,C);var b=f.createPCData(g.b);g=new c,i.addChild(b),++l,a=0,_=2}else if(38==p){var R=s-h;g.b+=null==R?r.substr(t,h,null):r.substr(t,h,R),a=18,E=13,h=s+1}break;case 14:if(63==p&&62==t.charCodeAt(s+1)){++s;var k=r.substr(t,h+1,s-h-2);i.addChild(f.createProcessingInstruction(k)),++l,a=1}break;case 15:45==p&&45==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)&&(i.addChild(f.createComment(r.substr(t,h,s-h))),++l,s+=2,a=1);break;case 16:91==p?++d:93==p?--d:62==p&&0==d&&(i.addChild(f.createDocType(r.substr(t,h,s-h))),++l,a=1);break;case 17:if(93==p&&93==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)){var I=f.createCData(r.substr(t,h,s-h));i.addChild(I),++l,s+=2,a=1}break;case 18:if(59==p){var U=r.substr(t,h,s-h);if(35==U.charCodeAt(0)){var N=120==U.charCodeAt(1)?u.parseInt("0"+r.substr(U,1,U.length-1)):u.parseInt(r.substr(U,1,U.length-1));g.b+=String.fromCharCode(N)}else{var P=Vs.escapes;if(null!=Ti[U]?P.existsReserved(U):P.h.hasOwnProperty(U)){var D=Vs.escapes,L=null!=Ti[U]?D.getReserved(U):D.h[U];g.b+=u.string(L)}else{if(e)throw new js(new Ys("Undefined entity: "+U,t,s));g.b+=u.string("&"+U+";")}}h=s+1,a=E}else if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(e)throw new js(new Ys("Invalid character in entity: "+String.fromCharCode(p),t,s));g.b+="&";var x=s-h;g.b+=null==x?r.substr(t,h,null):r.substr(t,h,x),h=s--,a=E}}p=t.charCodeAt(++s)}if(1==a&&(h=s,a=13),13==a){if(s!=h||0==l){var O=s-h;g.b+=null==O?r.substr(t,h,null):r.substr(t,h,O),i.addChild(f.createPCData(g.b)),++l}return s}if(!e&&18==a&&13==E){g.b+="&";var M=s-h;return g.b+=null==M?r.substr(t,h,null):r.substr(t,h,M),i.addChild(f.createPCData(g.b)),++l,s}throw new js(new Ys("Unexpected end",t,s))};var Ws=function(t){this.output=new c,this.pretty=t};e["haxe.xml.Printer"]=Ws,Ws.__name__=["haxe","xml","Printer"],Ws.print=function(t,e){null==e&&(e=!1);var s=new Ws(e);return s.writeNode(t,""),s.output.b},Ws.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=u.string(e+"<"),t.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+t.nodeType);this.output.b+=u.string(t.nodeName);for(var s=t.attributes();s.hasNext();){var i=s.next();this.output.b+=u.string(" "+i+'="');var n=d.htmlEscape(t.get(i),!0);this.output.b+=u.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=f.Document&&t.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+t.nodeType);for(var a=r.iter(t.children);a.hasNext();){var _=a.next();this.writeNode(_,this.pretty?e+"\t":e)}if(this.output.b+=u.string(e+"</"),t.nodeType!=f.Element)throw new js("Bad node type, expected Element but found "+t.nodeType);this.output.b+=u.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==f.Document||t.nodeType==f.Element)throw new js("Bad node type, unexpected "+t.nodeType);var o=t.nodeValue;if(0!=o.length){var h=e+d.htmlEscape(o);this.output.b+=u.string(h),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=u.string(e+"<![CDATA["),t.nodeType==f.Document||t.nodeType==f.Element)throw new js("Bad node type, unexpected "+t.nodeType);var l=d.trim(t.nodeValue);this.output.b+=u.string(l),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==f.Document||t.nodeType==f.Element)throw new js("Bad node type, unexpected "+t.nodeType);var c=t.nodeValue,p=new RegExp("[\n\r\t]+","g".split("u").join(""));c="\x3c!--"+(c=c.replace(p,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var g=d.trim(c);this.output.b+=u.string(g),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==f.Document||t.nodeType==f.Element)throw new js("Bad node type, unexpected "+t.nodeType);this.output.b+=u.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==f.Document||t.nodeType==f.Element)throw new js("Bad node type, unexpected "+t.nodeType);this.output.b+=u.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=f.Document&&t.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+t.nodeType);for(var E=r.iter(t.children);E.hasNext();){var m=E.next();this.writeNode(m,e)}}},hasChildren:function(t){if(t.nodeType!=f.Document&&t.nodeType!=f.Element)throw new js("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=r.iter(t.children);e.hasNext();){var s=e.next();switch(s.nodeType){case 0:case 1:return!0;case 2:case 3:if(s.nodeType==f.Document||s.nodeType==f.Element)throw new js("Bad node type, unexpected "+s.nodeType);if(0!=d.ltrim(s.nodeValue).length)return!0}}return!1},__class__:Ws};var js=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,js)};e["js._Boot.HaxeError"]=js,js.__name__=["js","_Boot","HaxeError"],js.wrap=function(t){return t instanceof Error?t:new js(t)},js.__super__=Error,js.prototype=i(Error.prototype,{__class__:js});var zs=function(){};e["js.Boot"]=zs,zs.__name__=["js","Boot"],zs.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},zs.__trace=function(t,e){var s,i=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(i+=zs.__string_rec(t,""),null!=e&&null!=e.customParams)for(var n=0,r=e.customParams;n<r.length;){var a=r[n];++n,i+=","+zs.__string_rec(a,"")}"undefined"!=typeof document&&null!=(s=document.getElementById("haxe:trace"))?s.innerHTML+=zs.__unhtml(i)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(i)},zs.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var s=zs.__nativeClassName(t);return null!=s?zs.__resolveNativeClass(s):null},zs.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var s=typeof t;switch("function"==s&&(t.__name__||t.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var n=2,r=t.length;n<r;){var a=n++;i+=2!=a?","+zs.__string_rec(t[a],e):zs.__string_rec(t[a],e)}return i+")"}var _="[";e+="\t";for(var o=0,h=t.length;o<h;){var l=o++;_+=(l>0?",":"")+zs.__string_rec(t[l],e)}return _+="]"}var u;try{u=t.toString}catch(t){return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var d=null,p="{\n";e+="\t";var g=null!=t.hasOwnProperty;for(var d in t)g&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=p.length&&(p+=", \n"),p+=e+d+" : "+zs.__string_rec(t[d],e));return p+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},zs.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var s=t.__interfaces__;if(null!=s)for(var i=0,n=s.length;i<n;){var r=s[i++];if(r==e||zs.__interfLoop(r,e))return!0}return zs.__interfLoop(t.__super__,e)},zs.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case yi:return"boolean"==typeof t;case Ei:return!0;case mi:return"number"==typeof t;case fi:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(zs.__interfLoop(zs.getClass(t),e))return!0}else if("object"==typeof e&&zs.__isNativeObj(e)&&t instanceof e)return!0;return e==vi&&null!=t.__name__||(e==Si&&null!=t.__ename__||t.__enum__==e)}},zs.__cast=function(t,e){if(zs.__instanceof(t,e))return t;throw new js("Cannot cast "+u.string(t)+" to "+u.string(e))},zs.__nativeClassName=function(t){var e=zs.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},zs.__isNativeObj=function(t){return null!=zs.__nativeClassName(t)},zs.__resolveNativeClass=function(e){return t[e]};var Xs=function(){};e["js.Browser"]=Xs,Xs.__name__=["js","Browser"],Xs.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return null}},Xs.getSessionStorage=function(){try{var t=window.sessionStorage;return t.getItem(""),t}catch(t){return null}},Xs.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new js("Unable to create XMLHttpRequest object.")};var Qs=function(){};e["js.Cookie"]=Qs,Qs.__name__=["js","Cookie"],Qs.set=function(t,e,s,i,n){var r=t+"="+encodeURIComponent(e);if(null!=s){var a=(new Date).getTime()+1e3*s;r+=";expires="+new Date(a).toGMTString()}null!=i&&(r+=";path="+i),null!=n&&(r+=";domain="+n),window.document.cookie=r},Qs.all=function(){for(var t=new Fs,e=window.document.cookie.split(";"),s=0;s<e.length;){var i=e[s];++s;var n=(i=d.ltrim(i)).split("=");if(!(n.length<2)){var r=n[0],a=decodeURIComponent(n[1].split("+").join(" "));null!=Ti[r]?t.setReserved(r,a):t.h[r]=a}}return t},Qs.get=function(t){var e=Qs.all();return null!=Ti[t]?e.getReserved(t):e.h[t]},Qs.exists=function(t){var e=Qs.all();return null!=Ti[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},Qs.remove=function(t,e,s){Qs.set(t,"",-10,e,s)};var Ks=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var s=0,i=e;s<i;){var n=s++;this.a[n]=0}this.byteLength=e}};e["js.html.compat.ArrayBuffer"]=Ks,Ks.__name__=["js","html","compat","ArrayBuffer"],Ks.sliceImpl=function(t,e){var s=new Ci(this,t,null==e?null:e-t),i=new wi(s.byteLength);return new Ci(i).set(s),i},Ks.prototype={slice:function(t,e){return new Ks(this.a.slice(t,e))},__class__:Ks};var Zs=function(){};e["js.html.compat.Uint8Array"]=Zs,Zs.__name__=["js","html","compat","Uint8Array"],Zs._new=function(t,e,s){var i;if("number"==typeof t){i=[];for(var n=0,r=t;n<r;){i[n++]=0}i.byteLength=i.length,i.byteOffset=0,i.buffer=new Ks(i)}else if(zs.__instanceof(t,Ks)){var a=t;null==e&&(e=0),null==s&&(s=a.byteLength-e),(i=0==e?a.a:a.a.slice(e,e+s)).byteLength=i.length,i.byteOffset=e,i.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new js("TODO "+u.string(t));(i=t.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new Ks(i)}return i.subarray=Zs._subarray,i.set=Zs._set,i},Zs._set=function(t,e){if(zs.__instanceof(t.buffer,Ks)){var s=t;if(t.byteLength+e>this.byteLength)throw new js("set() outside of range");for(var i=0,n=t.byteLength;i<n;){var r=i++;this[r+e]=s[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new js("TODO");var a=t;if(a.length+e>this.byteLength)throw new js("set() outside of range");for(var _=0,o=a.length;_<o;){var h=_++;this[h+e]=a[h]}}},Zs._subarray=function(t,e){var s=Zs._new(this.slice(t,e));return s.byteOffset=t,s};var Js=e["tweezer.EEase"]={__ename__:["tweezer","EEase"],__constructs__:["EASE_IN","EASE_IN_OUT","EASE_OUT","EASE_OUT_IN"]};Js.EASE_IN=["EASE_IN",0],Js.EASE_IN.toString=s,Js.EASE_IN.__enum__=Js,Js.EASE_IN_OUT=["EASE_IN_OUT",1],Js.EASE_IN_OUT.toString=s,Js.EASE_IN_OUT.__enum__=Js,Js.EASE_OUT=["EASE_OUT",2],Js.EASE_OUT.toString=s,Js.EASE_OUT.__enum__=Js,Js.EASE_OUT_IN=["EASE_OUT_IN",3],Js.EASE_OUT_IN.toString=s,Js.EASE_OUT_IN.__enum__=Js;var qs=e["tweezer.ETween"]={__ename__:["tweezer","ETween"],__constructs__:["BACK","BOUNCE","CIRCULAR","CUBIC","ELASTIC","EXPONENTIAL","LINEAR","QUADRATIC","QUARTIC","QUINTIC","SINE"]};qs.BACK=function(t){var e=["BACK",0,t];return e.__enum__=qs,e.toString=s,e},qs.BOUNCE=["BOUNCE",1],qs.BOUNCE.toString=s,qs.BOUNCE.__enum__=qs,qs.CIRCULAR=["CIRCULAR",2],qs.CIRCULAR.toString=s,qs.CIRCULAR.__enum__=qs,qs.CUBIC=["CUBIC",3],qs.CUBIC.toString=s,qs.CUBIC.__enum__=qs,qs.ELASTIC=function(t,e){var i=["ELASTIC",4,t,e];return i.__enum__=qs,i.toString=s,i},qs.EXPONENTIAL=["EXPONENTIAL",5],qs.EXPONENTIAL.toString=s,qs.EXPONENTIAL.__enum__=qs,qs.LINEAR=["LINEAR",6],qs.LINEAR.toString=s,qs.LINEAR.__enum__=qs,qs.QUADRATIC=["QUADRATIC",7],qs.QUADRATIC.toString=s,qs.QUADRATIC.__enum__=qs,qs.QUARTIC=["QUARTIC",8],qs.QUARTIC.toString=s,qs.QUARTIC.__enum__=qs,qs.QUINTIC=["QUINTIC",9],qs.QUINTIC.toString=s,qs.QUINTIC.__enum__=qs,qs.SINE=["SINE",10],qs.SINE.toString=s,qs.SINE.__enum__=qs;var $s=function(){};e["tweezer.TweenFactory"]=$s,$s.__name__=["tweezer","TweenFactory"],$s.createTweenFunction=function(t,e,s,i,n){switch(null==i&&(i=Js.EASE_IN),null==n&&(n=qs.LINEAR),n[1]){case 0:var r=n[2];switch(null==r&&(r=1.70158),i[1]){case 0:return function(i){return ei.easeIn(i,t,e,s,r)};case 1:return function(i){return ei.easeInOut(i,t,e,s,r)};case 2:return function(i){return ei.easeOut(i,t,e,s,r)};case 3:return function(i){return ei.easeOutIn(i,t,e,s,r)}}break;case 1:switch(i[1]){case 0:return function(i){return si.easeIn(i,t,e,s)};case 1:return function(i){return si.easeInOut(i,t,e,s)};case 2:return function(i){return si.easeOut(i,t,e,s)};case 3:return function(i){return si.easeOutIn(i,t,e,s)}}break;case 2:switch(i[1]){case 0:return function(i){return ii.easeIn(i,t,e,s)};case 1:return function(i){return ii.easeInOut(i,t,e,s)};case 2:return function(i){return ii.easeOut(i,t,e,s)};case 3:return function(i){return ii.easeOutIn(i,t,e,s)}}break;case 3:switch(i[1]){case 0:return function(i){return ni.easeIn(i,t,e,s)};case 1:return function(i){return ni.easeInOut(i,t,e,s)};case 2:return function(i){return ni.easeOut(i,t,e,s)};case 3:return function(i){return ni.easeOutIn(i,t,e,s)}}break;case 4:var a=n[3],_=n[2];switch(null==_&&(_=.3*s*(i==Js.EASE_IN_OUT?1.5:1)),null==a&&(a=0),i[1]){case 0:return function(i){return ri.easeIn(i,t,e,s,_,a)};case 1:return function(i){return ri.easeInOut(i,t,e,s,_,a)};case 2:return function(i){return ri.easeOut(i,t,e,s,_,a)};case 3:return function(i){return ri.easeOutIn(i,t,e,s,_,a)}}break;case 5:switch(i[1]){case 0:return function(i){return ai.easeIn(i,t,e,s)};case 1:return function(i){return ai.easeInOut(i,t,e,s)};case 2:return function(i){return ai.easeOut(i,t,e,s)};case 3:return function(i){return ai.easeOutIn(i,t,e,s)}}break;case 6:return function(i){return _i.ease(i,t,e,s)};case 7:switch(i[1]){case 0:return function(i){return oi.easeIn(i,t,e,s)};case 1:return function(i){return oi.easeInOut(i,t,e,s)};case 2:return function(i){return oi.easeOut(i,t,e,s)};case 3:return function(i){return oi.easeOutIn(i,t,e,s)}}break;case 8:switch(i[1]){case 0:return function(i){return hi.easeIn(i,t,e,s)};case 1:return function(i){return hi.easeInOut(i,t,e,s)};case 2:return function(i){return hi.easeOut(i,t,e,s)};case 3:return function(i){return hi.easeOutIn(i,t,e,s)}}break;case 9:switch(i[1]){case 0:return function(i){return li.easeIn(i,t,e,s)};case 1:return function(i){return li.easeInOut(i,t,e,s)};case 2:return function(i){return li.easeOut(i,t,e,s)};case 3:return function(i){return li.easeOutIn(i,t,e,s)}}break;case 10:switch(i[1]){case 0:return function(i){return ui.easeIn(i,t,e,s)};case 1:return function(i){return ui.easeInOut(i,t,e,s)};case 2:return function(i){return ui.easeOut(i,t,e,s)};case 3:return function(i){return ui.easeOutIn(i,t,e,s)}}}};var ti=function(t,e,s,i,n,r,a,_,o,h,l){null==a&&(a=0),null==r&&(r=1e3),null==n&&(n=0),this._updateCallback=e,this._startValue=s,this._endValue=i,this._startDelay=n,this._duration=r,this._endDelay=a,this._easeType=_,this._tweenType=o,this._completeCallback=h,this._isSnap=l,b.call(this,t),this._updater(),this._updates=0};e["tweezer.Tweezer"]=ti,ti.__name__=["tweezer","Tweezer"],ti.__super__=b,ti.prototype=i(b.prototype,{_init:function(){b.prototype._init.call(this),this._tweenFunction=$s.createTweenFunction(this._startValue,this._endValue-this._startValue,this._duration,this._easeType,this._tweenType)},_updater:function(t){if(null==t&&(t=0),b.prototype._updater.call(this,t),null!=this._updateCallback){var e=this._tweenFunction(Math.min(Math.max(0,this._age-this._startDelay),this._duration));this._updateCallback(this._isSnap?Math.round(e):e)}this._age>=this._startDelay+this._duration+this._endDelay&&(null!=this._completeCallback&&this._completeCallback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:ti});var ei=function(){};e["tweezer.tweens.Back"]=ei,ei.__name__=["tweezer","tweens","Back"],ei.easeIn=function(t,e,s,i,n){return s*(t/=i)*t*((n+1)*t-n)+e},ei.easeOut=function(t,e,s,i,n){return s*((t=t/i-1)*t*((n+1)*t+n)+1)+e},ei.easeInOut=function(t,e,s,i,n){return(t/=i/2)<1?s/2*(t*t*((1+(n*=1.525))*t-n))+e:s/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ei.easeOutIn=function(t,e,s,i,n){return t<i/2?ei.easeOut(2*t,e,s/2,i,n):ei.easeIn(2*t-i,e+s/2,s/2,i,n)};var si=function(){};e["tweezer.tweens.Bounce"]=si,si.__name__=["tweezer","tweens","Bounce"],si.easeIn=function(t,e,s,i){return s-si.easeOut(i-t,0,s,i)+e},si.easeOut=function(t,e,s,i){return(t/=i)<.36363636363636365?s*(7.5625*t*t)+e:t<.7272727272727273?s*(7.5625*(t-=.5454545454545454)*t+.75)+e:t<.9090909090909091?s*(7.5625*(t-=.8181818181818182)*t+.9375)+e:s*(7.5625*(t-=.9545454545454546)*t+.984375)+e},si.easeInOut=function(t,e,s,i){return t<i/2?.5*si.easeIn(2*t,0,s,i)+e:.5*si.easeOut(2*t-i,0,s,i)+.5*s+e},si.easeOutIn=function(t,e,s,i){return t<i/2?si.easeOut(2*t,e,s/2,i):si.easeIn(2*t-i,e+s/2,s/2,i)};var ii=function(){};e["tweezer.tweens.Circular"]=ii,ii.__name__=["tweezer","tweens","Circular"],ii.easeIn=function(t,e,s,i){return-s*(Math.sqrt(1-(t/=i)*t)-1)+e},ii.easeOut=function(t,e,s,i){return t=t/i-1,s*Math.sqrt(1-t*t)+e},ii.easeInOut=function(t,e,s,i){return(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},ii.easeOutIn=function(t,e,s,i){return t<i/2?ii.easeOut(2*t,e,s/2,i):ii.easeIn(2*t-i,e+s/2,s/2,i)};var ni=function(){};e["tweezer.tweens.Cubic"]=ni,ni.__name__=["tweezer","tweens","Cubic"],ni.easeIn=function(t,e,s,i){return s*(t/=i)*t*t+e},ni.easeOut=function(t,e,s,i){return s*((t=t/i-1)*t*t+1)+e},ni.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},ni.easeOutIn=function(t,e,s,i){return t<i/2?ni.easeOut(2*t,e,s/2,i):ni.easeIn(2*t-i,e+s/2,s/2,i)};var ri=function(){};e["tweezer.tweens.Elastic"]=ri,ri.__name__=["tweezer","tweens","Elastic"],ri.easeIn=function(t,e,s,i,n,r){return 0==t?e:1==(t/=i)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),-r*Math.pow(2,10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)+e);var a},ri.easeOut=function(t,e,s,i,n,r){return 0==t?e:1==(t/=i)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),r*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/n)+s+e);var a},ri.easeInOut=function(t,e,s,i,n,r){return 0==t?e:2==(t/=i/2)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),t<1?r*Math.pow(2,10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)*-.5+e:r*Math.pow(2,-10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)*.5+s+e);var a},ri.easeOutIn=function(t,e,s,i,n,r){return t<i/2?ri.easeOut(2*t,e,s/2,i,n,r):ri.easeIn(2*t-i,e+s/2,s/2,i,n,r)};var ai=function(){};e["tweezer.tweens.Exponential"]=ai,ai.__name__=["tweezer","tweens","Exponential"],ai.easeIn=function(t,e,s,i){return 0==t?e:s*Math.pow(2,10*(t/i-1))+e-.001*s},ai.easeOut=function(t,e,s,i){return t==i?e+s:1.001*s*(1-Math.pow(2,-10*t/i))+e},ai.easeInOut=function(t,e,s,i){return 0==t?e:t==i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e-5e-4*s:s/2*1.0005*(2-Math.pow(2,-10*--t))+e},ai.easeOutIn=function(t,e,s,i){return t<i/2?ai.easeOut(2*t,e,s/2,i):ai.easeIn(2*t-i,e+s/2,s/2,i)};var _i=function(){};e["tweezer.tweens.Linear"]=_i,_i.__name__=["tweezer","tweens","Linear"],_i.ease=function(t,e,s,i){return s*t/i+e};var oi=function(){};e["tweezer.tweens.Quadratic"]=oi,oi.__name__=["tweezer","tweens","Quadratic"],oi.easeIn=function(t,e,s,i){return s*(t/=i)*t+e},oi.easeOut=function(t,e,s,i){return-s*(t/=i)*(t-2)+e},oi.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},oi.easeOutIn=function(t,e,s,i){return t<i/2?oi.easeOut(2*t,e,s/2,i):oi.easeIn(2*t-i,e+s/2,s/2,i)};var hi=function(){};e["tweezer.tweens.Quartic"]=hi,hi.__name__=["tweezer","tweens","Quartic"],hi.easeIn=function(t,e,s,i){return s*(t/=i)*t*t*t+e},hi.easeOut=function(t,e,s,i){return-s*((t=t/i-1)*t*t*t-1)+e},hi.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},hi.easeOutIn=function(t,e,s,i){return t<i/2?hi.easeOut(2*t,e,s/2,i):hi.easeIn(2*t-i,e+s/2,s/2,i)};var li=function(){};e["tweezer.tweens.Quintic"]=li,li.__name__=["tweezer","tweens","Quintic"],li.easeIn=function(t,e,s,i){return s*(t/=i)*t*t*t*t+e},li.easeOut=function(t,e,s,i){return s*((t=t/i-1)*t*t*t*t+1)+e},li.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},li.easeOutIn=function(t,e,s,i){return t<i/2?li.easeOut(2*t,e,s/2,i):li.easeIn(2*t-i,e+s/2,s/2,i)};var ui=function(){};function ci(t){return t instanceof Array?function(){return r.iter(t)}:"function"==typeof t.iterator?gi(t,t.iterator):t.iterator}e["tweezer.tweens.Sine"]=ui,ui.__name__=["tweezer","tweens","Sine"],ui.easeIn=function(t,e,s,i){return-s*Math.cos(t/i*(Math.PI/2))+s+e},ui.easeOut=function(t,e,s,i){return s*Math.sin(t/i*(Math.PI/2))+e},ui.easeInOut=function(t,e,s,i){return-s/2*(Math.cos(Math.PI*t/i)-1)+e},ui.easeOutIn=function(t,e,s,i){return t<i/2?ui.easeOut(2*t,e,s/2,i):ui.easeIn(2*t-i,e+s/2,s/2,i)};var di,pi=0;function gi(t,e){return null==e?null:(null==e.__id__&&(e.__id__=pi++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[e.__id__],null==s&&((s=function(){return s.method.apply(s.scope,arguments)}).scope=t,s.method=e,t.hx__closures__[e.__id__]=s),s);var s}e.Math=Math,String.prototype.__class__=e.String=String,String.__name__=["String"],e.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=e.Date=Date,Date.__name__=["Date"];var fi=e.Int={__name__:["Int"]},Ei=e.Dynamic={__name__:["Dynamic"]},mi=e.Float=Number;mi.__name__=["Float"];var yi=e.Bool=Boolean;yi.__ename__=["Bool"];var vi=e.Class={__name__:["Class"]},Si={};Rs.content=[{name:"revision",data:"MTkNCjIwMTgvMDIvMDkgMTI6MjU6MjINCg"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGFzc2V0cz4NCgkJCTxwYWNrYWdlcyBkZWZhdWx0PSJhc3NldHMiIGF1ZGlvPSJhc3NldHMuYXVkaW8iIC8+DQoJCTwvYXNzZXRzPg0KCQk8Zm9udCBuYW1lPSJleG8yLWV4dHJhYm9sZGl0YWxpYy13ZWJmb250IiAvPg0KCQk8YXNjaWlBcnQ+DQpTS0kgU0xBTE9NDQoNCgkJPC9hc2NpaUFydD4NCg0KCQk8Z29vZ2xlQW5hbHl0aWNzIGlkPSIiIGVuYWJsZWQ9InRydWUiIC8+DQoJCTxhdWRpb0hvbGREZWxheT41MDAwPC9hdWRpb0hvbGREZWxheT4NCgkJPGRpc2FibGVFeWVDYW5keT5mYWxzZTwvZGlzYWJsZUV5ZUNhbmR5Pg0KCQk8ZGlzYWJsZURldmljZU1vdGlvbj5mYWxzZTwvZGlzYWJsZURldmljZU1vdGlvbj4NCgkJPG9yaWVudGF0aW9uQXBwcm94aW1hdGlvbj5mYWxzZTwvb3JpZW50YXRpb25BcHByb3hpbWF0aW9uPg0KCTwvc2V0dGluZ3M+DQoJPGd1aT4NCgkJPGF1ZGlvSG9sZE1lc3NhZ2U+VG91Y2ggdG8gc3RhcnQ8L2F1ZGlvSG9sZE1lc3NhZ2U+DQoJCTxidXR0b25zPg0KCQkJPGluc3RydWN0aW9ucz5Ib3cgdG8gcGxheTwvaW5zdHJ1Y3Rpb25zPg0KCQkJPHBsYXk+UGxheTwvcGxheT4NCgkJCTxhdmF0YXI+Q2hhbmdlIGhlcm88L2F2YXRhcj4NCgkJCTxjb250aW51ZT5Db250aW51ZTwvY29udGludWU+DQoJCQk8cmVzZXQ+UmVzZXQgSGVybzwvcmVzZXQ+DQoJCQk8YnV5PkJ1eTwvYnV5Pg0KCQkJPHVucGF1c2U+UmVzdW1lPC91bnBhdXNlPg0KCQkJPGF1ZGlvT24+U291bmQgT248L2F1ZGlvT24+DQoJCQk8YXVkaW9PZmY+U291bmQgT2ZmPC9hdWRpb09mZj4NCgkJCTxmdWxsU2NyZWVuT24+RnVsbCBzY3JlZW48L2Z1bGxTY3JlZW5Pbj4NCgkJCTxmdWxsU2NyZWVuT2ZmPkV4aXQgZnVsbCBzY3JlZW48L2Z1bGxTY3JlZW5PZmY+DQoJCQk8YmFjaz5NYWluIG1lbnU8L2JhY2s+DQoJCQk8dGVzdE1vZGU+DQoJCQkJPGZpbmlzaD5GaW5pc2g8L2ZpbmlzaD4NCgkJCQk8c2tpcD5Ta2lwPC9za2lwPg0KCQkJCTxicm9uemU+QnJvbnplPC9icm9uemU+DQoJCQkJPHNpbHZlcj5TaWx2ZXI8L3NpbHZlcj4NCgkJCQk8Z29sZD5Hb2xkPC9nb2xkPg0KCQkJPC90ZXN0TW9kZT4NCgkJCTxhdmF0YXJzPg0KCQkJCTx1bml0QT5Ub25pPC91bml0QT4NCgkJCQk8dW5pdEI+QXNobGV5PC91bml0Qj4NCgkJCTwvYXZhdGFycz4NCgkJCTxsZXZlbHM+DQoJCQkJPGxldmVsMT5CZWdpbm5lcjwvbGV2ZWwxPg0KCQkJCTxsZXZlbDI+Tm9ybWFsPC9sZXZlbDI+DQoJCQkJPGxldmVsMz5FeHBlcnQ8L2xldmVsMz4NCgkJCTwvbGV2ZWxzPg0KCQk8L2J1dHRvbnM+DQoJCTx1cGdyYWRlcz4NCgkJCTxzcGVlZD5TcGVlZDwvc3BlZWQ+DQoJCQk8c3RlZXJpbmc+RWRnaW5nPC9zdGVlcmluZz4NCgkJCTxhY2NlbGVyYXRpb24+QWdpbGl0eTwvYWNjZWxlcmF0aW9uPg0KCQkJPGJvb3N0PkJvb3N0PC9ib29zdD4NCgkJPC91cGdyYWRlcz4NCgkJPG1lZGFscz4NCgkJCTxub25lPlJlc3BlY3Q8L25vbmU+DQoJCQk8YnJvbnplPkJyb256ZTwvYnJvbnplPg0KCQkJPHNpbHZlcj5TaWx2ZXI8L3NpbHZlcj4NCgkJCTxnb2xkPkdvbGQ8L2dvbGQ+DQoJCTwvbWVkYWxzPg0KCQk8bGV2ZWxzPg0KCQkJPGxldmVsMT5MZXZlbCAxPC9sZXZlbDE+DQoJCQk8bGV2ZWwyPkxldmVsIDI8L2xldmVsMj4NCgkJCTxsZXZlbDM+TGV2ZWwgMzwvbGV2ZWwzPg0KCQk8L2xldmVscz4NCgkJPHVuaXRzPg0KCQkJPHVuaXRBIHRpdGxlPSJNZW4iIHN1YnRpdGxlPSJUZWFtIiAvPg0KCQkJPHVuaXRCIHRpdGxlPSJXb21lbiIgc3VidGl0bGU9IlRlYW0iIC8+DQoJCTwvdW5pdHM+DQoJCTxzY2VuZXM+DQoJCQk8bWVudT4NCgkJCQk8dGl0bGU+U0tJIFNMQUxPTTwvdGl0bGU+DQoJCQk8L21lbnU+DQoJCQk8aW5zdHJ1Y3Rpb25zPg0KCQkJCTx0aXRsZT5Ib3cgdG8gcGxheTwvdGl0bGU+DQoJCQkJPG1lc3NhZ2U+PCFbQ0RBVEFbQ2hvb3NlIHlvdXIgaGVybyBhbmQgUExBWV1dPjwvbWVzc2FnZT4NCgkJCTwvaW5zdHJ1Y3Rpb25zPg0KCQkJPGF2YXRhcj4NCgkJCQk8dGl0bGU+U2VsZWN0IGhlcm88L3RpdGxlPg0KCQkJPC9hdmF0YXI+DQoJCQk8c2VsZWN0TGV2ZWw+DQoJCQkJPHRpdGxlPlNlbGVjdCBTbGFsb20gZXZlbnQ8L3RpdGxlPg0KCQkJCTxtZXNzYWdlTmV3PlBsYXkgdG8gd2luIGEgbWVkYWw8L21lc3NhZ2VOZXc+DQoJCQkJPG1lc3NhZ2VMb2NrZWQ+UGxheSBfX1BSRVZJT1VTX0xFVkVMX18gdG8gdW5sb2NrPC9tZXNzYWdlTG9ja2VkPg0KCQkJCTxuZXc+TmV3PC9uZXc+DQoJCQkJPGxvY2tlZD5Mb2NrZWQ8L2xvY2tlZD4NCgkJCTwvc2VsZWN0TGV2ZWw+DQoJCQk8Z2FtZT4NCgkJCQk8aHVkPg0KCQkJCQk8dGFyZ2V0cz5UaW1lIHRvIGJlYXQ8L3RhcmdldHM+DQoJCQkJCTx0aW1lcj5DdXJyZW50IHRpbWU8L3RpbWVyPg0KCQkJCQk8c3BlZWRvPkttL2g8L3NwZWVkbz4NCgkJCQkJPGNvaW5zPkNvaW5zPC9jb2lucz4NCgkJCQk8L2h1ZD4NCgkJCTwvZ2FtZT4NCgkJCTxyZXN1bHRzPg0KCQkJCTx0aXRsZT5SZXN1bHRzPC90aXRsZT4NCgkJCQk8bWVzc2FnZT5Zb3Ugd2luPC9tZXNzYWdlPg0KCQkJPC9yZXN1bHRzPg0KCQkJPHNob3A+DQoJCQkJPHRpdGxlPlRyYWluIHlvdXIgaGVybzwvdGl0bGU+DQoJCQkJPG1heGVkPk1heGVkPC9tYXhlZD4NCgkJCTwvc2hvcD4NCgkJPC9zY2VuZXM+DQoJPC9ndWk+DQo8L2RhdGE+DQo="}];var Ti={},wi=t.ArrayBuffer||Ks;null==wi.prototype.slice&&(wi.prototype.slice=Ks.sliceImpl);var Ai,Ci=t.Uint8Array||Zs._new;f.Element=0,f.PCData=1,f.CData=2,f.Comment=3,f.DocType=4,f.ProcessingInstruction=5,f.Document=6,Xe.WIDTH=200,Xe.HEIGHT=65,ks.USE_CACHE=!1,ks.USE_ENUM_INDEX=!1,ks.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ns.DEFAULT_RESOLVER=new Us,Ns.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ds.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ds.BYTES=Ps.ofString(Ds.CHARS),Bs.count=0,Vs.escapes=(Ai=new Fs,null!=Ti.lt?Ai.setReserved("lt","<"):Ai.h.lt="<",null!=Ti.gt?Ai.setReserved("gt",">"):Ai.h.gt=">",null!=Ti.amp?Ai.setReserved("amp","&"):Ai.h.amp="&",null!=Ti.quot?Ai.setReserved("quot",'"'):Ai.h.quot='"',null!=Ti.apos?Ai.setReserved("apos","'"):Ai.h.apos="'",Ai),zs.__toStr={}.toString,Zs.BYTES_PER_ELEMENT=1,de.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);