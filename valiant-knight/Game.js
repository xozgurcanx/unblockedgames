(function(Q){function z(a,b){function c(){}c.prototype=a;var j=new c,d;for(d in b)j[d]=b[d];b.toString!==Object.prototype.toString&&(j.toString=b.toString);return j}function Wc(a){return a instanceof Array?function(){return B.iter(a)}:"function"==typeof a.iterator?w(a,a.iterator):a.iterator}function w(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Je++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Q.openfl=Q.openfl||{};var l={},A=function(){return D.Boot.__string_rec(this,"")},q=function(){};l.ApplicationMain=q;q.__name__=["ApplicationMain"];q.preloader=null;q.embed=Q.openfl.embed=function(a,b,c,j){var d=null;null!=a&&(d=window.document.getElementById(a));a=null;null!=j&&(j=O.replace(j,"#",""),a=-1<j.indexOf("0x")?C.parseInt(j):C.parseInt("0x"+j));e.Lib.create(d,b,c,a);q.preloader=new G;e.Lib.current.addChild(q.preloader);q.preloader.onInit();
b=[];c="Assets/general/rotate.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/general/stageBackground.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/sounds1/Achievement.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/Achievement.mp3"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/Achievement.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/Achievement.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/barrel_crush.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/barrel_crush.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/barrel_crush.ogg";
!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/barrel_crush.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/button_click.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/button_click.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/button_click.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&
(c=p.io.Path.withoutExtension("Assets/sounds1/button_click.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/coin1.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/coin1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/coin1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/coin1.ogg"),B.remove(b,c)||q.total++,b.push(c));
c="Assets/sounds1/coin2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/coin2.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/coin2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/coin2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/coin3.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&
(c=p.io.Path.withoutExtension("Assets/sounds1/coin3.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/coin3.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/coin3.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/death.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/death.mp3"),B.remove(b,c)||q.total++,b.push(c));c=
"Assets/sounds1/death.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/death.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/door.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/door.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/door.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&
(c=p.io.Path.withoutExtension("Assets/sounds1/door.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/foot_slide.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/foot_slide.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/foot_slide.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/foot_slide.ogg"),B.remove(b,c)||q.total++,
b.push(c));c="Assets/sounds1/hero_beat.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/hero_beat.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/hero_beat.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/hero_beat.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/jump_down1.mp3";!0==u.isFunction(u.field(q.preloader,
"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/jump_down1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/jump_down1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/jump_down1.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/jump_down2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/jump_down2.mp3"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/jump_down2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/jump_down2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lift.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lift.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lift.ogg";!0==u.isFunction(u.field(q.preloader,
"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lift.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lose1.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lose1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lose1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lose1.ogg"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lose2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lose2.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/lose2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/lose2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/magic_floor_gun.mp3";!0==u.isFunction(u.field(q.preloader,
"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/magic_floor_gun.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/magic_floor_gun.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/magic_floor_gun.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/main_theme.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/main_theme.mp3"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/main_theme.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/main_theme.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/open_word.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/open_word.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/open_word.ogg";!0==u.isFunction(u.field(q.preloader,
"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/open_word.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain1.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain1.ogg"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain2.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain3.mp3";!0==u.isFunction(u.field(q.preloader,
"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain3.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pain3.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pain3.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pause_show.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pause_show.mp3"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/pause_show.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/pause_show.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/platform_fall.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/platform_fall.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/platform_fall.ogg";
!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/platform_fall.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/run.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/run.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/run.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/run.ogg"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/Skeleton_attack.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/Skeleton_attack.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/Skeleton_attack.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/Skeleton_attack.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/skeleton_die.mp3";
!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/skeleton_die.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/skeleton_die.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/skeleton_die.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/star1.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&
(c=p.io.Path.withoutExtension("Assets/sounds1/star1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/star1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/star1.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/star2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/star2.mp3"),B.remove(b,c)||q.total++,b.push(c));c=
"Assets/sounds1/star2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/star2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/star3.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/star3.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/star3.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&
(c=p.io.Path.withoutExtension("Assets/sounds1/star3.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/steps.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/steps.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/steps.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/steps.ogg"),B.remove(b,c)||q.total++,b.push(c));c=
"Assets/sounds1/victory1.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory1.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/victory1.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory1.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/victory2.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==
q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory2.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/victory2.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory2.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/victory_all_game.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory_all_game.mp3"),
B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/victory_all_game.ogg";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/victory_all_game.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/wall_cannon.mp3";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/wall_cannon.mp3"),B.remove(b,c)||q.total++,b.push(c));c="Assets/sounds1/wall_cannon.ogg";
!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(c=p.io.Path.withoutExtension("Assets/sounds1/wall_cannon.ogg"),B.remove(b,c)||q.total++,b.push(c));c="Assets/images1/AwardMenu.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/BitmapList.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,
j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/MainMenu.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/PreloaderIcon.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/RenderList1.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&
!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/RenderList2.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/ScenesList.png";!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);c="Assets/images1/ScenesList2.png";
!0==u.isFunction(u.field(q.preloader,"needLoad"))&&!0==q.preloader.needLoad(c)&&(j=new Image,q.images.set(c,j),j.onload=q.image_onLoad,j.src=c,q.total++);if(0==q.total)q.start();else{for(c=q.urlLoaders.keys();c.hasNext();)j=c.next(),d=q.urlLoaders.get(j),d.addEventListener("complete",q.loader_onComplete),d.load(new e.net.URLRequest(j));for(c=0;c<b.length;)j=b[c],++c,d=new e.media.Sound,d.addEventListener(e.events.Event.COMPLETE,q.sound_onComplete),d.addEventListener(e.events.IOErrorEvent.IO_ERROR,
q.sound_onIOError),d.load(new e.net.URLRequest(j+".ogg"))}};q.main=function(){};q.start=function(){q.preloader.addEventListener(e.events.Event.COMPLETE,q.preloader_onComplete);q.preloader.onLoaded()};q.image_onLoad=function(){q.assetsLoaded++;q.preloader.onUpdate(q.assetsLoaded,q.total);q.assetsLoaded==q.total&&q.start()};q.loader_onComplete=function(){q.assetsLoaded++;q.preloader.onUpdate(q.assetsLoaded,q.total);q.assetsLoaded==q.total&&q.start()};q.preloader_onComplete=function(){q.preloader.removeEventListener(e.events.Event.COMPLETE,
q.preloader_onComplete);e.Lib.current.removeChild(q.preloader);q.preloader=null;for(var a=!1,b=0,c=R.getClassFields(F);b<c.length;){var j=c[b];++b;if("main"==j){a=!0;break}}a?u.callMethod(F,u.field(F,"main"),[]):(a=R.createInstance(Nb,[]),D.Boot.__instanceof(a,e.display.DisplayObject)?e.Lib.current.addChild(a):(p.Log.trace("Error: No entry point found",{fileName:"ApplicationMain.hx",lineNumber:1690,className:"ApplicationMain",methodName:"preloader_onComplete"}),p.Log.trace("If you are using DCE with a static main, you may need to @:keep the function",
{fileName:"ApplicationMain.hx",lineNumber:1691,className:"ApplicationMain",methodName:"preloader_onComplete"})))};q.sound_onComplete=function(){q.assetsLoaded++;q.preloader.onUpdate(q.assetsLoaded,q.total);q.assetsLoaded==q.total&&q.start()};q.sound_onIOError=function(){q.assetsLoaded++;q.preloader.onUpdate(q.assetsLoaded,q.total);q.assetsLoaded==q.total&&q.start()};var e={events:{}};e.events.IEventDispatcher=function(){};l["openfl.events.IEventDispatcher"]=e.events.IEventDispatcher;e.events.IEventDispatcher.__name__=
["openfl","events","IEventDispatcher"];e.events.IEventDispatcher.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:e.events.IEventDispatcher};e.events.EventDispatcher=function(a){null!=a&&(this.__targetDispatcher=a)};l["openfl.events.EventDispatcher"]=e.events.EventDispatcher;e.events.EventDispatcher.__name__=["openfl","events","EventDispatcher"];e.events.EventDispatcher.__interfaces__=[e.events.IEventDispatcher];e.events.EventDispatcher.__sortByPriority=
function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};e.events.EventDispatcher.prototype={__targetDispatcher:null,__eventMap:null,addEventListener:function(a,b,c,j){null==j&&(j=0);null==c&&(c=!1);null==this.__eventMap&&(this.__eventMap=new p.ds.StringMap);if(this.__eventMap.exists(a))a=this.__eventMap.get(a),a.push(new e.events._EventDispatcher.Listener(b,c,j)),a.sort(e.events.EventDispatcher.__sortByPriority);else{var d=[];d.push(new e.events._EventDispatcher.Listener(b,c,j));
this.__eventMap.set(a,d)}},dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=this.__eventMap.get(a.type);if(null==b)return!1;null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var c=0==a.eventPhase,j=0,d;j<b.length;){d=b[j];if(d.useCapture==c&&(d.callback(a),a.__isCancelledNow))break;d==b[j]&&j++}return!0},hasEventListener:function(a){return null==this.__eventMap?!1:this.__eventMap.exists(a)},removeEventListener:function(a,
b,c){null==c&&(c=!1);if(null!=this.__eventMap){var j=this.__eventMap.get(a);if(null!=j){for(var d=0,i=j.length;d<i;){var N=d++;if(j[N].match(b,c)){j.splice(N,1);break}}0==j.length&&this.__eventMap.remove(a);this.__eventMap.iterator().hasNext()||(this.__eventMap=null)}}},toString:function(){return"[object "+R.getClassName(R.getClass(this)).split(".").pop()+"]"},willTrigger:function(a){return this.hasEventListener(a)},__class__:e.events.EventDispatcher};e.display={};e.display.IBitmapDrawable=function(){};
l["openfl.display.IBitmapDrawable"]=e.display.IBitmapDrawable;e.display.IBitmapDrawable.__name__=["openfl","display","IBitmapDrawable"];e.display.IBitmapDrawable.prototype={__worldTransform:null,__renderCanvas:null,__renderMask:null,__updateChildren:null,__class__:e.display.IBitmapDrawable};e.display.DisplayObject=function(){e.events.EventDispatcher.call(this);this.set_alpha(1);this.set_rotation(0);this.set_scaleX(1);this.set_scaleY(1);this.set_visible(!0);this.set_x(0);this.set_y(0);this.__worldAlpha=
1;this.__worldTransform=new e.geom.Matrix;this.set_name("instance"+ ++e.display.DisplayObject.__instanceCount)};l["openfl.display.DisplayObject"]=e.display.DisplayObject;e.display.DisplayObject.__name__=["openfl","display","DisplayObject"];e.display.DisplayObject.__interfaces__=[e.display.IBitmapDrawable];e.display.DisplayObject.__super__=e.events.EventDispatcher;e.display.DisplayObject.prototype=z(e.events.EventDispatcher.prototype,{blendMode:null,cacheAsBitmap:null,loaderInfo:null,mouseX:null,mouseY:null,
opaqueBackground:null,parent:null,root:null,scale9Grid:null,stage:null,__worldTransform:null,__alpha:null,__filters:null,__interactive:null,__isMask:null,__mask:null,__name:null,__renderable:null,__renderDirty:null,__rotation:null,__rotationCache:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__scrollRect:null,__style:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldClip:null,__worldClipChanged:null,__worldTransformCache:null,
__worldTransformChanged:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__x:null,__y:null,dispatchEvent:function(a){var b=e.events.EventDispatcher.prototype.dispatchEvent.call(this,a);if(a.__isCancelled)return!0;a.bubbles&&(null!=this.parent&&this.parent!=this)&&(a.eventPhase=2,this.parent.dispatchEvent(a));return b},getBounds:function(a){var b=this.__getTransform();null!=a&&(b=new e.geom.Matrix(b.a,b.b,b.c,b.d,b.tx,b.ty),b.concat(a.__worldTransform.clone().invert()));a=new e.geom.Rectangle;
this.__getBounds(a,b);return a},getRect:function(a){return this.getBounds(a)},globalToLocal:function(a){return this.__getTransform().clone().invert().transformPoint(a)},hitTestObject:function(){return!1},hitTestPoint:function(){return!1},localToGlobal:function(a){return this.__getTransform().transformPoint(a)},__applyStyle:function(a,b,c,j){b&&this.__worldTransformChanged&&this.__style.setProperty(a.transformProperty,this.__worldTransform.to3DString(a.roundPixels),null);this.__worldZ!=++a.z&&(this.__worldZ=
a.z,this.__style.setProperty("z-index",C.string(this.__worldZ),null));c&&this.__worldAlphaChanged&&(1>this.__worldAlpha?this.__style.setProperty("opacity",C.string(this.__worldAlpha),null):this.__style.removeProperty("opacity"));j&&this.__worldClipChanged&&(null==this.__worldClip?this.__style.removeProperty("clip"):(a=this.__worldClip.transform(this.__worldTransform.clone().invert()),this.__style.setProperty("clip","rect("+a.y+"px, "+a.get_right()+"px, "+a.get_bottom()+"px, "+a.x+"px)",null)))},__broadcast:function(a){if(null!=
this.__eventMap&&this.hasEventListener(a.type)){var b=e.events.EventDispatcher.prototype.dispatchEvent.call(this,a);return a.__isCancelled?!0:b}return!1},__getBounds:function(){},__getInteractive:function(){},__getLocalBounds:function(a){this.__getTransform();this.__getBounds(a,new e.geom.Matrix)},__getTransform:function(){if(0<e.display.DisplayObject.__worldTransformDirty){for(var a=[],b=this,c=this.__transformDirty;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=
--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(){return!1},__initializeElement:function(a,b){this.__style=a.style;this.__style.setProperty("position","absolute",null);this.__style.setProperty("top","0",null);this.__style.setProperty("left","0",null);this.__style.setProperty(b.transformOriginProperty,"0 0 0",null);b.element.appendChild(a);this.__worldVisibleChanged=this.__worldTransformChanged=this.__worldClipChanged=this.__worldAlphaChanged=!0;this.__worldZ=-1},__renderCanvas:function(){},
__renderDOM:function(){},__renderGL:function(){},__renderMask:function(){},__setStageReference:function(a){this.stage!=a&&(null!=this.stage&&this.dispatchEvent(new e.events.Event(e.events.Event.REMOVED_FROM_STAGE,!1,!1)),this.stage=a,null!=a&&this.dispatchEvent(new e.events.Event(e.events.Event.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=
!0,e.display.DisplayObject.__worldTransformDirty++)},__update:function(a,b){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;if(this.get_rotation()!=this.__rotationCache){this.__rotationCache=this.get_rotation();var c=this.get_rotation()*(Math.PI/180);this.__rotationSine=Math.sin(c);this.__rotationCosine=Math.cos(c)}if(null!=this.parent){var c=this.parent.__worldTransform,j=this.__rotationCosine*this.get_scaleX(),d=this.__rotationSine*this.get_scaleX(),
i=-this.__rotationSine*this.get_scaleY(),N=this.__rotationCosine*this.get_scaleY(),f=c.a,o=c.b,h=c.c,x=c.d;this.__worldTransform.a=j*f+d*h;this.__worldTransform.b=j*o+d*x;this.__worldTransform.c=i*f+N*h;this.__worldTransform.d=i*o+N*x;null==this.get_scrollRect()?(this.__worldTransform.tx=this.get_x()*f+this.get_y()*h+c.tx,this.__worldTransform.ty=this.get_x()*o+this.get_y()*x+c.ty):(this.__worldTransform.tx=(this.get_x()-this.get_scrollRect().x)*f+(this.get_y()-this.get_scrollRect().y)*h+c.tx,this.__worldTransform.ty=
(this.get_x()-this.get_scrollRect().x)*o+(this.get_y()-this.get_scrollRect().y)*x+c.ty)}else this.__worldTransform.a=this.__rotationCosine*this.get_scaleX(),this.__worldTransform.c=-this.__rotationSine*this.get_scaleY(),this.__worldTransform.b=this.__rotationSine*this.get_scaleX(),this.__worldTransform.d=this.__rotationCosine*this.get_scaleY(),null==this.get_scrollRect()?(this.__worldTransform.tx=this.get_x(),this.__worldTransform.ty=this.get_y()):(this.__worldTransform.tx=this.get_y()-this.get_scrollRect().x,
this.__worldTransform.ty=this.get_y()-this.get_scrollRect().y);b&&this.__transformDirty&&(this.__transformDirty=!1,e.display.DisplayObject.__worldTransformDirty--);a||(this.__worldAlpha=null!=this.parent?this.get_alpha()*this.parent.__worldAlpha:this.get_alpha(),b&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&
(this.__transformDirty=!1,e.display.DisplayObject.__worldTransformDirty--)},get_alpha:function(){return this.__alpha},set_alpha:function(a){a!=this.__alpha&&!this.__renderDirty&&(this.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++);return this.__alpha=a},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){return a},get_height:function(){var a=new e.geom.Rectangle;this.__getTransform();this.__getBounds(a,new e.geom.Matrix);return a.height*
this.get_scaleY()},set_height:function(a){var b=new e.geom.Rectangle;this.__getTransform();this.__getBounds(b,new e.geom.Matrix);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&!this.__renderDirty&&(this.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++);null!=this.__mask&&(this.__mask.__isMask=!1);null!=a&&(a.__isMask=!0);return this.__mask=a},get_mouseX:function(){return null!=this.stage?
this.globalToLocal(new e.geom.Point(this.stage.__mouseX,0)).x:0},get_mouseY:function(){return null!=this.stage?this.globalToLocal(new e.geom.Point(0,this.stage.__mouseY)).y:0},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_root:function(){return null!=this.stage?e.Lib.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(a){a!=this.__rotation&&!this.__transformDirty&&(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);
return this.__rotation=a},get_scaleX:function(){return this.__scaleX},set_scaleX:function(a){a!=this.__scaleX&&!this.__transformDirty&&(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);return this.__scaleX=a},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){this.__scaleY!=a&&!this.__transformDirty&&(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);return this.__scaleY=a},get_scrollRect:function(){return this.__scrollRect},set_scrollRect:function(a){a!=
this.__scrollRect&&!this.__transformDirty&&(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);return this.__scrollRect=a},get_transform:function(){null==this.__transform&&(this.__transform=new e.geom.Transform(this));return this.__transform},set_transform:function(a){if(null==a)throw new e.errors.TypeError("Parameter transform must be non-null.");null==this.__transform&&(this.__transform=new e.geom.Transform(this));this.__transformDirty||(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);
this.__transform.set_matrix(a.get_matrix().clone());this.__transform.colorTransform=new e.geom.ColorTransform(a.colorTransform.redMultiplier,a.colorTransform.greenMultiplier,a.colorTransform.blueMultiplier,a.colorTransform.alphaMultiplier,a.colorTransform.redOffset,a.colorTransform.greenOffset,a.colorTransform.blueOffset,a.colorTransform.alphaOffset);return this.__transform},get_visible:function(){return this.__visible},set_visible:function(a){a!=this.__visible&&!this.__renderDirty&&(this.__renderDirty=
!0,e.display.DisplayObject.__worldRenderDirty++);return this.__visible=a},get_width:function(){var a=new e.geom.Rectangle;this.__getTransform();this.__getBounds(a,new e.geom.Matrix);return a.width*this.get_scaleX()},set_width:function(a){var b=new e.geom.Rectangle;this.__getTransform();this.__getBounds(b,new e.geom.Matrix);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);return a},get_x:function(){return this.__x},set_x:function(a){a!=this.__x&&!this.__transformDirty&&(this.__transformDirty=
!0,e.display.DisplayObject.__worldTransformDirty++);return this.__x=a},get_y:function(){return this.__y},set_y:function(a){a!=this.__y&&!this.__transformDirty&&(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++);return this.__y=a},__class__:e.display.DisplayObject,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",
set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_alpha:"set_alpha",get_alpha:"get_alpha"}});
e.display.InteractiveObject=function(){e.display.DisplayObject.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.needsSoftKeyboard=!1;this.tabEnabled=!0;this.tabIndex=-1};l["openfl.display.InteractiveObject"]=e.display.InteractiveObject;e.display.InteractiveObject.__name__=["openfl","display","InteractiveObject"];e.display.InteractiveObject.__super__=e.display.DisplayObject;e.display.InteractiveObject.prototype=z(e.display.DisplayObject.prototype,{doubleClickEnabled:null,focusRect:null,
mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,tabEnabled:null,tabIndex:null,requestSoftKeyboard:function(){e.Lib.notImplemented("InteractiveObject.requestSoftKeyboard");return!1},__getInteractive:function(a){a.push(this);null!=this.parent&&this.parent.__getInteractive(a)},__class__:e.display.InteractiveObject});e.display.DisplayObjectContainer=function(){e.display.InteractiveObject.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};l["openfl.display.DisplayObjectContainer"]=
e.display.DisplayObjectContainer;e.display.DisplayObjectContainer.__name__=["openfl","display","DisplayObjectContainer"];e.display.DisplayObjectContainer.__super__=e.display.InteractiveObject;e.display.DisplayObjectContainer.prototype=z(e.display.InteractiveObject.prototype,{mouseChildren:null,numChildren:null,tabChildren:null,__children:null,__removedChildren:null,addChild:function(a){null!=a&&(null!=a.parent&&a.parent.removeChild(a),this.__children.push(a),a.parent=this,null!=this.stage&&a.__setStageReference(this.stage),
a.__transformDirty||(a.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++),a.dispatchEvent(new e.events.Event(e.events.Event.ADDED,!0)));return a},addChildAt:function(a,b){if(b>this.__children.length||0>b)throw"Invalid index position "+b;a.parent==this?B.remove(this.__children,a):(null!=a.parent&&a.parent.removeChild(a),a.parent=this,null!=this.stage&&a.__setStageReference(this.stage),a.__transformDirty||
(a.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++),a.dispatchEvent(new e.events.Event(e.events.Event.ADDED,!0)));this.__children.splice(b,0,a);return a},areInaccessibleObjectsUnderPoint:function(){return!1},contains:function(a){return-1<B.indexOf(this.__children,a,0)},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},getChildByName:function(a){for(var b=0,c=this.__children;b<
c.length;){var j=c[b];++b;if(j.get_name()==a)return j}return null},getChildIndex:function(a){for(var b=0,c=this.__children.length;b<c;){var j=b++;if(this.__children[j]==a)return j}return-1},getObjectsUnderPoint:function(a){var a=this.localToGlobal(a),b=[];this.__hitTest(a.x,a.y,!1,b,!1);b.shift();return b},removeChild:function(a){null!=a&&a.parent==this&&(null!=this.stage&&a.__setStageReference(null),a.parent=null,B.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=
!0,e.display.DisplayObject.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,e.display.DisplayObject.__worldRenderDirty++),a.dispatchEvent(new e.events.Event(e.events.Event.REMOVED,!0)));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},removeChildren:function(a,b){null==b&&(b=2147483647);null==a&&(a=0);if(2147483647==b&&(b=this.__children.length-1,0>b))return;if(!(a>this.__children.length-1)){if(b<a||0>a||b>this.__children.length)throw new e.errors.RangeError("The supplied index is out of bounds.");
for(var c=b-a;0<=c;)this.removeChildAt(a),c--}},setChildIndex:function(a,b){0<=b&&(b<=this.__children.length&&a.parent==this)&&(B.remove(this.__children,a),this.__children.splice(b,0,a))},swapChildren:function(a,b){if(a.parent==this&&b.parent==this){var c=B.indexOf(this.__children,a,0),j=B.indexOf(this.__children,b,0);this.__children[c]=b;this.__children[j]=a}},swapChildrenAt:function(a,b){var c=this.__children[a];this.__children[a]=this.__children[b];this.__children[b]=c},__broadcast:function(a,
b){null==a.target&&(a.target=this);if(b)for(var c=0,j=this.__children;c<j.length;){var d=j[c];++c;d.__broadcast(a,!0);if(a.__isCancelled)return!0}return e.display.InteractiveObject.prototype.__broadcast.call(this,a,b)},__getBounds:function(a,b){if(0!=this.__children.length){var c=null;null!=b&&(c=this.__worldTransform,this.__worldTransform=b,this.__updateChildren(!0));for(var j=0,d=this.__children;j<d.length;){var i=d[j];++j;i.__renderable&&i.__getBounds(a,null)}null!=b&&(this.__worldTransform=c,
this.__updateChildren(!0))}},__hitTest:function(a,b,c,j,d){if(!this.get_visible()||d&&!this.mouseEnabled)return!1;var i=this.__children.length;if(d&&(null==j||!this.mouseChildren))for(;0<=--i;){if(this.__children[i].__hitTest(a,b,c,null,d))return null!=j&&j.push(this),!0}else if(null!=j)for(var N=j.length;0<=--i;)if(this.__children[i].__hitTest(a,b,c,j,d))return j.splice(N,0,this),!0;return!1},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),
this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var j=c[b];++b;j.__renderCanvas(a)}this.__removedChildren=[];null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popMask()}},__renderDOM:function(a){for(var b=0,c=this.__children;b<c.length;){var j=c[b];++b;j.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)j=c[b],++b,null==j.stage&&j.__renderDOM(a);this.__removedChildren=[]},__renderGL:function(a){if(this.__renderable&&
!(0>=this.__worldAlpha)){for(var b=0,c=this.__children;b<c.length;){var j=c[b];++b;j.__renderGL(a)}this.__removedChildren=[]}},__renderMask:function(a){var b=new e.geom.Rectangle;this.__getTransform();this.__getBounds(b,new e.geom.Matrix);a.context.rect(0,0,b.width,b.height)},__setStageReference:function(a){if(this.stage!=a){null!=this.stage&&this.dispatchEvent(new e.events.Event(e.events.Event.REMOVED_FROM_STAGE,!1,!1));this.stage=a;null!=a&&this.dispatchEvent(new e.events.Event(e.events.Event.ADDED_TO_STAGE,
!1,!1));for(var b=0,c=this.__children;b<c.length;){var j=c[b];++b;j.__setStageReference(a)}}},__update:function(a,b){e.display.InteractiveObject.prototype.__update.call(this,a,b);if(this.__renderable&&b)for(var c=0,j=this.__children;c<j.length;){var d=j[c];++c;d.__update(a,!0)}},__updateChildren:function(a){e.display.InteractiveObject.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var j=c[b];++b;j.__update(a,!0)}},get_numChildren:function(){return this.__children.length},
__class__:e.display.DisplayObjectContainer,__properties__:z(e.display.InteractiveObject.prototype.__properties__,{get_numChildren:"get_numChildren"})});e.display.Sprite=function(){e.display.DisplayObjectContainer.call(this);this.buttonMode=!1;this.useHandCursor=!0};l["openfl.display.Sprite"]=e.display.Sprite;e.display.Sprite.__name__=["openfl","display","Sprite"];e.display.Sprite.__super__=e.display.DisplayObjectContainer;e.display.Sprite.prototype=z(e.display.DisplayObjectContainer.prototype,{buttonMode:null,
graphics:null,useHandCursor:null,__canvas:null,__canvasContext:null,__graphics:null,startDrag:function(a,b){null==a&&(a=!1);null!=this.stage&&this.stage.__startDrag(this,a,b)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getBounds:function(a,b){e.display.DisplayObjectContainer.prototype.__getBounds.call(this,a,b);null!=this.__graphics&&this.__graphics.__getBounds(a,null!=b?b:this.__worldTransform)},__hitTest:function(a,b,c,j,d){if(!this.get_visible()||d&&!this.mouseEnabled)return!1;
var i=0;null!=j&&(i=j.length);return e.display.DisplayObjectContainer.prototype.__hitTest.call(this,a,b,c,j,d)?!0:null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__worldTransform)?(null!=j&&j.splice(i,0,this),!0):!1},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){if(null!=this.__graphics&&(this.__graphics.__render(),null!=this.__graphics.__canvas)){null!=this.__mask&&a.maskManager.pushMask(this.__mask);var b=a.context;b.globalAlpha=this.__worldAlpha;var c=this.__worldTransform;
a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);null==this.get_scrollRect()?b.drawImage(this.__graphics.__canvas,this.__graphics.__bounds.x,this.__graphics.__bounds.y):b.drawImage(this.__graphics.__canvas,this.get_scrollRect().x-this.__graphics.__bounds.x,this.get_scrollRect().y-this.__graphics.__bounds.y,this.get_scrollRect().width,this.get_scrollRect().height,this.__graphics.__bounds.x+this.get_scrollRect().x,this.__graphics.__bounds.y+this.get_scrollRect().y,
this.get_scrollRect().width,this.get_scrollRect().height);null!=this.__mask&&a.maskManager.popMask()}e.display.DisplayObjectContainer.prototype.__renderCanvas.call(this,a)}},__renderDOM:function(a){if(null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.__graphics){if(this.__graphics.__dirty||this.__worldAlphaChanged||null==this.__canvas&&null!=this.__graphics.__canvas)this.__graphics.__render(),null!=this.__graphics.__canvas?(null==this.__canvas&&(this.__canvas=window.document.createElement("canvas"),
this.__canvasContext=this.__canvas.getContext("2d"),this.__initializeElement(this.__canvas,a)),this.__canvas.width=this.__graphics.__canvas.width,this.__canvas.height=this.__graphics.__canvas.height,this.__canvasContext.globalAlpha=this.__worldAlpha,this.__canvasContext.drawImage(this.__graphics.__canvas,0,0)):null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null);if(null!=this.__canvas){if(this.__worldTransformChanged){var b=new e.geom.Matrix;b.translate(this.__graphics.__bounds.x,
this.__graphics.__bounds.y);b=b.mult(this.__worldTransform);this.__style.setProperty(a.transformProperty,a.roundPixels?"matrix3d("+b.a+", "+b.b+", 0, 0, "+b.c+", "+b.d+", 0, 0, 0, 0, 1, 0, "+(b.tx|0)+", "+(b.ty|0)+", 0, 1)":"matrix3d("+b.a+", "+b.b+", 0, 0, "+b.c+", "+b.d+", 0, 0, 0, 0, 1, 0, "+b.tx+", "+b.ty+", 0, 1)",null)}this.__applyStyle(a,!1,!1,!0)}}else null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null);e.display.DisplayObjectContainer.prototype.__renderDOM.call(this,
a)},__renderMask:function(a){null!=this.__graphics?this.__graphics.__renderMask(a):e.display.DisplayObjectContainer.prototype.__renderMask.call(this,a)},get_graphics:function(){null==this.__graphics&&(this.__graphics=new e.display.Graphics);return this.__graphics},__class__:e.display.Sprite,__properties__:z(e.display.DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics"})});var F=function(){this.active=!1;this.globalScale=1;this.dontPressButton=!1;this.currentWorld=0;this.canRun=
!1;this.soundsEnable=!0;this.step=23.80952380952381;this.keyPress=!1;this.keyPressed=-1;if(null!=F.instance)throw"Error: Allready inited. Use getInstance() instead;";e.display.Sprite.call(this);F.instance=this;this.AllBtn=[];this.texts=new p.ds.StringMap;this.levels=new p.ds.IntMap;this.init()};l.Main=F;F.__name__=["Main"];F.instance=null;F.getText=function(a){return F.getInstance().texts.get(a)};F.scalingF=function(a){return a*F.getInstance().globalScale};F.scalingI=function(a){return a*(F.getInstance().globalScale|
0)};F.getInstance=function(){return null==F.instance?new F:F.instance};F.__super__=e.display.Sprite;F.prototype=z(e.display.Sprite.prototype,{keyPressed:null,keyPress:null,sManager:null,scene:null,prevTime:null,step:null,soundsEnable:null,canRun:null,panelTutorial:null,currentWorld:null,dontPressButton:null,globalScale:null,elapsed:null,active:null,AllBtn:null,texts:null,levels:null,init:function(){this.sManager=new xb;this.addChild(this.sManager);h.alagatar.DataManager.getInstance().init("Game");
this.canRun=h.alagatar.DataManager.getInstance().getData("canRun");this.initTexts();this.initLevels();this.initListeners();var a=h.alagatar.Tools.addText(this.texts.get("loading"),30,16777215);a.set_width(720);a.set_height(480);a.set_x(0);a.set_y(240);this.addChild(a);this.setChildIndex(a,0);a=C["int"](h.alagatar.DataManager.getInstance().getData("lastLevelPlayed"));0==a&&(a=1,F.getInstance().canRun=!1,h.alagatar.DataManager.getInstance().saveData("played",!0),h.alagatar.DataManager.getInstance().saveData("canRun",
!1),h.alagatar.DataManager.getInstance().saveData("showFirstAward",0),h.alagatar.DataManager.getInstance().saveBigger("Levels",1),h.alagatar.DataManager.getInstance().saveBigger("Worlds",1),h.alagatar.DataManager.getInstance().saveBigger("Health",3));!0==G.getInstance().getDomain()?(F.getInstance().showScene(S.Menu),this.soundsEnable=!1):this.showScene(S.LevelBuilder,a)},initTexts:function(){for(var a=ua.getText(),b,c=0,j=u.fields(a.objects);c<j.length;)b=j[c],++c,b=u.field(a.objects,b),this.texts.set(b.id,
b.txt)},initLevels:function(){for(var a=ua.getLevels(),b=0,c=u.fields(a);b<c.length;){var j=c[b];++b;var d=C.parseInt(j),j=u.field(a,j);this.levels.set(d,j)}},initListeners:function(){this.addEventListener(e.events.Event.ENTER_FRAME,w(this,this.update));this.addEventListener(e.events.MouseEvent.MOUSE_DOWN,w(this,this.MouseDown));this.addEventListener(e.events.MouseEvent.MOUSE_UP,w(this,this.MouseUp));this.addAutoMute();!1==G.onMobile&&(this.stage.addEventListener(e.events.KeyboardEvent.KEY_DOWN,w(this,
this.keyDown)),this.stage.addEventListener(e.events.KeyboardEvent.KEY_UP,w(this,this.keyUp)))},activate:function(){!1!=this.soundsEnable&&(h.sound.SoundManager.getInstance().EnableAllMusic(),h.sound.SoundManager.getInstance().EnableAllEffects(),h.sound.SoundManager.getInstance().PlayMusic("main_theme"))},deactivate:function(){!1!=this.soundsEnable&&(h.sound.SoundManager.getInstance().DisableAllMusic(),h.sound.SoundManager.getInstance().DisableAllEffects())},addAutoMute:function(){function a(){!0==
F.getInstance().soundsEnable&&(!0==SoundManager.getInstance().AllMusicEnab?(SoundManager.getInstance().DisableAllMusic(),SoundManager.getInstance().DisableAllEffects()):(SoundManager.getInstance().EnableAllMusic(),SoundManager.getInstance().EnableAllEffects(),SoundManager.getInstance().PlayMusic("main_theme")))}"hidden"in document?document.addEventListener("visibilitychange",a):"mozHidden"in document?document.addEventListener("mozvisibilitychange",a):"webkitHidden"in document?document.addEventListener("webkitvisibilitychange",
a):"msHidden"in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a},keyDown:function(a){if(!(!0==this.keyPress||null==this.scene)&&-1==this.keyPressed)this.keyPress=!0,this.keyPressed=a.keyCode,this.scene.keyDown()},keyUp:function(a){null!=this.scene&&(!0==this.keyPress&&this.keyPressed==(a.keyCode|0))&&(this.keyPress=!1,this.keyPressed=-1,this.scene.keyUp())},
showScene:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);if(!1!=this.sManager.isReady()){this.changeScene();switch(a[1]){case 4:this.scene=new t.Menu;break;case 2:this.scene=new t.Comix;break;case 3:this.scene=new t.Levels;break;case 0:this.scene=new t.Awards(b);break;case 1:this.scene=new t.Final;break;case 5:this.scene=new t.LevelBuilder(b)}this.sManager.show(this.scene,c)}},changeScene:function(){this.panelTutorial=null;this.prevTime=0;this.active=!1;if(null!=this.scene){for(var a=0,b=this.AllBtn.length;a<
b;){var c=a++;this.AllBtn[c].Free()}this.AllBtn=[];h.alagatar.Tools.clearLayer(this.scene)}h.jdtiles.Tile.getInstance().changeScene()},MouseDown:function(a){this.scene.MouseDown(a);this.dontPressButton=!1;D.Boot.__instanceof(a.target,h.Button)&&D.Boot.__cast(a.target,h.Button).MouseDown()},MouseUp:function(a){this.scene.MouseUp(a);D.Boot.__instanceof(a.target,h.Button)&&!1==this.dontPressButton?D.Boot.__cast(a.target,h.Button).MouseUp():this.breakBtn()},breakBtn:function(){for(var a=0,b=this.AllBtn;a<
b.length;){var c=b[a];++a;if(!0==c.pressed){c.MouseUp(!1);break}}},update:function(){!1!=this.updateTimer()&&(!0==this.active&&this.scene.update(),null!=this.panelTutorial&&!0==this.panelTutorial.updateThis&&this.panelTutorial.update(),h.jdtiles.Tile.getInstance().update())},updateTimer:function(){var a=e.Lib.getTimer();0==this.prevTime&&(this.prevTime=a);this.elapsed=a-this.prevTime|0;return this.elapsed>this.step?(this.prevTime=a,!0):!1},__class__:F});var Nb=function(){this.stage=e.Lib.current.stage;
F.call(this);this.dispatchEvent(new e.events.Event(e.events.Event.ADDED_TO_STAGE,!1,!1))};l.DocumentClass=Nb;Nb.__name__=["DocumentClass"];Nb.__super__=F;Nb.prototype=z(F.prototype,{__class__:Nb});var Jb=function(a){var b=new f.callbacks.OptionType([d.callbacks.ZPP_CbType.ANY_BODY]),c=f.callbacks.InteractionListener;null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);var j=d.util.ZPP_Flags.CbEvent_BEGIN;
null==d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);c=new c(j,d.util.ZPP_Flags.InteractionType_ANY,b,b,w(this,this.beginContact));a.zpp_inner.wrap_listeners.add(c);c=f.callbacks.InteractionListener;null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);j=d.util.ZPP_Flags.CbEvent_END;null==
d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);b=new c(j,d.util.ZPP_Flags.InteractionType_ANY,b,b,w(this,this.endContact));a.zpp_inner.wrap_listeners.add(b)};l.ContactListener=Jb;Jb.__name__=["ContactListener"];Jb.prototype={beginContact:function(a){if(!(null==a.zpp_inner.int1.outer_i.get_userData()||null==a.zpp_inner.int2.outer_i.get_userData())){var b=a.zpp_inner.int1.outer_i.get_userData(),
c=a.zpp_inner.int2.outer_i.get_userData();if("Floor"==b.data&&"Hero"==c.data)c.link.onContact("startFloor");else if("Floor"==c.data&&"Hero"==b.data)b.link.onContact("startFloor");if("DestroyFloor"==b.data2&&"Hero"==c.data||"DestroyFloor"==b.data2&&"Floor"==c.data)b.link.onContact(c.data,a.zpp_inner.int1.outer_i.get_castBody().get_position().get_y());else if("DestroyFloor"==c.data2&&"Hero"==b.data||"DestroyFloor"==c.data2&&"Floor"==b.data)c.link.onContact(b.data,a.zpp_inner.int2.outer_i.get_castBody().get_position().get_y());
if("Wall"==b.data&&"Hero"==c.data)c.link.onContact(b.data,a.zpp_inner.int1.outer_i.get_castBody().get_position().get_x());else if("Wall"==c.data&&"Hero"==b.data)b.link.onContact(c.data,a.zpp_inner.int2.outer_i.get_castBody().get_position().get_x());if("MovingPlatform"==b.data2&&"Hero"==c.data)b.link.onContact("start");else if("MovingPlatform"==c.data2&&"Hero"==b.data)c.link.onContact("start")}},endContact:function(a){if(!(null==a.zpp_inner.int1.outer_i.get_userData()||null==a.zpp_inner.int2.outer_i.get_userData())){var b=
a.zpp_inner.int1.outer_i.get_userData(),a=a.zpp_inner.int2.outer_i.get_userData();if("Floor"==b.data&&"Hero"==a.data)a.link.onContact("endFloor");else if("Floor"==a.data&&"Hero"==b.data)b.link.onContact("endFloor");if("MovingPlatform"==b.data2&&"Hero"==a.data)b.link.onContact("end");else if("MovingPlatform"==a.data2&&"Hero"==b.data)a.link.onContact("end")}},__class__:Jb};e.AssetLibrary=function(){};l["openfl.AssetLibrary"]=e.AssetLibrary;e.AssetLibrary.__name__=["openfl","AssetLibrary"];e.AssetLibrary.prototype=
{eventCallback:null,exists:function(){return!1},getBitmapData:function(){return null},getBytes:function(){return null},getFont:function(){return null},getMovieClip:function(){return null},getMusic:function(a){return this.getSound(a)},getPath:function(){return null},getSound:function(){return null},getText:function(a){a=this.getBytes(a);return null==a?null:a.readUTFBytes(a.length)},isLocal:function(){return!0},list:function(){return null},load:function(a){a(this)},loadBitmapData:function(a,b){b(this.getBitmapData(a))},
loadBytes:function(a,b){b(this.getBytes(a))},loadFont:function(a,b){b(this.getFont(a))},loadMovieClip:function(a,b){b(this.getMovieClip(a))},loadMusic:function(a,b){b(this.getMusic(a))},loadSound:function(a,b){b(this.getSound(a))},loadText:function(a,b){this.loadBytes(a,function(a){null==a?b(null):b(a.readUTFBytes(a.length))})},__class__:e.AssetLibrary};var ha=function(){this.type=new p.ds.StringMap;this.path=new p.ds.StringMap;this.className=new p.ds.StringMap;e.AssetLibrary.call(this);var a;a="Assets/general/rotate.png";
this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/general/stageBackground.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/sounds1/Achievement.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/Achievement.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/barrel_crush.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/barrel_crush.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);
a="Assets/sounds1/button_click.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/button_click.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/coin1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/coin1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/coin2.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/coin2.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);
a="Assets/sounds1/coin3.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/coin3.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/death.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/death.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/door.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/door.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/foot_slide.mp3";
this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/foot_slide.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/hero_beat.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/hero_beat.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/jump_down1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/jump_down1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/jump_down2.mp3";
this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/jump_down2.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/lift.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/lift.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/lose1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/lose1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/lose2.mp3";
this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/lose2.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/magic_floor_gun.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/magic_floor_gun.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/main_theme.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/main_theme.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a=
"Assets/sounds1/open_word.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/open_word.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/pain1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/pain1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/pain2.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/pain2.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);
a="Assets/sounds1/pain3.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/pain3.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/pause_show.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/pause_show.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/platform_fall.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/platform_fall.ogg";this.path.set(a,a);this.type.set(a,
e.AssetType.SOUND);a="Assets/sounds1/run.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/run.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/Skeleton_attack.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/Skeleton_attack.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/skeleton_die.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/skeleton_die.ogg";this.path.set(a,
a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/star1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/star1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/star2.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/star2.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/star3.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/star3.ogg";this.path.set(a,a);
this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/steps.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/steps.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/victory1.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/victory1.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/victory2.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/victory2.ogg";this.path.set(a,
a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/victory_all_game.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/victory_all_game.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/sounds1/wall_cannon.mp3";this.path.set(a,a);this.type.set(a,e.AssetType.MUSIC);a="Assets/sounds1/wall_cannon.ogg";this.path.set(a,a);this.type.set(a,e.AssetType.SOUND);a="Assets/images1/AwardMenu.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/BitmapList.png";
this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/MainMenu.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/PreloaderIcon.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/RenderList1.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/RenderList2.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/ScenesList.png";this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE);a="Assets/images1/ScenesList2.png";
this.path.set(a,a);this.type.set(a,e.AssetType.IMAGE)};l.DefaultAssetLibrary=ha;ha.__name__=["DefaultAssetLibrary"];ha.__super__=e.AssetLibrary;ha.prototype=z(e.AssetLibrary.prototype,{className:null,path:null,type:null,lastModified:null,timer:null,exists:function(a,b){var c=this.type.get(a);return null!=c&&(c==b||(b==e.AssetType.SOUND||b==e.AssetType.MUSIC)&&(c==e.AssetType.MUSIC||c==e.AssetType.SOUND)||b==e.AssetType.BINARY||null==b)?!0:!1},getBitmapData:function(a){return e.display.BitmapData.fromImage(function(b){b=
b.path.get(a);return q.images.get(b)}(this))},getBytes:function(a){var b=null,b=this.path.get(a),a=q.urlLoaders.get(b).data;"string"==typeof a?(b=new e.utils.ByteArray,b.writeUTFBytes(a)):b=D.Boot.__instanceof(a,e.utils.ByteArray)?a:null;return null!=b?(b.position=0,b):null},getFont:function(a){return D.Boot.__cast(R.createInstance(this.className.get(a),[]),e.text.Font)},getMusic:function(a){var b=new e.media.Sound;b.__buffer=!0;b.load(new e.net.URLRequest(this.path.get(a)));return b},getPath:function(a){return this.path.get(a)},
getSound:function(a){return new e.media.Sound(new e.net.URLRequest(this.path.get(a)))},getText:function(a){var b=null,a=this.path.get(a),a=q.urlLoaders.get(a).data;if("string"==typeof a)return a;b=D.Boot.__instanceof(a,e.utils.ByteArray)?a:null;return null!=b?(b.position=0,b.readUTFBytes(b.length)):null},isLocal:function(){return!0},list:function(a){for(var b=[],c=this.type.keys();c.hasNext();){var j=c.next();(null==a||this.exists(j,a))&&b.push(j)}return b},loadBitmapData:function(a,b){if(this.path.exists(a)){var c=
new e.display.Loader;c.contentLoaderInfo.addEventListener(e.events.Event.COMPLETE,function(a){b(D.Boot.__cast(a.currentTarget.content,e.display.Bitmap).bitmapData)});c.load(new e.net.URLRequest(this.path.get(a)))}else b(this.getBitmapData(a))},loadBytes:function(a,b){if(this.path.exists(a)){var c=new e.net.URLLoader;c.addEventListener(e.events.Event.COMPLETE,function(a){var c=new e.utils.ByteArray;c.writeUTFBytes(a.currentTarget.data);c.position=0;b(c)});c.load(new e.net.URLRequest(this.path.get(a)))}else b(this.getBytes(a))},
loadFont:function(a,b){b(this.getFont(a))},loadMusic:function(a,b){b(this.getMusic(a))},loadSound:function(a,b){b(this.getSound(a))},loadText:function(a,b){if(this.path.exists(a)){var c=new e.net.URLLoader;c.addEventListener(e.events.Event.COMPLETE,function(a){b(a.currentTarget.data)});c.load(new e.net.URLRequest(this.path.get(a)))}else b(this.getText(a))},__class__:ha});var ia=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};l.EReg=ia;ia.__name__=["EReg"];ia.prototype={r:null,match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},replace:function(a,b){return a.replace(this.r,b)},__class__:ia};var B=function(){};l.HxOverrides=B;B.__name__=["HxOverrides"];B.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),j=a.getHours(),d=a.getMinutes(),i=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>j?"0"+j:""+j)+":"+(10>d?"0"+d:""+d)+":"+(10>i?"0"+i:""+i)};B.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),
b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};B.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};B.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+
c-b);return a.substr(b,c)};B.indexOf=function(a,b,c){var j=a.length;0>c&&(c+=j,0>c&&(c=0));for(;c<j;){if(a[c]===b)return c;c++}return-1};B.remove=function(a,b){var c=B.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};B.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Vb=function(){};l.Lambda=Vb;Vb.__name__=["Lambda"];Vb.indexOf=function(a,b){for(var c=0,j=Wc(a)();j.hasNext();){var d=j.next();if(b==d)return c;
c++}return-1};var oa=function(){this.length=0};l.List=oa;oa.__name__=["List"];oa.prototype={h:null,q:null,length:null,add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:oa};var S=l.ScenesList={__ename__:["ScenesList"],__constructs__:"Awards Final Comix Levels Menu LevelBuilder".split(" ")};S.Awards=
["Awards",0];S.Awards.toString=A;S.Awards.__enum__=S;S.Final=["Final",1];S.Final.toString=A;S.Final.__enum__=S;S.Comix=["Comix",2];S.Comix.toString=A;S.Comix.__enum__=S;S.Levels=["Levels",3];S.Levels.toString=A;S.Levels.__enum__=S;S.Menu=["Menu",4];S.Menu.toString=A;S.Menu.__enum__=S;S.LevelBuilder=["LevelBuilder",5];S.LevelBuilder.toString=A;S.LevelBuilder.__enum__=S;var X=function(){};l.IMap=X;X.__name__=["IMap"];X.prototype={get:null,keys:null,__class__:X};Math.__name__=["Math"];var G=function(){this.apiLoaded=
this.gameLoaded=!1;if(null!=G.instance)throw"Error: Allready inited. Use getInstance() instead;";e.display.Sprite.call(this);G.instance=this};l.Preloader=G;G.__name__=["Preloader"];G.rotateEvent=null;G.instance=null;G.getInstance=function(){return null==G.instance?new G:G.instance};G.__super__=e.display.Sprite;G.prototype=z(e.display.Sprite.prototype,{apiLoaded:null,gameLoaded:null,outline:null,progress:null,icon:null,background:null,rotatePic:null,openfl_content:null,openfl_canvas:null,body:null,
getDomain:function(){return!1},init:function(){window.document.body.onload=w(this,this.allLoaded);this.hideAdressBar();this.checkIsMobile();this.initElements();this.addBackground();this.addRotatePic();this.addResizeListener();e.Assets.loadBitmapData("Assets/images"+G.currentVersion+"/PreloaderIcon.png",w(this,this.loadBitmapData))},loadBitmapData:function(a){this.icon=new e.display.Bitmap(a,null,!0);this.icon.set_x(260);this.icon.set_y(100);this.addChild(this.icon)},createUi:function(){var a=e.Lib.current.stage.stageWidth,
b=a-6-200,a=a/2-b/2,c=e.Lib.current.stage.stageHeight/2-15+150;this.outline=new e.display.Sprite;this.outline.get_graphics().lineStyle(1,5333097,1,!0);this.outline.get_graphics().drawRect(0,0,b,30);this.outline.set_x(a);this.outline.set_y(c);this.addChild(this.outline);this.progress=new e.display.Sprite;this.progress.get_graphics().beginFill(14475233,0.7);this.progress.get_graphics().drawRect(0,0,b-6,24);this.progress.set_x(a+3);this.progress.set_y(c+3);this.progress.set_scaleX(0);this.addChild(this.progress)},
needLoad:function(){return!0},allLoaded:function(){this.apiLoaded=!0;!0==this.gameLoaded&&this.completePreloader()},hideAdressBar:function(){setTimeout("window.scrollTo(0, 1)",10)},initApi:function(){},checkIsMobile:function(){var a=window.navigator.userAgent;if(-1!=a.indexOf("Mobile")||-1!=a.indexOf("Android"))G.onMobile=!0},initElements:function(){this.body=window.document.getElementsByTagName("body")[0];this.openfl_content=window.document.getElementById("openfl-content");this.openfl_canvas=this.openfl_content.getElementsByTagName("canvas")[0];
!1==G.onMobile&&(this.body.style.overflow="hidden")},addBackground:function(){this.background=window.document.createElement("div");this.background.style.backgroundImage="url(Assets/general/stageBackground.png)";this.background.style.position="fixed";this.background.style.top="0px";this.body.insertBefore(this.background,this.openfl_content)},addRotatePic:function(){this.rotatePic=window.document.createElement("div");this.rotatePic.style.position="absolute";this.rotatePic.style.width="249px";this.rotatePic.style.height=
"144px";this.rotatePic.style.backgroundImage="url(Assets/general/rotate.png)";this.rotatePic.style.display="none";this.body.appendChild(this.rotatePic)},addResizeListener:function(){e.Lib.current.stage.addEventListener(e.events.Event.RESIZE,w(this,this.resizeHandler));this.resizeHandler(null)},resizeBackground:function(){var a=window.innerHeight;this.background.style.width=window.innerWidth+"px";this.background.style.height=a+"px"},resizeHandler:function(){this.resize()},resize:function(){this.resizeBackground()},
checkOrientation:function(){window.innerWidth>window.innerHeight?this.setLandscape():this.setPortrait()},setLandscape:function(){this.rotatePic.style.display="none";this.openfl_content.style.visibility="visible"},setPortrait:function(){null!=G.rotateEvent&&G.rotateEvent();var a=window.innerHeight,b=window.innerWidth/2-C.parseFloat(this.rotatePic.style.width)/2,a=a/2-C.parseFloat(this.rotatePic.style.height)/2;this.rotatePic.style.left=b+"px";this.rotatePic.style.top=a+"px";this.rotatePic.style.display=
"block";this.openfl_content.style.visibility="hidden"},onInit:function(){e.external.ExternalInterface.call("HTML5API_preloaderStarted");this.init();this.createUi()},onLoaded:function(){this.completePreloader()},onUpdate:function(a,b){var c=a/b;1<c&&1==c;this.progress.set_scaleX(c);e.external.ExternalInterface.call("HTML5API_preloaderProgress",[100*c])},completePreloader:function(){e.external.ExternalInterface.call("HTML5API_preloaderEnded");this.removeChild(this.outline);this.removeChild(this.progress);
null!=this.icon&&this.removeChild(this.icon);this.icon=this.progress=this.outline=null;this.dispatchEvent(new e.events.Event(e.events.Event.COMPLETE))},__class__:G});var u=function(){};l.Reflect=u;u.__name__=["Reflect"];u.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};u.field=function(a,b){try{return a[b]}catch(c){return null}};u.setField=function(a,b,c){a[b]=c};u.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():
a[b]};u.setProperty=function(a,b,c){var j;if(a.__properties__&&(j=a.__properties__["set_"+b]))a[j](c);else a[b]=c};u.callMethod=function(a,b,c){return b.apply(a,c)};u.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,j;for(j in a)"__id__"!=j&&("hx__closures__"!=j&&c.call(a,j))&&b.push(j)}return b};u.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};u.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==
a.__enum__||"function"==b&&null!=(a.__name__||a.__ename__)};u.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};u.copy=function(a){for(var b={},c=0,j=u.fields(a);c<j.length;){var d=j[c];++c;u.setField(b,d,u.field(a,d))}return b};var xb=function(){this.Time=0.5;this.ready=!0;e.display.Sprite.call(this);this.init()};l.SceneManager=xb;xb.__name__=["SceneManager"];xb.__super__=e.display.Sprite;xb.prototype=z(e.display.Sprite.prototype,{ready:null,Time:null,
sceneLayer:null,effectLayer:null,scenesList:null,init:function(){this.ready=!0;this.scenesList=[];this.sceneLayer=new e.display.Sprite;this.addChild(this.sceneLayer);this.effectLayer=new e.display.Sprite;this.effectLayer.get_graphics().beginFill(0);this.effectLayer.get_graphics().drawRect(0,0,480,720);this.effectLayer.set_alpha(0);this.effectLayer.set_y(-720);this.addChild(this.effectLayer)},isReady:function(){return this.ready},show:function(a,b){null==b&&(b=!1);null!=a&&(this.ready=!1,a.set_visible(!1),
this.scenesList.push(a),this.sceneLayer.addChild(a),!0==b?this.showHideEffect():(this.initScene(),this.startScene()))},showHideEffect:function(){this.effectLayer.set_visible(!0);this.effectLayer.set_alpha(1);m.Actuate.tween(this.effectLayer,this.Time,{y:0}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.hideComplete))},hideComplete:function(){this.initScene();this.showEffect()},initScene:function(){if(2==this.scenesList.length){var a=this.scenesList.shift();a.free();this.sceneLayer.removeChild(a)}a=
this.scenesList[0];a.init();a.set_visible(!0)},showEffect:function(){m.Actuate.tween(this.effectLayer,this.Time,{y:-720}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.showComplete))},showComplete:function(){this.effectLayer.set_alpha(0);this.startScene()},startScene:function(){this.ready=!0;this.scenesList[0].start()},getScene:function(){return 0==this.scenesList.length?null:this.scenesList[0]},__class__:xb});var C=function(){};l.Std=C;C.__name__=["Std"];C.string=function(a){return D.Boot.__string_rec(a,
"")};C["int"]=function(a){return a|0};C.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==B.cca(a,1)||88==B.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};C.parseFloat=function(a){return parseFloat(a)};var na=function(){this.b=""};l.StringBuf=na;na.__name__=["StringBuf"];na.prototype={b:null,add:function(a){this.b+=C.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+B.substr(a,b,null):this.b+B.substr(a,b,c)},__class__:na};var O=function(){};l.StringTools=O;O.__name__=["StringTools"];
O.urlEncode=function(a){return encodeURIComponent(a)};O.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};O.startsWith=function(a,b){return a.length>=b.length&&B.substr(a,0,b.length)==b};O.replace=function(a,b,c){return a.split(b).join(c)};O.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};O.fastCodeAt=function(a,b){return a.charCodeAt(b)};var ua=function(){};l.Texts=ua;ua.__name__=["Texts"];ua.getText=
function(){return{objects:[{id:"loading",txt:"Loading..."},{id:"level",txt:"Level "},{id:"levelcomplete",txt:"VICTORY"},{id:"score",txt:"score: "},{id:"lose",txt:"DEFEAT"},{id:"totalscore",txt:"Total score"},{id:"showAward",txt:"New achive"},{id:"tutorial1",txt:"Tap to start"},{id:"tutorial2",txt:"Tap to change hero's direction"},{id:"tutorial3",txt:"Tap and hold for running"},{id:"award0",txt:"Complete levels 1-9\nand get additional life"},{id:"award1",txt:"Complete levels 10-18\nand get additional life"},
{id:"award2",txt:"Kill 5 skeletons"},{id:"award3",txt:"Destroy 20 barrels"},{id:"award4",txt:"Run 500 meters"},{id:"award5",txt:"Use lift 15 times"},{id:"award6",txt:"Use teleport\n10 times"},{id:"award7",txt:"Complete level 7\nwith full hp"},{id:"award8",txt:"Complete level 26\nwith full hp"},{id:"award9",txt:"Collect all stars"}]}};ua.getSpriteXML=function(a){return"BitmapList"==a?'<?xml version="1.0" encoding="UTF-16"?><TextureAtlas imagePath="BitmapList.png"><SubTexture name="Award \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="365" y="489" width="33" height="22"/><SubTexture name="BtnFonActive \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="863" y="939" width="53" height="53"/><SubTexture name="BtnFonNormal \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="808" y="939" width="53" height="55" frameX="0" frameY="0" frameWidth="53" frameHeight="53"/><SubTexture name="Door \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="105" y="605" width="91" height="119"/><SubTexture name="Exit \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="400" y="489" width="28" height="25"/><SubTexture name="HealthEmpty \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="168" y="756" width="25" height="23"/><SubTexture name="HealthFull \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="430" y="489" width="25" height="23"/><SubTexture name="HeroDamage \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="491" y="1" width="361" height="241"/><SubTexture name="MoreGames \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="449" y="214" width="39" height="23"/><SubTexture name="MovingPlatformPart0 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="314" y="649" width="40" height="43"/><SubTexture name="MovingPlatformPart1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="314" y="605" width="46" height="42"/><SubTexture name="MusicOff \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="538" y="864" width="32" height="31"/><SubTexture name="MusicOn \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="168" y="726" width="25" height="28"/><SubTexture name="Next \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="314" y="694" width="34" height="26"/><SubTexture name="PanelMoney \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="651" y="936" width="99" height="30"/><SubTexture name="PauseMenu \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="554" y="244" width="172" height="270"/><SubTexture name="Play \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="435" y="725" width="29" height="35"/><SubTexture name="Restart \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="538" y="831" width="35" height="31"/><SubTexture name="ResultWindow \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="214" width="263" height="263"/><SubTexture name="Stones \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="246" y="916" width="52" height="57"/><SubTexture name="TeleportDoor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="808" y="611" width="109" height="90"/><SubTexture name="TeleportStup \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="380" y="725" width="53" height="61"/><SubTexture name="Torch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="998" y="540" width="22" height="45"/><SubTexture name="Yes \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="334" y="839" width="35" height="30"/><SubTexture name="awardShow \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="728" y="244" width="221" height="184"/><SubTexture name="btnClickActive \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="334" y="910" width="55" height="58"/><SubTexture name="btnClickNormal \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="391" y="910" width="55" height="58"/><SubTexture name="chain1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="928" y="194" width="13" height="22"/><SubTexture name="chain2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="928" y="168" width="20" height="24"/><SubTexture name="fonBlock0 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="951" y="395" width="42" height="32"/><SubTexture name="fonBlock1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="758" y="764" width="42" height="31"/><SubTexture name="fonBlock2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="678" y="516" width="42" height="34"/><SubTexture name="fonBlock3 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="334" y="871" width="31" height="32"/><SubTexture name="fullHealthVictory \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="257" y="794" width="39" height="36"/><SubTexture name="hand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="659" y="805" width="92" height="82"/><SubTexture name="lentaVictory \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="479" width="362" height="124"/><SubTexture name="loseHero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="728" y="430" width="190" height="123"/><SubTexture name="moneyVictory \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="752" y="939" width="54" height="54"/><SubTexture name="panelHealthVictory \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="678" y="555" width="254" height="54"/><SubTexture name="pauseActive \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="907" width="55" height="58"/><SubTexture name="pauseNormal \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="189" y="883" width="55" height="58"/><SubTexture name="podButtonPanel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="830" width="73" height="75"/><SubTexture name="podShkala \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="380" y="788" width="193" height="41"/><SubTexture name="podShkala2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="758" y="714" width="31" height="48"/><SubTexture name="podShkala3 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="928" y="218" width="20" height="14"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="380" y="831" width="77" height="77" frameX="-21" frameY="-11" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="459" y="831" width="77" height="77" frameX="-21" frameY="-11" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="76" y="818" width="81" height="81" frameX="-19" frameY="-9" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="758" y="801" width="90" height="84" frameX="-15" frameY="-6" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="659" y="714" width="97" height="89" frameX="-12" frameY="-4" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="471" y="695" width="105" height="91" frameX="-8" frameY="-2" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="198" y="701" width="105" height="91" frameX="-8" frameY="-2" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="590" y="611" width="113" height="93" frameX="-3" frameY="0" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="590" y="611" width="113" height="93" frameX="-3" frameY="0" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="198" y="605" width="114" height="94" frameX="-2" frameY="0" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="198" y="605" width="114" height="94" frameX="-2" frameY="0" frameWidth="117" frameHeight="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="471" y="598" width="117" height="95"/><SubTexture name="showStar \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="471" y="598" width="117" height="95"/><SubTexture name="sideBorder \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="854" y="1" width="89" height="165"/><SubTexture name="starEmpty \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="995" y="395" width="26" height="31"/><SubTexture name="starFull \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="934" y="540" width="62" height="63"/><SubTexture name="starShkala \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="266" y="214" width="181" height="26"/><SubTexture name="stat_background \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="1" width="488" height="211"/><SubTexture name="stat_badWall1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="920" y="430" width="101" height="108"/><SubTexture name="stat_badWall2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="605" width="102" height="108"/><SubTexture name="stat_bones \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="266" y="442" width="76" height="35"/><SubTexture name="stat_botWall \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="266" y="244" width="286" height="196"/><SubTexture name="stat_curtain10 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="365" y="442" width="112" height="45"/><SubTexture name="stat_curtain11 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="768" y="893" width="112" height="44"/><SubTexture name="stat_curtain12 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="882" y="893" width="111" height="44"/><SubTexture name="stat_curtain20 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="305" y="725" width="73" height="112"/><SubTexture name="stat_curtain21 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="715" width="73" height="113"/><SubTexture name="stat_curtain22 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="578" y="706" width="79" height="111"/><SubTexture name="stat_curtain30 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="655" y="889" width="111" height="45"/><SubTexture name="stat_curtain31 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="76" y="901" width="111" height="44"/><SubTexture name="stat_curtain32 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="538" y="899" width="111" height="44"/><SubTexture name="stat_mirror \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="945" y="1" width="73" height="158"/><SubTexture name="stat_window \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="951" y="161" width="62" height="161"/><SubTexture name="teleportPoruchni \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="448" y="910" width="55" height="55"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="479" y="442" width="66" height="66" frameX="-17" frameY="-17" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="951" y="324" width="69" height="69" frameX="-16" frameY="-16" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="854" y="168" width="72" height="72" frameX="-14" frameY="-14" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="257" y="839" width="75" height="75" frameX="-13" frameY="-13" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="575" y="819" width="78" height="78" frameX="-11" frameY="-11" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="936" y="807" width="81" height="81" frameX="-10" frameY="-10" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="850" y="807" width="84" height="84" frameX="-8" frameY="-8" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="168" y="794" width="87" height="87" frameX="-7" frameY="-7" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="76" y="726" width="90" height="90" frameX="-5" frameY="-5" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="906" y="712" width="93" height="93" frameX="-4" frameY="-4" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="808" y="703" width="96" height="96" frameX="-2" frameY="-2" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="919" y="611" width="98" height="99" frameX="-1" frameY="-1" frameWidth="101" frameHeight="101"/><SubTexture name="touch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="705" y="611" width="101" height="101"/><SubTexture name="tutorialLevel7 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="365" y="598" width="104" height="125"/><SubTexture name="win2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="365" y="516" width="311" height="80"/></TextureAtlas>':
"RenderList1"==a?'<?xml version="1.0" encoding="UTF-16"?><TextureAtlas imagePath="RenderList1.png"><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="416" y="761" width="41" height="41" frameX="-13" frameY="-9" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="120" y="764" width="37" height="39" frameX="-14" frameY="-11" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="120" y="764" width="37" height="39" frameX="-14" frameY="-11" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="878" y="492" width="44" height="45" frameX="-11" frameY="-5" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="878" y="492" width="44" height="45" frameX="-11" frameY="-5" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="760" y="719" width="58" height="50" frameX="-3" frameY="-3" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="760" y="719" width="58" height="50" frameX="-3" frameY="-3" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="57" y="719" width="60" height="51" frameX="0" frameY="-2" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="57" y="719" width="60" height="51" frameX="0" frameY="-2" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="128" y="709" width="60" height="52" frameX="0" frameY="-1" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="128" y="709" width="60" height="52" frameX="0" frameY="-1" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="191" y="709" width="60" height="52" frameX="0" frameY="-1" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="191" y="709" width="60" height="52" frameX="0" frameY="-1" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="367" y="705" width="60" height="53" frameX="0" frameY="0" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="367" y="705" width="60" height="53" frameX="0" frameY="0" frameWidth="61" frameHeight="53"/><SubTexture name="Barrel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="460" y="767" width="60" height="19" frameX="0" frameY="-34" frameWidth="61" frameHeight="53"/><SubTexture name="Feed \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="334" y="561" width="66" height="67"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="367" y="761" width="46" height="54" frameX="0" frameY="0" frameWidth="64" frameHeight="64"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="2" y="711" width="52" height="60" frameX="0" frameY="0" frameWidth="64" frameHeight="64"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="462" y="701" width="54" height="63" frameX="-4" frameY="0" frameWidth="64" frameHeight="64"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="911" y="701" width="54" height="63" frameX="-8" frameY="-1" frameWidth="64" frameHeight="64"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="968" y="701" width="51" height="58" frameX="-13" frameY="-6" frameWidth="64" frameHeight="64"/><SubTexture name="FeedBlick \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="254" y="718" width="47" height="54" frameX="-17" frameY="-10" frameWidth="64" frameHeight="64"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="968" y="762" width="46" height="46" frameX="-19" frameY="-17" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="307" y="704" width="57" height="56" frameX="-13" frameY="-12" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="845" y="700" width="63" height="62" frameX="-10" frameY="-9" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="929" y="407" width="72" height="68" frameX="-7" frameY="-5" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="749" y="177" width="76" height="72" frameX="-5" frameY="-3" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="95" y="97" width="81" height="77" frameX="-2" frameY="-2" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="95" y="97" width="81" height="77" frameX="-2" frameY="-2" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="586" y="95" width="84" height="77" frameX="-1" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="586" y="95" width="84" height="77" frameX="-1" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="252" y="95" width="85" height="77" frameX="0" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="252" y="95" width="85" height="77" frameX="0" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="928" y="95" width="85" height="76" frameX="-1" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="FeedCollect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="928" y="95" width="85" height="76" frameX="-1" frameY="0" frameWidth="86" frameHeight="78"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="553" y="624" width="59" height="72" frameX="-1" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="553" y="624" width="59" height="72" frameX="-1" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="924" y="625" width="58" height="73" frameX="-3" frameY="-3" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="924" y="625" width="58" height="73" frameX="-3" frameY="-3" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="403" y="627" width="56" height="75" frameX="-4" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="403" y="627" width="56" height="75" frameX="-4" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="493" y="623" width="57" height="75" frameX="-4" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="493" y="623" width="57" height="75" frameX="-4" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="722" y="616" width="58" height="75" frameX="-3" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="722" y="616" width="58" height="75" frameX="-3" frameY="-1" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="814" y="492" width="61" height="76" frameX="-1" frameY="0" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="814" y="492" width="61" height="76" frameX="-1" frameY="0" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="133" y="495" width="61" height="76" frameX="-1" frameY="0" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="133" y="495" width="61" height="76" frameX="-1" frameY="0" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="797" y="571" width="62" height="71" frameX="0" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="797" y="571" width="62" height="71" frameX="0" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="66" y="572" width="61" height="72" frameX="0" frameY="-4" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="66" y="572" width="61" height="72" frameX="0" frameY="-4" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="65" y="647" width="60" height="69" frameX="0" frameY="-7" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="65" y="647" width="60" height="69" frameX="0" frameY="-7" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="307" y="631" width="60" height="70" frameX="-1" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="307" y="631" width="60" height="70" frameX="-1" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="783" y="645" width="59" height="71" frameX="-2" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10023" x="783" y="645" width="59" height="71" frameX="-2" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10024" x="698" y="694" width="59" height="70" frameX="-2" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10025" x="698" y="694" width="59" height="70" frameX="-2" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10026" x="2" y="638" width="60" height="70" frameX="-1" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10027" x="2" y="638" width="60" height="70" frameX="-1" frameY="-6" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10028" x="615" y="700" width="57" height="71" frameX="-1" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10029" x="615" y="700" width="57" height="71" frameX="-1" frameY="-5" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10030" x="862" y="625" width="59" height="72" frameX="0" frameY="-4" frameWidth="62" frameHeight="77"/><SubTexture name="Fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10031" x="862" y="625" width="59" height="72" frameX="0" frameY="-4" frameWidth="62" frameHeight="77"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="676" y="473" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="367" y="412" width="67" height="72" frameX="-28" frameY="-21" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="368" y="336" width="68" height="73" frameX="-27" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="631" y="330" width="69" height="74" frameX="-26" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="301" y="254" width="69" height="76" frameX="-25" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="153" y="192" width="70" height="77" frameX="-24" frameY="-16" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="868" y="253" width="70" height="76" frameX="-25" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="2" y="254" width="70" height="75" frameX="-27" frameY="-18" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="941" y="253" width="71" height="74" frameX="-27" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="641" y="255" width="72" height="72" frameX="-28" frameY="-21" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="75" y="256" width="73" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="716" y="329" width="73" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="447" y="331" width="73" height="69" frameX="-31" frameY="-24" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="554" y="261" width="74" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="478" y="257" width="73" height="71" frameX="-30" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="641" y="179" width="74" height="73" frameX="-29" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="844" y="175" width="74" height="74" frameX="-28" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="495" y="102" width="74" height="75" frameX="-27" frameY="-18" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="923" y="174" width="73" height="76" frameX="-26" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="673" y="99" width="73" height="77" frameX="-25" frameY="-16" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="419" y="102" width="73" height="77" frameX="-26" frameY="-16" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="2" y="175" width="73" height="76" frameX="-26" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10023" x="327" y="176" width="73" height="75" frameX="-26" frameY="-18" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10024" x="403" y="182" width="72" height="75" frameX="-27" frameY="-18" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10025" x="226" y="249" width="72" height="74" frameX="-27" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10026" x="792" y="329" width="70" height="73" frameX="-28" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10027" x="75" y="330" width="70" height="73" frameX="-28" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10028" x="2" y="332" width="68" height="74" frameX="-28" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10029" x="2" y="409" width="65" height="75" frameX="-28" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10030" x="437" y="473" width="63" height="75" frameX="-28" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10031" x="2" y="561" width="61" height="74" frameX="-28" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10032" x="427" y="551" width="63" height="73" frameX="-29" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10033" x="516" y="472" width="65" height="74" frameX="-30" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10034" x="148" y="349" width="68" height="73" frameX="-31" frameY="-21" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10035" x="151" y="272" width="70" height="74" frameX="-30" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10036" x="718" y="252" width="72" height="74" frameX="-29" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10037" x="793" y="252" width="72" height="74" frameX="-29" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10038" x="495" y="180" width="73" height="74" frameX="-28" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10039" x="373" y="260" width="71" height="73" frameX="-28" frameY="-20" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10040" x="2" y="95" width="90" height="77" frameX="-16" frameY="-16" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10041" x="572" y="175" width="66" height="83" frameX="-23" frameY="-11" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10042" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10043" x="553" y="699" width="59" height="70" frameX="-28" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10044" x="197" y="568" width="58" height="76" frameX="-27" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10045" x="865" y="332" width="61" height="82" frameX="-26" frameY="-11" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10046" x="224" y="326" width="63" height="82" frameX="-19" frameY="-11" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10047" x="73" y="406" width="61" height="81" frameX="-19" frameY="-12" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10048" x="71" y="490" width="59" height="79" frameX="-20" frameY="-14" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10049" x="639" y="620" width="56" height="77" frameX="-21" frameY="-16" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10050" x="764" y="2" width="80" height="91" frameX="-6" frameY="-2" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10051" x="373" y="2" width="111" height="92" frameX="0" frameY="0" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10052" x="129" y="2" width="120" height="92" frameX="0" frameY="0" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10053" x="2" y="2" width="124" height="90" frameX="-1" frameY="-1" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10054" x="252" y="2" width="118" height="90" frameX="-4" frameY="-1" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10055" x="487" y="2" width="96" height="97" frameX="-25" frameY="-1" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10056" x="586" y="2" width="93" height="90" frameX="-28" frameY="-1" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10057" x="928" y="2" width="78" height="90" frameX="-30" frameY="-2" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10058" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10059" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10060" x="523" y="401" width="73" height="68" frameX="-22" frameY="-25" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10061" x="137" y="425" width="73" height="67" frameX="-22" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10062" x="703" y="402" width="73" height="68" frameX="-22" frameY="-25" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10063" x="213" y="425" width="73" height="67" frameX="-22" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10064" x="290" y="403" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10065" x="439" y="403" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10066" x="779" y="405" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10067" x="290" y="333" width="75" height="67" frameX="-20" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10068" x="599" y="407" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10069" x="599" y="407" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10070" x="599" y="407" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10071" x="599" y="407" width="74" height="67" frameX="-21" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10072" x="290" y="333" width="75" height="67" frameX="-20" frameY="-26" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10073" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10074" x="856" y="417" width="67" height="72" frameX="-30" frameY="-21" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10075" x="941" y="330" width="69" height="74" frameX="-29" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10076" x="78" y="177" width="72" height="76" frameX="-28" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10077" x="764" y="96" width="77" height="78" frameX="-24" frameY="-15" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10078" x="340" y="97" width="76" height="76" frameX="-23" frameY="-17" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10079" x="844" y="98" width="76" height="74" frameX="-21" frameY="-19" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10080" x="246" y="175" width="78" height="71" frameX="-18" frameY="-24" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10081" x="523" y="334" width="78" height="64" frameX="-14" frameY="-30" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10082" x="722" y="549" width="72" height="64" frameX="-20" frameY="-31" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10083" x="180" y="647" width="71" height="59" frameX="-21" frameY="-36" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10084" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10085" x="197" y="495" width="66" height="70" frameX="-29" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10086" x="653" y="547" width="66" height="70" frameX="-29" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10087" x="745" y="475" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10088" x="584" y="477" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10089" x="926" y="478" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10090" x="289" y="473" width="66" height="72" frameX="-29" frameY="-21" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10091" x="2" y="487" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10092" x="358" y="487" width="66" height="71" frameX="-29" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10093" x="266" y="548" width="65" height="71" frameX="-30" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10094" x="503" y="549" width="65" height="71" frameX="-30" frameY="-22" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10095" x="878" y="552" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10096" x="946" y="552" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="Hero \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10097" x="571" y="551" width="65" height="70" frameX="-30" frameY="-23" frameWidth="125" frameHeight="98"/><SubTexture name="HidedSpikes \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="304" y="763" width="52" height="36"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="226" y="192" width="17" height="31" frameX="-6" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="999" y="211" width="18" height="31" frameX="-3" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="226" y="192" width="17" height="31" frameX="0" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="999" y="211" width="18" height="31" frameX="-2" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="999" y="211" width="18" height="31" frameX="-4" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="447" y="260" width="17" height="31" frameX="-5" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="MachineGun \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="226" y="192" width="17" height="31" frameX="-6" frameY="0" frameWidth="23" frameHeight="31"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1009" y="2" width="7" height="7" frameX="-5" frameY="-4" frameWidth="16" frameHeight="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="749" y="147" width="12" height="11" frameX="-2" frameY="-2" frameWidth="16" frameHeight="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="749" y="99" width="12" height="13" frameX="-2" frameY="-1" frameWidth="16" frameHeight="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="478" y="182" width="14" height="15" frameX="-1" frameY="0" frameWidth="16" frameHeight="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="226" y="226" width="16" height="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="749" y="115" width="12" height="13" frameX="-2" frameY="-1" frameWidth="16" frameHeight="16"/><SubTexture name="blik \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="749" y="131" width="12" height="13" frameX="-2" frameY="-1" frameWidth="16" frameHeight="16"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="57" y="773" width="35" height="11" frameX="0" frameY="0" frameWidth="39" frameHeight="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="57" y="773" width="35" height="11" frameX="0" frameY="0" frameWidth="39" frameHeight="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="219" y="411" width="39" height="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="219" y="411" width="39" height="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="814" y="475" width="39" height="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="814" y="475" width="39" height="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="2" y="774" width="32" height="11" frameX="0" frameY="0" frameWidth="39" frameHeight="11"/><SubTexture name="effectBraking \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="2" y="774" width="32" height="11" frameX="0" frameY="0" frameWidth="39" frameHeight="11"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="604" y="358" width="22" height="13" frameX="-18" frameY="-10" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="985" y="681" width="31" height="17" frameX="-13" frameY="-7" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="779" y="772" width="37" height="20" frameX="-10" frameY="-6" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="558" y="772" width="40" height="23" frameX="-8" frameY="-4" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="856" y="765" width="43" height="26" frameX="-7" frameY="-3" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="902" y="767" width="39" height="27" frameX="-9" frameY="-2" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="209" y="764" width="42" height="30" frameX="-7" frameY="-1" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="128" y="670" width="46" height="30" frameX="-5" frameY="-1" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="160" y="764" width="46" height="28" frameX="-5" frameY="-1" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="675" y="767" width="48" height="22" frameX="-4" frameY="-1" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="726" y="772" width="50" height="18" frameX="-3" frameY="0" frameWidth="55" frameHeight="31"/><SubTexture name="effectLand \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="419" y="97" width="55" height="2" frameX="0" frameY="-16" frameWidth="55" frameHeight="31"/><SubTexture name="machineGunBase \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="985" y="625" width="33" height="53"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="604" y="374" width="18" height="15" frameX="0" frameY="-12" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="604" y="374" width="18" height="15" frameX="0" frameY="-12" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="718" y="219" width="24" height="21" frameX="0" frameY="-8" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="718" y="219" width="24" height="21" frameX="0" frameY="-8" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="370" y="668" width="29" height="25" frameX="0" frameY="-6" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="370" y="668" width="29" height="25" frameX="0" frameY="-6" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="519" y="701" width="31" height="29" frameX="0" frameY="-4" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="519" y="701" width="31" height="29" frameX="0" frameY="-4" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="523" y="772" width="32" height="32" frameX="0" frameY="-3" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="523" y="772" width="32" height="32" frameX="0" frameY="-3" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="370" y="631" width="30" height="34" frameX="0" frameY="-2" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="370" y="631" width="30" height="34" frameX="0" frameY="-2" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="821" y="765" width="32" height="36" frameX="0" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="821" y="765" width="32" height="36" frameX="0" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="718" y="179" width="24" height="37" frameX="-11" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="718" y="179" width="24" height="37" frameX="-11" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="999" y="174" width="18" height="34" frameX="-18" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="999" y="174" width="18" height="34" frameX="-18" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="447" y="294" width="18" height="26" frameX="-19" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="447" y="294" width="18" height="26" frameX="-19" frameY="-1" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="604" y="334" width="18" height="21" frameX="-20" frameY="0" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="604" y="334" width="18" height="21" frameX="-20" frameY="0" frameWidth="41" frameHeight="38"/><SubTexture name="machineGunSmoke \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="1019" y="2" width="3" height="3" frameX="-38" frameY="-18" frameWidth="41" frameHeight="38"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="847" y="2" width="78" height="93" frameX="0" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="258" y="622" width="46" height="93" frameX="-33" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="130" y="574" width="47" height="93" frameX="-68" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="130" y="574" width="47" height="93" frameX="-68" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="179" y="97" width="64" height="92" frameX="-67" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="179" y="97" width="64" height="92" frameX="-67" frameY="-1" frameWidth="145" frameHeight="94"/><SubTexture name="start \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="682" y="2" width="79" height="94" frameX="-66" frameY="0" frameWidth="145" frameHeight="94"/></TextureAtlas>':
"RenderList2"==a?'<?xml version="1.0" encoding="UTF-16"?><TextureAtlas imagePath="RenderList2.png"><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="427" y="508" width="61" height="38" frameX="-1" frameY="0" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="70" y="398" width="60" height="46" frameX="0" frameY="-2" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="492" y="204" width="61" height="48" frameX="0" frameY="-3" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="1" y="463" width="60" height="46" frameX="0" frameY="-5" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="841" y="474" width="58" height="46" frameX="0" frameY="-7" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="500" y="503" width="56" height="45" frameX="-2" frameY="-8" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="553" y="280" width="51" height="29" frameX="-2" frameY="-11" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="55" y="513" width="47" height="21" frameX="-4" frameY="-12" frameWidth="62" frameHeight="53"/><SubTexture name="DestroyFloor \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="964" y="94" width="11" height="11" frameX="-38" frameY="-21" frameWidth="62" frameHeight="53"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="710" y="509" width="43" height="24" frameX="-14" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="710" y="509" width="43" height="24" frameX="-14" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="900" y="512" width="50" height="24" frameX="-6" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="900" y="512" width="50" height="24" frameX="-6" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="349" y="512" width="51" height="24" frameX="-5" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="349" y="512" width="51" height="24" frameX="-5" frameY="-12" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="1" y="510" width="53" height="25" frameX="-3" frameY="-11" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="1" y="510" width="53" height="25" frameX="-3" frameY="-11" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="653" y="509" width="56" height="25" frameX="0" frameY="-11" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="653" y="509" width="56" height="25" frameX="0" frameY="-11" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="743" y="145" width="15" height="26" frameX="-22" frameY="-8" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="743" y="145" width="15" height="26" frameX="-22" frameY="-8" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="951" y="512" width="22" height="33" frameX="-19" frameY="-4" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="951" y="512" width="22" height="33" frameX="-19" frameY="-4" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="401" y="512" width="25" height="38" frameX="-17" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="401" y="512" width="25" height="38" frameX="-17" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="977" y="484" width="28" height="39" frameX="-16" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="977" y="484" width="28" height="39" frameX="-16" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="985" y="392" width="31" height="40" frameX="-14" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="985" y="392" width="31" height="40" frameX="-14" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="500" y="400" width="31" height="38" frameX="-14" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="500" y="400" width="31" height="38" frameX="-14" frameY="-2" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="144" y="267" width="34" height="41" frameX="-12" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10023" x="144" y="267" width="34" height="41" frameX="-12" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10024" x="986" y="139" width="34" height="42" frameX="-12" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10025" x="986" y="139" width="34" height="42" frameX="-12" frameY="-1" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10026" x="986" y="94" width="34" height="44" frameX="-12" frameY="0" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10027" x="986" y="94" width="34" height="44" frameX="-12" frameY="0" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10028" x="912" y="328" width="34" height="37" frameX="-12" frameY="-7" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10029" x="912" y="328" width="34" height="37" frameX="-12" frameY="-7" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10030" x="360" y="338" width="35" height="39" frameX="-11" frameY="-6" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10031" x="360" y="338" width="35" height="39" frameX="-11" frameY="-6" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10032" x="281" y="112" width="11" height="41" frameX="-19" frameY="-5" frameWidth="57" frameHeight="46"/><SubTexture name="MachineBullet \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10033" x="281" y="112" width="11" height="41" frameX="-19" frameY="-5" frameWidth="57" frameHeight="46"/><SubTexture name="MovingPlatform \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="571" y="451" width="114" height="37"/><SubTexture name="Saw \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="715" y="98" width="46" height="46"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="555" y="192" width="54" height="87" frameX="-11" frameY="-28" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="964" y="1" width="55" height="92" frameX="-11" frameY="-21" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="825" y="173" width="54" height="91" frameX="-11" frameY="-22" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="374" y="111" width="54" height="93" frameX="-11" frameY="-21" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="494" y="107" width="60" height="96" frameX="-11" frameY="-17" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="764" y="96" width="60" height="98" frameX="-11" frameY="-17" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="560" y="1" width="63" height="108" frameX="-10" frameY="-5" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="430" y="1" width="63" height="109" frameX="-10" frameY="-5" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="153" y="1" width="71" height="110" frameX="-6" frameY="-3" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="225" y="1" width="71" height="110" frameX="-6" frameY="-3" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="1" y="1" width="75" height="107" frameX="-4" frameY="-3" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="77" y="1" width="75" height="107" frameX="-4" frameY="-3" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="364" y="1" width="65" height="109" frameX="0" frameY="-2" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="297" y="1" width="66" height="109" frameX="0" frameY="-2" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="904" y="1" width="59" height="105" frameX="-7" frameY="0" frameWidth="79" frameHeight="115"/><SubTexture name="ShootFire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="494" y="1" width="65" height="105" frameX="-4" frameY="0" frameWidth="79" frameHeight="115"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="216" y="326" width="72" height="62" frameX="-21" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="553" y="313" width="71" height="63" frameX="-21" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="947" y="262" width="71" height="64" frameX="-20" frameY="-18" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="260" y="260" width="70" height="65" frameX="-20" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="190" y="257" width="69" height="66" frameX="-20" frameY="-16" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="743" y="195" width="69" height="67" frameX="-20" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="343" y="205" width="70" height="66" frameX="-19" frameY="-16" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="610" y="247" width="71" height="65" frameX="-18" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="144" y="324" width="71" height="63" frameX="-18" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="768" y="348" width="71" height="62" frameX="-17" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="70" y="451" width="71" height="61" frameX="-17" frameY="-21" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="688" y="396" width="73" height="60" frameX="-16" frameY="-22" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="615" y="389" width="72" height="61" frameX="-17" frameY="-21" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="762" y="411" width="70" height="62" frameX="-19" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="68" y="334" width="70" height="63" frameX="-20" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="483" y="269" width="69" height="65" frameX="-21" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="75" y="267" width="68" height="66" frameX="-23" frameY="-16" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="756" y="263" width="67" height="67" frameX="-24" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="414" y="269" width="68" height="66" frameX="-24" frameY="-16" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="331" y="272" width="69" height="65" frameX="-24" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="947" y="327" width="69" height="64" frameX="-24" frameY="-18" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="401" y="336" width="70" height="63" frameX="-24" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="833" y="411" width="70" height="62" frameX="-24" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10023" x="142" y="451" width="67" height="63" frameX="-26" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10024" x="210" y="452" width="65" height="64" frameX="-30" frameY="-18" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10025" x="1" y="327" width="66" height="67" frameX="-28" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10026" x="80" y="109" width="70" height="73" frameX="-25" frameY="-9" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10027" x="151" y="112" width="66" height="76" frameX="-26" frameY="-6" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10028" x="429" y="111" width="64" height="78" frameX="-26" frameY="-4" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10029" x="555" y="110" width="62" height="81" frameX="-26" frameY="-1" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10030" x="218" y="112" width="62" height="80" frameX="-26" frameY="-2" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10031" x="429" y="190" width="62" height="78" frameX="-26" frameY="-4" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10032" x="126" y="189" width="63" height="77" frameX="-25" frameY="-5" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10033" x="1" y="176" width="62" height="79" frameX="-26" frameY="-3" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10034" x="281" y="179" width="61" height="80" frameX="-26" frameY="-2" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10035" x="618" y="164" width="60" height="82" frameX="-26" frameY="0" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10036" x="64" y="183" width="61" height="80" frameX="-26" frameY="-2" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10037" x="679" y="164" width="63" height="78" frameX="-25" frameY="-4" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10038" x="679" y="164" width="63" height="78" frameX="-25" frameY="-4" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10039" x="880" y="258" width="66" height="69" frameX="-27" frameY="-14" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10040" x="953" y="190" width="67" height="71" frameX="-25" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10041" x="880" y="190" width="72" height="67" frameX="-12" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10042" x="297" y="111" width="76" height="67" frameX="0" frameY="-15" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10043" x="1" y="109" width="78" height="66" frameX="-21" frameY="-16" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10044" x="825" y="107" width="89" height="65" frameX="-31" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10045" x="624" y="98" width="90" height="65" frameX="-31" frameY="-17" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10046" x="190" y="193" width="75" height="63" frameX="-32" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10047" x="216" y="326" width="72" height="62" frameX="-21" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10048" x="840" y="348" width="71" height="62" frameX="-22" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10049" x="543" y="377" width="71" height="62" frameX="-22" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10050" x="472" y="336" width="70" height="63" frameX="-23" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10051" x="360" y="400" width="69" height="63" frameX="-24" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10052" x="698" y="331" width="69" height="64" frameX="-24" frameY="-18" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10053" x="1" y="398" width="68" height="64" frameX="-25" frameY="-18" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10054" x="430" y="400" width="69" height="63" frameX="-24" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10055" x="283" y="402" width="69" height="63" frameX="-24" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10056" x="289" y="338" width="70" height="63" frameX="-23" frameY="-19" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10057" x="500" y="440" width="70" height="62" frameX="-23" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10058" x="139" y="388" width="71" height="62" frameX="-22" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10059" x="211" y="389" width="71" height="62" frameX="-22" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10060" x="216" y="326" width="72" height="62" frameX="-21" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10061" x="625" y="326" width="72" height="62" frameX="-24" frameY="-20" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10062" x="682" y="263" width="73" height="62" frameX="-23" frameY="-21" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10063" x="1" y="264" width="73" height="62" frameX="-23" frameY="-22" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10064" x="912" y="392" width="72" height="61" frameX="-23" frameY="-24" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10065" x="904" y="454" width="72" height="57" frameX="-22" frameY="-29" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10066" x="686" y="457" width="72" height="51" frameX="-21" frameY="-35" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10067" x="353" y="464" width="73" height="47" frameX="-19" frameY="-40" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10068" x="427" y="464" width="72" height="43" frameX="-19" frameY="-44" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10069" x="276" y="505" width="72" height="40" frameX="-18" frameY="-48" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10070" x="276" y="466" width="76" height="38" frameX="-18" frameY="-49" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10071" x="759" y="474" width="81" height="38" frameX="-18" frameY="-49" frameWidth="121" frameHeight="88"/><SubTexture name="Skeleton \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10072" x="571" y="489" width="81" height="38" frameX="-18" frameY="-49" frameWidth="121" frameHeight="88"/><SubTexture name="desFloorPath1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="281" y="154" width="12" height="14"/><SubTexture name="desFloorPath2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="715" y="145" width="19" height="18"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="695" y="1" width="68" height="96" frameX="-1" frameY="0" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="695" y="1" width="68" height="96" frameX="-1" frameY="0" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="624" y="1" width="70" height="95" frameX="0" frameY="0" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="624" y="1" width="70" height="95" frameX="0" frameY="0" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="764" y="1" width="69" height="94" frameX="-1" frameY="-1" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="764" y="1" width="69" height="94" frameX="-1" frameY="-1" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="834" y="1" width="69" height="94" frameX="-1" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="834" y="1" width="69" height="94" frameX="-1" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="915" y="107" width="70" height="82" frameX="-1" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="915" y="107" width="70" height="82" frameX="-1" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="824" y="265" width="54" height="82" frameX="-18" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="doorDust \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="824" y="265" width="54" height="82" frameX="-18" frameY="-2" frameWidth="72" frameHeight="96"/><SubTexture name="podSaw \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="977" y="454" width="43" height="29"/></TextureAtlas>':
"ScenesList"==a?'<?xml version="1.0" encoding="UTF-16"?><TextureAtlas imagePath="ScenesList.png"><SubTexture name="Award \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="185" width="33" height="22"/><SubTexture name="BtnFonActive \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="535" y="879" width="53" height="53"/><SubTexture name="BtnFonActiveBig \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="75" y="839" width="73" height="74"/><SubTexture name="BtnFonNormal \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="480" y="879" width="53" height="53"/><SubTexture name="BtnFonNormalBig \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="814" y="325" width="74" height="74"/><SubTexture name="Exit \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="209" width="28" height="25"/><SubTexture name="LevelClose \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="228" y="723" width="69" height="85"/><SubTexture name="LevelDown \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="228" y="636" width="70" height="85"/><SubTexture name="LevelUp \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="932" y="703" width="69" height="85"/><SubTexture name="MoreGames \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="932" y="790" width="47" height="28"/><SubTexture name="MusicOff \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="642" y="781" width="39" height="36"/><SubTexture name="MusicOn \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="50" width="31" height="34"/><SubTexture name="No \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="155" width="28" height="28"/><SubTexture name="Play \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="642" y="732" width="40" height="47"/><SubTexture name="PlaySmall \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="86" width="29" height="35"/><SubTexture name="chain1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1009" y="264" width="13" height="22"/><SubTexture name="chain2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="264" width="20" height="24"/><SubTexture name="credits \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="290" width="14" height="34"/><SubTexture name="currentWorld \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="123" width="30" height="30"/><SubTexture name="flag1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="300" y="422" width="113" height="168"/><SubTexture name="flag2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="0" y="753" width="215" height="84"/><SubTexture name="flag3 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="688" y="617" width="231" height="104"/><SubTexture name="flag4 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="300" y="617" width="141" height="199"/><SubTexture name="flag5 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="217" y="818" width="188" height="82"/><SubTexture name="flag6 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="443" y="617" width="243" height="113"/><SubTexture name="flag7 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="161" y="422" width="137" height="212"/><SubTexture name="flag8 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="688" y="723" width="242" height="98"/><SubTexture name="flag9 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="443" y="732" width="197" height="95"/><SubTexture name="keyShkala \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="407" y="879" width="71" height="66"/><SubTexture name="leftDoorClose \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="814" y="0" width="171" height="323"/><SubTexture name="leftDoorOpen \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="0" y="422" width="159" height="329"/><SubTexture name="levelBtnstarFull \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="236" width="25" height="26"/><SubTexture name="levelPoint \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="642" y="823" width="177" height="64"/><SubTexture name="lockWorld \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="161" y="636" width="65" height="102"/><SubTexture name="lockWorldOpen \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="927" y="594" width="71" height="107"/><SubTexture name="panelBtnLevelSelect \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="927" y="325" width="57" height="267"/><SubTexture name="panelCredits \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="0" y="0" width="435" height="420"/><SubTexture name="panelTotalScore \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="407" y="829" width="218" height="48"/><SubTexture name="podButtonPanel \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="0" y="839" width="73" height="75"/><SubTexture name="podShkala \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="821" y="823" width="193" height="41"/><SubTexture name="podShkala2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="987" y="0" width="31" height="48"/><SubTexture name="starFull \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="150" y="839" width="63" height="63"/><SubTexture name="starShkala \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="821" y="866" width="181" height="26"/><SubTexture name="stat_background \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="437" y="404" width="488" height="211"/><SubTexture name="worldFon \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="437" y="0" width="375" height="402"/></TextureAtlas>':
"ScenesList2"==a?'<?xml version="1.0" encoding="UTF-16"?><TextureAtlas imagePath="ScenesList2.png"><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="148" y="837" width="68" height="57" frameX="-11" frameY="-8" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="148" y="837" width="68" height="57" frameX="-11" frameY="-8" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="1" y="789" width="73" height="63" frameX="-8" frameY="-5" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="416" y="784" width="76" height="65" frameX="-7" frameY="-4" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="655" y="568" width="80" height="69" frameX="-5" frameY="-2" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="218" y="419" width="87" height="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="416" y="711" width="86" height="72" frameX="0" frameY="0" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="655" y="498" width="81" height="69" frameX="-4" frameY="-2" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="763" y="775" width="80" height="67" frameX="-4" frameY="-3" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="652" y="779" width="79" height="67" frameX="-4" frameY="-4" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="218" y="493" width="74" height="63" frameX="-8" frameY="-5" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="75" y="789" width="72" height="61" frameX="-9" frameY="-6" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="844" y="810" width="70" height="61" frameX="-10" frameY="-6" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="915" y="810" width="68" height="59" frameX="-11" frameY="-7" frameWidth="87" frameHeight="73"/><SubTexture name="AwardComplete \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="148" y="837" width="68" height="57" frameX="-11" frameY="-8" frameWidth="87" frameHeight="73"/><SubTexture name="BtnFonActive \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="148" y="779" width="53" height="53"/><SubTexture name="BtnFonNormal \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="137" y="725" width="53" height="53"/><SubTexture name="PlaySmall \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="686" y="164" width="28" height="35"/><SubTexture name="comix1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="739" y="374" width="150" height="264"/><SubTexture name="comix2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="1" width="320" height="251"/><SubTexture name="comix3 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="505" y="383" width="148" height="180"/><SubTexture name="comix4 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="686" y="1" width="318" height="162"/><SubTexture name="comix5 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="253" width="312" height="165"/><SubTexture name="comix6 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="1" y="725" width="135" height="63"/><SubTexture name="final1 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="322" y="1" width="363" height="206"/><SubTexture name="final2 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="739" y="164" width="243" height="209"/><SubTexture name="final3 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="322" y="208" width="416" height="174"/><SubTexture name="final4 \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="314" y="383" width="190" height="174"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="202" y="697" width="106" height="139" frameX="-3" frameY="-16" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10001" x="202" y="697" width="106" height="139" frameX="-3" frameY="-16" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10002" x="443" y="564" width="104" height="146" frameX="-8" frameY="-10" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10003" x="443" y="564" width="104" height="146" frameX="-8" frameY="-10" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10004" x="102" y="573" width="99" height="151" frameX="-11" frameY="-4" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10005" x="102" y="573" width="99" height="151" frameX="-11" frameY="-4" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10006" x="1" y="573" width="100" height="151" frameX="-11" frameY="-4" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10007" x="1" y="573" width="100" height="151" frameX="-11" frameY="-4" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10008" x="113" y="419" width="104" height="153" frameX="-7" frameY="-2" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10009" x="113" y="419" width="104" height="153" frameX="-7" frameY="-2" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10010" x="1" y="419" width="111" height="153" frameX="-3" frameY="-1" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10011" x="1" y="419" width="111" height="153" frameX="-3" frameY="-1" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10012" x="890" y="374" width="112" height="154" frameX="-2" frameY="0" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10013" x="890" y="374" width="112" height="154" frameX="-2" frameY="0" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10014" x="218" y="558" width="114" height="138" frameX="0" frameY="-15" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10015" x="218" y="558" width="114" height="138" frameX="0" frameY="-15" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10016" x="890" y="529" width="112" height="142" frameX="0" frameY="-12" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10017" x="890" y="529" width="112" height="142" frameX="0" frameY="-12" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10018" x="763" y="639" width="110" height="135" frameX="0" frameY="-19" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10019" x="763" y="639" width="110" height="135" frameX="0" frameY="-19" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10020" x="874" y="672" width="108" height="137" frameX="-3" frameY="-18" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10021" x="874" y="672" width="108" height="137" frameX="-3" frameY="-18" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10022" x="309" y="699" width="106" height="139" frameX="-6" frameY="-17" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10023" x="309" y="699" width="106" height="139" frameX="-6" frameY="-17" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10024" x="655" y="639" width="107" height="139" frameX="-4" frameY="-17" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10025" x="655" y="639" width="107" height="139" frameX="-4" frameY="-17" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10026" x="333" y="558" width="109" height="140" frameX="-2" frameY="-16" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10027" x="333" y="558" width="109" height="140" frameX="-2" frameY="-16" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10028" x="548" y="708" width="103" height="141" frameX="-2" frameY="-14" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10029" x="548" y="708" width="103" height="141" frameX="-2" frameY="-14" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10030" x="548" y="564" width="106" height="143" frameX="-1" frameY="-13" frameWidth="114" frameHeight="156"/><SubTexture name="fire \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10031" x="548" y="564" width="106" height="143" frameX="-1" frameY="-13" frameWidth="114" frameHeight="156"/><SubTexture name="torch \u043e\u0431\u0440\u0430\u0437\u0435\u0446 10000" x="654" y="383" width="55" height="114"/></TextureAtlas>':
""};ua.getLevels=function(){return{1:[{id:"LevelHeight",h:"642.4",x:"0",r:"0",sY:"0.892242431640625",y:"0",p:"0",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"519",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_window",h:"160.45",x:"580",r:"0",sY:"1",y:"253",p:"0",
sX:"1",w:"60.2"},{id:"stat_curtain2",h:"111.25",x:"215",r:"0",sY:"1",y:"318",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"142",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"284",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"143.4",x:"140",r:"13",sY:"1.130546276120577",y:"67",p:"0",sX:"1.130546276120577",w:"138.05"},{id:"stat_curtain1",h:"43.25",x:"589",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"125.5",x:"112",
r:"0",sY:"1.1761932373046875",y:"439",p:"0",sX:"1.1761932373046875",w:"118.05"},{id:"stat_curtain1",h:"43.25",x:"149",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"244",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"509",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"125.5",x:"560",r:"0",sY:"1.1761932373046875",y:"81",p:"0",sX:"1.1761932373046875",w:"118.05"},{id:"Finish",h:"40",x:"179",r:"0",sY:"1",y:"463",p:"0",
sX:"1",w:"40"},{id:"Start",h:"40",x:"160",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"256",p:"0",sX:"10.99798583984375",w:"439.9"},{id:"StaticBlock",h:"30",x:"520",r:"0",sY:"1",y:"375",p:"0",sX:"6.0059661865234375",w:"240.2"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"136",p:"0",sX:"5.99627685546875",w:"239.9"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"417",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"497",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"457",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"540",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"580",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"159",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"},{id:"Trigger",h:"40",x:"450",
r:"0",sY:"1",y:"221",p:"2",sX:"1",w:"10"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"498",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"575",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"575",p:"0",sX:"1",w:"280.9"}],2:[{id:"LevelHeight",h:"791.25",x:"0",r:"0",sY:"1.0989837646484375",y:"0",p:"2",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",h:"136.9",x:"342",r:"0",sY:"1.28302001953125",y:"2",p:"0",sX:"1.28302001953125",w:"128.75"},{id:"stat_badWall1",h:"136.9",x:"624",r:"0",sY:"1.28302001953125",y:"445",p:"0",
sX:"1.28302001953125",w:"128.75"},{id:"stat_badWall1",h:"136.9",x:"83",r:"0",sY:"1.28302001953125",y:"194",p:"0",sX:"1.28302001953125",w:"128.75"},{id:"stat_curtain1",h:"43.25",x:"220",r:"0",sY:"1",y:"161",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"290",r:"0",sY:"1",y:"161",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"376",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"447",r:"0",sY:"1",y:"521",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"568",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"267",r:"0",sY:"1",y:"282",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"440",r:"0",sY:"1",y:"282",p:"0",sX:"1",w:"110.35"},{id:"stat_mirror",h:"153.25",x:"128",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"68.25"},{id:"stat_badWall1",h:"144.7",x:"60",r:"0",sY:"1.35650634765625",y:"716",p:"0",sX:"1.35650634765625",w:"136.15"},{id:"stat_curtain2",h:"111.25",x:"602",r:"0",sY:"1",y:"318",p:"0",sX:"1",w:"72"},
{id:"stat_curtain1",h:"43.25",x:"530",r:"0",sY:"1",y:"282",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"179",r:"0",sY:"1",y:"585",p:"1",sX:"1",w:"40"},{id:"Start",h:"40",x:"232",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"135",p:"0",sX:"8.006744384765625",w:"320.3"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"255",p:"0",sX:"11.011566162109375",w:"440.5"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"375",p:"0",sX:"10.00762939453125",w:"400.3"},
{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"495",p:"0",sX:"7.998138427734375",w:"319.9"},{id:"Feed",h:"25",x:"618",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"402",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"578",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Torch",h:"73.4",x:"582",r:"0",sY:"1",y:"105",p:"0",sX:"1",w:"24.8"},
{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"619",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"697",p:"0",sX:"1",w:"280.9"},{id:"Trigger",h:"40",x:"222",r:"0",sY:"1",y:"332",p:"3",sX:"1",w:"10"},{id:"Feed",h:"25",x:"443",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"697",p:"0",sX:"1",w:"280.9"},{id:"HidedSpikes",h:"28.3",x:"310",r:"0",sY:"1",y:"351",p:"1",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"280",
r:"0",sY:"1",y:"480",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"519",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"100",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"98",p:"0",sX:"1",w:"25"},{id:"Barrel",h:"40",x:"350",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"40"},{id:"Hero",h:"50",x:"232",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],3:[{id:"LevelHeight",h:"999.95",x:"0",r:"0",sY:"1.3887939453125",y:"0",p:"26",sX:"1.5",w:"720"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"276.1",x:"359",r:"0",sY:"1.1519622802734375",y:"745",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_window",h:"160.45",x:"382",r:"0",sY:"1",y:"88",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall1",
h:"106.7",x:"97",r:"0",sY:"1",y:"443",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"530",r:"0",sY:"1",y:"357",p:"0",sX:"1",w:"100.35"},{id:"Torch",h:"73.4",x:"601",r:"0",sY:"1",y:"717",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"106.7",x:"97",r:"0",sY:"1",y:"683",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain2",h:"111.25",x:"395",r:"0",sY:"1",y:"436",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"454",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"141",
r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"256",r:"0",sY:"1",y:"758",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"336",r:"0",sY:"1",y:"758",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"542",r:"0",sY:"1",y:"525",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"619",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"141",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"211",
r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"424",r:"0",sY:"1",y:"758",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"631",r:"0",sY:"1",y:"191",p:"0",sX:"1",w:"100.35"},{id:"Skeleton",h:"40",x:"543",r:"0",sY:"1",y:"61",p:"0",sX:"4.30682373046875",w:"172.3"},{id:"stat_window",h:"160.45",x:"133",r:"0",sY:"1",y:"264",p:"0",sX:"1",w:"60.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"858",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",
x:"221",r:"0",sY:"1",y:"935",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"935",p:"0",sX:"1",w:"280.9"},{id:"stat_curtain1",h:"43.25",x:"331",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"139",r:"0",sY:"1",y:"823",p:"1",sX:"1",w:"40"},{id:"Start",h:"40",x:"167",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"135",p:"0",sX:"6.002838134765625",w:"240.1"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"256",
p:"0",sX:"10.993011474609375",w:"439.7"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"375",p:"0",sX:"11.0107421875",w:"440.4"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",y:"496",p:"0",sX:"4.010650634765625",w:"160.4"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"615",p:"0",sX:"8.00274658203125",w:"320.1"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"579",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"734",p:"0",sX:"9.966598510742188",w:"398.7"},{id:"Feed",h:"25",x:"248",
r:"0",sY:"1",y:"823",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"288",r:"0",sY:"1",y:"823",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"328",r:"0",sY:"1",y:"823",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"99",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"139",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"402",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"100",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"140",r:"0",sY:"1",y:"461",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"540",r:"0",sY:"1",y:"96",p:"0",sX:"5.0008544921875",w:"200"},{id:"Feed",h:"25",x:"538",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"499",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"140",r:"0",sY:"1",y:"496",p:"0",sX:"3.015838623046875",w:"120.6"},{id:"Feed",h:"25",x:"280",r:"0",
sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Barrel",h:"40",x:"361",r:"0",sY:"1",y:"340",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"401",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"441",r:"0",sY:"1",y:"709",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"400",r:"0",sY:"1",y:"832",p:"1",sX:"1",w:"38.55"},{id:"stat_bones",h:"28.15",x:"589",r:"0",sY:"1",y:"70",p:"0",sX:"1",w:"61.5"},{id:"MovingPlatform",
h:"150",x:"260",r:"-90",sY:"1.0000000041909516",y:"555",p:"0",sX:"3.749816909557321",w:"40"},{id:"Spikes",h:"28.3",x:"600",r:"0",sY:"1",y:"230",p:"0",sX:"1",w:"38.55"},{id:"Hero",h:"50",x:"160",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],4:[{id:"LevelHeight",h:"1000",x:"0",r:"0",sY:"1.388916015625",y:"0",p:"24",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"288.8",x:"359",r:"0",sY:"1.205047607421875",y:"750",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"855",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"933",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"933",p:"0",sX:"1",w:"280.9"},{id:"stat_badWall2",
h:"106.7",x:"150",r:"0",sY:"1",y:"601",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain3",h:"43.25",x:"389",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"153.1",x:"603",r:"0",sY:"1.435211181640625",y:"751",p:"0",sX:"1.435211181640625",w:"144.05"},{id:"stat_curtain1",h:"43.25",x:"415",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"579",r:"0",sY:"1",y:"650",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"485",r:"0",sY:"1",y:"649",p:"0",sX:"1",
w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"324",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"144",x:"137",r:"0",sY:"1.349578857421875",y:"244",p:"0",sX:"1.345794677734375",w:"135.05"},{id:"stat_curtain1",h:"43.25",x:"316",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"298",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"396",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"477",r:"0",
sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"130",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"210",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"189",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"157",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"240",r:"0",sY:"1",y:"135",p:"0",sX:"7.994720458984375",w:"319.8"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"255",p:"0",
sX:"7.9943695068359375",w:"319.8"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"376",p:"0",sX:"11.9876708984375",w:"479.5"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"495",p:"0",sX:"7.0006561279296875",w:"280"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"616",p:"0",sX:"10.003265380859375",w:"400.1"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"735",p:"0",sX:"10.005706787109375",w:"400.2"},{id:"Barrel",h:"40",x:"379",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"Torch",h:"73.4",
x:"515",r:"0",sY:"1",y:"121",p:"0",sX:"1",w:"24.8"},{id:"Torch",h:"73.4",x:"519",r:"0",sY:"1",y:"478",p:"0",sX:"1",w:"24.8"},{id:"Barrel",h:"40",x:"499",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"539",r:"0",sY:"1",y:"581",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"455",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"321",r:"0",sY:"1",y:"820",p:"1",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"399",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",
h:"28.3",x:"400",r:"0",sY:"1",y:"710",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"537",r:"0",sY:"1",y:"222",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"221",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"597",r:"0",
sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"559",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"464",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"499",r:"0",sY:"1",y:"222",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"240",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"280",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"700",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"299",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"160",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"},{id:"Spikes",h:"28.3",x:"125",r:"0",sY:"1",y:"710",p:"0",sX:"1",w:"38.55"}],5:[{id:"LevelHeight",h:"1238.75",x:"1",r:"0",sY:"1.720489501953125",y:"1",p:"6",sX:"1.4999847412109375",w:"720"},{id:"stat_background",h:"251.9",x:"359",r:"0",sY:"1.05072021484375",y:"107",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"266.8",x:"359",r:"0",sY:"1.113128662109375",y:"331",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"299.2",x:"359",r:"0",sY:"1.248321533203125",y:"577",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"304.7",x:"359",r:"0",sY:"1.271331787109375",y:"840",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"302.9",x:"359",r:"0",sY:"1.26373291015625",y:"1105",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",
h:"133.3",x:"626",r:"0",sY:"1.249755859375",y:"237",p:"0",sX:"1.249755859375",w:"125.45"},{id:"stat_badWall1",h:"133.3",x:"117",r:"0",sY:"1.249755859375",y:"360",p:"0",sX:"1.249755859375",w:"125.45"},{id:"stat_badWall1",h:"108.2",x:"604",r:"0",sY:"1.01373291015625",y:"930",p:"0",sX:"1.01373291015625",w:"101.75"},{id:"stat_badWall2",h:"106.7",x:"212",r:"0",sY:"1",y:"960",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"158",r:"0",sY:"1",y:"79",p:"0",sX:"1",w:"100.35"},{id:"stat_bones",h:"28.15",
x:"161",r:"180",sY:"1",y:"829",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"473",r:"0",sY:"1",y:"168",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"569",r:"0",sY:"1",y:"168",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"178",r:"0",sY:"1",y:"311",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"243",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"108",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",
x:"334",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"500",r:"0",sY:"1",y:"408",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"588",r:"0",sY:"1",y:"408",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"442",r:"0",sY:"1",y:"791",p:"0",sX:"1",w:"72"},{id:"stat_curtain3",h:"43.25",x:"371",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"279",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"221",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"397",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"306",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"520",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"540",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"520",r:"0",sY:"1",y:"135",p:"0",sX:"5.9975433349609375",w:"239.9"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",
y:"375",p:"0",sX:"8.99151611328125",w:"359.7"},{id:"StaticBlock",h:"30",x:"239",r:"0",sY:"1",y:"255",p:"0",sX:"8.013763427734375",w:"320.6"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"495",p:"0",sX:"11.991058349609375",w:"479.6"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"735",p:"0",sX:"8.999862670898438",w:"360"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"615",p:"0",sX:"8.99554443359375",w:"359.8"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"855",p:"0",sX:"7.0370330810546875",
w:"281.5"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"975",p:"0",sX:"6.991119384765625",w:"279.6"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1095",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"StaticBlock",h:"30",x:"161",r:"0",sY:"1",y:"135",p:"0",sX:"5.0009613037109375",w:"200"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",
y:"855",p:"0",sX:"3.9989013671875",w:"160"},{id:"Spikes",h:"28.3",x:"600",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"400",r:"0",sY:"1",y:"471",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"400",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"340",r:"0",sY:"1",y:"830",p:"0",sX:"1",w:"38.55"},{id:"MovingPlatform",h:"150",x:"581",r:"-90",sY:"1.0000000041909516",y:"675",p:"0",sX:"3.749816909557321",w:"40"},{id:"Spikes",h:"28.3",x:"120",r:"0",sY:"1",
y:"1069",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"140",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"550",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"480",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"463",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"561",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"181",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"221",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"140",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"DestroyFloor",h:"30",x:"363",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"296",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"124",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",
r:"0",sY:"1",y:"819",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"279",r:"0",sY:"1",y:"819",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"540",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],6:[{id:"LevelHeight",h:"1240.95",x:"0",r:"0",sY:"1.7235107421875",y:"2",p:"0",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"288.8",x:"359",r:"0",sY:"1.205047607421875",y:"750",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"271.8",x:"359",r:"0",sY:"1.1337127685546875",y:"974",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",h:"154.95",x:"123",r:"-8",sY:"1.3000530977134261",y:"456",p:"0",sX:"1.3000530977134261",w:"147.85"},{id:"stat_badWall2",h:"106.7",x:"471",r:"0",sY:"1",y:"179",p:"0",
sX:"1",w:"100.35"},{id:"stat_badWall1",h:"154.95",x:"546",r:"-8",sY:"1.3000530977134261",y:"10",p:"0",sX:"1.3000530977134261",w:"147.85"},{id:"stat_badWall1",h:"116.4",x:"613",r:"-8",sY:"0.9768265944056312",y:"805",p:"0",sX:"0.9768265944056312",w:"111.15"},{id:"stat_curtain1",h:"43.25",x:"306",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"391",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"283",r:"0",sY:"1",y:"323",p:"0",sX:"1",w:"72"},
{id:"stat_curtain1",h:"43.25",x:"211",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"119",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"348",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"294",r:"0",sY:"1",y:"648",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"195",r:"0",sY:"1",y:"360",p:"0",sX:"1",w:"24.8"},{id:"stat_curtain1",h:"43.25",x:"479",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",
h:"28.15",x:"412",r:"0",sY:"1",y:"468",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall1",h:"154.95",x:"74",r:"-8",sY:"1.3000530977134261",y:"69",p:"0",sX:"1.3000530977134261",w:"147.85"},{id:"stat_curtain1",h:"43.25",x:"308",r:"0",sY:"1",y:"765",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"392",r:"0",sY:"1",y:"765",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"399",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"264",r:"0",sY:"1",y:"101",p:"1",sX:"1",w:"40"},{id:"StaticBlock",
h:"30",x:"360",r:"0",sY:"1",y:"136",p:"0",sX:"9.995468139648438",w:"399.8"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"255",p:"0",sX:"10.001312255859375",w:"400.1"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",y:"375",p:"0",sX:"3.9999847412109375",w:"160"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"615",p:"0",sX:"9.00042724609375",w:"360"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"495",p:"0",sX:"9.010482788085938",w:"360.4"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"735",
p:"0",sX:"9.988204956054688",w:"399.5"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1095",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"855",p:"0",sX:"7.00103759765625",w:"280"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"975",p:"0",sX:"7.9906005859375",w:"319.6"},{id:"Spikes",h:"28.3",
x:"340",r:"0",sY:"1",y:"470",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"497",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"457",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"461",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"478",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"340",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"400",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"501",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"540",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"580",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"HidedSpikes",h:"28.3",x:"421",r:"0",sY:"1",y:"711",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"321",r:"0",sY:"1",y:"950",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"440",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"159",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"260",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"},{id:"DestroyFloor",h:"30",x:"600",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"140",r:"-90",sY:"1.0000000041909516",y:"556",p:"0",sX:"3.749816909557321",
w:"40"},{id:"DestroyFloor",h:"30",x:"396",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"462",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"529",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"594",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"}],7:[{id:"LevelHeight",h:"1240.15",x:"0",r:"0",sY:"1.722412109375",y:"0",p:"10",sX:"1.5",w:"720"},{id:"stat_background",h:"281.8",x:"359",r:"0",sY:"1.175506591796875",y:"120",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"276.3",x:"359",r:"0",sY:"1.15283203125",y:"361",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"272.8",x:"359",r:"0",sY:"1.138275146484375",y:"590",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"265.6",x:"359",r:"0",sY:"1.107879638671875",y:"823",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"255.6",x:"359",r:"0",sY:"1.0662078857421875",y:"1047",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_window",
h:"160.45",x:"583",r:"0",sY:"1",y:"608",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall1",h:"106.7",x:"118",r:"0",sY:"1",y:"552",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"640",r:"0",sY:"1",y:"920",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"77",r:"0",sY:"1",y:"920",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"321",r:"0",sY:"1",y:"663",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"225",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"313",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"409",r:"0",sY:"1",y:"768",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"502",r:"0",sY:"1",y:"768",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"318",r:"0",sY:"1",y:"768",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"270",r:"0",sY:"1",y:"888",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"366",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"412",r:"0",sY:"1",y:"169",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"316",r:"0",sY:"1",y:"169",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"223",r:"0",sY:"1",y:"169",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"132",r:"0",sY:"1",y:"169",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"522",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"426",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"610",r:"0",sY:"1",y:"288",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"419",r:"0",sY:"1",y:"408",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"583",r:"0",sY:"1",y:"79",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"133.3",x:"98",r:"0",sY:"1.249755859375",y:"59",p:"0",sX:"1.249755859375",w:"125.45"},{id:"Finish",h:"40",x:"200",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"278",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"280",
r:"0",sY:"1",y:"136",p:"0",sX:"10.007492065429688",w:"400.3"},{id:"Feed",h:"25",x:"99",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"498",r:"0",sY:"1",y:"255",p:"0",sX:"6.99505615234375",w:"279.8"},{id:"StaticBlock",h:"30",x:"162",r:"0",sY:"1",y:"255",p:"0",sX:"4.0017547607421875",w:"160.1"},{id:"MovingPlatform",h:"150",x:"300",r:"-90",sY:"1.0000000041909516",y:"315",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"419",r:"0",sY:"1",y:"375",p:"0",sX:"3.05145263671875",
w:"122.1"},{id:"StaticBlock",h:"30",x:"162",r:"0",sY:"1",y:"375",p:"0",sX:"4.0017547607421875",w:"160.1"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"615",p:"0",sX:"7.997589111328125",w:"319.9"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"735",p:"0",sX:"8.9989013671875",w:"360"},{id:"Feed",h:"25",x:"140",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"380",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"HidedSpikes",h:"28.3",x:"460",r:"0",sY:"1",y:"590",p:"0",sX:"1",w:"38.55"},{id:"Spikes",h:"28.3",x:"376",r:"0",sY:"1",y:"710",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",
x:"438",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"855",p:"0",sX:"10.9986572265625",w:"439.9"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"795",p:"0",sX:"3.749816909557321",w:"40"},{id:"Feed",h:"25",x:"275",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"315",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"975",p:"0",sX:"10.9986572265625",w:"439.9"},{id:"Feed",h:"25",
x:"439",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"479",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"HidedSpikes",h:"28.3",x:"299",r:"0",sY:"1",y:"950",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Barrel",h:"40",x:"500",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"602",r:"0",
sY:"1",y:"220",p:"1",sX:"1",w:"40"},{id:"Feed",h:"25",x:"321",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"361",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"495",p:"0",sX:"10.00048828125",w:"400"},{id:"Skeleton",h:"40",x:"441",r:"0",sY:"1",y:"460",p:"0",sX:"9.47998046875",w:"379.2"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"320",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"478",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"518",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"139",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1095",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1173",p:"0",sX:"1",
w:"280.9"},{id:"Hero",h:"50",x:"278",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],8:[{id:"LevelHeight",h:"1242.2",x:"0",r:"0",sY:"1.725250244140625",y:"0",p:"4",sX:"1.49993896484375",w:"719.95"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_background",h:"288.8",x:"359",r:"0",sY:"1.205047607421875",y:"750",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"273.5",x:"359",r:"0",sY:"1.1409912109375",y:"996",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall2",h:"106.7",x:"278",r:"0",sY:"1",y:"449",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"618",r:"0",sY:"1",y:"153",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"112",r:"0",sY:"1",y:"243",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",
h:"106.7",x:"123",r:"0",sY:"1",y:"780",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"342",r:"0",sY:"1",y:"1027",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain2",h:"111.25",x:"164",r:"0",sY:"1",y:"192",p:"0",sX:"1",w:"72"},{id:"stat_curtain2",h:"111.25",x:"389",r:"0",sY:"1",y:"905",p:"0",sX:"1",w:"72"},{id:"stat_curtain3",h:"43.25",x:"330",r:"0",sY:"1",y:"882",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"442",r:"0",sY:"1",y:"882",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"265",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"265",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"337",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"415",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"114",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"186",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"264",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"341",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"418",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"386",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"464",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"129",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",
x:"208",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"498",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"515",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"598",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"549",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"626",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"91",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",h:"28.15",x:"592",r:"0",sY:"1",y:"588",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall2",h:"106.7",x:"324",r:"0",sY:"1",y:"90",p:"0",sX:"1",w:"100.35"},{id:"Finish",h:"40",x:"540",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"503",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"255",p:"0",sX:"7.994873046875",w:"319.8"},{id:"MovingPlatform",h:"150.4",x:"260",r:"90",sY:"1.0000000041909516",
y:"195",p:"0",sX:"3.759201064793249",w:"40"},{id:"StaticBlock",h:"30",x:"140",r:"0",sY:"1",y:"135",p:"0",sX:"2.98486328125",w:"119.4"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"375",p:"0",sX:"10.0008544921875",w:"400"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"495",p:"0",sX:"6.9943084716796875",w:"279.8"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"615",p:"0",sX:"11.015106201171875",w:"440.6"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"555",p:"0",sX:"3.749816909557321",
w:"40"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"735",p:"0",sX:"7.00103759765625",w:"280"},{id:"StaticBlock",h:"30",x:"174",r:"0",sY:"1",y:"735",p:"0",sX:"6.0009613037109375",w:"240"},{id:"DestroyFloor",h:"30",x:"327",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"855",p:"0",sX:"8.997314453125",w:"359.9"},{id:"DestroyFloor",h:"30",x:"553",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"559",r:"0",sY:"1",y:"975",p:"0",sX:"3.97686767578125",
w:"159.1"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"975",p:"0",sX:"5.0112762451171875",w:"200.5"},{id:"Feed",h:"25",x:"139",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"279",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"341",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"480",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"470",r:"0",sY:"1",y:"584",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"430",r:"0",sY:"1",y:"584",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"481",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"521",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"561",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"120",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"119",r:"0",sY:"1",y:"1062",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"103",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"175",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"940",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"DestroyFloor",h:"30",x:"618",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1095",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1173",p:"0",sX:"1",w:"280.9"},{id:"Spikes",h:"28.3",x:"522",r:"0",sY:"1",y:"589",p:"0",sX:"1",w:"38.55"},
{id:"Barrel",h:"40",x:"440",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"180",r:"0",sY:"1",y:"1070",p:"0",sX:"1",w:"38.55"},{id:"Hero",h:"50",x:"500",r:"0",sY:"1",y:"215",p:"0",sX:"1",w:"50"},{id:"Torch",h:"73.4",x:"419",r:"0",sY:"1",y:"103",p:"0",sX:"1",w:"24.8"}],9:[{id:"LevelHeight",h:"1361.3",x:"0",r:"0",sY:"1.890716552734375",y:"0",p:"27",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_window",
h:"160.45",x:"160",r:"0",sY:"1",y:"389",p:"0",sX:"1",w:"60.2"},{id:"stat_window",h:"160.45",x:"160",r:"0",sY:"1",y:"110",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall1",h:"106.7",x:"548",r:"0",sY:"1",y:"300",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"118",r:"0",sY:"1",y:"852",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"430",r:"0",sY:"1",y:"1139",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain3",h:"43.25",x:"304",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"394",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"483",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"438",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"515",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",
h:"111.25",x:"127",r:"0",sY:"1",y:"786",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"444",r:"0",sY:"1",y:"647",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"284",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"362",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"213",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"549",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"523",r:"0",sY:"1",y:"647",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"162",r:"0",sY:"1",y:"589",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"598",r:"0",sY:"1",y:"404",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"124.8",x:"604",r:"0",sY:"1.16961669921875",y:"855",p:"0",sX:"1.16961669921875",w:"117.35"},{id:"Finish",h:"40",x:"537",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"40"},
{id:"Start",h:"40",x:"421",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"135",p:"0",sX:"9.989608764648438",w:"399.6"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"255",p:"0",sX:"6.991455078125",w:"279.7"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"495",p:"0",sX:"7.0092010498046875",w:"280.4"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"615",p:"0",sX:"7.001922607421875",w:"280.1"},{id:"StaticBlock",h:"30",x:"160",r:"0",sY:"1",y:"735",p:"0",
sX:"4.01043701171875",w:"160.4"},{id:"MovingPlatform",h:"150",x:"300",r:"-90",sY:"1.0000000041909516",y:"675",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"735",p:"0",sX:"5.0001220703125",w:"200"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"855",p:"0",sX:"9.994354248046875",w:"399.8"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"975",p:"0",sX:"6.99700927734375",w:"279.9"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",y:"975",p:"0",sX:"4.0035247802734375",
w:"160.1"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"1095",p:"0",sX:"4.9965667724609375",w:"199.9"},{id:"Barrel",h:"40",x:"279",r:"0",sY:"1",y:"1180",p:"1",sX:"1",w:"40"},{id:"MovingPlatform",h:"150",x:"420",r:"90",sY:"1.0000000041909516",y:"1035",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"571",r:"0",sY:"1",y:"255",p:"0",sX:"3.996734619140625",w:"159.9"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"375",p:"0",sX:"7.996337890625",w:"319.9"},{id:"HidedSpikes",h:"28.3",
x:"340",r:"0",sY:"1",y:"350",p:"1",sX:"1",w:"38.55"},{id:"Torch",h:"73.4",x:"558",r:"0",sY:"1",y:"477",p:"0",sX:"1",w:"24.8"},{id:"Skeleton",h:"40",x:"362",r:"0",sY:"1",y:"820",p:"0",sX:"9.427490234375",w:"377.1"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1215",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"561",
r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"559",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"598",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"638",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"820",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"578",r:"0",sY:"1",y:"939",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"538",r:"0",sY:"1",y:"939",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"498",r:"0",sY:"1",y:"939",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"200",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"359",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"618",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"579",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"857",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"617",r:"0",sY:"1",y:"579",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"577",r:"0",sY:"1",
y:"579",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"582",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"542",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Barrel",h:"40",x:"522",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"40"},{id:"Spikes",h:"28.3",x:"459",r:"0",sY:"1",y:"470",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"122",r:"0",sY:"1",y:"1189",p:"1",sX:"1",w:"38.55"},{id:"DestroyFloor",h:"30",x:"393",r:"0",sY:"1",
y:"255",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"593",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"458",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"Hero",h:"50",x:"421",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],10:[{id:"LevelHeight",h:"1361.5",x:"0",r:"0",sY:"1.8909912109375",y:"0",p:"28",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",
y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_curtain3",h:"43.25",x:"175",
r:"0",sY:"1",y:"769",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"122",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"544",r:"0",sY:"1",y:"380",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"257",r:"0",sY:"1",y:"11",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"103",r:"0",sY:"1",y:"871",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"555",r:"0",sY:"1",y:"1140",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"337",
r:"0",sY:"1",y:"533",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"104",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"184",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"259",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"343",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"265",r:"0",sY:"1",y:"769",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"588",
r:"0",sY:"1",y:"888",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"500",r:"0",sY:"1",y:"888",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"415",r:"0",sY:"1",y:"888",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"345",r:"0",sY:"1",y:"522",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"242",r:"0",sY:"1",y:"424",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"302",r:"0",sY:"1",y:"402",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"239",
r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"350",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"265",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"433",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"354",r:"0",sY:"1",y:"769",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"311",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"428",
r:"0",sY:"1",y:"522",p:"0",sX:"1",w:"110.35"},{id:"Skeleton",h:"40",x:"422",r:"0",sY:"1",y:"820",p:"0",sX:"10.058731079101563",w:"402.3"},{id:"Start",h:"40",x:"340",r:"0",sY:"1",y:"340",p:"1",sX:"1",w:"40"},{id:"Finish",h:"38.8",x:"381",r:"0",sY:"0.969573974609375",y:"1181",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"135",p:"0",sX:"9.99346923828125",w:"399.7"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"255",p:"0",sX:"6.9968109130859375",w:"279.9"},{id:"MovingPlatform",
h:"150.4",x:"540",r:"-90",sY:"1.0000000041909516",y:"195",p:"0",sX:"3.759201064793249",w:"40"},{id:"MovingPlatform",h:"150.4",x:"140",r:"90",sY:"1.0000000041909516",y:"315",p:"0",sX:"3.759201064793249",w:"40"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"375",p:"0",sX:"5.99627685546875",w:"239.9"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"495",p:"0",sX:"4.0002899169921875",w:"160"},{id:"HidedSpikes",h:"28.3",x:"280",r:"0",sY:"1",y:"110",p:"1",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",
x:"273",r:"0",sY:"1",y:"615",p:"0",sX:"5.0004119873046875",w:"200"},{id:"DestroyFloor",h:"30",x:"473",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"735",p:"0",sX:"9.00054931640625",w:"360"},{id:"Spikes",h:"28.3",x:"133",r:"0",sY:"1",y:"710",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"975",p:"0",sX:"9.005966186523438",w:"360.2"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"495",p:"0",sX:"6.9935150146484375",w:"279.7"},{id:"StaticBlock",
h:"30",x:"320",r:"0",sY:"1",y:"1095",p:"0",sX:"6.0062255859375",w:"240.2"},{id:"MovingPlatform",h:"150.4",x:"140",r:"90",sY:"1.0000000041909516",y:"1035",p:"0",sX:"3.759201064793249",w:"40"},{id:"StaticBlock",h:"30",x:"422",r:"0",sY:"1",y:"855",p:"0",sX:"10.923675537109375",w:"436.9"},{id:"Barrel",h:"40",x:"420",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"40"},{id:"DestroyFloor",h:"30",x:"473",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"Wall",h:"280",x:"615",r:"0",sY:"6.9996795654296875",y:"140",p:"0",
sX:"1",w:"30"},{id:"DestroyFloor",h:"30",x:"538",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"603",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"538",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"603",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"408",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"Feed",h:"25",x:"139",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"179",r:"0",sY:"1",
y:"102",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"399",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"339",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"380",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"279",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",
r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"419",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"299",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"24.2",x:"161",r:"0",sY:"0.969573974609375",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"24.2",x:"121",r:"0",
sY:"0.969573974609375",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"24.2",x:"568",r:"0",sY:"0.969573974609375",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"24.2",x:"528",r:"0",sY:"0.969573974609375",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"620",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"580",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"StaticBlock",
h:"30",x:"360",r:"0",sY:"1",y:"1215",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"Hero",h:"50",x:"340",r:"0",sY:"1",y:"335",p:"0",sX:"1",w:"50"}],11:[{id:"LevelHeight",h:"1479",x:"0",r:"0",sY:"2.0541839599609375",y:"0",p:"8",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"293",x:"359",r:"0",sY:"1.222259521484375",y:"752",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"273.9",x:"359",r:"0",sY:"1.14288330078125",y:"997",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"275.1",x:"359",r:"0",sY:"1.14764404296875",
y:"1237",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",h:"117.1",x:"596",r:"0",sY:"1.097930908203125",y:"95",p:"0",sX:"1.097930908203125",w:"110.15"},{id:"stat_mirror",h:"153.25",x:"593",r:"0",sY:"1",y:"167",p:"0",sX:"1",w:"68.25"},{id:"stat_curtain1",h:"43.25",x:"379",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"288",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"197",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",
h:"43.25",x:"457",r:"0",sY:"1",y:"284",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"117.1",x:"608",r:"0",sY:"1.097930908203125",y:"503",p:"0",sX:"1.097930908203125",w:"110.15"},{id:"stat_badWall1",h:"117.1",x:"120",r:"0",sY:"1.097930908203125",y:"571",p:"0",sX:"1.097930908203125",w:"110.15"},{id:"stat_badWall1",h:"138.8",x:"633",r:"0",sY:"1.300750732421875",y:"914",p:"0",sX:"1.300750732421875",w:"130.55"},{id:"stat_bones",h:"28.15",x:"382",r:"0",sY:"1",y:"589",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",
h:"43.25",x:"473",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"382",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"291",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"458",r:"0",sY:"1",y:"525",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"371",r:"0",sY:"1",y:"525",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",
h:"43.25",x:"388",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"301",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"313",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"119.6",x:"286",r:"0",sY:"1.1210784912109375",y:"304",p:"0",sX:"1.1210784912109375",w:"112.5"},{id:"Torch",h:"73.4",x:"579",r:"0",sY:"1",y:"1198",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"138.8",x:"115",r:"0",sY:"1.300750732421875",y:"1269",p:"0",
sX:"1.300750732421875",w:"130.55"},{id:"stat_curtain1",h:"43.25",x:"421",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"511",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"604",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"139.4",x:"225",r:"0",sY:"1.30645751953125",y:"922",p:"0",sX:"1.30645751953125",w:"131.1"},{id:"stat_curtain1",h:"43.25",x:"588",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"498",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"380",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"180",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"568",r:"0",sY:"1",y:"327",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"140",r:"0",sY:"1",y:"447",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"135",p:"0",sX:"9.004241943359375",w:"360.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"375",p:"0",
sX:"14.009811401367188",w:"560.4"},{id:"StaticBlock",h:"30",x:"533",r:"0",sY:"1",y:"255",p:"0",sX:"7.00128173828125",w:"280.1"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"495",p:"0",sX:"10.99176025390625",w:"439.7"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"735",p:"0",sX:"6.998748779296875",w:"279.9"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"615",p:"0",sX:"11.99566650390625",w:"479.8"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"855",p:"0",sX:"10.00115966796875",w:"400"},
{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"975",p:"0",sX:"7.9996185302734375",w:"320"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"1215",p:"0",sX:"8.016510009765625",w:"320.7"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"1095",p:"0",sX:"6.9954833984375",w:"279.8"},{id:"StaticBlock",h:"30",x:"187",r:"0",sY:"1",y:"255",p:"0",sX:"6.99957275390625",w:"280"},{id:"DestroyFloor",h:"30",x:"360",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"168",r:"0",sY:"1",y:"735",
p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"287",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"40",x:"220",r:"0",sY:"1.0000000041909516",y:"1095",p:"0",sX:"7.001953152948511",w:"280.1"},{id:"DestroyFloor",h:"30",x:"103",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"222",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"157",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"92",r:"0",sY:"1",y:"975",p:"0",sX:"1",
w:"65"},{id:"stat_window",h:"160.45",x:"581",r:"0",sY:"1",y:"753",p:"0",sX:"1",w:"60.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"Barrel",h:"40",x:"420",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"200",r:"0",sY:"1",y:"220",p:"1",sX:"1",w:"40"},{id:"HidedSpikes",
h:"28.3",x:"460",r:"0",sY:"1",y:"590",p:"1",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"399",r:"0",sY:"1",y:"830",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"180",r:"0",sY:"1",y:"1189",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"361",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"401",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"582",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"582",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"582",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"340",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",
y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"240",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"179",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],12:[{id:"LevelHeight",h:"1359.95",x:"0",r:"0",sY:"1.888824462890625",y:"0",p:"25",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"240.9",x:"359",r:"0",sY:"1.0050048828125",y:"103",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_curtain2",h:"111.25",x:"519",r:"0",sY:"1",y:"558",p:"0",sX:"1",
w:"72"},{id:"stat_curtain1",h:"43.25",x:"445",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"585",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"121.1",x:"617",r:"0",sY:"1.13494873046875",y:"633",p:"0",sX:"1.13494873046875",w:"113.85"},{id:"Torch",h:"73.4",x:"120",r:"0",sY:"1",y:"449",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall2",h:"118",x:"409",r:"0",sY:"1.10589599609375",y:"185",p:"0",sX:"1.10589599609375",w:"111"},{id:"stat_badWall1",h:"159.6",
x:"609",r:"0",sY:"1.496246337890625",y:"49",p:"0",sX:"1.496246337890625",w:"150.15"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"225",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"406",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"496",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"285",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"375",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"245",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"335",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"112",r:"0",sY:"1",y:"571",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain3",h:"43.25",x:"497",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"138",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"231",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"316",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"401",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"486",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"150.1",x:"637",r:"0",sY:"1.406280517578125",y:"1103",p:"0",sX:"1.406280517578125",w:"141.1"},{id:"stat_badWall1",h:"150.1",x:"85",r:"0",sY:"1.406280517578125",
y:"1099",p:"0",sX:"1.406280517578125",w:"141.1"},{id:"stat_curtain1",h:"43.25",x:"121",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"209",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"299",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"505",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"595",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"Start",h:"40",x:"278",
r:"0",sY:"1",y:"101",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"399",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"160",r:"0",sY:"1",y:"328",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"500",r:"0",sY:"1",y:"448",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"240",r:"0",sY:"1",y:"687",p:"2",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"360",r:"0",sY:"1",y:"808",p:"2",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"136",p:"0",sX:"12.0179443359375",w:"480.7"},{id:"DestroyFloor",
h:"30",x:"605",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"540",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"475",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"495",p:"0",sX:"11.003921508789063",w:"440.2"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"615",p:"0",sX:"7.0201263427734375",w:"280.8"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"735",p:"0",sX:"10.01043701171875",w:"400.4"},{id:"StaticBlock",
h:"30",x:"360",r:"0",sY:"1",y:"855",p:"0",sX:"10.00006103515625",w:"400"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"976",p:"0",sX:"7.0201263427734375",w:"280.8"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"1096",p:"0",sX:"8.994003295898438",w:"359.8"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"255",p:"0",sX:"9.000640869140625",w:"360"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"375",p:"0",sX:"14.017669677734375",w:"560.7"},{id:"HidedSpikes",h:"28.3",x:"299",r:"0",sY:"1",y:"230",
p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"280",r:"0",sY:"1",y:"591",p:"0",sX:"1",w:"38.55"},{id:"DestroyFloor",h:"30",x:"593",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"127",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"540",r:"0",sY:"1",y:"976",p:"0",sX:"4.993011474609375",w:"199.7"},{id:"HidedSpikes",h:"28.3",x:"462",r:"0",sY:"1",y:"1071",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"180",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"40"},
{id:"Barrel",h:"40",x:"221",r:"0",sY:"1",y:"821",p:"1",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1215",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"121",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"159",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",
y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"238",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"281",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"322",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"241",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"282",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"362",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"740",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"779",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",
r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"479",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"540",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"500",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1061",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1101",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"278",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"},{id:"Torch",h:"73.4",x:"158",r:"0",sY:"1",y:"51",p:"0",sX:"1",w:"24.8"},{id:"Skeleton",h:"40",x:"221",r:"0",sY:"1",y:"941",p:"0",sX:"6.2265625",w:"249.1"}],13:[{id:"LevelHeight",h:"1599.75",x:"0",r:"0",sY:"2.2219085693359375",
y:"0",p:"16",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",
p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"258",x:"359",r:"0",sY:"1.076446533203125",y:"1364",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_mirror",h:"153.25",x:"601",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"68.25"},{id:"stat_window",h:"160.45",x:"159",r:"0",sY:"1",y:"248",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall2",h:"106.7",x:"559",r:"0",sY:"1",y:"378",p:"0",sX:"1",w:"100.35"},
{id:"stat_badWall2",h:"106.7",x:"92",r:"0",sY:"1",y:"588",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"552",r:"0",sY:"1",y:"944",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"114",r:"0",sY:"1",y:"1019",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"557",r:"0",sY:"1",y:"1253",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain2",h:"111.25",x:"583",r:"0",sY:"1",y:"559",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"522",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"441",r:"0",sY:"1",y:"520",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"221",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"294",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"201",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"109",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"508",r:"0",sY:"1",y:"283",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"309",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"228",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"390",r:"0",sY:"1",y:"644",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"213",r:"0",sY:"1",y:"881",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"383",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"301",r:"0",sY:"1",y:"1119",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"215",r:"0",sY:"1",y:"1119",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"307",r:"0",sY:"1",y:"463",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"302",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"377",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"481",r:"0",sY:"1",y:"887",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"561",r:"0",sY:"1",y:"887",p:"0",sX:"1",w:"110.35"},
{id:"Skeleton",h:"40",x:"458",r:"0",sY:"1",y:"460",p:"0",sX:"8.27874755859375",w:"331.1"},{id:"Finish",h:"40",x:"544",r:"0",sY:"1",y:"1419",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"179",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"135",p:"0",sX:"7.00457763671875",w:"280.2"},{id:"DestroyFloor",h:"30",x:"393",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"256",p:"0",sX:"9.009674072265625",w:"360.4"},{id:"StaticBlock",
h:"30",x:"300",r:"0",sY:"1",y:"375",p:"0",sX:"7.00457763671875",w:"280.2"},{id:"DestroyFloor",h:"30",x:"128",r:"0",sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"495",p:"0",sX:"8.998092651367188",w:"359.9"},{id:"StaticBlock",h:"30",x:"120",r:"0",sY:"1",y:"495",p:"0",sX:"2.0017547607421875",w:"80.1"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"615",p:"0",sX:"8.001449584960938",w:"320.1"},{id:"StaticBlock",h:"30",x:"183",r:"0",sY:"1",y:"855",p:"0",sX:"4.998291015625",
w:"199.9"},{id:"StaticBlock",h:"30",x:"517",r:"0",sY:"1",y:"855",p:"0",sX:"5.99237060546875",w:"239.7"},{id:"MovingPlatform",h:"150",x:"340",r:"90",sY:"1.0000000041909516",y:"795",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"181",r:"0",sY:"1",y:"735",p:"0",sX:"4.96270751953125",w:"198.5"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"975",p:"0",sX:"5.9942474365234375",w:"239.8"},{id:"DestroyFloor",h:"30",x:"247",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",
x:"552",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"420",r:"90",sY:"1.0000000041909516",y:"1155",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"1095",p:"0",sX:"7.0036468505859375",w:"280.1"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",y:"1095",p:"0",sX:"4.0094451904296875",w:"160.4"},{id:"DestroyFloor",h:"30",x:"326",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"120",r:"0",sY:"1",y:"1336",p:"0",sX:"2.00006103515625",
w:"80"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"1336",p:"0",sX:"7.0052490234375",w:"280.2"},{id:"StaticBlock",h:"30",x:"560",r:"0",sY:"1",y:"1215",p:"0",sX:"4.0094451904296875",w:"160.4"},{id:"DestroyFloor",h:"30",x:"458",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"523",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"182",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"117",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},
{id:"DestroyFloor",h:"30",x:"617",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"261",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"196",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"131",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"588",r:"0",sY:"1",y:"135",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1455",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",
x:"221",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"Spikes",h:"28.3",x:"120",r:"0",sY:"1",y:"470",p:"0",sX:"1",w:"38.55"},{id:"Spikes",h:"28.3",x:"136",r:"0",sY:"1",y:"1311",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"380",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"394",r:"0",sY:"1",y:"1419",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"300",r:"0",sY:"1",y:"231",p:"0",sX:"1",w:"38.55"},
{id:"Feed",h:"25",x:"505",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"545",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"585",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",
r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"679",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"720",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"259",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"542",r:"0",sY:"1",y:"1060",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"581",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"127",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"167",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"280",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",
sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"580",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"620",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"181",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],14:[{id:"LevelHeight",h:"1359.95",x:"0",r:"0",sY:"1.888824462890625",
y:"0",p:"25",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",
x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"240.9",x:"359",r:"0",sY:"1.0050048828125",y:"103",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",h:"129.1",x:"367",r:"0",sY:"1.21026611328125",y:"33",p:"0",sX:"1.21026611328125",w:"121.45"},{id:"stat_badWall1",h:"129.1",x:"119",r:"0",sY:"1.21026611328125",y:"445",p:"0",sX:"1.21026611328125",w:"121.45"},{id:"stat_curtain1",h:"43.25",x:"457",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"226",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_window",h:"160.45",x:"145",r:"0",sY:"1",y:"600",p:"0",sX:"1",w:"60.2"},{id:"stat_curtain1",h:"43.25",x:"428",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"513",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"597",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"408",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"492",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"317",r:"0",sY:"1",y:"765",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"228",r:"0",sY:"1",y:"885",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"303",r:"0",sY:"1",y:"885",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"115",r:"0",sY:"1",y:"795",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"608",r:"0",sY:"1",y:"933",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",
h:"43.25",x:"508",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"592",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"386",r:"0",sY:"1",y:"402",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"296",r:"0",sY:"1",y:"402",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"480",r:"0",sY:"1",y:"402",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"321",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"240",r:"0",
sY:"1",y:"340",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"519",r:"0",sY:"1",y:"1167",p:"2",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"222",r:"0",sY:"1",y:"1047",p:"2",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"480",r:"0",sY:"1",y:"328",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"320",r:"0",sY:"1",y:"208",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"495",p:"0",sX:"12.007171630859375",w:"480.3"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"615",p:"0",sX:"7.009063720703125",
w:"280.4"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"735",p:"0",sX:"10.01043701171875",w:"400.4"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"855",p:"0",sX:"5.000030517578125",w:"200"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"976",p:"0",sX:"7.0201263427734375",w:"280.8"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1096",p:"0",sX:"9.99835205078125",w:"399.9"},{id:"StaticBlock",h:"30",x:"540",r:"0",sY:"1",y:"976",p:"0",sX:"4.993011474609375",w:"199.7"},{id:"StaticBlock",h:"30",
x:"340",r:"0",sY:"1",y:"136",p:"0",sX:"8.99188232421875",w:"359.7"},{id:"MovingPlatform",h:"150",x:"580",r:"-90",sY:"1.0000000041909516",y:"195",p:"0",sX:"3.749816909557321",w:"40"},{id:"Wall",h:"120",x:"175",r:"0",sY:"3",y:"316",p:"0",sX:"1",w:"30"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"255",p:"0",sX:"9.009185791015625",w:"360.4"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"375",p:"0",sX:"12.002578735351563",w:"480.1"},{id:"HidedSpikes",h:"28.3",x:"281",r:"0",sY:"1",y:"470",p:"0",
sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"519",r:"0",sY:"1",y:"470",p:"1",sX:"1",w:"38.55"},{id:"Spikes",h:"28.3",x:"182",r:"0",sY:"1",y:"710",p:"0",sX:"1",w:"38.55"},{id:"MovingPlatform",h:"40",x:"500",r:"0",sY:"1.0000000041909516",y:"855",p:"0",sX:"7.001953152948511",w:"280.1"},{id:"HidedSpikes",h:"28.3",x:"340",r:"0",sY:"1",y:"951",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1215",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",
sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"321",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"283",r:"0",sY:"1",
y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"324",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"461",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"221",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"280",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"321",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"360",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"401",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"104",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"104",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"104",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"104",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"221",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"337",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"377",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"417",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"457",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"223",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"263",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Barrel",h:"40",x:"379",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"40"},{id:"Hero",h:"50",x:"240",r:"0",sY:"1",y:"335",
p:"1",sX:"1",w:"50"}],15:[{id:"LevelHeight",h:"1479.8",x:"0",r:"0",sY:"2.0552978515625",y:"0",p:"19",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"253.5",x:"359",r:"0",sY:"1.057373046875",y:"526",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"288.8",x:"359",r:"0",sY:"1.205047607421875",
y:"759",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"278.6",x:"359",r:"0",sY:"1.16217041015625",y:"1005",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"268.3",x:"359",r:"0",sY:"1.1193084716796875",y:"1238",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_bones",h:"28.15",x:"507",r:"0",sY:"1",y:"348",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"311",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"399",r:"0",sY:"1",
y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"488",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"159",r:"0",sY:"1",y:"82",p:"0",sX:"1",w:"24.8"},{id:"stat_curtain1",h:"43.25",x:"548",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"458",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"121",r:"0",sY:"1",y:"346",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"81",r:"0",sY:"1",y:"147",p:"0",
sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"523",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"523",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"311",r:"0",sY:"1",y:"523",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"582",r:"0",sY:"1",y:"643",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"492",r:"0",sY:"1",y:"643",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"194",r:"0",sY:"1",y:"653",p:"0",
sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"527",r:"0",sY:"1",y:"1038",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"114.8",x:"125",r:"0",sY:"1.0759124755859375",y:"1016",p:"0",sX:"1.0759124755859375",w:"107.95"},{id:"stat_curtain1",h:"43.25",x:"125",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"213",r:"0",sY:"1",y:"766",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"135.9",x:"636",r:"0",sY:"1.2735443115234375",y:"1292",p:"0",sX:"1.2735443115234375",w:"127.8"},
{id:"stat_curtain1",h:"43.25",x:"458",r:"0",sY:"1",y:"1244",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"367",r:"0",sY:"1",y:"1244",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"356",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"265",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"200",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"441",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",
x:"263",r:"0",sY:"1",y:"1168",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"361",r:"0",sY:"1",y:"928",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"135",p:"0",sX:"9.988311767578125",w:"399.5"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"856",p:"0",sX:"8.0048828125",w:"320.2"},{id:"StaticBlock",h:"30",x:"520",r:"0",sY:"1",y:"255",p:"0",sX:"6.00079345703125",w:"240"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"976",p:"0",sX:"8.0048828125",w:"320.2"},{id:"StaticBlock",
h:"30",x:"300",r:"0",sY:"1",y:"1216",p:"0",sX:"11.0001220703125",w:"440"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"1096",p:"0",sX:"11.0001220703125",w:"440"},{id:"MovingPlatform",h:"150",x:"580",r:"-90",sY:"1.0000000041909516",y:"916",p:"0",sX:"3.749816909557321",w:"40"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"916",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"167",r:"0",sY:"1",y:"735",p:"0",sX:"5.999755859375",w:"240"},{id:"StaticBlock",h:"30",
x:"420",r:"0",sY:"1",y:"615",p:"0",sX:"10.99261474609375",w:"439.7"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"495",p:"0",sX:"8.99267578125",w:"359.7"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"375",p:"0",sX:"10.012252807617188",w:"400.5"},{id:"StaticBlock",h:"30",x:"513",r:"0",sY:"1",y:"735",p:"0",sX:"8.000289916992188",w:"320"},{id:"DestroyFloor",h:"30",x:"473",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"40",x:"240",r:"0",sY:"1",y:"255",p:"0",sX:"8.0155029296875",
w:"320.6"},{id:"DestroyFloor",h:"30",x:"320",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"538",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"603",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},
{id:"HidedSpikes",h:"28.3",x:"496",r:"0",sY:"1",y:"1071",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"520",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"440",r:"0",sY:"1",y:"350",p:"1",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"410",r:"0",sY:"1",y:"590",p:"1",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"220",r:"0",sY:"1",y:"582",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"260",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"540",r:"0",sY:"1",y:"701",p:"1",
sX:"1",w:"40"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"340",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"376",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"416",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"456",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"581",r:"0",sY:"1",y:"99",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"579",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"299",r:"0",sY:"1",
y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"157",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"117",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"499",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"402",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"362",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"322",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"282",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"442",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"558",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",
r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"439",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],16:[{id:"LevelHeight",h:"1478.3",x:"0",r:"0",sY:"2.05316162109375",y:"0",p:"5",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"261.1",x:"359",r:"0",sY:"1.08929443359375",y:"1365",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_curtain1",h:"43.25",x:"222",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"504",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"519",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"123",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"211",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"610",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},
{id:"stat_badWall1",h:"125.3",x:"96",r:"0",sY:"1.173858642578125",y:"133",p:"0",sX:"1.173858642578125",w:"117.8"},{id:"stat_badWall1",h:"125.3",x:"637",r:"0",sY:"1.173858642578125",y:"447",p:"0",sX:"1.173858642578125",w:"117.8"},{id:"stat_badWall2",h:"134.45",x:"239",r:"0",sY:"1.26007080078125",y:"773",p:"0",sX:"1.26007080078125",w:"126.45"},{id:"stat_curtain1",h:"43.25",x:"385",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"473",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"561",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"802",r:"0",sY:"1",y:"1099",p:"0",sX:"1",w:"100.35"},{id:"stat_window",h:"160.45",x:"519",r:"0",sY:"1",y:"1081",p:"0",sX:"1",w:"60.2"},{id:"stat_curtain1",h:"43.25",x:"267",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"355",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},
{id:"stat_badWall1",h:"146.1",x:"628",r:"0",sY:"1.36956787109375",y:"947",p:"0",sX:"1.36956787109375",w:"137.45"},{id:"stat_curtain1",h:"43.25",x:"255",r:"0",sY:"1",y:"1123",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"167",r:"0",sY:"1",y:"1123",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"79",r:"0",sY:"1",y:"1123",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"125.3",x:"86",r:"0",sY:"1.173858642578125",y:"663",p:"0",sX:"1.173858642578125",w:"117.8"},{id:"Finish",h:"40",
x:"518",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"440",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"279",r:"0",sY:"1",y:"88",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"420",r:"0",sY:"1",y:"447",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"135",p:"0",sX:"10.003555297851563",w:"400.1"},{id:"StaticBlock",h:"30",x:"543",r:"0",sY:"1",y:"255",p:"0",sX:"4.86480712890625",w:"194.6"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"495",
p:"0",sX:"8.01873779296875",w:"320.7"},{id:"StaticBlock",h:"30",x:"481",r:"0",sY:"1",y:"735",p:"0",sX:"7.9967041015625",w:"319.9"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"615",p:"0",sX:"2.99627685546875",w:"119.9"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"855",p:"0",sX:"6.0005950927734375",w:"240"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"975",p:"0",sX:"5.996429443359375",w:"239.9"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"1215",p:"0",sX:"11.99981689453125",w:"480"},
{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"1095",p:"0",sX:"6.0061492919921875",w:"240.2"},{id:"StaticBlock",h:"30",x:"177",r:"0",sY:"1",y:"255",p:"0",sX:"4.866851806640625",w:"194.7"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"375",p:"0",sX:"9.999496459960938",w:"400"},{id:"StaticBlock",h:"30",x:"140",r:"0",sY:"1",y:"495",p:"0",sX:"3.0005950927734375",w:"120"},{id:"MovingPlatform",h:"40",x:"240",r:"180",sY:"1",y:"615",p:"0",sX:"7.99749755859375",w:"319.9"},{id:"DestroyFloor",h:"30",x:"473",
r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"140",r:"-90",sY:"1.0000000041909516",y:"915",p:"0",sX:"3.749816909557321",w:"40"},{id:"MovingPlatform",h:"150",x:"140",r:"-90",sY:"1.0000000041909516",y:"915",p:"0",sX:"3.749816909557321",w:"40"},{id:"DestroyFloor",h:"30",x:"472",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"Wall",h:"480.4",x:"360",r:"0",sY:"12.009902954101563",y:"240",p:"0",sX:"1",w:"30"},{id:"DestroyFloor",h:"30",x:"538",r:"0",sY:"1",y:"855",p:"0",sX:"1",
w:"65"},{id:"DestroyFloor",h:"30",x:"603",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"537",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"602",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"HidedSpikes",
h:"28.3",x:"461",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"180",r:"0",sY:"1",y:"350",p:"1",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"340",r:"0",sY:"1",y:"940",p:"1",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"218",r:"0",sY:"1",y:"1310",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"425",r:"0",sY:"1",y:"1310",p:"1",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"359",r:"0",sY:"1",y:"1300",p:"1",sX:"1",w:"40"},{id:"Skeleton",h:"40",x:"402",r:"0",sY:"1",y:"1179",p:"0",
sX:"11.1612548828125",w:"446.5"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"540",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"101",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"181",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"700",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"219",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"259",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"299",r:"0",sY:"1",y:"1060",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"521",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"561",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"440",r:"0",sY:"1",
y:"95",p:"1",sX:"1",w:"50"}],17:[{id:"LevelHeight",h:"1478.65",x:"0",r:"0",sY:"2.0537109375",y:"0",p:"18",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"259.9",x:"359",r:"0",sY:"1.08428955078125",y:"1365",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall1",h:"136.6",x:"593",r:"0",sY:"1.28021240234375",y:"521",p:"0",sX:"1.28021240234375",w:"128.45"},{id:"stat_curtain1",h:"43.25",x:"494",r:"0",sY:"1",
y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"406",r:"0",sY:"1",y:"165",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"455",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"367",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"278",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"136.6",x:"83",r:"0",sY:"1.28021240234375",y:"630",p:"0",sX:"1.28021240234375",w:"128.45"},{id:"stat_mirror",h:"153.25",
x:"594",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"68.25"},{id:"stat_badWall1",h:"136.6",x:"656",r:"0",sY:"1.28021240234375",y:"781",p:"0",sX:"1.28021240234375",w:"128.45"},{id:"stat_curtain1",h:"43.25",x:"266",r:"0",sY:"1",y:"522",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"355",r:"0",sY:"1",y:"521",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"103",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"192",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},
{id:"stat_badWall1",h:"136.6",x:"108",r:"0",sY:"1.28021240234375",y:"1168",p:"0",sX:"1.28021240234375",w:"128.45"},{id:"stat_bones",h:"28.15",x:"177",r:"0",sY:"1",y:"1308",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain2",h:"111.25",x:"531",r:"0",sY:"1",y:"1151",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"595",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"272",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"383",r:"0",sY:"1",y:"1147",
p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"360",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"448",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"382",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"262",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"533",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"152.8",x:"86",r:"0",sY:"1.4319915771484375",
y:"236",p:"0",sX:"1.4319915771484375",w:"143.7"},{id:"Finish",h:"40",x:"560",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"341",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"281",r:"0",sY:"1",y:"207",p:"1",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"380",r:"0",sY:"1",y:"87",p:"1",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"320",r:"0",sY:"1",y:"687",p:"2",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"301",r:"0",sY:"1",y:"807",p:"2",sX:"1",w:"55"},{id:"StaticBlock",h:"30",
x:"360",r:"0",sY:"1",y:"135",p:"0",sX:"9.98980712890625",w:"399.6"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"375",p:"0",sX:"7.99725341796875",w:"319.9"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"255",p:"0",sX:"11.004638671875",w:"440.2"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"495",p:"0",sX:"6.0042724609375",w:"240.2"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"735",p:"0",sX:"10.00115966796875",w:"400"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"615",p:"0",sX:"8.9847412109375",
w:"359.4"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"855",p:"0",sX:"5.988616943359375",w:"239.5"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"975",p:"0",sX:"11.002410888671875",w:"440.1"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"1215",p:"0",sX:"2.9996795654296875",w:"120"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"1095",p:"0",sX:"5.00244140625",w:"200.1"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"435",p:"0",sX:"3.749816909557321",w:"40"},{id:"MovingPlatform",
h:"150",x:"580",r:"-90",sY:"1.0000000041909516",y:"315",p:"0",sX:"3.749816909557321",w:"40"},{id:"DestroyFloor",h:"30",x:"552",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"915",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"576",r:"0",sY:"1",y:"1095",p:"0",sX:"4.9999237060546875",w:"200"},{id:"DestroyFloor",h:"30",x:"313",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"312",r:"0",sY:"1",y:"1215",
p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"617",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"378",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"443",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"377",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"442",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},
{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"HidedSpikes",h:"28.3",x:"120",r:"0",sY:"1",y:"230",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"180",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"260",r:"0",sY:"1",y:"940",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"300",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"520",r:"0",sY:"1",
y:"1070",p:"0",sX:"1",w:"38.55"},{id:"Spikes",h:"28.3",x:"180",r:"0",sY:"1",y:"1190",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"245",r:"0",sY:"1",y:"1310",p:"1",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"120",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"160",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"440",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"480",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",
y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"760",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",
r:"0",sY:"1",y:"800",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"840",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"291",r:"0",sY:"1",y:"1301",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"331",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"371",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"411",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"559",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"340",r:"0",sY:"1",y:"456",p:"0",sX:"1",w:"50"}],18:[{id:"LevelHeight",h:"1600",x:"0",r:"0",sY:"2.2222137451171875",
y:"0",p:"20",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",
p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1356",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1561",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_curtain2",h:"111.25",x:"200",r:"0",sY:"1",y:"311",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"269",r:"0",sY:"1",y:"285",p:"0",sX:"1",
w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"367",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"448",r:"0",sY:"1",y:"311",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"309",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"397",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_window",h:"160.45",x:"579",r:"0",sY:"1",y:"296",p:"0",sX:"1",w:"60.2"},{id:"stat_curtain1",h:"43.25",x:"123",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"211",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"487",r:"0",sY:"1",y:"649",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"585",r:"0",sY:"1",y:"649",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"122",x:"107",r:"0",sY:"1.14385986328125",y:"809",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_badWall1",h:"122",x:"624",r:"0",sY:"1.14385986328125",y:"569",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_badWall1",h:"141.9",
x:"80",r:"0",sY:"1.329833984375",y:"151",p:"0",sX:"1.329833984375",w:"133.45"},{id:"stat_curtain1",h:"43.25",x:"130",r:"0",sY:"1",y:"763",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"220",r:"0",sY:"1",y:"763",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"313",r:"0",sY:"1",y:"762",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"122",x:"102",r:"0",sY:"1.14385986328125",y:"604",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_curtain1",h:"43.25",x:"460",r:"0",sY:"1",y:"1007",
p:"0",sX:"1",w:"110.35"},{id:"stat_window",h:"160.45",x:"519",r:"0",sY:"1",y:"1211",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall1",h:"122",x:"102",r:"0",sY:"1.14385986328125",y:"1349",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_badWall1",h:"122",x:"641",r:"0",sY:"1.14385986328125",y:"1179",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"1364",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"314",r:"0",sY:"1",y:"1364",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"131",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"221",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"365",r:"0",sY:"1",y:"1009",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"592",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"Finish",h:"40",x:"481",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"40"},{id:"Start",h:"40",x:"460",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",
x:"239",r:"0",sY:"1",y:"687",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"200",r:"0",sY:"1",y:"1047",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"135",p:"0",sX:"10.001724243164063",w:"400.1"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"495",p:"0",sX:"4.994873046875",w:"199.8"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"735",p:"0",sX:"9.009796142578125",w:"360.4"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"615",p:"0",sX:"11.01007080078125",w:"440.4"},{id:"StaticBlock",
h:"30",x:"340",r:"0",sY:"1",y:"975",p:"0",sX:"8.998153686523438",w:"359.9"},{id:"StaticBlock",h:"30",x:"240",r:"0",sY:"1",y:"1215",p:"0",sX:"4.0075531005859375",w:"160.3"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"1095",p:"0",sX:"5.9991455078125",w:"240"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"0",sX:"9.99871826171875",w:"399.9"},{id:"MovingPlatform",h:"150",x:"340",r:"90",sY:"1.0000000041909516",y:"435",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"320",
r:"0",sY:"1",y:"255",p:"0",sX:"7.990203857421875",w:"319.6"},{id:"MovingPlatform",h:"40",x:"380",r:"0",sY:"1.0000000041909516",y:"855",p:"0",sX:"6.999374417607245",w:"280"},{id:"MovingPlatform",h:"150",x:"380",r:"-90",sY:"1.0000000041909516",y:"1155",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"1095",p:"0",sX:"1.9989471435546875",w:"80"},{id:"DestroyFloor",h:"30",x:"593",r:"0",sY:"1",y:"1335",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"127",r:"0",sY:"1",
y:"1335",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"480",r:"0",sY:"1",y:"495",p:"0",sX:"4.0033416748046875",w:"160.1"},{id:"MovingPlatform",h:"150",x:"580",r:"90",sY:"1.0000000041909516",y:"1035",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"855",p:"0",sX:"1.999725341796875",w:"80"},{id:"StaticBlock",h:"30",x:"580",r:"0",sY:"1",y:"855",p:"0",sX:"2.99957275390625",w:"120"},{id:"DestroyFloor",h:"30",x:"473",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",
h:"30",x:"538",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"603",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1455",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"Barrel",h:"40",x:"281",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"321",r:"0",sY:"1",
y:"100",p:"0",sX:"1",w:"40"},{id:"Spikes",h:"28.3",x:"612",r:"0",sY:"1",y:"110",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"183",r:"0",sY:"1",y:"950",p:"1",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"396",r:"0",sY:"1",y:"950",p:"1",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"360",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"400",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"537",r:"0",sY:"1",y:"458",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"119",r:"0",sY:"1",
y:"240",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"119",r:"0",sY:"1",y:"280",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"199",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"301",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"341",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"840",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"880",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"561",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"700",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"179",r:"0",sY:"1",y:"1179",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"219",
r:"0",sY:"1",y:"1179",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"258",r:"0",sY:"1",y:"1179",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1299",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"1299",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"1419",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"1419",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"259",r:"0",sY:"1",y:"1419",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"1300",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"301",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"340",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"230",r:"0",sY:"1",y:"942",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"270",r:"0",sY:"1",y:"942",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"309",r:"0",sY:"1",y:"942",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"350",r:"0",sY:"1",y:"942",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"460",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"},{id:"Skeleton",h:"40",x:"361",r:"0",sY:"1",y:"1300",p:"0",sX:"9.30999755859375",w:"372.4"}],19:[{id:"LevelHeight",
h:"1359.7",x:"0",r:"0",sY:"1.8884735107421875",y:"0",p:"14",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall2",h:"125.3",x:"563",r:"0",sY:"1.17431640625",y:"98",p:"0",sX:"1.17431640625",w:"117.85"},{id:"stat_bones",h:"28.15",x:"246",r:"0",sY:"1",y:"231",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"498",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"410",r:"0",sY:"1",
y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"321",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"233",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"91",r:"0",sY:"1",y:"403",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"585",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"497",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"408",r:"0",sY:"1",
y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"628",r:"0",sY:"1",y:"538",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"141.5",x:"129",r:"0",sY:"1.32568359375",y:"711",p:"0",sX:"1.32568359375",w:"133.05"},{id:"stat_curtain1",h:"43.25",x:"301",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"221",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"587",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"507",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"584",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"496",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",h:"28.15",x:"572",r:"0",sY:"1",y:"1190",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall2",h:"106.7",x:"141",r:"0",sY:"1",y:"1037",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"106.7",x:"622",r:"0",sY:"1",y:"931",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",
x:"385",r:"0",sY:"1",y:"18",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"297",r:"0",sY:"1",y:"18",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"207",r:"0",sY:"1",y:"18",p:"0",sX:"1",w:"110.35"},{id:"Start",h:"40",x:"204",r:"0",sY:"1",y:"100",p:"1",sX:"1",w:"40"},{id:"Finish",h:"40",x:"161",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"260",r:"0",sY:"1",y:"568",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"360",r:"0",sY:"1",y:"807",p:"0",sX:"1",w:"55"},
{id:"Wall",h:"119.4",x:"335",r:"0",sY:"2.98468017578125",y:"208",p:"0",sX:"1",w:"30"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"136",p:"0",sX:"9.010604858398438",w:"360.4"},{id:"StaticBlock",h:"30",x:"319",r:"0",sY:"1",y:"256",p:"0",sX:"12.018356323242188",w:"480.7"},{id:"StaticBlock",h:"30",x:"399",r:"0",sY:"1",y:"376",p:"0",sX:"12.018356323242188",w:"480.7"},{id:"HidedSpikes",h:"28.3",x:"200",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"495",
p:"0",sX:"12.018356323242188",w:"480.7"},{id:"Barrel",h:"40",x:"239",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"540",r:"0",sY:"1",y:"615",p:"0",sX:"5.005126953125",w:"200.2"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"615",p:"0",sX:"5.0036468505859375",w:"200.1"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"735",p:"0",sX:"4.990142822265625",w:"199.6"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"855",p:"0",sX:"11.02447509765625",w:"441"},{id:"DestroyFloor",
h:"30",x:"471",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"546",r:"0",sY:"1",y:"975",p:"0",sX:"5.9990234375",w:"240"},{id:"DestroyFloor",h:"30",x:"393",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"975",p:"0",sX:"6.99957275390625",w:"280"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"1095",p:"0",sX:"8.98907470703125",w:"359.6"},{id:"Spikes",h:"28.3",x:"240",r:"0",sY:"1",y:"1070",p:"0",sX:"1",w:"38.55"},{id:"DestroyFloor",h:"30",
x:"536",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"601",r:"0",sY:"1",y:"735",p:"0",sX:"1",w:"65"},{id:"SawR",h:"40",x:"400",r:"0",sY:"1",y:"480",p:"0",sX:"5.99749755859375",w:"239.9"},{id:"Saw",h:"40",x:"221",r:"0",sY:"1",y:"960",p:"0",sX:"5.9997406005859375",w:"240"},{id:"Saw",h:"40",x:"195",r:"0",sY:"1",y:"240",p:"0",sX:"5.00872802734375",w:"200.3"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1215",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",
x:"221",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1293",p:"0",sX:"1",w:"280.9"},{id:"HidedSpikes",h:"28.3",x:"500",r:"0",sY:"1",y:"1189",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"382",r:"0",sY:"1",y:"1189",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"342",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"418",r:"0",sY:"1",y:"462",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"498",r:"0",sY:"1",y:"462",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"458",r:"0",sY:"1",y:"462",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",
r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"559",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"600",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"640",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"680",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"720",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"760",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"720",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"760",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"255",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"335",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"215",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"295",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"319",r:"0",sY:"1",y:"1064",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"279",r:"0",sY:"1",y:"1064",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"462",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"422",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"205",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}],20:[{id:"LevelHeight",h:"1600.6",x:"0",r:"0",sY:"2.2230224609375",y:"0",p:"23",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",
r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"258",
x:"359",r:"0",sY:"1.076446533203125",y:"1364",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"Skeleton",h:"40",x:"362",r:"0",sY:"1",y:"1300",p:"0",sX:"9.30999755859375",w:"372.4"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1455",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"stat_window",h:"160.45",x:"160",r:"0",sY:"1",y:"101",p:"0",
sX:"1",w:"60.2"},{id:"stat_badWall1",h:"124.2",x:"117",r:"0",sY:"1.163543701171875",y:"295",p:"0",sX:"1.163543701171875",w:"116.75"},{id:"stat_bones",h:"28.15",x:"589",r:"0",sY:"1",y:"229",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"348",r:"0",sY:"1",y:"167",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"436",r:"0",sY:"1",y:"167",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"228",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"316",
r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"412",r:"0",sY:"1",y:"287",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"222",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"406",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"494",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"500",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"316",
r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"126",r:"0",sY:"1",y:"407",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"264",r:"0",sY:"1",y:"527",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"448",r:"0",sY:"1",y:"527",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"359",r:"0",sY:"1",y:"527",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"582",r:"0",sY:"1",y:"596",p:"0",sX:"1",w:"24.8"},{id:"Torch",h:"73.4",x:"238",r:"0",sY:"1",y:"828",
p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"106.7",x:"105",r:"0",sY:"1",y:"531",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"133.65",x:"162",r:"0",sY:"1.2526092529296875",y:"857",p:"0",sX:"1.2526092529296875",w:"125.7"},{id:"stat_curtain1",h:"43.25",x:"384",r:"0",sY:"1",y:"640",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"288",r:"0",sY:"1",y:"640",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"503",r:"0",sY:"1",y:"887",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"423",r:"0",sY:"1",y:"887",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"135.1",x:"625",r:"0",sY:"1.26605224609375",y:"1119",p:"0",sX:"1.26605224609375",w:"127.05"},{id:"stat_curtain1",h:"43.25",x:"495",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"407",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"311",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},
{id:"stat_badWall1",h:"135.1",x:"122",r:"0",sY:"1.26605224609375",y:"1222",p:"0",sX:"1.26605224609375",w:"127.05"},{id:"stat_curtain1",h:"43.25",x:"507",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"419",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"398",r:"0",sY:"1",y:"1246",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"302",r:"0",sY:"1",y:"1246",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"135.1",x:"658",r:"0",sY:"1.26605224609375",
y:"1418",p:"0",sX:"1.26605224609375",w:"127.05"},{id:"stat_curtain3",h:"43.25",x:"489",r:"0",sY:"1",y:"1247",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"328",r:"0",sY:"1",y:"18",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"416",r:"0",sY:"1",y:"18",p:"0",sX:"1",w:"110.35"},{id:"Start",h:"40",x:"503",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"240",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"420",r:"0",sY:"1",y:"807",p:"0",sX:"1",
w:"55"},{id:"Teleport",h:"65",x:"240",r:"0",sY:"1",y:"1048",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"375",p:"0",sX:"12.012832641601563",w:"480.5"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"136",p:"0",sX:"8.994140625",w:"359.8"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"255",p:"0",sX:"11.985153198242188",w:"479.4"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"495",p:"0",sX:"11.016983032226563",w:"440.7"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"615",
p:"0",sX:"6.99639892578125",w:"279.9"},{id:"HidedSpikes",h:"28.3",x:"340",r:"0",sY:"1",y:"590",p:"1",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"735",p:"0",sX:"9.001144409179688",w:"360"},{id:"MovingPlatform",h:"150",x:"140",r:"-90",sY:"1.0000000041909516",y:"675",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"855",p:"0",sX:"5.00054931640625",w:"200"},{id:"StaticBlock",h:"30",x:"235",r:"0",sY:"1",y:"975",p:"0",sX:"3.000335693359375",w:"120"},
{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"975",p:"0",sX:"6.9989013671875",w:"280"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"1095",p:"0",sX:"12.007461547851563",w:"480.3"},{id:"DestroyFloor",h:"30",x:"593",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"327",r:"0",sY:"1",y:"975",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"1216",p:"0",sX:"9.981231689453125",w:"399.2"},{id:"Barrel",h:"40",x:"281",r:"0",sY:"1",y:"1181",p:"1",sX:"1",w:"40"},
{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"0",sX:"9.981231689453125",w:"399.2"},{id:"Barrel",h:"40",x:"321",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"360",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"40"},{id:"Saw",h:"40",x:"460",r:"0",sY:"1",y:"240",p:"0",sX:"7.016387939453125",w:"280.7"},{id:"SawL",h:"40",x:"420",r:"0",sY:"1",y:"480",p:"0",sX:"8.99957275390625",w:"360"},{id:"Saw",h:"40",x:"378",r:"0",sY:"1",y:"720",p:"0",sX:"7.9874114990234375",w:"319.5"},{id:"SawL",
h:"40",x:"480",r:"0",sY:"1",y:"1440",p:"0",sX:"5.97747802734375",w:"239.1"},{id:"Feed",h:"25",x:"372",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"412",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"452",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"359",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"399",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"240",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"221",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"461",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"500",r:"0",sY:"1",y:"702",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"213",r:"0",sY:"1",y:"939",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"252",r:"0",sY:"1",y:"939",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"478",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"517",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"816",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"461",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"500",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"539",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"720",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"759",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"1422",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",
sY:"1",y:"1422",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"479",r:"0",sY:"1",y:"1422",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1302",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"1302",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1302",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"502",r:"0",sY:"1",y:"96",p:"0",sX:"1",w:"50"}],21:[{id:"LevelHeight",h:"1441.3",x:"0",r:"0",sY:"2.0018157958984375",y:"0",p:"15",sX:"1.5",w:"720"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.5",x:"359",r:"0",sY:"1.02001953125",y:"731",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1147",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1355",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"Torch",h:"73.4",x:"139",r:"0",sY:"1",y:"79",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"122",x:"129",r:"0",sY:"1.14385986328125",y:"201",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_curtain2",h:"111.25",x:"197",r:"0",sY:"1",y:"413",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",
x:"124",r:"0",sY:"1",y:"387",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"266",r:"0",sY:"1",y:"387",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"463",r:"0",sY:"1",y:"387",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"278",r:"0",sY:"1",y:"266",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"462",r:"0",sY:"1",y:"266",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"122",x:"627",r:"0",sY:"1.14385986328125",y:"59",p:"0",sX:"1.14385986328125",w:"114.75"},
{id:"stat_curtain1",h:"43.25",x:"384",r:"0",sY:"1",y:"504",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"472",r:"0",sY:"1",y:"504",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"503",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"407",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"317",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"122",x:"627",r:"0",sY:"1.14385986328125",y:"963",p:"0",sX:"1.14385986328125",
w:"114.75"},{id:"stat_badWall1",h:"122",x:"115",r:"0",sY:"1.14385986328125",y:"904",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_badWall1",h:"122",x:"104",r:"0",sY:"1.14385986328125",y:"1206",p:"0",sX:"1.14385986328125",w:"114.75"},{id:"stat_curtain1",h:"43.25",x:"391",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"303",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"460",r:"0",sY:"1",y:"987",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"364",r:"0",sY:"1",y:"987",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"271",r:"0",sY:"1",y:"987",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"175",r:"0",sY:"1",y:"987",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",h:"28.15",x:"153",r:"0",sY:"1",y:"1298",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"265",r:"0",sY:"1",y:"1234",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"361",r:"0",sY:"1",y:"1106",p:"0",sX:"1",w:"110.35"},{id:"Start",h:"40",
x:"439",r:"0",sY:"1",y:"102",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"480",r:"0",sY:"1",y:"1290",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"462",r:"0",sY:"1",y:"788",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"320",r:"0",sY:"1",y:"907",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"255",r:"0",sY:"1",y:"235",p:"0",sX:"3.9993133544921875",w:"160"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"135",p:"0",sX:"10.009002685546875",w:"400.4"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"235",
p:"0",sX:"3.008270263671875",w:"120.3"},{id:"DestroyFloor",h:"30",x:"367",r:"0",sY:"1",y:"235",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"580",r:"-90",sY:"1.0000000041909516",y:"295",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"194",r:"0",sY:"1",y:"355",p:"0",sX:"7.000885009765625",w:"280"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"355",p:"0",sX:"3.008270263671875",w:"120.3"},{id:"DestroyFloor",h:"30",x:"367",r:"0",sY:"1",y:"355",p:"0",sX:"1",w:"65"},{id:"StaticBlock",
h:"30",x:"480",r:"0",sY:"1",y:"475",p:"0",sX:"7.997955322265625",w:"319.9"},{id:"Spikes",h:"28.3",x:"600",r:"0",sY:"1",y:"449",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"595",p:"0",sX:"12.00531005859375",w:"480.2"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"715",p:"0",sX:"10.00537109375",w:"400.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"835",p:"0",sX:"10.00396728515625",w:"400.2"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"955",p:"0",sX:"11.003952026367188",
w:"440.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1075",p:"0",sX:"3.99591064453125",w:"159.8"},{id:"HidedSpikes",h:"28.3",x:"300",r:"0",sY:"1",y:"691",p:"0",sX:"1",w:"38.55"},{id:"DestroyFloor",h:"30",x:"472",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"247",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"1205",p:"0",sX:"9.001022338867188",w:"360"},{id:"Barrel",h:"40",x:"320",r:"0",sY:"1",y:"1040",p:"1",sX:"1",w:"40"},
{id:"Barrel",h:"40",x:"280",r:"0",sY:"1",y:"800",p:"1",sX:"1",w:"40"},{id:"DestroyFloor",h:"30",x:"537",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"602",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"182",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"117",r:"0",sY:"1",y:"1075",p:"0",sX:"1",w:"65"},{id:"SawR",h:"40",x:"400",r:"180",sY:"1",y:"150",p:"1",sX:"6.01422119140625",w:"240.6"},{id:"Saw",h:"40",x:"246",r:"0",sY:"1",
y:"580",p:"0",sX:"8.00860595703125",w:"320.3"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1325",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1403",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1403",p:"0",sX:"1",w:"280.9"},{id:"Skeleton",h:"40",x:"381",r:"0",sY:"1",y:"1170",p:"0",sX:"8.44500732421875",w:"337.8"},{id:"Saw",h:"40",x:"234",r:"0",sY:"1",y:"1310",p:"0",sX:"6.996246337890625",w:"279.8"},{id:"stat_window",
h:"160.45",x:"141",r:"0",sY:"1",y:"715",p:"0",sX:"1",w:"60.2"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"202",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"204",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"217",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"260",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"202",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"204",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"367",r:"0",
sY:"1",y:"264",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"367",r:"0",sY:"1",y:"384",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"518",r:"0",sY:"1",y:"440",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"558",r:"0",sY:"1",y:"440",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"174",r:"0",sY:"1",y:"560",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"214",r:"0",sY:"1",y:"560",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"921",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"820",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"860",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"479",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1041",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"160",r:"0",sY:"1",y:"1041",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1041",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1290",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"1290",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"1290",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"458",r:"0",sY:"1",y:"1170",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"498",r:"0",sY:"1",y:"1170",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"538",r:"0",sY:"1",
y:"1170",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"440",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],22:[{id:"LevelHeight",h:"1279.7",x:"0",r:"0",sY:"1.77734375",y:"0",p:"13",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"272.1",x:"359",r:"0",sY:"1.135009765625",y:"1161",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_curtain1",h:"43.25",x:"425",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"292",r:"0",sY:"1",y:"19",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"380",
r:"0",sY:"1",y:"19",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"119.7",x:"109",r:"0",sY:"1.121826171875",y:"437",p:"0",sX:"1.121826171875",w:"112.55"},{id:"stat_bones",h:"28.15",x:"164",r:"0",sY:"1",y:"570",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall1",h:"119.7",x:"629",r:"0",sY:"1.121826171875",y:"71",p:"0",sX:"1.121826171875",w:"112.55"},{id:"stat_curtain2",h:"111.25",x:"159",r:"0",sY:"1",y:"653",p:"0",sX:"1",w:"72"},{id:"stat_curtain3",h:"43.25",x:"412",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"502",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"591",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"87",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"223",r:"0",sY:"1",y:"626",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"309",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"398",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"485",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"574",r:"0",sY:"1",y:"743",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"121.2",x:"89",r:"0",sY:"1.1363525390625",y:"795",p:"0",sX:"1.1363525390625",w:"114.05"},{id:"stat_badWall1",h:"121.2",x:"629",r:"0",sY:"1.1363525390625",y:"917",p:"0",sX:"1.1363525390625",w:"114.05"},{id:"stat_curtain1",h:"43.25",x:"226",r:"0",sY:"1",y:"863",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"315",r:"0",sY:"1",y:"863",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"404",r:"0",sY:"1",y:"863",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"493",r:"0",sY:"1",y:"863",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"309",r:"0",sY:"1",y:"1083",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"398",r:"0",sY:"1",y:"1083",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",h:"28.15",x:"596",r:"0",sY:"1",y:"1030",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall2",h:"106.7",
x:"169",r:"0",sY:"1",y:"227",p:"0",sX:"1",w:"100.35"},{id:"Start",h:"40",x:"256",r:"0",sY:"1",y:"340",p:"1",sX:"1",w:"40"},{id:"Finish",h:"40",x:"560",r:"0",sY:"1",y:"1139",p:"0",sX:"1",w:"40"},{id:"Teleport",h:"65",x:"501",r:"0",sY:"1",y:"208",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"302",r:"0",sY:"1",y:"448",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"135",p:"0",sX:"7.00244140625",w:"280.1"},{id:"MovingPlatform",h:"150",x:"300",r:"90",sY:"1.0000000041909516",y:"195",
p:"0",sX:"3.749816909557321",w:"40"},{id:"Wall",h:"240",x:"544",r:"0",sY:"6",y:"380",p:"0",sX:"1",w:"30"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"375",p:"0",sX:"6.99627685546875",w:"279.9"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"255",p:"0",sX:"4.995361328125",w:"199.8"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"135",p:"0",sX:"1.9869384765625",w:"79.5"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"595",p:"0",sX:"4.99920654296875",w:"200"},{id:"StaticBlock",h:"30",x:"505",
r:"0",sY:"1",y:"595",p:"0",sX:"8.000091552734375",w:"320"},{id:"DestroyFloor",h:"30",x:"312",r:"0",sY:"1",y:"595",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"495",p:"0",sX:"11.996597290039063",w:"479.9"},{id:"Barrel",h:"40",x:"500",r:"0",sY:"1",y:"561",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"439",r:"0",sY:"1",y:"715",p:"0",sX:"9.9937744140625",w:"399.8"},{id:"HidedSpikes",h:"28.3",x:"441",r:"0",sY:"1",y:"690",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"359",
r:"0",sY:"1",y:"835",p:"0",sX:"9.9937744140625",w:"399.8"},{id:"StaticBlock",h:"30",x:"359",r:"0",sY:"1",y:"835",p:"0",sX:"9.9937744140625",w:"399.8"},{id:"StaticBlock",h:"30",x:"260",r:"0",sY:"1",y:"955",p:"0",sX:"9.01324462890625",w:"360.5"},{id:"StaticBlock",h:"30",x:"441",r:"0",sY:"1",y:"1055",p:"0",sX:"9.99420166015625",w:"399.8"},{id:"SawL",h:"40",x:"280",r:"180",sY:"1",y:"510",p:"1",sX:"7.9985809326171875",w:"319.9"},{id:"Saw",h:"40",x:"389",r:"0",sY:"1",y:"820",p:"0",sX:"7.9649505615234375",
w:"318.6"},{id:"Saw",h:"40",x:"250",r:"180",sY:"1",y:"970",p:"1",sX:"8.01904296875",w:"320.8"},{id:"Saw",h:"40",x:"470",r:"180",sY:"1",y:"1040",p:"0",sX:"8.01904296875",w:"320.8"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1175",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1253",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1253",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"500",r:"0",sY:"1",y:"460",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"461",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"422",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"559",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"481",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"121",r:"0",sY:"1",y:"201",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"121",r:"0",sY:"1",y:"240",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"121",r:"0",sY:"1",y:"279",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"218",r:"0",sY:"1",y:"240",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"218",r:"0",sY:"1",y:"279",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"281",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"320",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"359",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"400",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"439",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"564",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"564",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"521",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"801",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"341",r:"0",sY:"1",y:"801",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"302",r:"0",sY:"1",y:"801",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"321",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"282",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"141",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"102",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"478",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",
sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1141",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"296",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"257",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"218",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"375",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"336",r:"0",sY:"1",y:"921",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"247",r:"0",sY:"1",y:"334",p:"1",sX:"1",
w:"50"}],23:[{id:"LevelHeight",h:"1600",x:"0",r:"0",sY:"2.22222900390625",y:"0",p:"29",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"729",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"938",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1353",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"Torch",h:"73.4",x:"140",r:"0",sY:"1",y:"113",p:"0",sX:"1",w:"24.8"},{id:"stat_curtain2",h:"111.25",x:"576",r:"0",sY:"1",y:"198",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",
x:"503",r:"0",sY:"1",y:"163",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"639",r:"0",sY:"1",y:"163",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"112",x:"588",r:"0",sY:"1.0496673583984375",y:"318",p:"0",sX:"1.0496673583984375",w:"105.35"},{id:"stat_badWall1",h:"125.7",x:"109",r:"0",sY:"1.1778564453125",y:"317",p:"0",sX:"1.1778564453125",w:"118.2"},{id:"stat_curtain1",h:"43.25",x:"291",r:"0",sY:"1",y:"17",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"373",r:"0",sY:"1",y:"17",
p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"135",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"503",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"130.55",x:"565",r:"0",sY:"1.2235107421875",y:"637",p:"0",sX:"1.2235107421875",w:"122.8"},{id:"stat_curtain1",h:"43.25",x:"420",r:"0",sY:"1",y:"883",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"338",r:"0",sY:"1",y:"883",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",
x:"249",r:"0",sY:"1",y:"882",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"170",r:"0",sY:"1",y:"883",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"572",r:"0",sY:"1",y:"798",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"501",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"333",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"251",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"634",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"92",r:"0",sY:"1",y:"748",p:"0",sX:"1",w:"100.35"},{id:"stat_bones",h:"28.15",x:"203",r:"0",sY:"1",y:"949",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall2",h:"130.55",x:"339",r:"0",sY:"1.2235107421875",y:"1065",p:"0",sX:"1.2235107421875",w:"122.8"},{id:"stat_curtain1",h:"43.25",x:"401",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"316",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"233",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"491",r:"0",sY:"1",y:"1005",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"156.3",x:"613",r:"0",sY:"1.4653167724609375",y:"1222",p:"0",sX:"1.4653167724609375",w:"147.05"},{id:"stat_curtain1",h:"43.25",x:"498",r:"0",sY:"1",y:"1246",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"498",r:"0",sY:"1",y:"1362",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"408",r:"0",sY:"1",y:"1362",p:"0",
sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"255",r:"0",sY:"1",y:"646",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"176",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"Skeleton",h:"40",x:"402",r:"0",sY:"1",y:"700",p:"0",sX:"11.171966552734375",w:"446.9"},{id:"Start",h:"40",x:"504",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"200",r:"0",sY:"1",y:"1421",p:"0",sX:"1",w:"40"},{id:"stat_curtain3",h:"43.25",x:"414",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain3",h:"43.25",x:"222",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"303",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"389",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"Teleport",h:"65",x:"359",r:"0",sY:"1",y:"208",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"280",r:"0",sY:"1",y:"328",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"280",r:"0",sY:"1",y:"1168",p:"2",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"400",r:"0",
sY:"1",y:"1287",p:"2",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"441",r:"0",sY:"1",y:"135",p:"0",sX:"10.047088623046875",w:"401.9"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"375",p:"0",sX:"12.01123046875",w:"480.4"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"255",p:"0",sX:"6.9954833984375",w:"279.8"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"495",p:"0",sX:"2.99652099609375",w:"119.9"},{id:"StaticBlock",h:"30",x:"240",r:"0",sY:"1",y:"495",p:"0",sX:"4.0006103515625",w:"160"},{id:"MovingPlatform",
h:"150",x:"380",r:"-90",sY:"1.0000000041909516",y:"555",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"615",p:"0",sX:"6.00091552734375",w:"240"},{id:"StaticBlock",h:"30",x:"401",r:"0",sY:"1",y:"735",p:"0",sX:"11.985031127929688",w:"479.4"},{id:"DestroyFloor",h:"30",x:"592",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"HidedSpikes",h:"28.3",x:"499",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"855",p:"0",sX:"10.005386352539063",
w:"400.2"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"975",p:"0",sX:"9.999603271484375",w:"400"},{id:"MovingPlatform",h:"40",x:"520",r:"0",sY:"1.0000000041909516",y:"1100",p:"0",sX:"6.00323488703657",w:"240.1"},{id:"Spikes",h:"28.3",x:"272",r:"0",sY:"1",y:"950",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"1215",p:"0",sX:"8.99127197265625",w:"359.7"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"1335",p:"0",sX:"11.988540649414063",w:"479.5"},{id:"DestroyFloor",
h:"30",x:"593",r:"0",sY:"1",y:"1215",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"593",r:"0",sY:"1",y:"1335",p:"0",sX:"1",w:"65"},{id:"stat_window",h:"160.45",x:"139",r:"0",sY:"1",y:"1079",p:"0",sX:"1",w:"60.2"},{id:"SawR",h:"40",x:"199",r:"0",sY:"1",y:"600",p:"0",sX:"5",w:"200"},{id:"Saw",h:"40",x:"208",r:"0",sY:"1",y:"1320",p:"0",sX:"6.0124969482421875",w:"240.5"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1455",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",
r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1533",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"379",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"418",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"159",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"198",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",
sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"278",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"545",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"615",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"259",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"298",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"278",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"259",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"298",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"378",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"417",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"325",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"364",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"403",r:"0",sY:"1",y:"941",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1062",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"441",r:"0",sY:"1",y:"1062",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"1062",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1299",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"241",r:"0",sY:"1",y:"1299",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"1299",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1182",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1222",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"1420",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"319",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"502",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],24:[{id:"LevelHeight",
h:"1478.85",x:"0",r:"0",sY:"2.053955078125",y:"0",p:"9",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",
h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"263.7",x:"359",r:"0",sY:"1.0999755859375",y:"1363",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_curtain1",h:"43.25",x:"346",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_window",h:"160.45",x:"160",r:"0",sY:"1",y:"87",p:"0",sX:"1",w:"60.2"},{id:"stat_curtain1",
h:"43.25",x:"436",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"526",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"272",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"365",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"457",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"187",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",
h:"111.25",x:"153",r:"0",sY:"1",y:"439",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"215",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"85",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"138.1",x:"292",r:"0",sY:"1.294281005859375",y:"642",p:"0",sX:"1.294281005859375",w:"129.9"},{id:"stat_bones",h:"28.15",x:"372",r:"0",sY:"1",y:"469",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall1",h:"126.8",x:"628",r:"0",sY:"1.1879119873046875",y:"251",p:"0",
sX:"1.1879119873046875",w:"119.2"},{id:"stat_badWall1",h:"126.8",x:"100",r:"0",sY:"1.1879119873046875",y:"825",p:"0",sX:"1.1879119873046875",w:"119.2"},{id:"stat_curtain1",h:"43.25",x:"592",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"365",r:"0",sY:"1",y:"526",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"160",r:"0",sY:"1",y:"597",p:"0",sX:"1",w:"24.8"},{id:"stat_curtain1",h:"43.25",x:"243",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",
x:"331",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"419",r:"0",sY:"1",y:"1007",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"268",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"354",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"444",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"532",r:"0",sY:"1",y:"1127",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"126.8",
x:"120",r:"0",sY:"1.1879119873046875",y:"1112",p:"0",sX:"1.1879119873046875",w:"119.2"},{id:"stat_badWall1",h:"126.8",x:"637",r:"0",sY:"1.1879119873046875",y:"1212",p:"0",sX:"1.1879119873046875",w:"119.2"},{id:"stat_curtain1",h:"43.25",x:"365",r:"0",sY:"1",y:"1247",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"453",r:"0",sY:"1",y:"1247",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"126.8",x:"623",r:"0",sY:"1.1879119873046875",y:"788",p:"0",sX:"1.1879119873046875",w:"119.2"},{id:"Start",
h:"40",x:"481",r:"0",sY:"1",y:"101",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"181",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"stat_curtain3",h:"43.25",x:"223",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"314",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"402",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"Teleport",h:"65",x:"479",r:"0",sY:"1",y:"688",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"281",r:"0",sY:"1",y:"927",
p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"461",r:"0",sY:"1",y:"135",p:"0",sX:"9.04229736328125",w:"361.7"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"255",p:"0",sX:"11.00457763671875",w:"440.2"},{id:"MachineGun",h:"41",x:"100",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"575",r:"0",sY:"1",y:"375",p:"0",sX:"5.00146484375",w:"200.1"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"375",p:"0",sX:"4.99249267578125",w:"199.7"},{id:"DestroyFloor",h:"30",x:"312",r:"0",
sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"375",p:"0",sX:"4.99249267578125",w:"199.7"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"495",p:"0",sX:"3.99688720703125",w:"159.9"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"615",p:"0",sX:"6.9957122802734375",w:"279.8"},{id:"MachineGun",h:"41",x:"620",r:"0",sY:"1",y:"460",p:"1",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"735",p:"0",sX:"9.009506225585938",w:"360.4"},{id:"StaticBlock",
h:"30",x:"380",r:"0",sY:"1",y:"855",p:"0",sX:"6.9963836669921875",w:"279.9"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"975",p:"0",sX:"10.010665893554688",w:"400.4"},{id:"MachineGun",h:"41",x:"620",r:"0",sY:"1",y:"940",p:"1",sX:"1",w:"41"},{id:"DestroyFloor",h:"30",x:"552",r:"0",sY:"1",y:"855",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"626",r:"0",sY:"1",y:"855",p:"0",sX:"2.0200653076171875",w:"80.8"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"1095",p:"0",sX:"11.00067138671875",w:"440"},
{id:"StaticBlock",h:"30",x:"299",r:"0",sY:"1",y:"1216",p:"0",sX:"10.998260498046875",w:"439.9"},{id:"DestroyFloor",h:"30",x:"377",r:"0",sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"442",r:"0",sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"Saw",h:"40",x:"512",r:"0",sY:"1",y:"1320",p:"0",sX:"6.0124969482421875",
w:"240.5"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"HidedSpikes",h:"28.3",x:"359",r:"0",sY:"1",y:"1190",p:"0",sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"359",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"439",r:"0",sY:"1",y:"219",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"341",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"201",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"579",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"579",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"579",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"343",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"383",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"339",r:"0",sY:"1",y:"819",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"378",r:"0",sY:"1",y:"819",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"418",r:"0",sY:"1",y:"819",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"901",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"560",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"840",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"879",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"602",r:"0",sY:"1",y:"100",
p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"278",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"318",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"441",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"481",r:"0",sY:"1",y:"1180",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"319",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"361",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1301",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"480",r:"0",sY:"1",y:"95",p:"0",sX:"1",w:"50"}],25:[{id:"LevelHeight",
h:"1479.95",x:"0",r:"0",sY:"2.05548095703125",y:"0",p:"9",sX:"1.5",w:"720"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_background",h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"261.4",x:"359",r:"0",sY:"1.090728759765625",y:"1362",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_bones",h:"28.15",x:"137",r:"0",sY:"1",y:"229",p:"0",sX:"1",w:"61.5"},{id:"stat_curtain1",h:"43.25",x:"503",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"418",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"333",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"140",r:"0",sY:"1",y:"347",p:"0",sX:"1",w:"24.8"},{id:"stat_badWall1",h:"106.7",x:"621",r:"0",sY:"1",y:"123",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"569",r:"0",sY:"1",y:"480",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"303",r:"0",sY:"1",y:"404",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",
h:"43.25",x:"391",r:"0",sY:"1",y:"404",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"479",r:"0",sY:"1",y:"404",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"151",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"239",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"415",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"112",r:"0",sY:"1",y:"638",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain3",
h:"43.25",x:"322",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"568",r:"0",sY:"1",y:"404",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"137.1",x:"103",r:"0",sY:"1.285003662109375",y:"914",p:"0",sX:"1.285003662109375",w:"128.95"},{id:"stat_curtain1",h:"43.25",x:"203",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"294",r:"0",sY:"1",y:"767",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"235",r:"0",sY:"1",y:"886",p:"0",sX:"1",
w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"411",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"502",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"461",r:"0",sY:"1",y:"681",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"527",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"391",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"303",r:"0",sY:"1",y:"645",p:"0",sX:"1",
w:"110.35"},{id:"stat_badWall1",h:"106.7",x:"225",r:"0",sY:"1",y:"17",p:"0",sX:"1",w:"100.35"},{id:"stat_curtain1",h:"43.25",x:"122",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"213",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"323",r:"0",sY:"1",y:"885",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"366",r:"0",sY:"1",y:"1125",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"456",r:"0",sY:"1",y:"1125",p:"0",sX:"1",
w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"382",r:"0",sY:"1",y:"1236",p:"0",sX:"1",w:"100.35"},{id:"Start",h:"40",x:"319",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"180",r:"0",sY:"1",y:"1300",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"135",p:"0",sX:"9.995468139648438",w:"399.8"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"255",p:"0",sX:"4.99395751953125",w:"199.8"},{id:"StaticBlock",h:"30",x:"531",r:"0",sY:"1",y:"255",p:"0",sX:"6.0000457763671875",
w:"240"},{id:"DestroyFloor",h:"30",x:"313",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"378",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"375",p:"0",sX:"9.97955322265625",w:"399.2"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"495",p:"0",sX:"9.99444580078125",w:"399.8"},{id:"MachineGun",h:"41",x:"100",r:"0",sY:"1",y:"459",p:"0",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"615",p:"0",sX:"9.99444580078125",
w:"399.8"},{id:"StaticBlock",h:"30",x:"220",r:"0",sY:"1",y:"735",p:"0",sX:"7.002716064453125",w:"280.1"},{id:"MachineGun",h:"41",x:"620",r:"0",sY:"1",y:"700",p:"1",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"855",p:"0",sX:"12.017425537109375",w:"480.7"},{id:"StaticBlock",h:"30",x:"180",r:"0",sY:"1",y:"975",p:"0",sX:"4.99652099609375",w:"199.9"},{id:"StaticBlock",h:"30",x:"440",r:"0",sY:"1",y:"975",p:"0",sX:"4.0052337646484375",w:"160.2"},{id:"MovingPlatform",h:"150",x:"580",r:"90",
sY:"1.0000000041909516",y:"1035",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"400",r:"0",sY:"1",y:"1095",p:"0",sX:"5.99908447265625",w:"240"},{id:"DestroyFloor",h:"30",x:"116",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"181",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"246",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"200",r:"0",sY:"1",y:"1215",p:"0",sX:"5.99310302734375",w:"239.7"},{id:"StaticBlock",
h:"30",x:"540",r:"0",sY:"1",y:"1215",p:"0",sX:"4.9942626953125",w:"199.8"},{id:"Saw",h:"40",x:"541",r:"0",sY:"1",y:"1200",p:"0",sX:"3.97625732421875",w:"159.1"},{id:"Saw",h:"40",x:"174",r:"0",sY:"1",y:"240",p:"0",sX:"3.9993743896484375",w:"160"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},
{id:"Saw",h:"40",x:"480",r:"0",sY:"1",y:"1320",p:"0",sX:"6.99652099609375",w:"279.9"},{id:"Feed",h:"25",x:"219",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"442",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"483",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"523",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"541",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"582",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"441",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"361",r:"0",sY:"1",y:"460",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"321",r:"0",sY:"1",
y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"298",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"558",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"599",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"438",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"479",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"174",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"215",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"136",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"500",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"179",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",r:"0",sY:"1",y:"1181",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"238",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"279",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"478",r:"0",sY:"1",y:"1302",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"519",r:"0",sY:"1",y:"1302",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"320",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"},{id:"SawL",h:"40",x:"527",r:"0",sY:"1",y:"240",p:"0",sX:"5.028717041015625",w:"201.1"},{id:"HidedSpikes",h:"28.3",
x:"443",r:"0",sY:"1",y:"350",p:"0",sX:"1",w:"38.55"},{id:"Spikes",h:"28.3",x:"600",r:"0",sY:"1",y:"590",p:"0",sX:"1",w:"38.55"},{id:"Barrel",h:"40",x:"440",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"40"},{id:"HidedSpikes",h:"28.3",x:"501",r:"0",sY:"1",y:"830",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"280",r:"0",sY:"1",y:"1190",p:"0",sX:"1",w:"38.55"}],26:[{id:"LevelHeight",h:"1481.4",x:"0",r:"0",sY:"2.057525634765625",y:"0",p:"12",sX:"1.5",w:"720"},{id:"stat_background",h:"242.3",x:"359",r:"0",
sY:"1.010955810546875",y:"103",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",w:"604.05"},
{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"263",x:"359",r:"0",sY:"1.09722900390625",y:"1363",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_badWall2",h:"129.9",x:"199",r:"0",sY:"1.21722412109375",y:"161",p:"0",sX:"1.21722412109375",w:"122.15"},{id:"stat_curtain1",h:"43.25",x:"267",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"495",r:"0",sY:"1",y:"166",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"357",r:"0",sY:"1",y:"286",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"129.9",x:"129",r:"0",sY:"1.21722412109375",y:"468",p:"0",sX:"1.21722412109375",w:"122.15"},{id:"stat_curtain1",h:"43.25",x:"423",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"513",r:"0",sY:"1",y:"524",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"457",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"Torch",h:"73.4",x:"180",r:"0",sY:"1",y:"719",p:"0",
sX:"1",w:"24.8"},{id:"stat_curtain1",h:"43.25",x:"461",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"383",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"126.2",x:"630",r:"0",sY:"1.1827392578125",y:"829",p:"0",sX:"1.1827392578125",w:"118.65"},{id:"stat_badWall1",h:"126.2",x:"96",r:"0",sY:"1.1827392578125",y:"691",p:"0",sX:"1.1827392578125",w:"118.65"},{id:"stat_badWall1",h:"126.2",x:"630",r:"0",sY:"1.1827392578125",y:"1167",p:"0",sX:"1.1827392578125",
w:"118.65"},{id:"stat_curtain1",h:"43.25",x:"407",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"317",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"229",r:"0",sY:"1",y:"884",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain2",h:"111.25",x:"257",r:"0",sY:"1",y:"430",p:"0",sX:"1",w:"72"},{id:"stat_curtain1",h:"43.25",x:"320",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"410",r:"0",sY:"1",y:"406",p:"0",sX:"1",
w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"503",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"325",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"239",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"149",r:"0",sY:"1",y:"1004",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"410",r:"0",sY:"1",y:"1003",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall1",h:"126.2",x:"114",r:"0",sY:"1.1827392578125",
y:"1297",p:"0",sX:"1.1827392578125",w:"118.65"},{id:"stat_curtain3",h:"43.25",x:"480",r:"0",sY:"1",y:"1125",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"578",r:"0",sY:"1",y:"1125",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"233",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"143",r:"0",sY:"1",y:"1124",p:"0",sX:"1",w:"110.35"},{id:"Start",h:"40",x:"456",r:"0",sY:"1",y:"340",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"280",r:"0",sY:"1",y:"1300",
p:"0",sX:"1",w:"40"},{id:"stat_curtain3",h:"43.25",x:"369",r:"0",sY:"1",y:"647",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"279",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"500",r:"0",sY:"1",y:"406",p:"0",sX:"1",w:"110.35"},{id:"Teleport",h:"65",x:"384",r:"0",sY:"1",y:"208",p:"0",sX:"1",w:"55"},{id:"Teleport",h:"65",x:"400",r:"0",sY:"1",y:"88",p:"0",sX:"1",w:"55"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"135",p:"0",sX:"7.0077362060546875",w:"280.3"},
{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"255",p:"0",sX:"8.992034912109375",w:"359.7"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"375",p:"0",sX:"8.992034912109375",w:"359.7"},{id:"StaticBlock",h:"30",x:"501",r:"0",sY:"1",y:"495",p:"0",sX:"7.032989501953125",w:"281.3"},{id:"StaticBlock",h:"30",x:"300",r:"0",sY:"1",y:"615",p:"0",sX:"11.00787353515625",w:"440.3"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"315",p:"0",sX:"3.749816909557321",w:"40"},{id:"MachineGun",
h:"41",x:"100",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"41"},{id:"DestroyFloor",h:"30",x:"596",r:"0",sY:"1",y:"255",p:"0",sX:"1",w:"65"},{id:"MovingPlatform",h:"150",x:"580",r:"90",sY:"1.0000000041909516",y:"675",p:"0",sX:"3.749816909557321",w:"40"},{id:"MachineGun",h:"41",x:"100",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"420",r:"0",sY:"1",y:"735",p:"0",sX:"5.00408935546875",w:"200.2"},{id:"StaticBlock",h:"30",x:"280",r:"0",sY:"1",y:"855",p:"0",sX:"10.000137329101563",w:"400"},
{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"975",p:"0",sX:"12.010147094726563",w:"480.4"},{id:"StaticBlock",h:"30",x:"500",r:"0",sY:"1",y:"1095",p:"0",sX:"7.003021240234375",w:"280.1"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"1215",p:"0",sX:"12.010147094726563",w:"480.4"},{id:"Barrel",h:"40",x:"468",r:"0",sY:"1",y:"220",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"420",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"380",r:"0",sY:"1",y:"941",p:"1",sX:"1",w:"40"},{id:"Barrel",
h:"40",x:"340",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"240",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"200",r:"0",sY:"1",y:"941",p:"0",sX:"1",w:"40"},{id:"StaticBlock",h:"30",x:"175",r:"0",sY:"1",y:"1095",p:"0",sX:"6.0004730224609375",w:"240"},{id:"DestroyFloor",h:"30",x:"328",r:"0",sY:"1",y:"1095",p:"0",sX:"1",w:"65"},{id:"Barrel",h:"40",x:"428",r:"0",sY:"1",y:"1300",p:"1",sX:"1",w:"40"},{id:"Barrel",h:"40",x:"480",r:"0",sY:"1",y:"1300",p:"0",sX:"1",
w:"40"},{id:"Saw",h:"40",x:"228",r:"0",sY:"1",y:"840",p:"0",sX:"5.999847412109375",w:"240"},{id:"Skeleton",h:"40",x:"321",r:"0",sY:"1",y:"1181",p:"0",sX:"11.462905883789063",w:"458.5"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",y:"1335",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1413",p:"0",sX:"1",w:"280.9"},{id:"Spikes",h:"28.3",x:"120",r:"0",sY:"1",y:"1070",p:"0",
sX:"1",w:"38.55"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"120",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"160",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"200",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"280",r:"0",sY:"1",y:"100",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"601",r:"0",sY:"1",y:"360",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"600",r:"0",sY:"1",y:"400",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"600",r:"0",sY:"1",y:"440",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"580",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"481",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"143",r:"0",sY:"1",y:"940",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",
y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"500",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"339",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"180",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"219",r:"0",sY:"1",y:"1061",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"1061",p:"0",sX:"1",
w:"25"},{id:"Feed",h:"25",x:"421",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"460",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"501",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"401",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"481",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"361",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",
x:"241",r:"0",sY:"1",y:"821",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1182",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"159",r:"0",sY:"1",y:"1182",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1182",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"239",r:"0",sY:"1",y:"1182",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"456",r:"0",sY:"1",y:"335",p:"0",sX:"1",w:"50"}],27:[{id:"LevelHeight",h:"1400.05",x:"0",r:"0",sY:"1.94451904296875",y:"0",p:"30",sX:"1.5",w:"720"},{id:"stat_background",
h:"239.7",x:"359",r:"0",sY:"1",y:"102",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"311",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"520",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"244.2",x:"359",r:"0",sY:"1.018798828125",y:"727",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_background",h:"245.4",x:"359",r:"0",sY:"1.0238037109375",y:"935",p:"0",sX:"1.1493988037109375",
w:"604.05"},{id:"stat_background",h:"239.7",x:"359",r:"0",sY:"1",y:"1144",p:"0",sX:"1.1493988037109375",w:"604.05"},{id:"stat_window",h:"160.45",x:"560",r:"0",sY:"1",y:"103",p:"0",sX:"1",w:"60.2"},{id:"stat_curtain1",h:"43.25",x:"341",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"253",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"161",r:"0",sY:"1",y:"164",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"501",r:"0",sY:"1",y:"285",
p:"0",sX:"1",w:"110.35"},{id:"stat_curtain3",h:"43.25",x:"413",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"321",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"231",r:"0",sY:"1",y:"285",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"462",r:"0",sY:"1",y:"405",p:"0",sX:"1",w:"110.35"},{id:"stat_window",h:"160.45",x:"541",r:"0",sY:"1",y:"615",p:"0",sX:"1",w:"60.2"},{id:"stat_badWall1",h:"106.7",x:"118",r:"0",sY:"1",y:"796",
p:"0",sX:"1",w:"100.35"},{id:"stat_badWall1",h:"135.5",x:"630",r:"0",sY:"1.2698974609375",y:"922",p:"0",sX:"1.2698974609375",w:"127.45"},{id:"stat_badWall1",h:"135.5",x:"97",r:"0",sY:"1.2698974609375",y:"1064",p:"0",sX:"1.2698974609375",w:"127.45"},{id:"stat_curtain1",h:"43.25",x:"234",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"324",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"414",r:"0",sY:"1",y:"886",p:"0",sX:"1",w:"110.35"},
{id:"stat_curtain1",h:"43.25",x:"464",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"554",r:"0",sY:"1",y:"1006",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"341",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_curtain1",h:"43.25",x:"421",r:"0",sY:"1",y:"764",p:"0",sX:"1",w:"110.35"},{id:"stat_badWall2",h:"106.7",x:"280",r:"0",sY:"1",y:"440",p:"0",sX:"1",w:"100.35"},{id:"stat_badWall2",h:"106.7",x:"561",r:"0",sY:"1",y:"1186",p:"0",sX:"1",w:"100.35"},
{id:"stat_curtain1",h:"43.25",x:"341",r:"0",sY:"1",y:"645",p:"0",sX:"1",w:"110.35"},{id:"stat_bones",h:"28.15",x:"210",r:"0",sY:"1",y:"949",p:"0",sX:"1",w:"61.5"},{id:"stat_badWall1",h:"135.5",x:"124",r:"0",sY:"1.2698974609375",y:"319",p:"0",sX:"1.2698974609375",w:"127.45"},{id:"Skeleton",h:"40",x:"522",r:"0",sY:"1",y:"940",p:"0",sX:"5.469573974609375",w:"218.8"},{id:"Start",h:"40",x:"179",r:"0",sY:"1",y:"101",p:"0",sX:"1",w:"40"},{id:"Finish",h:"40",x:"359",r:"0",sY:"1",y:"1219",p:"0",sX:"1",w:"40"},
{id:"StaticBlock",h:"30",x:"240",r:"0",sY:"1",y:"135",p:"0",sX:"7.99444580078125",w:"319.8"},{id:"StaticBlock",h:"30",x:"320",r:"0",sY:"1",y:"255",p:"0",sX:"11.996231079101563",w:"479.8"},{id:"HidedSpikes",h:"28.3",x:"280",r:"0",sY:"1",y:"230",p:"0",sX:"1",w:"38.55"},{id:"HidedSpikes",h:"28.3",x:"520",r:"0",sY:"1",y:"230",p:"0",sX:"1",w:"38.55"},{id:"MovingPlatform",h:"150",x:"140",r:"90",sY:"1.0000000041909516",y:"435",p:"0",sX:"3.749816909557321",w:"40"},{id:"DestroyFloor",h:"30",x:"366",r:"0",
sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"460",r:"0",sY:"1",y:"375",p:"0",sX:"3.01495361328125",w:"120.6"},{id:"MovingPlatform",h:"150",x:"580",r:"90",sY:"1.0000000041909516",y:"435",p:"0",sX:"3.749816909557321",w:"40"},{id:"DestroyFloor",h:"30",x:"233",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"298",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"362",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"426",
r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"490",r:"0",sY:"1",y:"495",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"340",r:"0",sY:"1",y:"615",p:"0",sX:"3.00225830078125",w:"120.1"},{id:"DestroyFloor",h:"30",x:"299",r:"0",sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"DestroyFloor",h:"30",x:"232",r:"0",sY:"1",y:"375",p:"0",sX:"1",w:"65"},{id:"StaticBlock",h:"30",x:"380",r:"0",sY:"1",y:"735",p:"0",sX:"5.001495361328125",w:"200.1"},{id:"StaticBlock",h:"30",x:"360",r:"0",sY:"1",
y:"855",p:"0",sX:"10.006027221679688",w:"400.2"},{id:"MachineGun",h:"41",x:"620",r:"0",sY:"1",y:"700",p:"1",sX:"1",w:"41"},{id:"StaticBlock",h:"30",x:"520",r:"0",sY:"1",y:"975",p:"0",sX:"6.004669189453125",w:"240.2"},{id:"StaticBlock",h:"30",x:"240",r:"0",sY:"1",y:"975",p:"0",sX:"3.99798583984375",w:"159.9"},{id:"MovingPlatform",h:"150",x:"220",r:"-90",sY:"1.0000000041909516",y:"676",p:"0",sX:"3.749816909557321",w:"40"},{id:"StaticBlock",h:"30",x:"120",r:"0",sY:"1",y:"615",p:"0",sX:"2.000274658203125",
w:"80"},{id:"StaticBlock",h:"30",x:"120",r:"0",sY:"1",y:"735",p:"0",sX:"2.000274658203125",w:"80"},{id:"Saw",h:"40",x:"320",r:"0",sY:"1",y:"840",p:"0",sX:"6.003753662109375",w:"240.2"},{id:"MovingPlatform",h:"40",x:"361",r:"0",sY:"1.0000000041909516",y:"1095",p:"0",sX:"9.974533121682327",w:"399"},{id:"Spikes",h:"28.3",x:"280",r:"0",sY:"1",y:"950",p:"0",sX:"1",w:"38.55"},{id:"StaticBlock",h:"30",x:"600",r:"0",sY:"1",y:"1095",p:"0",sX:"1.9965667724609375",w:"79.9"},{id:"StaticBlock",h:"30",x:"360",
r:"0",sY:"1",y:"1255",p:"1",sX:"13.998428344726563",w:"559.9"},{id:"stat_botWall",h:"190.5",x:"221",r:"0",sY:"1",y:"1333",p:"0",sX:"1",w:"280.9"},{id:"stat_botWall",h:"190.5",x:"499",r:"0",sY:"1",y:"1333",p:"0",sX:"1",w:"280.9"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},
{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"223",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"499",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"459",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"419",r:"0",sY:"1",y:"461",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"260",r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"220",
r:"0",sY:"1",y:"341",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"341",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"301",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"340",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"300",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"420",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"380",r:"0",sY:"1",y:"701",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"141",r:"0",sY:"1",y:"581",p:"0",
sX:"1",w:"25"},{id:"Feed",h:"25",x:"101",r:"0",sY:"1",y:"581",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1020",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"360",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"341",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"301",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"261",r:"0",sY:"1",y:"822",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"320",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",
h:"25",x:"280",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"520",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"480",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"440",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"400",r:"0",sY:"1",y:"1059",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"240",r:"0",
sY:"1",y:"1221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"200",r:"0",sY:"1",y:"1221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"160",r:"0",sY:"1",y:"1221",p:"0",sX:"1",w:"25"},{id:"Feed",h:"25",x:"120",r:"0",sY:"1",y:"1221",p:"0",sX:"1",w:"25"},{id:"Hero",h:"50",x:"180",r:"0",sY:"1",y:"95",p:"1",sX:"1",w:"50"}]}};ua.prototype={__class__:ua};var P=l.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};P.TNull=["TNull",0];P.TNull.toString=
A;P.TNull.__enum__=P;P.TInt=["TInt",1];P.TInt.toString=A;P.TInt.__enum__=P;P.TFloat=["TFloat",2];P.TFloat.toString=A;P.TFloat.__enum__=P;P.TBool=["TBool",3];P.TBool.toString=A;P.TBool.__enum__=P;P.TObject=["TObject",4];P.TObject.toString=A;P.TObject.__enum__=P;P.TFunction=["TFunction",5];P.TFunction.toString=A;P.TFunction.__enum__=P;P.TClass=function(a){a=["TClass",6,a];a.__enum__=P;a.toString=A;return a};P.TEnum=function(a){a=["TEnum",7,a];a.__enum__=P;a.toString=A;return a};P.TUnknown=["TUnknown",
8];P.TUnknown.toString=A;P.TUnknown.__enum__=P;var R=function(){};l.Type=R;R.__name__=["Type"];R.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};R.getClassName=function(a){return a.__name__.join(".")};R.getEnumName=function(a){return a.__ename__.join(".")};R.resolveClass=function(a){a=l[a];return null==a||!a.__name__?null:a};R.resolveEnum=function(a){a=l[a];return null==a||!a.__ename__?null:a};R.createInstance=function(a,b){switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};R.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};R.createEnum=function(a,b,c){var j=
u.field(a,b);if(null==j)throw"No such constructor "+b;if(u.isFunction(j)){if(null==c)throw"Constructor "+b+" need parameters";return j.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return j};R.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);B.remove(b,"__class__");B.remove(b,"__properties__");return b};R.getClassFields=function(a){a=u.fields(a);B.remove(a,"__name__");B.remove(a,"__interfaces__");B.remove(a,"__properties__");B.remove(a,
"__super__");B.remove(a,"prototype");return a};R.getEnumConstructs=function(a){return a.__constructs__.slice()};R["typeof"]=function(a){switch(typeof a){case "boolean":return P.TBool;case "string":return P.TClass(String);case "number":return Math.ceil(a)==a%2147483648?P.TInt:P.TFloat;case "object":if(null==a)return P.TNull;var b=a.__enum__;if(null!=b)return P.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?P.TClass(a):P.TObject;case "function":return a.__name__||a.__ename__?
P.TObject:P.TFunction;case "undefined":return P.TNull;default:return P.TUnknown}};l.XmlType={__ename__:["XmlType"],__constructs__:[]};var H=function(){};l.Xml=H;H.__name__=["Xml"];H.Element=null;H.PCData=null;H.CData=null;H.Comment=null;H.DocType=null;H.ProcessingInstruction=null;H.Document=null;H.parse=function(a){return p.xml.Parser.parse(a)};H.createElement=function(a){var b=new H;b.nodeType=H.Element;b._children=[];b._attributes=new p.ds.StringMap;b.set_nodeName(a);return b};H.createPCData=function(a){var b=
new H;b.nodeType=H.PCData;b.set_nodeValue(a);return b};H.createCData=function(a){var b=new H;b.nodeType=H.CData;b.set_nodeValue(a);return b};H.createComment=function(a){var b=new H;b.nodeType=H.Comment;b.set_nodeValue(a);return b};H.createDocType=function(a){var b=new H;b.nodeType=H.DocType;b.set_nodeValue(a);return b};H.createProcessingInstruction=function(a){var b=new H;b.nodeType=H.ProcessingInstruction;b.set_nodeValue(a);return b};H.createDocument=function(){var a=new H;a.nodeType=H.Document;
a._children=[];return a};H.prototype={nodeType:null,_nodeName:null,_nodeValue:null,_attributes:null,_children:null,_parent:null,get_nodeName:function(){if(this.nodeType!=H.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=H.Element)throw"bad nodeType";return this._nodeName=a},set_nodeValue:function(a){if(this.nodeType==H.Element||this.nodeType==H.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=H.Element)throw"bad nodeType";
return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=H.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=H.Element)throw"bad nodeType";return this._attributes.exists(a)},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var j=this.x[b];if(j.nodeType==H.Element&&j._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=
this.cur,c=this.x.length;b<c;){var j=this.x[b];b++;if(j.nodeType==H.Element&&j._nodeName==a)return this.cur=b,j}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==H.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&B.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:H,__properties__:{set_nodeValue:"set_nodeValue",
set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var h={Button:function(a,b){this.MusSounOn=this.OneClick=!0;this.MusSoun="";this.numLevel=0;this.pressed=!1;this.ScaleDown=new e.geom.Point(0.9,0.9);this.ScaleUp=new e.geom.Point(1,1);e.display.Sprite.call(this);this.tileLayer=a;this.container=b;F.getInstance().AllBtn.push(this);this.mouseChildren=!1;this.buttonMode=this.useHandCursor=!0}};l["com.Button"]=h.Button;h.Button.__name__=["com","Button"];h.Button.__super__=e.display.Sprite;h.Button.prototype=
z(e.display.Sprite.prototype,{tileLayer:null,container:null,spriteFon:null,spriteIcon:null,EndFunction:null,EndFunctionVoid:null,ScaleUp:null,ScaleDown:null,pressed:null,numLevel:null,CentralOn:null,CentralOff:null,BtnUp:null,BtnDown:null,Label:null,MusSoun:null,MusSounOn:null,OneClick:null,initOneFrame:function(a,b,c){null==c&&(c=1);null==b&&(b=1);this.spriteFon=new h.jdtiles.jda.TileSprite(this.tileLayer,a);this.spriteFon.set_scaleX(b);this.spriteFon.set_scaleY(c);null==this.container?this.tileLayer.addChild(this.spriteFon):
this.container.addChild(this.spriteFon)},initSetFrame:function(a,b){this.BtnUp=a;this.BtnDown=b;this.initOneFrame(this.BtnUp)},initScale:function(a,b,c,j,d){null==d&&(d=1);null==j&&(j=1);null==c&&(c=0);null==b&&(b=0);this.set_name(a);this.spriteIcon=new h.jdtiles.jda.TileSprite(this.tileLayer,a);this.spriteIcon.set_offsetX(b);this.spriteIcon.set_offsetY(c);this.spriteIcon.set_scaleX(j);this.spriteIcon.set_scaleY(d);null==this.container?this.tileLayer.addChild(this.spriteIcon):this.container.addChild(this.spriteIcon)},
initMusSoun:function(a){this.MusSoun=a;var b=h.alagatar.DataManager.getInstance().getData(this.MusSoun);this.CentralOn=a+"On";this.CentralOff=a+"Off";!0==b?(this.MusSounOn=!1,this.spriteIcon=new h.jdtiles.jda.TileSprite(this.tileLayer,this.CentralOff)):this.spriteIcon=new h.jdtiles.jda.TileSprite(this.tileLayer,this.CentralOn);null==this.container?this.tileLayer.addChild(this.spriteIcon):this.container.addChild(this.spriteIcon);this.setSound()},drawGraphics:function(){this.get_graphics().clear();
this.get_graphics().beginFill(16711680,0.01);this.get_graphics().drawRect(-25,-25,50,50);this.get_graphics().endFill()},setDrawGraphics:function(a,b,c,j){this.get_graphics().clear();this.get_graphics().beginFill(16711680,0.01);this.get_graphics().drawRect(a,b,c,j);this.get_graphics().endFill()},setPosition:function(a,b){null!=this.spriteFon&&(this.spriteFon.set_x(a),this.spriteFon.set_y(b));null!=this.spriteIcon&&(this.spriteIcon.set_x(a),this.spriteIcon.set_y(b));this.set_x(F.scalingF(a));this.set_y(F.scalingF(b));
this.drawGraphics()},MouseDown:function(){!1!=this.OneClick&&(this.pressed=!0,this.OneClick=!1,this.ChangeFrame(this.BtnDown),this.Scale(this.ScaleDown),this.renderTileLayer())},MouseUp:function(a){null==a&&(a=!0);this.pressed=!1;this.OneClick=!0;this.ChangeFrame(this.BtnUp);this.Scale(this.ScaleUp);!0==a&&(this.Complete(),h.sound.SoundManager.getInstance().PlayEffect("button_click"));this.renderTileLayer()},Complete:function(){""!=this.MusSoun&&(!0==this.MusSounOn?this.ChangeCentralOnOff(!1):this.ChangeCentralOnOff(!0),
this.setSound());null!=this.EndFunction&&this.EndFunction(this);null!=this.EndFunctionVoid&&this.EndFunctionVoid()},setSound:function(){h.alagatar.DataManager.getInstance().saveData(this.MusSoun,!this.MusSounOn);"Music"==this.MusSoun&&(!0==this.MusSounOn?(F.getInstance().soundsEnable=!0,h.sound.SoundManager.getInstance().EnableAllMusic(),h.sound.SoundManager.getInstance().EnableAllEffects(),h.sound.SoundManager.getInstance().PlayMusic("main_theme")):(F.getInstance().soundsEnable=!1,h.sound.SoundManager.getInstance().DisableAllMusic(),
h.sound.SoundManager.getInstance().DisableAllEffects()))},ChangeCentralOnOff:function(a){!0==a?(this.spriteIcon.set_tile(this.CentralOn),this.MusSounOn=!0):(this.spriteIcon.set_tile(this.CentralOff),this.MusSounOn=!1)},ChangeFrame:function(a){null!=a&&this.spriteFon.set_tile(a)},Scale:function(a){null!=this.spriteIcon&&(this.spriteIcon.set_scaleX(a.x),this.spriteIcon.set_scaleY(a.y))},renderTileLayer:function(){null!=this.tileLayer&&this.tileLayer.render()},Free:function(){this.container=this.tileLayer=
this.Label=this.EndFunctionVoid=this.EndFunction=this.spriteIcon=this.spriteFon=null},__class__:h.Button});h.World=function(){this.velocityIterations=this.positionIterations=10;this.timeStep=0.03333333333333333;e.display.Sprite.call(this);this.init()};l["com.World"]=h.World;h.World.__name__=["com","World"];h.World.__super__=e.display.Sprite;h.World.prototype=z(e.display.Sprite.prototype,{debug:null,physWorld:null,timeStep:null,velocityIterations:null,positionIterations:null,init:function(){this.initWorld()},
initWorld:function(){var a=f.geom.Vec2.get(0,600,!0);this.physWorld=new f.space.Space(a)},initWorldBox:function(a){new Jb(this.physWorld);var b=f.phys.Body;null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);b=new b(d.util.ZPP_Flags.BodyType_STATIC);null==b.zpp_inner_i.userData&&(b.zpp_inner_i.userData={});b.zpp_inner_i.userData.data="Wall";var c=f.phys.Body;null==d.util.ZPP_Flags.BodyType_STATIC&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);c=new c(d.util.ZPP_Flags.BodyType_STATIC);null==c.zpp_inner_i.userData&&(c.zpp_inner_i.userData={});c.zpp_inner_i.userData.data="Wall";b.zpp_inner.wrap_shapes.add(new f.shape.Polygon(f.shape.Polygon.box(-10,a)));null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.setxy(70,a/2);c.zpp_inner.wrap_shapes.add(new f.shape.Polygon(f.shape.Polygon.box(-10,a)));null==c.zpp_inner.wrap_pos&&
c.zpp_inner.setupPosition();c.zpp_inner.wrap_pos.setxy(650,a/2);b.set_space(this.physWorld);c.set_space(this.physWorld)},update:function(){this.updatePhysics()},updatePhysics:function(){this.physWorld.step(this.timeStep,this.velocityIterations,this.positionIterations)},ClearWorld:function(){this.physWorld.clear();this.updatePhysics()},free:function(){this.physWorld=this.debug=null},__class__:h.World});e.events.Event=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=
c;this.eventPhase=1};l["openfl.events.Event"]=e.events.Event;e.events.Event.__name__=["openfl","events","Event"];e.events.Event.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCancelled:null,__isCancelledNow:null,clone:function(){var a=new e.events.Event(this.type,this.bubbles,this.cancelable);a.eventPhase=this.eventPhase;a.target=this.target;a.currentTarget=this.currentTarget;return a},isDefaultPrevented:function(){return this.__isCancelled||this.__isCancelledNow},
stopImmediatePropagation:function(){this.__isCancelledNow=this.__isCancelled=!0},stopPropagation:function(){this.__isCancelled=!0},toString:function(){return"[Event type="+this.type+" bubbles="+C.string(this.bubbles)+" cancelable="+C.string(this.cancelable)+"]"},__class__:e.events.Event};h.alagatar={};h.alagatar.CustomEvent=function(a,b,c,j){null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c);null!=j&&(this.properties=j)};l["com.alagatar.CustomEvent"]=h.alagatar.CustomEvent;h.alagatar.CustomEvent.__name__=
["com","alagatar","CustomEvent"];h.alagatar.CustomEvent.__super__=e.events.Event;h.alagatar.CustomEvent.prototype=z(e.events.Event.prototype,{properties:null,__class__:h.alagatar.CustomEvent});h.alagatar.DataManager=function(){this.achieves_counter=-1;e.display.Sprite.call(this);if(null!=h.alagatar.DataManager.instance)throw"Error: Allready inited. Use getInstance() instead;";h.alagatar.DataManager.instance=this};l["com.alagatar.DataManager"]=h.alagatar.DataManager;h.alagatar.DataManager.__name__=
["com","alagatar","DataManager"];h.alagatar.DataManager.instance=null;h.alagatar.DataManager.getInstance=function(){return null==h.alagatar.DataManager.instance?new h.alagatar.DataManager:h.alagatar.DataManager.instance};h.alagatar.DataManager.__super__=e.display.Sprite;h.alagatar.DataManager.prototype=z(e.display.Sprite.prototype,{dataObject:null,achievesList:null,achieves_counter:null,init:function(a){this.dataObject=e.net.SharedObject.getLocal(a);!1==this.dataObject.data.inited&&this.createDb();
this.initAchievesList()},createDb:function(){this.dataObject.clear();this.dataObject.data.inited=!0;this.dataObject.flush()},clearSaves:function(){this.createDb();this.initAchievesList()},saveData:function(a,b){this.dataObject.data[a]=b;this.dataObject.flush()},getData:function(a){return u.getProperty(this.dataObject.data,a)},saveBigger:function(a,b){var c=this.getData(a);(null==c||b>c)&&this.saveData(a,b)},calc:function(a,b,c){for(var j=0,d,c=c+1;b<c;)d=b++,d=a+""+d,d=this.getData(d),null!=d&&(j+=
d);null==j&&(j=0);return j},initAchievesList:function(){this.achievesList=[];this.achieves_counter=-1;this.createAchieve(h.alagatar.DataManager.newHealth4,1);this.createAchieve(h.alagatar.DataManager.newHealth5,1);this.createAchieve(h.alagatar.DataManager.killSkeleton,5);this.createAchieve(h.alagatar.DataManager.destroyBarrel,20);this.createAchieve(h.alagatar.DataManager.run,500);this.createAchieve(h.alagatar.DataManager.useLift,15);this.createAchieve(h.alagatar.DataManager.useTeleport,10);this.createAchieve(h.alagatar.DataManager.level7,
1);this.createAchieve(h.alagatar.DataManager.level26,1);this.createAchieve(h.alagatar.DataManager.allStars,81)},createAchieve:function(a,b){this.achieves_counter++;!0!=this.checkAchieve(this.achieves_counter)&&this.achievesList.push({id:this.achieves_counter,resource:"resource_"+a,demand:b})},checkAchieve:function(a){return null!=this.getData("Award"+a)?!0:!1},checkAchieves:function(){if(0!=this.achievesList.length){for(var a=-1,b=0,c=this.achievesList.length;b<c;){var j=b++;!0==this.checkAchieveDemand(this.achievesList[j].resource,
this.achievesList[j].demand)&&(this.openAchieve(this.achievesList[j].id),a=j)}0<=a&&this.achievesList.splice(a,1)}},checkAchieveDemand:function(a,b){return this.getData(a)>=b?!0:!1},openAchieve:function(a){this.dispatchEvent(new h.alagatar.CustomEvent(h.alagatar.DataManager.OwnAchieve,!1,!1,{id:a}));this.saveData("Award"+a,!0)},saveAchives:function(a){var a="resource_"+a,b=this.getData(a);null==b&&(b=0);b++;this.saveData(a,b);this.checkAchieves()},calcAchives:function(a){return C["int"](this.getData("resource_"+
a))},__class__:h.alagatar.DataManager});h.alagatar.NapeTools=function(){};l["com.alagatar.NapeTools"]=h.alagatar.NapeTools;h.alagatar.NapeTools.__name__=["com","alagatar","NapeTools"];h.alagatar.NapeTools.ContactCoordinates=function(a){var b=new f.geom.Vec2;a.zpp_inner.wrap_arbiters.at(0).get_collisionArbiter().get_contacts().foreach(function(a){null==a.zpp_inner.wrap_position&&a.zpp_inner.getposition();b=a.zpp_inner.wrap_position});return b};h.alagatar.NapeTools.RayCastFirst=function(a,b,c,j,d,i){b=
new f.geom.Ray(b,f.geom.Vec2.fromPolar(1,c));b.zpp_inner.maxdist=j;b.zpp_inner.maxdist;return a.rayCast(b,!1,new f.dynamics.InteractionFilter(d,~i))};h.alagatar.NapeTools.calcImpulseVec=function(a,b,c,j,d){null==d&&(d=0);null==j&&(j=0);a=b.sub(a);j=h.alagatar.Tools.randTo(j,0);d=h.alagatar.Tools.randTo(0,d);d=h.alagatar.Tools.toRad(j+d);a.rotate(d);a.set_length(c);return a};h.alagatar.NapeTools.SetShapeMaterials=function(a,b,c){var j=new f.phys.Material;a!=1E3*j.zpp_inner.density&&(j.zpp_inner.density=
a/1E3,j.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.PROPS));1E3*j.zpp_inner.density;b!=j.zpp_inner.elasticity&&(j.zpp_inner.elasticity=b/1,j.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));j.zpp_inner.elasticity;c!=j.zpp_inner.dynamicFriction&&(j.zpp_inner.dynamicFriction=c/1,j.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ANGDRAG|d.phys.ZPP_Material.ARBITERS));j.zpp_inner.dynamicFriction;return j};h.alagatar.NapeTools.SetInteractionFilter=
function(a,b){var c=new f.dynamics.InteractionFilter;c.zpp_inner.collisionGroup!=a&&(c.zpp_inner.collisionGroup=a,c.zpp_inner.invalidate());c.zpp_inner.collisionGroup;c.set_collisionMask(~b);return c};h.alagatar.NapeTools.shapePolygon=function(a,b){return new f.shape.Polygon(f.shape.Polygon.box(a,b))};h.alagatar.NapeTools.shapeCircle=function(a){return new f.shape.Circle(a/2)};h.alagatar.NapeTools.shapePolygonArr=function(a){return new f.shape.Polygon(a)};h.alagatar.NapeTools.createBox=function(a,
b,c,j,d,i,N,e){null==e&&(e=!1);null==N&&(N=0);b=new f.phys.Body(b,new f.geom.Vec2(d,i));c=new f.shape.Polygon(f.shape.Polygon.box(c,j));c.rotate(h.alagatar.Tools.toRad(N));c.zpp_inner.immutable_midstep("Shape::sensorEnabled");c.zpp_inner.sensorEnabled=e;c.zpp_inner.wake();c.zpp_inner.sensorEnabled;b.zpp_inner.wrap_shapes.add(c);b.zpp_inner.immutable_midstep("Body::space");if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a){if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))b.zpp_inner.component.woken=
!1;if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))(null==b.zpp_inner.space?null:b.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(b);null!=a&&a.zpp_inner.wrap_bodies.add(b)}null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.createCircle=function(a,b,c,j,d,i){null==i&&(i=!1);b=new f.phys.Body(b);c=new f.shape.Circle(c/2);c.zpp_inner.immutable_midstep("Shape::sensorEnabled");c.zpp_inner.sensorEnabled=i;c.zpp_inner.wake();c.zpp_inner.sensorEnabled;
b.zpp_inner.wrap_shapes.add(c);null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.setxy(j,d);b.zpp_inner.immutable_midstep("Body::space");if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a){if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))b.zpp_inner.component.woken=!1;if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))(null==b.zpp_inner.space?null:b.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(b);null!=a&&a.zpp_inner.wrap_bodies.add(b)}null==
b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.createBodyArr=function(a,b,c,j,d,i){null==i&&(i=!1);b=new f.phys.Body(b);c=new f.shape.Polygon(c);c.zpp_inner.immutable_midstep("Shape::body");if((null!=c.zpp_inner.body?c.zpp_inner.body.outer:null)!=b)null!=c.zpp_inner.body&&(null!=c.zpp_inner.body?c.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(c),null!=b&&b.zpp_inner.wrap_shapes.add(c);null!=c.zpp_inner.body?c.zpp_inner.body.outer:null;c.zpp_inner.immutable_midstep("Shape::sensorEnabled");
c.zpp_inner.sensorEnabled=i;c.zpp_inner.wake();c.zpp_inner.sensorEnabled;null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.setxy(j,d);b.zpp_inner.immutable_midstep("Body::space");if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a){if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))b.zpp_inner.component.woken=!1;if(null!=(null==b.zpp_inner.space?null:b.zpp_inner.space.outer))(null==b.zpp_inner.space?null:b.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(b);
null!=a&&a.zpp_inner.wrap_bodies.add(b)}null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectPivotJoint=function(a,b,c,j,d){b=new f.constraint.PivotJoint(b,c,b.worldPointToLocal(j,!0),c.worldPointToLocal(d,!0));if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):
b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectWeldJoint=function(a,b,c,j,d,i){null==i&&(i=0);b=new f.constraint.WeldJoint(b,c,b.worldPointToLocal(j,!0),c.worldPointToLocal(d,!0),i);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):
b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectDistanceJoint=function(a,b,c,j,d,i,N){b=new f.constraint.DistanceJoint(b,c,b.worldPointToLocal(j,!0),c.worldPointToLocal(d,!0),i,N);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):
b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectLineJoint=function(a,b,c,j,d,i,N,e){b=new f.constraint.LineJoint(b,c,b.worldPointToLocal(j,!0),c.worldPointToLocal(d,!0),i,N,e);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):
b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectPulleyJoint=function(a,b,c,j,d,i,N,e,o,h,x,T){b=new f.constraint.PulleyJoint(b,c,j,d,b.worldPointToLocal(i,!0),c.worldPointToLocal(N,!0),j.worldPointToLocal(e,!0),d.worldPointToLocal(o,!0),h,x,T);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),
null!=a?a.zpp_inner.wrap_constraints.add(b):b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectAngleJoint=function(a,b,c,j,d,i){b=new f.constraint.AngleJoint(b,c,j,d,i);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):
b.zpp_inner.space=null;null==b.zpp_inner.space?null:b.zpp_inner.space.outer;return b};h.alagatar.NapeTools.connectMotorJoint=function(a,b,c,j,d){b=new f.constraint.MotorJoint(b,c,j,d);if((null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a)null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):b.zpp_inner.space=null;null==b.zpp_inner.space?
null:b.zpp_inner.space.outer;return b};h.alagatar.Stats=function(){this.graphHeight=55;this.graphWidth=70;e.display.Sprite.call(this);this.ms_prev=this.fps=this.mem_max=0;this.get_graphics().beginFill(51);this.get_graphics().drawRect(0,0,this.graphWidth,this.graphHeight);this.get_graphics().endFill();this.textField=new e.text.TextField;this.textField.set_defaultTextFormat(new e.text.TextFormat("_sans",9,65280));this.textField.multiline=!0;this.textField.set_width(this.graphWidth);this.textField.set_height(this.graphHeight);
this.textField.selectable=!1;this.textField.mouseEnabled=!1;this.addChild(this.textField);this.addEventListener(e.events.Event.ADDED_TO_STAGE,w(this,this.init));this.addEventListener(e.events.Event.REMOVED_FROM_STAGE,w(this,this.destroy))};l["com.alagatar.Stats"]=h.alagatar.Stats;h.alagatar.Stats.__name__=["com","alagatar","Stats"];h.alagatar.Stats.__super__=e.display.Sprite;h.alagatar.Stats.prototype=z(e.display.Sprite.prototype,{graphWidth:null,graphHeight:null,textField:null,timer:null,fps:null,
ms:null,ms_prev:null,mem:null,mem_max:null,log:null,init:function(){this.addEventListener(e.events.Event.ENTER_FRAME,w(this,this.update))},destroy:function(){this.removeEventListener(e.events.Event.ENTER_FRAME,w(this,this.update))},update:function(){this.timer=e.Lib.getTimer();this.timer-1E3>this.ms_prev?(this.mem_max=this.mem_max>this.mem?this.mem_max:this.mem,this.log="FPS: "+this.fps+" / "+this.stage.frameRate+"\nMEM: "+h.alagatar.Tools.roundDec(this.mem,5)+"\nMAX: "+h.alagatar.Tools.roundDec(this.mem_max,
5)+"\nMS: "+(this.timer-this.ms),this.fps=0,this.ms_prev=this.timer,this.textField.set_text(this.log)):(this.fps++,this.ms=this.timer)},__class__:h.alagatar.Stats});h.alagatar.Tools=function(){};l["com.alagatar.Tools"]=h.alagatar.Tools;h.alagatar.Tools.__name__=["com","alagatar","Tools"];h.alagatar.Tools.addText=function(a,b,c){null==c&&(c=16777215);null==b&&(b=24);b=new e.text.TextFormat("",b,c);b.align=e.text.TextFormatAlign.CENTER;c=new e.text.TextField;c.mouseEnabled=!1;c.set_defaultTextFormat(b);
c.embedFonts=!0;c.selectable=!1;c.set_text(a);return c};h.alagatar.Tools.randTo=function(a,b,c){null==c&&(c=0);if(0==c)return Math.floor(Math.random()*(b-a+1))+a;a=Math.random()*(b-a+1)+a;a=h.alagatar.Tools.roundDec(a,c);a>b&&(a=b);return a};h.alagatar.Tools.roundDec=function(a,b){null==b&&(b=0);var c;c=D.Boot.__cast(Math.pow(10,b),Jc);return Math.round(a*c)/c};h.alagatar.Tools.clamp=function(a,b,c){return Math.max(b,Math.min(c,a))};h.alagatar.Tools.toDeg=function(a){return a*(180/Math.PI)};h.alagatar.Tools.toRad=
function(a){return a*(Math.PI/180)};h.alagatar.Tools.localToLocal=function(a,b,c){c=null!=c?c:new e.geom.Point;c=a.localToGlobal(c);return c=b.globalToLocal(c)};h.alagatar.Tools.calcDistOfDots=function(a,b,c,j){return Math.sqrt((c-a)*(c-a)+(j-b)*(j-b))};h.alagatar.Tools.angleOfPoints=function(a,b,c,j){return 180*Math.atan2(-(j-b),-(c-a))/Math.PI};h.alagatar.Tools.toPercent=function(a,b){return 100*(a/b)};h.alagatar.Tools.fromPercent=function(a,b){return a*b/100};h.alagatar.Tools.removeObject=function(a,
b){var c=h.alagatar.Tools.indexOf(a,b);return-1!=c?(a.splice(c,1),!0):!1};h.alagatar.Tools.indexOf=function(a,b){for(var c=0,j=a.length;c<j;){var d=c++;if(a[d]==b)return d}return-1};h.alagatar.Tools.clearLayer=function(a){for(;0<a.get_numChildren();)a.removeChildAt(0)};h.alagatar.Tools.rotatePointByAngle=function(a,b,c,j,d){var i=Math.cos(d),d=Math.sin(d);return new e.geom.Point(a+(c-a)*i-(j-b)*d,b+(c-a)*d+(j-b)*i)};h.alagatar.Tools.circleInRect=function(a,b,c){var j=new e.geom.Point;a.x-b<=c.x&&
(j.x=-1);a.x+b>=c.x+c.width&&(j.x=1);a.y-b<=c.y&&(j.y=-1);a.y+b>=c.y+c.height&&(j.y=1);return j};h.alagatar.Tools.prototype={pointInRect:function(a,b,c,j,d,i,N){a=i-a;N-=b;b=Math.sqrt(a*a+N*N);N=Math.atan2(N,a)-d;d=Math.cos(N)*b;b*=Math.sin(N);return d>-0.5*c&&d<0.5*c&&b>-0.5*j&&b<0.5*j?!0:!1},__class__:h.alagatar.Tools};h.effects={};h.effects.Blink=function(){this.stopComplete=!1;this.TimerBool=!0;e.display.Sprite.call(this)};l["com.effects.Blink"]=h.effects.Blink;h.effects.Blink.__name__=["com",
"effects","Blink"];h.effects.Blink.__super__=e.display.Sprite;h.effects.Blink.prototype=z(e.display.Sprite.prototype,{complete:null,TimerBool:null,TimerFlash:null,graphic:null,stopComplete:null,init:function(a){this.graphic=a;this.TimerFlash=new e.utils.Timer(100,8);this.TimerFlash.addEventListener("timer",w(this,this.FlashOn));this.TimerFlash.addEventListener("timerComplete",w(this,this.completeTimer))},completeTimer:function(){!0==this.stopComplete?this.graphic.alpha=0:this.complete()},start:function(a,
b){null==b&&(b=8);null==a&&(a=100);this.TimerFlash.reset();this.TimerFlash.set_delay(a);this.TimerFlash.set_repeatCount(b);this.TimerFlash.start()},FlashOn:function(){this.TimerBool?(this.graphic.alpha=0.3,this.TimerBool=!1):(this.graphic.alpha=1,this.TimerBool=!0)},stop:function(){this.stopComplete=!0;this.TimerFlash.stop()},free:function(){this.graphic=null;this.TimerFlash.stop();this.TimerFlash=null},__class__:h.effects.Blink});h.effects.BlinkButton=function(){this.TimerBool=!0;e.display.Sprite.call(this)};
l["com.effects.BlinkButton"]=h.effects.BlinkButton;h.effects.BlinkButton.__name__=["com","effects","BlinkButton"];h.effects.BlinkButton.__super__=e.display.Sprite;h.effects.BlinkButton.prototype=z(e.display.Sprite.prototype,{complete:null,TimerBool:null,TimerFlash:null,graphic:null,init:function(a){this.graphic=a;this.TimerFlash=new e.utils.Timer(100,8);this.TimerFlash.addEventListener("timer",w(this,this.FlashOn));this.TimerFlash.addEventListener("timerComplete",w(this,this.completeTimer))},completeTimer:function(){null!=
this.complete&&this.complete()},start:function(a,b){null==b&&(b=8);null==a&&(a=100);this.TimerFlash.reset();this.TimerFlash.set_delay(a);this.TimerFlash.set_repeatCount(b);this.TimerFlash.start()},FlashOn:function(){this.TimerBool?(this.graphic.set_alpha(0.1),this.TimerBool=!1):(this.graphic.set_alpha(1),this.TimerBool=!0)},free:function(){this.graphic=null;this.TimerFlash.stop();this.TimerFlash=null},__class__:h.effects.BlinkButton});h.effects.FallingStones=function(){e.display.Sprite.call(this)};
l["com.effects.FallingStones"]=h.effects.FallingStones;h.effects.FallingStones.__name__=["com","effects","FallingStones"];h.effects.FallingStones.__super__=e.display.Sprite;h.effects.FallingStones.prototype=z(e.display.Sprite.prototype,{parts:null,init:function(a,b,c,j,d){this.parts=[];for(var i=0;i<a;)i++,this.parts.push(new h.effects.FallingStonesPart(b,c,j,d))},start:function(){for(var a=0,b=this.parts;a<b.length;){var c=b[a];++a;c.start()}},update:function(){for(var a=0,b=this.parts;a<b.length;){var c=
b[a];++a;c.update()}},stop:function(){for(var a=0,b=this.parts;a<b.length;){var c=b[a];++a;c.stop()}},hide:function(){for(var a=0,b=this.parts;a<b.length;){var c=b[a];++a;c.hide()}},free:function(){for(var a=0,b=this.parts;a<b.length;){var c=b[a];++a;c.free()}h.alagatar.Tools.clearLayer(this);this.parts=[];this.parts=null},__class__:h.effects.FallingStones});h.effects.FallingStonesPart=function(a,b,c,j){this.active=!1;this.startX=a;this.startY=b;this.startRand=c;this.graphic=new h.jdtiles.jda.TileSprite(j,
"desFloorPath"+h.alagatar.Tools.randTo(1,2));this.graphic.set_y(b);this.graphic.alpha=0;j.addChild(this.graphic);this.speed=h.alagatar.Tools.randTo(0.2,1,1);this.acceleration=h.alagatar.Tools.randTo(0.3,0.8,1);this.endY=b+120;this.halfEndY=b+60};l["com.effects.FallingStonesPart"]=h.effects.FallingStonesPart;h.effects.FallingStonesPart.__name__=["com","effects","FallingStonesPart"];h.effects.FallingStonesPart.prototype={graphic:null,startY:null,startX:null,startRand:null,speed:null,tempSpeed:null,
acceleration:null,active:null,halfEndY:null,endY:null,start:function(){this.graphic.alpha=1;this.graphic.set_x(this.startX+h.alagatar.Tools.randTo(-this.startRand,this.startRand));this.graphic.set_y(this.startY);this.tempSpeed=this.speed;this.active=!0},update:function(){var a=this.graphic;a.set_y(a.get_y()+this.tempSpeed);this.tempSpeed+=this.acceleration;this.graphic.get_y()>=this.halfEndY&&(this.graphic.alpha=1-h.alagatar.Tools.toPercent(this.graphic.get_y(),this.endY)/120);this.graphic.get_y()>=
this.endY&&(!0==this.active?this.start():this.hide())},stop:function(){this.active=!1},hide:function(){this.graphic.alpha=0},free:function(){this.graphic=null},__class__:h.effects.FallingStonesPart};h.effects.Shaker=function(){};l["com.effects.Shaker"]=h.effects.Shaker;h.effects.Shaker.__name__=["com","effects","Shaker"];h.effects.Shaker.prototype={shakeTimer:null,shakeClip:null,distance:null,frequency:null,duration:null,startX:null,startY:null,add:function(a,b,c,j){null==j&&(j=30);null==c&&(c=30);
null==b&&(b=3E3);this.shakeClip=a;this.duration=b;this.frequency=c;this.distance=j;this.startX=this.shakeClip.get_x();this.shakeTimer=new e.utils.Timer(this.frequency,this.duration/this.frequency|0);this.shakeTimer.addEventListener("timer",w(this,this.shakeUpdate));this.shakeTimer.addEventListener("timerComplete",w(this,this.shakeComplete))},start:function(){this.shakeTimer.reset();this.shakeTimer.start()},shakeUpdate:function(){this.shakeClip.set_x(this.startX+(-this.distance/2+Math.random()*this.distance))},
shakeComplete:function(){this.shakeClip.set_x(this.startX);this.shakeTimer.stop()},stop:function(){this.shakeComplete()},free:function(){this.shakeTimer.stop();this.shakeClip=this.shakeTimer=null},__class__:h.effects.Shaker};h.jdtiles={};h.jdtiles.jda={};h.jdtiles.jda.tile={};h.jdtiles.jda.tile.Base=function(a){this.layer=a;this.alpha=1;this.animated=!1;this._transform=[]};l["com.jdtiles.jda.tile.Base"]=h.jdtiles.jda.tile.Base;h.jdtiles.jda.tile.Base.__name__=["com","jdtiles","jda","tile","Base"];
h.jdtiles.jda.tile.Base.prototype={transform:null,oaX:null,oaY:null,alpha:null,animated:null,parent:null,name:null,layer:null,_rotation:null,_scaleX:null,_scaleY:null,_indice:null,_transform:null,_x:null,_y:null,_oaX:null,_oaY:null,step:function(){},get_indice:function(){return 0},set_indice:function(){return 0},get_transform:function(){return null},get_x:function(){return 0},set_x:function(){return 0},get_y:function(){return 0},set_y:function(){return 0},get_oaX:function(){return 0},get_oaY:function(){return 0},
get_scaleX:function(){return 0},set_scaleX:function(){return 0},get_scaleY:function(){return 0},set_scaleY:function(){return 0},get_rotationRad:function(){return 0},set_rotationRad:function(){return 0},free:function(){this.layer=this.parent=null;this._transform=[];this._transform=null},__class__:h.jdtiles.jda.tile.Base,__properties__:{set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotationRad:"set_rotationRad",get_rotationRad:"get_rotationRad",
get_oaY:"get_oaY",get_oaX:"get_oaX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_transform:"get_transform",set_indice:"set_indice",get_indice:"get_indice"}};h.jdtiles.jda.tile.Group=function(a){h.jdtiles.jda.tile.Base.call(this,a);this.children=[]};l["com.jdtiles.jda.tile.Group"]=h.jdtiles.jda.tile.Group;h.jdtiles.jda.tile.Group.__name__=["com","jdtiles","jda","tile","Group"];h.jdtiles.jda.tile.Group.__super__=h.jdtiles.jda.tile.Base;h.jdtiles.jda.tile.Group.prototype=z(h.jdtiles.jda.tile.Base.prototype,
{numChildren:null,children:null,initChild:function(a){a.parent=this},iterator:function(){return B.iter(this.children)},indexOf:function(a){return Vb.indexOf(this.children,a)},addChild:function(a){this.removeChild(a);this.initChild(a);return this.children.push(a)},addChildAt:function(a,b){this.removeChild(a);this.initChild(a);this.children.splice(b,0,a);return b},removeChild:function(a){if(null==a.parent)return a;if(a.parent!=this)throw"Error: Invalid parent";var b=this.indexOf(a);0<=b&&(this.children.splice(b,
1),a.parent=null);return a},removeChildAt:function(a){a=this.children.splice(a,1)[0];null!=a&&(a.parent=null);return a},removeAllChildren:function(){for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;D.Boot.__instanceof(c,h.jdtiles.jda.TileContainer)&&D.Boot.__cast(c,h.jdtiles.jda.TileContainer).removeAllChildren();c.parent=null}return this.children.splice(0,this.children.length)},getChildAt:function(a){if(0>a||a==this.children.length)throw"Error: Out of range";return this.children[a]},getChildByName:function(a){for(var b=
0,c=this.children;b<c.length;){var j=c[b];++b;if(j.name==a)return j}return null},getChildIndex:function(a){return this.indexOf(a)},setChildIndex:function(a,b){var c=this.indexOf(a);0<=c&&b!=c&&(this.children.splice(c,1),this.children.splice(b,0,a))},get_numChildren:function(){return null!=this.children?this.children.length:0},free:function(){h.jdtiles.jda.tile.Base.prototype.free.call(this);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;c.free()}this.children=[];this.children=null},__class__:h.jdtiles.jda.tile.Group,
__properties__:z(h.jdtiles.jda.tile.Base.prototype.__properties__,{get_numChildren:"get_numChildren"})});h.jdtiles.jda.TileContainer=function(a){h.jdtiles.jda.tile.Group.call(this,a);this._rotation=this._offsetX=this._offsetY=0;this._scaleX=this._scaleY=1;this._x=this._y=0;this.dirty=!0};l["com.jdtiles.jda.TileContainer"]=h.jdtiles.jda.TileContainer;h.jdtiles.jda.TileContainer.__name__=["com","jdtiles","jda","TileContainer"];h.jdtiles.jda.TileContainer.__super__=h.jdtiles.jda.tile.Group;h.jdtiles.jda.TileContainer.prototype=
z(h.jdtiles.jda.tile.Group.prototype,{_offsetX:null,_offsetY:null,dirty:null,get_x:function(){return this._x},set_x:function(a){this._x!=a&&(this._x=a);return a},get_y:function(){return this._y},set_y:function(a){this._y!=a&&(this._y=a);return a},get_rotationRad:function(){return this._rotation},set_rotationRad:function(a){this._rotation!=a&&(this._rotation=a,this.dirty=!0);return a},get_rotation:function(){return this._rotation*(180/Math.PI)},set_rotation:function(a){a*=Math.PI/180;this._rotation!=
a&&(this._rotation=a,this.dirty=!0);return a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){this._scaleX!=a&&(this._scaleX=a,this.dirty=!0);return a},get_scaleY:function(){return this._scaleY},set_scaleY:function(a){this._scaleY!=a&&(this._scaleY=a,this.dirty=!0);return a},get_offsetX:function(){return this._offsetX},set_offsetX:function(a){return this._offsetX=a},get_offsetY:function(){return this._offsetY},set_offsetY:function(a){return this._offsetY=a},addChildDO:function(a){this.layer.view.addChild(a)},
updateDO:function(){p.Log.trace(10,{fileName:"TileContainer.hx",lineNumber:136,className:"com.jdtiles.jda.TileContainer",methodName:"updateDO"});p.Log.trace(20,{fileName:"TileContainer.hx",lineNumber:137,className:"com.jdtiles.jda.TileContainer",methodName:"updateDO"})},free:function(){h.jdtiles.jda.tile.Group.prototype.free.call(this)},__class__:h.jdtiles.jda.TileContainer,__properties__:z(h.jdtiles.jda.tile.Group.prototype.__properties__,{set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",
get_offsetX:"get_offsetX",set_rotation:"set_rotation",get_rotation:"get_rotation"})});h.effects.ShotConfetti=function(a){this.amount=30;h.jdtiles.jda.TileContainer.call(this,a)};l["com.effects.ShotConfetti"]=h.effects.ShotConfetti;h.effects.ShotConfetti.__name__=["com","effects","ShotConfetti"];h.effects.ShotConfetti.__super__=h.jdtiles.jda.TileContainer;h.effects.ShotConfetti.prototype=z(h.jdtiles.jda.TileContainer.prototype,{amount:null,confetti:null,init:function(a){this.alpha=0;this.confetti=
[];for(var b,c=0,j=this.amount;c<j;)c++,b=new h.effects.Confetti(a,this.layer,"levelBtnstarFull"),b.parentShoot=this,this.addChild(b),this.confetti.push(b)},shoot:function(a,b){this.alpha=1;this.set_x(a);this.set_y(b);for(var c=0,j=this.confetti;c<j.length;){var d=j[c];++c;d.start()}},complete:function(){this.amount-=1;0>=this.amount&&(this.alpha=0,this.layer.update=!1,this.layer.render())},free:function(){h.jdtiles.jda.TileContainer.prototype.free.call(this);this.confetti=[];this.confetti=null},
__class__:h.effects.ShotConfetti});h.jdtiles.jda.TileSprite=function(a,b){h.jdtiles.jda.tile.Base.call(this,a);this._indice=-1;this._anchor=h.jdtiles.jda.AnchorPoint.CC;this._rotation=this._offsetX=this._offsetY=this._oaX=this._oaY=0;this._scaleX=this._scaleY=1;this._x=this._y=0;this.dirty=!0;this.mouseEnabled=!1;this.name=b;this.set_tile(b)};l["com.jdtiles.jda.TileSprite"]=h.jdtiles.jda.TileSprite;h.jdtiles.jda.TileSprite.__name__=["com","jdtiles","jda","TileSprite"];h.jdtiles.jda.TileSprite.__super__=
h.jdtiles.jda.tile.Base;h.jdtiles.jda.TileSprite.prototype=z(h.jdtiles.jda.tile.Base.prototype,{height:null,width:null,mouseEnabled:null,_offsetX:null,_offsetY:null,_anchor:null,dirty:null,_tile:null,size:null,frames:null,resetVar:function(){this.set_indice(this.frames[0])},get_tile:function(){return this._tile},set_tile:function(a){this._tile!=a&&(this._tile=a,null!=this.layer&&(this.frames=this.layer.tilesheet.getAnim(this._tile),this.resetVar(),this.size=this.layer.tilesheet.getSize(this._indice)));
return a},get_indice:function(){return this._indice},set_indice:function(a){this._indice!=a&&(this._indice=a);return a},get_height:function(){return this.size.height*this._scaleY},get_width:function(){return this.size.width*this._scaleX},get_x:function(){return this._x},set_x:function(a){this._x!=a&&(this._x=a);return a},get_y:function(){return this._y},set_y:function(a){this._y!=a&&(this._y=a);return a},get_rotationRad:function(){return this._rotation},set_rotationRad:function(a){this._rotation!=
a&&(this._rotation=a,this.dirty=!0);return a},get_rotation:function(){return this._rotation*(180/Math.PI)},set_rotation:function(a){a*=Math.PI/180;this._rotation!=a&&(this._rotation=a,this.dirty=!0);return a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){this._scaleX!=a&&(this._scaleX=a,this.dirty=!0);return a},get_scaleY:function(){return this._scaleY},set_scaleY:function(a){this._scaleY!=a&&(this._scaleY=a,this.dirty=!0);return a},get_transform:function(){if(!0==this.dirty)if(this.dirty=
!1,0!=this._rotation){var a=Math.cos(this._rotation),b=Math.sin(this._rotation);this._transform[0]=a*this._scaleX;this._transform[1]=-(b*this._scaleY);this._transform[2]=b*this._scaleX;this._transform[3]=a*this._scaleY}else this._transform[0]=this._scaleX,this._transform[1]=0,this._transform[2]=0,this._transform[3]=this._scaleY;return this._transform},get_offsetX:function(){return this._offsetX},set_offsetX:function(a){this._offsetX=-1*a;this.setOaXY();return this._offsetX},get_offsetY:function(){return this._offsetY},
set_offsetY:function(a){this._offsetY=-1*a;this.setOaXY();return this._offsetY},get_anchor:function(){return this._anchor},set_anchor:function(a){this._anchor=a;this.setOaXY();return a},get_oaX:function(){return this._oaX},get_oaY:function(){return this._oaY},setOaXY:function(){switch(this._anchor[1]){case 0:this._oaY=this._oaX=-0.5;break;case 1:this._oaX=0;this._oaY=-0.5;break;case 2:this._oaX=0.5;this._oaY=-0.5;break;case 3:this._oaX=-0.5;this._oaY=0;break;case 4:this._oaY=this._oaX=0;break;case 5:this._oaX=
0.5;this._oaY=0;break;case 6:this._oaX=-0.5;this._oaY=0.5;break;case 7:this._oaX=0;this._oaY=0.5;break;case 8:this._oaY=this._oaX=0.5}this._oaX=this._oaX*this.get_width()+this._offsetX;this._oaY=this._oaY*this.get_height()+this._offsetY},free:function(){h.jdtiles.jda.tile.Base.prototype.free.call(this);this.frames=[];this.size=this.frames=null},__class__:h.jdtiles.jda.TileSprite,__properties__:z(h.jdtiles.jda.tile.Base.prototype.__properties__,{set_anchor:"set_anchor",get_anchor:"get_anchor",get_width:"get_width",
get_height:"get_height",set_tile:"set_tile",get_tile:"get_tile",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_rotation:"set_rotation",get_rotation:"get_rotation"})});h.effects.Confetti=function(a,b,c){this.angleCoef=0.3;h.jdtiles.jda.TileSprite.call(this,b,c);this._scaleX=this._scaleY=h.alagatar.Tools.randTo(0.5,1,1);this.lifeTime=h.alagatar.Tools.randTo(0.5,1.2,1);this.gravity=260;this.distanceX=350;this.distanceY=h.alagatar.Tools.randTo(-200,
0);1==h.alagatar.Tools.randTo(1,2)&&(this.angleCoef*=-1);a=h.alagatar.Tools.toRad(a+180);a=h.alagatar.Tools.rotatePointByAngle(this.distanceX,this.distanceY,this.get_x(),this.get_y(),a);a.x=h.alagatar.Tools.randTo(-a.x,a.x);this.path=(new m.MotionPath).bezier(a.x,this.gravity,a.x,a.y)};l["com.effects.Confetti"]=h.effects.Confetti;h.effects.Confetti.__name__=["com","effects","Confetti"];h.effects.Confetti.__super__=h.jdtiles.jda.TileSprite;h.effects.Confetti.prototype=z(h.jdtiles.jda.TileSprite.prototype,
{parentShoot:null,speed:null,distanceX:null,distanceY:null,gravity:null,lifeTime:null,path:null,angleCoef:null,start:function(){this.set_x(0);this.set_y(0);this.alpha=1;m.Actuate.motionPath(this,this.lifeTime,{x:this.path.get_x(),y:this.path.get_y()}).ease(m.easing.Linear.get_easeNone()).onUpdate(w(this,this.tweenUpdate)).onComplete(w(this,this.hide))},hide:function(){null!=this.parentShoot&&this.parentShoot.complete()},tweenUpdate:function(){this._rotation+=this.angleCoef},free:function(){h.jdtiles.jda.TileSprite.prototype.free.call(this);
this.parentShoot=this.path=null},__class__:h.effects.Confetti});h.effects.TextUp=function(){this.time=0.5;this.canUse=!0;e.display.Sprite.call(this);this.textField=h.alagatar.Tools.addText("",16,16772271);this.textField.set_width(100);this.textField.set_height(50);this.textField.set_x(-50);this.textField.set_y(-25);this.addChild(this.textField)};l["com.effects.TextUp"]=h.effects.TextUp;h.effects.TextUp.__name__=["com","effects","TextUp"];h.effects.TextUp.__super__=e.display.Sprite;h.effects.TextUp.prototype=
z(e.display.Sprite.prototype,{canUse:null,time:null,score:null,textField:null,starty:null,init:function(a,b){this.time=a;this.score=b;this.textField.set_text(""+this.score);this.canUse=!0;this.set_alpha(1);this.starty=this.get_y();this.start()},start:function(){m.Actuate.tween(this,this.time,{y:this.starty-50,alpha:0.01}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.Complete))},Complete:function(){this.canUse=!1},free:function(){this.textField=null},__class__:h.effects.TextUp});h.jdtiles.Tile=
function(){if(null!=h.jdtiles.Tile.instance)throw"Error: Allready inited. Use getInstance() instead;";h.jdtiles.Tile.instance=this;this.parserXML=new p.ds.StringMap;this.layers=new p.ds.StringMap};l["com.jdtiles.Tile"]=h.jdtiles.Tile;h.jdtiles.Tile.__name__=["com","jdtiles","Tile"];h.jdtiles.Tile.instance=null;h.jdtiles.Tile.getInstance=function(){return null==h.jdtiles.Tile.instance?new h.jdtiles.Tile:h.jdtiles.Tile.instance};h.jdtiles.Tile.prototype={parserXML:null,layers:null,getBitmapData:function(a){return e.Assets.getBitmapData("Assets/images"+
G.currentVersion+"/"+a+".png")},getList:function(a){if(!1==this.parserXML.exists(a)){var b=new h.jdtiles.jdt.ParseXML(e.Assets.getBitmapData("Assets/images"+G.currentVersion+"/"+a+".png"),ua.getSpriteXML(a));this.parserXML.set(a,b);return b}return this.parserXML.get(a)},getTileLayer:function(a,b){if(!1==this.layers.exists(a)){var c=new h.jdtiles.jda.TileLayer(this.getList(b));this.layers.set(a,c);return c}return this.layers.get(a)},update:function(){for(var a=this.layers.iterator();a.hasNext();){var b=
a.next();0==b.children.length||!1==b.update||b.render()}},changeScene:function(){for(var a=this.parserXML.keys();a.hasNext();){var b=a.next();this.parserXML.remove(b)}for(a=this.layers.keys();a.hasNext();)b=a.next(),this.layers.get(b).free(),this.layers.remove(b)},__class__:h.jdtiles.Tile};h.jdtiles.jda.TileClip=function(a,b,c){null==c&&(c=30);this._reverse=!1;h.jdtiles.jda.TileSprite.call(this,a,b);this.fps=c;this.loop=!0};l["com.jdtiles.jda.TileClip"]=h.jdtiles.jda.TileClip;h.jdtiles.jda.TileClip.__name__=
["com","jdtiles","jda","TileClip"];h.jdtiles.jda.TileClip.__super__=h.jdtiles.jda.TileSprite;h.jdtiles.jda.TileClip.prototype=z(h.jdtiles.jda.TileSprite.prototype,{totalFrames:null,onComplete:null,fps:null,loop:null,_currentAnim:null,_reverse:null,time:null,prevFrame:null,gotoAndStop:function(a){this.set_currentFrame(a);this.stop()},gotoAndPlay:function(a){this.set_currentFrame(a);this.play()},step:function(a){this.time+=a;a=this.get_currentFrame();if(a!=this.prevFrame){var b=a<this.prevFrame;this.prevFrame=
a;if(b){if(this.loop?this.set_indice(this.frames[a]):(this.animated=!1,this.set_currentFrame(this.get_totalFrames()-1)),null!=this.onComplete)this.onComplete(this)}else this.set_indice(this.frames[a])}},play:function(){this.animated||(this.animated=!0,this.get_currentFrame()==this.get_totalFrames()-1&&(this.set_currentFrame(0),this.prevFrame=-1))},stop:function(){this.animated=!1;0==this.get_currentFrame()&&(this.prevFrame=-1)},breakTile:function(a,b,c,j,d,i){null==d&&(d=!0);null==j&&(j=30);null==
c&&(c=!0);this.layer.behaviours.exists(this._tile+a);for(var N=0,e=b.length;N<e;){var f=N++;b[f]=this.frames[b[f]]}b=new h.jdtiles.jda.behaviours.BehaviourData(b,c,j,d,i);this.layer.behaviours.set(this._tile+a,b)},resetVar:function(){h.jdtiles.jda.TileSprite.prototype.resetVar.call(this);this.time=0;this.prevFrame=-1},get_currentFrame:function(){return Math.floor(this.time/1E3*this.fps)%this.frames.length},set_currentFrame:function(a){a>=this.get_totalFrames()&&(a=this.get_totalFrames()-1);this.time=
Math.floor(1E3*a/this.fps)+1;this.set_indice(this.frames[a]);return a},get_reverse:function(){return this._reverse},set_reverse:function(a){if(!0==a&&!1==this._reverse||!1==a&&!0==this._reverse)this.frames.reverse(),this._reverse=a;return a},get_totalFrames:function(){return this.frames.length},get_currentAnim:function(){return this._currentAnim},set_currentAnim:function(a){if(null!=this.layer.behaviours.get(this._tile+a)&&this._currentAnim!=a){var b=this.layer.behaviours.get(this._tile+a);this.frames=
b.frames;this.fps=b.fps;this.loop=b.loop;this.animated=b.playing;this.onComplete=b.onComplete;this.resetVar();this._currentAnim=a}return a},free:function(){h.jdtiles.jda.TileSprite.prototype.free.call(this);this.onComplete=null},__class__:h.jdtiles.jda.TileClip,__properties__:z(h.jdtiles.jda.TileSprite.prototype.__properties__,{set_reverse:"set_reverse",get_reverse:"get_reverse",set_currentAnim:"set_currentAnim",get_currentAnim:"get_currentAnim",get_totalFrames:"get_totalFrames",set_currentFrame:"set_currentFrame",
get_currentFrame:"get_currentFrame"})});h.jdtiles.jda.TileLayer=function(a){this.useTint=!1;this.useAlpha=this.useTransforms=!0;this.useAdditive=!1;this.update=this.useSmoothing=!0;this.globalScalePosition=1;this.view=new e.display.Sprite;this.mouseEnabled(!1);this.behaviours=new p.ds.StringMap;this.tilesheet=a;this.drawList=new h.jdtiles.jda.behaviours.DrawList;h.jdtiles.jda.tile.Group.call(this,this)};l["com.jdtiles.jda.TileLayer"]=h.jdtiles.jda.TileLayer;h.jdtiles.jda.TileLayer.__name__=["com",
"jdtiles","jda","TileLayer"];h.jdtiles.jda.TileLayer.__super__=h.jdtiles.jda.tile.Group;h.jdtiles.jda.TileLayer.prototype=z(h.jdtiles.jda.tile.Group.prototype,{globalScalePosition:null,behaviours:null,view:null,tilesheet:null,update:null,useSmoothing:null,useAdditive:null,useAlpha:null,useTransforms:null,useTint:null,drawList:null,list:null,fields:null,offsetTransform:null,offsetRGB:null,offsetAlpha:null,elapsed:null,index:null,setRenderBorders:function(a,b){null==b&&(b=0);null==a&&(a=0);0!=a&&(this.view.get_graphics().renderWidth=
a);0!=b&&(this.view.get_graphics().renderHeight=b)},mouseEnabled:function(a){this.view.mouseEnabled=a;this.view.mouseChildren=a},render:function(a){this.drawList.begin(null==a?0:a,!0,!0,!1,!1);this.renderGroup();this.drawList.end();this.view.get_graphics().clear();this.tilesheet.drawTiles(this.view.get_graphics(),this.drawList.list,this.useSmoothing,this.drawList.flags)},renderGroup:function(){this.list=this.drawList.list;this.fields=this.drawList.fields;this.offsetTransform=this.drawList.offsetTransform;
this.offsetAlpha=this.drawList.offsetAlpha;this.elapsed=this.drawList.elapsed;this.index=0;this.checkContainer(this.children);this.drawList.index=this.index},checkContainer:function(a,b){var c;c=null==b?[]:b.slice();for(var j=0;j<a.length;){var d=a[j];++j;0.01>=d.alpha||(!0==D.Boot.__instanceof(d,h.jdtiles.jda.TileContainer)?(c.push(d),this.checkContainer(d.children,c),c=[],null!=b&&(c=b.slice())):this.renderSprite(d,b))}},renderSprite:function(a,b){!0==a.animated&&a.step(this.drawList.elapsed);var c=
[],j=0,d=0,i=0;if(null==b)i=a.alpha,c=a.get_transform(),j=a.get_x()-a.get_oaX()*c[0]-a.get_oaY()*c[1],d=a.get_y()-a.get_oaX()*c[2]-a.get_oaY()*c[3];else{for(var N=i=0,e=j=1,f=0,h=1,d=0;d<b.length;){var x=b[d];++d;i+=x.get_x();N+=x.get_y();j*=x.get_scaleX();e*=x.get_scaleY();f+=x.get_rotationRad();h*=x.alpha}j*=a.get_scaleX();e*=a.get_scaleY();x=f+a.get_rotationRad();0!=x?(d=Math.cos(x),x=Math.sin(x),c[0]=d*j,c[1]=-(x*e),c[2]=x*j,c[3]=d*e):(c[0]=j,c[1]=0,c[2]=0,c[3]=e);j=a.get_x()-a.get_oaX()*c[0]-
a.get_oaY()*c[1];d=a.get_y()-a.get_oaX()*c[2]-a.get_oaY()*c[3];0==f?(j=i+j,d=N+d):(e=i+j,d=N+d,x=Math.cos(f),f=Math.sin(f),j=i+(e-i)*x-(d-N)*f,d=N+(e-i)*f+(d-N)*x);i=h*a.alpha}this.addToRender(a.get_indice(),j,d,c[0],c[1],c[2],c[3],i)},addToRender:function(a,b,c,d,g,i,N,e){this.list[this.index]=b;this.list[this.index+1]=c;this.list[this.index+2]=a;this.list[this.index+this.offsetTransform]=d;this.list[this.index+this.offsetTransform+1]=i;this.list[this.index+this.offsetTransform+2]=g;this.list[this.index+
this.offsetTransform+3]=N;this.list[this.index+this.offsetAlpha]=e;this.index+=this.fields},free:function(){for(this.update=!1;0<this.view.get_numChildren();)this.view.removeChildAt(0);this.view=null;for(var a=this.behaviours.keys();a.hasNext();){var b=a.next();this.behaviours.remove(b)}this.tilesheet=this.behaviours=null;h.jdtiles.jda.tile.Group.prototype.free.call(this)},__class__:h.jdtiles.jda.TileLayer});h.jdtiles.jda.AnchorPoint=l["com.jdtiles.jda.AnchorPoint"]={__ename__:["com","jdtiles","jda",
"AnchorPoint"],__constructs__:"UL UC UR CL CC CR DL DC DR".split(" ")};h.jdtiles.jda.AnchorPoint.UL=["UL",0];h.jdtiles.jda.AnchorPoint.UL.toString=A;h.jdtiles.jda.AnchorPoint.UL.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.UC=["UC",1];h.jdtiles.jda.AnchorPoint.UC.toString=A;h.jdtiles.jda.AnchorPoint.UC.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.UR=["UR",2];h.jdtiles.jda.AnchorPoint.UR.toString=A;h.jdtiles.jda.AnchorPoint.UR.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.CL=
["CL",3];h.jdtiles.jda.AnchorPoint.CL.toString=A;h.jdtiles.jda.AnchorPoint.CL.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.CC=["CC",4];h.jdtiles.jda.AnchorPoint.CC.toString=A;h.jdtiles.jda.AnchorPoint.CC.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.CR=["CR",5];h.jdtiles.jda.AnchorPoint.CR.toString=A;h.jdtiles.jda.AnchorPoint.CR.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.DL=["DL",6];h.jdtiles.jda.AnchorPoint.DL.toString=A;h.jdtiles.jda.AnchorPoint.DL.__enum__=
h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.DC=["DC",7];h.jdtiles.jda.AnchorPoint.DC.toString=A;h.jdtiles.jda.AnchorPoint.DC.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.AnchorPoint.DR=["DR",8];h.jdtiles.jda.AnchorPoint.DR.toString=A;h.jdtiles.jda.AnchorPoint.DR.__enum__=h.jdtiles.jda.AnchorPoint;h.jdtiles.jda.behaviours={};h.jdtiles.jda.behaviours.BehaviourData=function(a,b,c,d,g){null==d&&(d=!0);null==c&&(c=30);null==b&&(b=!0);this.frames=a;this.fps=c;this.loop=d;this.onComplete=g;this.playing=
b};l["com.jdtiles.jda.behaviours.BehaviourData"]=h.jdtiles.jda.behaviours.BehaviourData;h.jdtiles.jda.behaviours.BehaviourData.__name__=["com","jdtiles","jda","behaviours","BehaviourData"];h.jdtiles.jda.behaviours.BehaviourData.prototype={onComplete:null,frames:null,fps:null,loop:null,playing:null,__class__:h.jdtiles.jda.behaviours.BehaviourData};h.jdtiles.jda.behaviours.DrawList=function(){this.list=[];this.runs=this.elapsed=0};l["com.jdtiles.jda.behaviours.DrawList"]=h.jdtiles.jda.behaviours.DrawList;
h.jdtiles.jda.behaviours.DrawList.__name__=["com","jdtiles","jda","behaviours","DrawList"];h.jdtiles.jda.behaviours.DrawList.prototype={list:null,index:null,fields:null,offsetTransform:null,offsetRGB:null,offsetAlpha:null,flags:null,time:null,elapsed:null,runs:null,begin:function(a,b,c,d,g){this.flags=0;this.fields=3;b?(this.offsetTransform=this.fields,this.fields+=4,this.flags|=16):this.offsetTransform=0;d?(this.offsetRGB=this.fields,this.fields+=3,this.flags|=4):this.offsetRGB=0;c?(this.offsetAlpha=
this.fields,this.fields++,this.flags|=8):this.offsetAlpha=0;g&&(this.flags|=65536);0<a?this.elapsed=a:(this.index=0,0<this.time?(a=e.Lib.getTimer(),this.elapsed=Math.min(67,a-this.time),this.time=a):this.time=e.Lib.getTimer())},end:function(){if(this.list.length>this.index)if(60<++this.runs)this.list.splice(this.index,this.list.length-this.index),this.runs=0;else for(;this.index<this.list.length;)this.list[this.index+2]=-2,this.index+=this.fields},__class__:h.jdtiles.jda.behaviours.DrawList};e.display.Tilesheet=
function(a){this.__bitmap=a;this.__centerPoints=[];this.__tileRects=[];this.__tileUVs=[]};l["openfl.display.Tilesheet"]=e.display.Tilesheet;e.display.Tilesheet.__name__=["openfl","display","Tilesheet"];e.display.Tilesheet.prototype={__bitmap:null,__centerPoints:null,__tileRects:null,__tileUVs:null,addTileRect:function(a,b){this.__tileRects.push(a);null==b&&(b=new e.geom.Point);this.__centerPoints.push(b);this.__tileUVs.push(new e.geom.Rectangle(a.get_left()/this.__bitmap.width,a.get_top()/this.__bitmap.height,
a.get_right()/this.__bitmap.width,a.get_bottom()/this.__bitmap.height));return this.__tileRects.length-1},drawTiles:function(a,b,c,d,g){null==g&&(g=-1);null==d&&(d=0);null==c&&(c=!1);a.drawTiles(this,b,c,d,g)},getTileCenter:function(a){return this.__centerPoints[a]},getTileRect:function(a){return this.__tileRects[a]},getTileUVs:function(a){return this.__tileUVs[a]},__class__:e.display.Tilesheet};h.jdtiles.jda.tile.SheetEx=function(a){e.display.Tilesheet.call(this,a);this.defs=[];this.anims=new p.ds.StringMap;
this.sizes=[]};l["com.jdtiles.jda.tile.SheetEx"]=h.jdtiles.jda.tile.SheetEx;h.jdtiles.jda.tile.SheetEx.__name__=["com","jdtiles","jda","tile","SheetEx"];h.jdtiles.jda.tile.SheetEx.__super__=e.display.Tilesheet;h.jdtiles.jda.tile.SheetEx.prototype=z(e.display.Tilesheet.prototype,{defs:null,sizes:null,anims:null,addDefinition:function(a,b,c,d){this.defs.push(a);this.sizes.push(b);this.addTileRect(c,d)},getAnim:function(a){if(this.anims.exists(a))return this.anims.get(a);for(var b=[],c=0,d=this.defs.length;c<
d;){var g=c++;O.startsWith(this.defs[g],a)&&b.push(g)}this.anims.set(a,b);return b},getSize:function(a){return a<this.sizes.length?this.sizes[a]:new e.geom.Rectangle},free:function(){this.defs=[];this.defs=null;this.sizes=[];this.anims=this.sizes=null},__class__:h.jdtiles.jda.tile.SheetEx});h.jdtiles.jdb={};h.jdtiles.jdb.Anchor=l["com.jdtiles.jdb.Anchor"]={__ename__:["com","jdtiles","jdb","Anchor"],__constructs__:"UL UC UR CL CC CR DL DC DR".split(" ")};h.jdtiles.jdb.Anchor.UL=["UL",0];h.jdtiles.jdb.Anchor.UL.toString=
A;h.jdtiles.jdb.Anchor.UL.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.UC=["UC",1];h.jdtiles.jdb.Anchor.UC.toString=A;h.jdtiles.jdb.Anchor.UC.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.UR=["UR",2];h.jdtiles.jdb.Anchor.UR.toString=A;h.jdtiles.jdb.Anchor.UR.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.CL=["CL",3];h.jdtiles.jdb.Anchor.CL.toString=A;h.jdtiles.jdb.Anchor.CL.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.CC=["CC",4];h.jdtiles.jdb.Anchor.CC.toString=A;h.jdtiles.jdb.Anchor.CC.__enum__=
h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.CR=["CR",5];h.jdtiles.jdb.Anchor.CR.toString=A;h.jdtiles.jdb.Anchor.CR.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.DL=["DL",6];h.jdtiles.jdb.Anchor.DL.toString=A;h.jdtiles.jdb.Anchor.DL.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.DC=["DC",7];h.jdtiles.jdb.Anchor.DC.toString=A;h.jdtiles.jdb.Anchor.DC.__enum__=h.jdtiles.jdb.Anchor;h.jdtiles.jdb.Anchor.DR=["DR",8];h.jdtiles.jdb.Anchor.DR.toString=A;h.jdtiles.jdb.Anchor.DR.__enum__=h.jdtiles.jdb.Anchor;
h.jdtiles.jdb.BitmapSprite=function(){e.display.Sprite.call(this)};l["com.jdtiles.jdb.BitmapSprite"]=h.jdtiles.jdb.BitmapSprite;h.jdtiles.jdb.BitmapSprite.__name__=["com","jdtiles","jdb","BitmapSprite"];h.jdtiles.jdb.BitmapSprite.drawCircle=function(a,b,c,d,g,i){null==i&&(i=0);null==g&&(g=0);a.beginFill(b,c);a.drawCircle(g,i,d);a.endFill()};h.jdtiles.jdb.BitmapSprite.drawRect=function(a,b,c,d,g,i,N){null==N&&(N=0);null==i&&(i=0);a.beginFill(b,c);a.drawRect(i-d/2,N-g/2,d,g);a.endFill()};h.jdtiles.jdb.BitmapSprite.__super__=
e.display.Sprite;h.jdtiles.jdb.BitmapSprite.prototype=z(e.display.Sprite.prototype,{__class__:h.jdtiles.jdb.BitmapSprite});h.jdtiles.jdt={};h.jdtiles.jdt.ParseXML=function(a,b){h.jdtiles.jda.tile.SheetEx.call(this,a);var c=new p.xml.Fast(H.parse(b).firstElement()),d=new e.geom.Point(0,0);new e.geom.Point(0,0);for(c=c.nodes.resolve("SubTexture").iterator();c.hasNext();){var d=c.next(),g=d.att.resolve("name"),i=new e.geom.Rectangle(C.parseFloat(d.att.resolve("x")),C.parseFloat(d.att.resolve("y")),C.parseFloat(d.att.resolve("width")),
C.parseFloat(d.att.resolve("height"))),N;N=d.has.resolve("frameX")?new e.geom.Rectangle(C.parseInt(d.att.resolve("frameX")),C.parseInt(d.att.resolve("frameY")),C.parseInt(d.att.resolve("frameWidth")),C.parseInt(d.att.resolve("frameHeight"))):new e.geom.Rectangle(0,0,i.width,i.height);d=new e.geom.Point(N.x+N.width/2,N.y+N.height/2);this.addDefinition(g,N,i,d)}};l["com.jdtiles.jdt.ParseXML"]=h.jdtiles.jdt.ParseXML;h.jdtiles.jdt.ParseXML.__name__=["com","jdtiles","jdt","ParseXML"];h.jdtiles.jdt.ParseXML.__super__=
h.jdtiles.jda.tile.SheetEx;h.jdtiles.jdt.ParseXML.prototype=z(h.jdtiles.jda.tile.SheetEx.prototype,{__class__:h.jdtiles.jdt.ParseXML});h.sound={};h.sound.ChannelBase=function(){this.SoundPlaying=!1;this.lastPosition=0;this.SoundVolume=1;this.SoundStop=2;this.SoundPause=1;this.SoundPlay=0;this.enabSound=!0;this.SoundTr=new e.media.SoundTransform;this.Volume(this.SoundVolume);this.StateSound=this.SoundStop};l["com.sound.ChannelBase"]=h.sound.ChannelBase;h.sound.ChannelBase.__name__=["com","sound","ChannelBase"];
h.sound.ChannelBase.prototype={enabSound:null,StateSound:null,SoundPlay:null,SoundPause:null,SoundStop:null,SoundChanel:null,SoundTr:null,SoundVolume:null,currentSound:null,lastPosition:null,SoundPlaying:null,Volume:function(a){this.SoundTr.volume=a},playSound:function(a,b){null==b&&(b=!1);if(null!=a)if(!1==this.enabSound)this.currentSound=a;else if(!(null!=this.currentSound&&this.currentSound==a&&!0==this.SoundPlaying)){if(a!=this.currentSound)null!=this.SoundChanel&&this.SoundChanel.stop(),!0==
this.SoundPlaying&&(this.lastPosition=0);else if(!0==this.SoundPlaying||!0==b)this.lastPosition=0;this.StateSound=this.SoundPlay;this.SoundPlaying=!0;this.currentSound=a;this.SoundChanel=a.play(this.lastPosition,0,this.SoundTr);null!=this.SoundChanel&&!1==this.SoundChanel.hasEventListener(e.events.Event.SOUND_COMPLETE)&&this.SoundChanel.addEventListener(e.events.Event.SOUND_COMPLETE,w(this,this.restartSound))}},stopSound:function(){!1!=this.enabSound&&(null!=this.SoundChanel&&(this.lastPosition=this.SoundChanel.get_position(),
this.SoundChanel.stop()),this.SoundPlaying=!1,this.StateSound=this.SoundStop)},pauseSound:function(){!1==this.enabSound?this.StateSound=this.SoundPause:this.StateSound==this.SoundPlay&&(null!=this.SoundChanel&&(this.lastPosition=this.SoundChanel.get_position(),this.SoundChanel.stop()),this.SoundPlaying=!1,this.StateSound=this.SoundPause)},resumeSound:function(){!1!=this.enabSound&&this.StateSound==this.SoundPause&&null!=this.currentSound&&this.playSound(this.currentSound)},restartSound:function(){!1!=
this.enabSound&&(this.StateSound==this.SoundPlay&&null!=this.SoundChanel)&&(this.SoundPlaying=!1,this.playSound(this.currentSound,!0))},EnableSound:function(){!1==this.enabSound&&(this.StateSound!=this.SoundPause&&this.StateSound!=this.SoundStop&&null!=this.SoundChanel&&null!=this.currentSound)&&this.playSound(this.currentSound);this.enabSound=!0},DisableSound:function(){this.enabSound=!1;null!=this.SoundChanel&&(this.lastPosition=this.SoundChanel.get_position(),this.SoundChanel.stop());this.SoundPlaying=
!1},ResetSound:function(){this.currentSound=null;this.stopSound()},__class__:h.sound.ChannelBase};h.sound.EffectChannel=function(){h.sound.ChannelBase.call(this)};l["com.sound.EffectChannel"]=h.sound.EffectChannel;h.sound.EffectChannel.__name__=["com","sound","EffectChannel"];h.sound.EffectChannel.__super__=h.sound.ChannelBase;h.sound.EffectChannel.prototype=z(h.sound.ChannelBase.prototype,{playSound:function(a){null!=a&&!1!=this.enabSound&&(this.SoundChanel=a.play(0,0,this.SoundTr))},__class__:h.sound.EffectChannel});
h.sound.MusicChannel=function(){h.sound.ChannelBase.call(this)};l["com.sound.MusicChannel"]=h.sound.MusicChannel;h.sound.MusicChannel.__name__=["com","sound","MusicChannel"];h.sound.MusicChannel.__super__=h.sound.ChannelBase;h.sound.MusicChannel.prototype=z(h.sound.ChannelBase.prototype,{__class__:h.sound.MusicChannel});h.sound.SoundManager=Q.SoundManager=function(){this.AllMusicEnab=this.AllEffectsEnab=!0;if(null!=h.sound.SoundManager.instance)throw"Error: Object allready inited. Use getInstance()";
h.sound.SoundManager.instance=this;this.soundsArr=new p.ds.StringMap;this.MusicArr=[];this.EffectArr=[];this.init()};l["com.sound.SoundManager"]=h.sound.SoundManager;h.sound.SoundManager.__name__=["com","sound","SoundManager"];h.sound.SoundManager.instance=null;h.sound.SoundManager.getInstance=function(){return null==h.sound.SoundManager.instance?new h.sound.SoundManager:h.sound.SoundManager.instance};h.sound.SoundManager.prototype={soundsArr:null,MusicArr:null,EffectArr:null,AllMusicEnab:null,AllEffectsEnab:null,
init:function(){var a="Assets/sounds"+G.currentVersion,b=e.Assets.getSound(a+"/barrel_crush.mp3");this.soundsArr.set("barrel_crush",b);b=e.Assets.getSound(a+"/coin1.mp3");this.soundsArr.set("coin1",b);b=e.Assets.getSound(a+"/coin2.mp3");this.soundsArr.set("coin2",b);b=e.Assets.getSound(a+"/coin3.mp3");this.soundsArr.set("coin3",b);b=e.Assets.getSound(a+"/death.mp3");this.soundsArr.set("death",b);b=e.Assets.getSound(a+"/hero_beat.mp3");this.soundsArr.set("hero_beat",b);b=e.Assets.getSound(a+"/jump_down1.mp3");
this.soundsArr.set("jump_down1",b);b=e.Assets.getSound(a+"/jump_down2.mp3");this.soundsArr.set("jump_down2",b);b=e.Assets.getSound(a+"/lift.mp3");this.soundsArr.set("lift",b);b=e.Assets.getSound(a+"/lose1.mp3");this.soundsArr.set("lose1",b);b=e.Assets.getSound(a+"/lose2.mp3");this.soundsArr.set("lose2",b);b=e.Assets.getSound(a+"/magic_floor_gun.mp3");this.soundsArr.set("magic_floor_gun",b);b=e.Assets.getSound(a+"/main_theme.mp3");this.soundsArr.set("main_theme",b);b=e.Assets.getSound(a+"/open_word.mp3");
this.soundsArr.set("open_word",b);b=e.Assets.getSound(a+"/pain1.mp3");this.soundsArr.set("pain1",b);b=e.Assets.getSound(a+"/pain2.mp3");this.soundsArr.set("pain2",b);b=e.Assets.getSound(a+"/pain3.mp3");this.soundsArr.set("pain3",b);b=e.Assets.getSound(a+"/pause_show.mp3");this.soundsArr.set("pause_show",b);b=e.Assets.getSound(a+"/platform_fall.mp3");this.soundsArr.set("platform_fall",b);b=e.Assets.getSound(a+"/run.mp3");this.soundsArr.set("run",b);b=e.Assets.getSound(a+"/skeleton_die.mp3");this.soundsArr.set("skeleton_die",
b);b=e.Assets.getSound(a+"/star1.mp3");this.soundsArr.set("star1",b);b=e.Assets.getSound(a+"/star2.mp3");this.soundsArr.set("star2",b);b=e.Assets.getSound(a+"/star3.mp3");this.soundsArr.set("star3",b);b=e.Assets.getSound(a+"/steps.mp3");this.soundsArr.set("steps",b);b=e.Assets.getSound(a+"/wall_cannon.mp3");this.soundsArr.set("wall_cannon",b);b=e.Assets.getSound(a+"/Achievement.mp3");this.soundsArr.set("Achievement",b);b=e.Assets.getSound(a+"/button_click.mp3");this.soundsArr.set("button_click",b);
b=e.Assets.getSound(a+"/door.mp3");this.soundsArr.set("door",b);b=e.Assets.getSound(a+"/Skeleton_attack.mp3");this.soundsArr.set("Skeleton_attack",b);b=e.Assets.getSound(a+"/victory1.mp3");this.soundsArr.set("victory1",b);b=e.Assets.getSound(a+"/victory2.mp3");this.soundsArr.set("victory2",b);b=e.Assets.getSound(a+"/victory_all_game.mp3");this.soundsArr.set("victory_all_game",b);b=e.Assets.getSound(a+"/foot_slide.mp3");this.soundsArr.set("foot_slide",b);2==G.currentVersion&&(b=e.Assets.getSound(a+
"/spring.mp3"),this.soundsArr.set("spring",b),a=e.Assets.getSound(a+"/lever.mp3"),this.soundsArr.set("lever",a))},PauseMusic:function(a){for(var b=0,c=this.MusicArr.length;b<c;){var d=b++;null!=this.MusicArr[d]&&(null!=a&&a[0]==d?a.shift():this.MusicArr[d].pauseSound())}},ResumeMusic:function(a){for(var b=0,c=this.MusicArr.length;b<c;){var d=b++;null!=this.MusicArr[d]&&(null!=a&&a[0]==d?a.shift():this.MusicArr[d].resumeSound())}},PauseEffect:function(){for(var a=0,b=this.EffectArr.length;a<b;){var c=
a++;null!=this.EffectArr[c]&&this.EffectArr[c].pauseSound()}},ResumeEffect:function(){for(var a=0,b=this.EffectArr.length;a<b;){var c=a++;null!=this.EffectArr[c]&&this.EffectArr[c].resumeSound()}},VolumeMusic:function(a,b){null==b&&(b=0);this.checkMusicArr(b);this.MusicArr[b].stopSound();this.MusicArr[b].Volume(a);this.MusicArr[b].resumeSound()},VolumeEffect:function(a,b){null==b&&(b=0);this.checkEffectArr(b);this.EffectArr[b].stopSound();this.EffectArr[b].Volume(a);this.EffectArr[b].resumeSound()},
PlayMusic:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);this.checkMusicArr(c);this.MusicArr[c].playSound(this.soundsArr.get(a),b)},PlayEffect:function(a,b){null==b&&(b=0);this.checkEffectArr(b);this.EffectArr[b].playSound(this.soundsArr.get(a))},PlayEffectRound:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);this.checkEffectArr(c,!0);this.EffectArr[c].playSound(this.soundsArr.get(a),b)},StopMusic:function(a){null==a&&(a=0);this.checkMusicArr(a);this.MusicArr[a].stopSound()},StopEffect:function(a){null==
a&&(a=0);this.checkEffectArr(a);this.EffectArr[a].stopSound()},EnableAllEffects:function(){for(var a=0,b=this.EffectArr.length;a<b;){var c=a++;null!=this.EffectArr[c]&&this.EffectArr[c].EnableSound()}this.AllEffectsEnab=!0},DisableAllEffects:function(){for(var a=0,b=this.EffectArr.length;a<b;){var c=a++;null!=this.EffectArr[c]&&this.EffectArr[c].DisableSound()}this.AllEffectsEnab=!1},EnableAllMusic:function(){for(var a=0,b=this.MusicArr.length;a<b;){var c=a++;null!=this.MusicArr[c]&&this.MusicArr[c].EnableSound()}this.AllMusicEnab=
!0},DisableAllMusic:function(){for(var a=0,b=this.MusicArr.length;a<b;){var c=a++;null!=this.MusicArr[c]&&this.MusicArr[c].DisableSound()}this.AllMusicEnab=!1},checkEffectArr:function(a,b){null==b&&(b=!1);null==this.EffectArr[a]&&(this.EffectArr[a]=!0==b?new h.sound.MusicChannel:new h.sound.EffectChannel,!1==this.AllEffectsEnab&&this.EffectArr[a].DisableSound())},checkMusicArr:function(a){null==this.MusicArr[a]&&(this.MusicArr[a]=new h.sound.MusicChannel,!1==this.AllMusicEnab&&this.MusicArr[a].DisableSound())},
Reset:function(){for(var a=1,b=this.MusicArr.length;a<b;){var c=a++;null!=this.MusicArr[c]&&this.MusicArr[c].ResetSound()}a=0;for(b=this.EffectArr.length;a<b;)c=a++,null!=this.EffectArr[c]&&this.EffectArr[c].ResetSound()},__class__:h.sound.SoundManager};var k={BasicElements:function(){this.canPlaySound=!1;this.gridH=40;this.currentFloor=0;this.active=this.activeAnyWay=!1;e.display.Sprite.call(this)}};l["elements.BasicElements"]=k.BasicElements;k.BasicElements.__name__=["elements","BasicElements"];
k.BasicElements.__super__=e.display.Sprite;k.BasicElements.prototype=z(e.display.Sprite.prototype,{active:null,activeAnyWay:null,param:null,nameClass:null,currentFloor:null,gridH:null,startX:null,startY:null,canPlaySound:null,create:function(a,b,c,d,g,i,N,e,f){this.checkFloor(c);this.nameClass=a;this.param=f;this.startX=b;this.startY=c},checkFloor:function(a){this.currentFloor=Math.floor(a/this.gridH)},getPhysWorld:function(){return y.Game.getInstance().gameWorld.physWorld},playSound:function(){},
update:function(){},updateAnyWay:function(){},buildComplete:function(){},upGraphic:function(){},destroy:function(){},onContact:function(){},findClasses:function(a,b){for(var c=0,d=y.Game.getInstance().gameElements;c<d.length;){var g=d[c];++c;if(g.nameClass==a&&g.param==b&&g!=this)return g}return null},sendToClasses:function(a,b){null==b&&(b=0);for(var c=0,d=y.Game.getInstance().gameElements;c<d.length;){var g=d[c];++c;g.nameClass==a&&(g.param==b&&g!=this)&&g.take()}},take:function(){},free:function(){},
__class__:k.BasicElements});k.Barrel=function(){this.distanceConnect=45;k.BasicElements.call(this)};l["elements.Barrel"]=k.Barrel;k.Barrel.__name__=["elements","Barrel"];k.Barrel.__super__=k.BasicElements;k.Barrel.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,graphic:null,create:function(a,b,c,d,g,i,N,e,f){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,a);y.Game.getInstance().renderList1.addChild(this.graphic);
this.graphic.set_x(b);this.graphic.set_y(c);this.graphic.loop=!1;this.active=!0;1==f&&y.Game.getInstance().maxMoney++;2==G.currentVersion&&this.graphic.set_offsetY(-5)},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&(y.Game.getInstance().hero.destroyElement=this,y.Game.getInstance().hero.onContact("Barrels",this.startX),this.active=!1)},destroy:function(){h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.destroyBarrel);
h.sound.SoundManager.getInstance().PlayEffect("barrel_crush");this.graphic.play();1==this.param&&y.Game.getInstance().CreateElements("Feed",this.graphic.get_x(),this.graphic.get_y(),0,0,0,0,0,1)},free:function(){this.graphic=null},__class__:k.Barrel});k.DestroyFloor=function(){this.distance=5;this.updateGraphic=!1;this.counterActive=0;this.timeLife=30;k.BasicElements.call(this)};l["elements.DestroyFloor"]=k.DestroyFloor;k.DestroyFloor.__name__=["elements","DestroyFloor"];k.DestroyFloor.__super__=
k.BasicElements;k.DestroyFloor.prototype=z(k.BasicElements.prototype,{body:null,timeLife:null,graphic:null,counterActive:null,updateGraphic:null,distance:null,fallingStones:null,create:function(a,b,c,j,g,i,N,e,o){k.BasicElements.prototype.create.call(this,a,b,c,j,g,i,N,e,o);this.fallingStones=new h.effects.FallingStones;this.fallingStones.init(3,b,c,25,y.Game.getInstance().renderList2);y.Game.getInstance().objectsLayer.addChild(this.fallingStones);this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),
function(){null==d.util.ZPP_Flags.BodyType_DYNAMIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_DYNAMIC}(this),60,30,b,c,0);this.body.get_userData().data="Floor";this.body.get_userData().data2=a;this.body.get_userData().link=this;this.body.set_allowMovement(!1);this.body.set_allowRotation(!1);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,a,12);this.graphic.loop=!1;this.graphic.set_offsetY(8);
y.Game.getInstance().renderList2.addChild(this.graphic);this.upGraphic()},onContact:function(a,b){null==b&&(b=0);null==a&&(a="");"Hero"==a?(this.activeAnyWay=!0,this.fallingStones.start()):"Floor"==a&&this.startY+50<b&&this.destroy()},falling:function(){h.sound.SoundManager.getInstance().PlayEffect("platform_fall");this.body.set_allowMovement(!0);this.body.zpp_inner.wrap_shapes.at(0).set_sensorEnabled(!0)},updateAnyWay:function(){this.fallingStones.update();!1==this.updateGraphic?(this.counterActive++,
this.graphic.set_x(this.startX+(-this.distance/2+Math.random()*this.distance)),this.counterActive==this.timeLife&&(this.fallingStones.stop(),this.falling(),this.graphic.play(),this.updateGraphic=!0)):this.upGraphic()},upGraphic:function(){this.graphic.set_x(this.body.get_position().get_x());this.graphic.set_y(this.body.get_position().get_y()+2)},destroy:function(){this.fallingStones.hide();this.graphic.alpha=0;this.body.set_space(null);this.activeAnyWay=!1},free:function(){this.fallingStones.free();
this.body=this.graphic=this.fallingStones=null},__class__:k.DestroyFloor});k.Door=function(){this.endX=this.endY=this.speedX=this.speedY=0;this.speed=130;this.bodyBig=120;this.bodySmall=30;k.BasicElements.call(this)};l["elements.Door"]=k.Door;k.Door.__name__=["elements","Door"];k.Door.__super__=k.BasicElements;k.Door.prototype=z(k.BasicElements.prototype,{body:null,graphic:null,bodySmall:null,bodyBig:null,speed:null,endX:null,endY:null,speedX:null,speedY:null,create:function(a,b,c,d,g,i,N,e,f){k.BasicElements.prototype.create.call(this,
a,b,c,d,g,i,N,e,f);this.nameClass="Door";this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"Door");this.graphic.set_x(b);this.graphic.set_y(c);y.Game.getInstance().renderList2.addChild(this.graphic)},createBody:function(a,b){this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),function(){null==d.util.ZPP_Flags.BodyType_KINEMATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_KINEMATIC}(this),
a,b,this.startX,this.startY);a>b?this.body.get_userData().data="Floor":this.body.get_userData().data="Wall";this.body.setShapeMaterials(h.alagatar.NapeTools.SetShapeMaterials(1,0,0))},take:function(){this.activeAnyWay=!0;this.body.get_velocity().set_x(this.speedX);this.body.get_velocity().set_y(this.speedY)},updateAnyWay:function(){this.upGraphic();if(0>this.speedX&&this.body.get_position().get_x()<this.endX||0<this.speedX&&this.body.get_position().get_x()>this.endX||0<this.speedY&&this.body.get_position().get_y()>
this.endY||0>this.speedY&&this.body.get_position().get_y()<this.endY)this.body.get_velocity().set_x(0),this.body.get_velocity().set_y(0),this.activeAnyWay=!1,0!=this.endX&&this.body.get_position().set_x(this.endX),0!=this.endY&&this.body.get_position().set_y(this.endY)},upGraphic:function(){this.graphic.set_x(this.body.get_position().get_x());this.graphic.set_y(this.body.get_position().get_y())},free:function(){this.body=this.graphic=null},__class__:k.Door});k.DoorD=function(){k.Door.call(this)};
l["elements.DoorD"]=k.DoorD;k.DoorD.__name__=["elements","DoorD"];k.DoorD.__super__=k.Door;k.DoorD.prototype=z(k.Door.prototype,{create:function(a,b,c,d,g,i,N,e,f){k.Door.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.graphic.set_rotation(90);this.speedY=this.speed;this.endY=c+N;this.createBody(this.bodySmall,this.bodyBig)},__class__:k.DoorD});k.DoorL=function(){k.Door.call(this)};l["elements.DoorL"]=k.DoorL;k.DoorL.__name__=["elements","DoorL"];k.DoorL.__super__=k.Door;k.DoorL.prototype=z(k.Door.prototype,
{create:function(a,b,c,d,g,i,N,e,f){k.Door.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.speedX=-this.speed;this.endX=b-i;this.createBody(this.bodyBig,this.bodySmall)},__class__:k.DoorL});k.DoorR=function(){k.Door.call(this)};l["elements.DoorR"]=k.DoorR;k.DoorR.__name__=["elements","DoorR"];k.DoorR.__super__=k.Door;k.DoorR.prototype=z(k.Door.prototype,{create:function(a,b,c,d,g,i,N,e,f){k.Door.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.speedX=this.speed;this.endX=b+i;this.createBody(this.bodyBig,
this.bodySmall)},__class__:k.DoorR});k.DoorU=function(){k.Door.call(this)};l["elements.DoorU"]=k.DoorU;k.DoorU.__name__=["elements","DoorU"];k.DoorU.__super__=k.Door;k.DoorU.prototype=z(k.Door.prototype,{create:function(a,b,c,d,g,i,N,e,f){k.Door.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.graphic.set_rotation(90);this.speedY=-this.speed;this.endY=c-N;this.createBody(this.bodySmall,this.bodyBig)},__class__:k.DoorU});k.Feed=function(){this.counterAnim=0;this.gotoHero=!1;this.anim=!0;this.speedToHero=
10;this.collected=!1;this.goUp=!0;this.time=0.4;this.distanceY=100;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.Feed"]=k.Feed;k.Feed.__name__=["elements","Feed"];k.Feed.__super__=k.BasicElements;k.Feed.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,distanceY:null,time:null,goUp:null,endY:null,collected:null,speedToHero:null,graphic:null,graphicAnim:null,anim:null,gotoHero:null,counterAnim:null,completeAnim:null,create:function(a,b,c,d,g,i,N,e,f){k.BasicElements.prototype.create.call(this,
a,b,c,d,g,i,N,e,f);this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList1,a);y.Game.getInstance().renderList1.addChild(this.graphic);this.graphic.set_x(b);this.graphic.set_y(c);this.graphicAnim=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"FeedBlick",C["int"](h.alagatar.Tools.randTo(20,30)));this.graphicAnim.set_x(b);this.graphicAnim.set_y(c);this.graphicAnim.onComplete=w(this,this.hideAnim);this.graphicAnim.alpha=0;this.graphicAnim.loop=!1;y.Game.getInstance().renderList1.addChild(this.graphicAnim);
this.completeAnim=h.alagatar.Tools.randTo(80,150);this.activeAnyWay=this.active=!0;1==f?(this.graphic.alpha=0.5,this.show()):0==f&&y.Game.getInstance().maxMoney++},show:function(){if(!0==this.goUp)this.endY=this.startY-this.distanceY,m.Actuate.tween(this.graphic,this.time,{y:this.endY,alpha:1}).onComplete(w(this,this.show)).ease(m.easing.Quint.get_easeOut());else{if(!0==this.collected){this.gotoHero=!0;return}this.endY=this.startY;m.Actuate.tween(this.graphic,this.time,{y:this.endY})}this.goUp=!this.goUp},
updateAnyWay:function(){if(!1==this.gotoHero)!0==this.anim&&!1==this.collected&&(this.counterAnim++,this.counterAnim==this.completeAnim&&(this.counterAnim=0,this.anim=!1,this.graphicAnim.alpha=1,this.graphicAnim.play()));else if(this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),30>this.dis)this.hide();else{var a=this.graphic;a.set_x(a.get_x()+(y.Game.getInstance().hero.graphic.get_x()-
this.graphic.get_x())/2);a=this.graphic;a.set_y(a.get_y()+(y.Game.getInstance().hero.graphic.get_y()-this.graphic.get_y())/2)}},hide:function(){this.graphic.alpha=0;this.graphicAnim.fps=30;this.graphicAnim.set_x(this.graphic.get_x());this.graphicAnim.set_y(this.graphic.get_y());this.graphicAnim.alpha=1;this.graphicAnim.set_tile("FeedCollect");this.graphicAnim.play();this.activeAnyWay=!1;y.Game.getInstance().collectMoney()},hideAnim:function(a){a.alpha=0;"FeedBlick"==a.get_tile()&&(this.anim=!0)},
update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&this.collect()},collect:function(){h.sound.SoundManager.getInstance().PlayEffect("coin"+h.alagatar.Tools.randTo(1,3));this.collected=!0;this.show();this.active=!1;y.Game.getInstance().feedGoToHero++},free:function(){m.Actuate.stop(this.graphic,null,!1,!1);this.graphicAnim=this.graphic=
null},__class__:k.Feed});k.Finish=function(){this.distanceConnect=20;k.BasicElements.call(this)};l["elements.Finish"]=k.Finish;k.Finish.__name__=["elements","Finish"];k.Finish.__super__=k.BasicElements;k.Finish.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,graphic:null,graphicDust:null,create:function(a,b,c,d,g,i,N,e,f){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,N,e,f);a=1;1==f&&(a=-1);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"start");
this.graphic.set_x(b+33*a);this.graphic.set_y(c-21);this.graphic.set_scaleX(a);this.graphic.breakTile("finish",[6,5,4,3,2,1,0],!1,20,!1,w(this,this.completeAnim));this.graphic.set_currentAnim("finish");y.Game.getInstance().renderList1.addChild(this.graphic);this.graphicDust=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,"doorDust");this.graphicDust.set_x(b-4*a);this.graphicDust.set_y(c-25);this.graphicDust.set_scaleX(-a);this.graphicDust.loop=!1;this.graphicDust.alpha=0;this.graphicDust.onComplete=
w(this,this.completeAnim);y.Game.getInstance().renderList2.addChild(this.graphicDust);y.Game.getInstance().createBackgroundTile("Door",h.jdtiles.jda.AnchorPoint.CC,b,c-33,a);this.active=!0},completeAnim:function(a){"start"==a.get_tile()?(this.graphicDust.alpha=1,this.graphicDust.play()):"doorDust"==a.get_tile()&&(a.alpha=0,y.Game.getInstance().victory=!0,y.Game.getInstance().checkFinish())},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),
y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&(h.sound.SoundManager.getInstance().PlayEffect("door"),this.graphic.play(),y.Game.getInstance().hero.onContact(this.nameClass),this.active=!1)},free:function(){this.graphicDust=this.graphic=null},__class__:k.Finish});k.HeroState=l["elements.HeroState"]={__ename__:["elements","HeroState"],__constructs__:"None stand walk run acceleration braking beat damage falling land death lift slew fly".split(" ")};k.HeroState.None=["None",
0];k.HeroState.None.toString=A;k.HeroState.None.__enum__=k.HeroState;k.HeroState.stand=["stand",1];k.HeroState.stand.toString=A;k.HeroState.stand.__enum__=k.HeroState;k.HeroState.walk=["walk",2];k.HeroState.walk.toString=A;k.HeroState.walk.__enum__=k.HeroState;k.HeroState.run=["run",3];k.HeroState.run.toString=A;k.HeroState.run.__enum__=k.HeroState;k.HeroState.acceleration=["acceleration",4];k.HeroState.acceleration.toString=A;k.HeroState.acceleration.__enum__=k.HeroState;k.HeroState.braking=["braking",
5];k.HeroState.braking.toString=A;k.HeroState.braking.__enum__=k.HeroState;k.HeroState.beat=["beat",6];k.HeroState.beat.toString=A;k.HeroState.beat.__enum__=k.HeroState;k.HeroState.damage=["damage",7];k.HeroState.damage.toString=A;k.HeroState.damage.__enum__=k.HeroState;k.HeroState.falling=["falling",8];k.HeroState.falling.toString=A;k.HeroState.falling.__enum__=k.HeroState;k.HeroState.land=["land",9];k.HeroState.land.toString=A;k.HeroState.land.__enum__=k.HeroState;k.HeroState.death=["death",10];
k.HeroState.death.toString=A;k.HeroState.death.__enum__=k.HeroState;k.HeroState.lift=["lift",11];k.HeroState.lift.toString=A;k.HeroState.lift.__enum__=k.HeroState;k.HeroState.slew=["slew",12];k.HeroState.slew.toString=A;k.HeroState.slew.__enum__=k.HeroState;k.HeroState.fly=["fly",13];k.HeroState.fly.toString=A;k.HeroState.fly.__enum__=k.HeroState;k.Hero=function(){this.nameBarel="";this.completeMetters=15;this.counterCanFly=this.completeCanFly=this.lastPositionY=this.counterMetters=0;this.counterFly=
1;this.counterSpeedUp=0;this.checkSpeedUp=this.checkFly=!1;this.coefSpeed=0.7;this.speedUp=!1;this.speedAcceleration=2;this.speed=125;this.invulnerable=!1;k.BasicElements.call(this)};l["elements.Hero"]=k.Hero;k.Hero.__name__=["elements","Hero"];k.Hero.__super__=k.BasicElements;k.Hero.prototype=z(k.BasicElements.prototype,{body:null,graphic:null,health:null,invulnerable:null,speed:null,_currentState:null,speedAcceleration:null,speedUp:null,coefSpeed:null,checkSpeedUp:null,checkFly:null,counterSpeedUp:null,
counterFly:null,counterCanFly:null,completeCanFly:null,lastPositionY:null,blink:null,side:null,counterMetters:null,completeMetters:null,graphicBraking1:null,graphicBraking2:null,graphicLand:null,destroyElement:null,create:function(a,b,c,j,g,i,N,e,o){this.nameClass=a;this.param=o;this.startX=b;this.startY=c;this.health=y.Game.getInstance().maxHealth;y.Game.getInstance().hero=this;this.side=50;0==o&&(this.speed*=-1,this.side=-50);this.activeAnyWay=!0;this.body=h.alagatar.NapeTools.createCircle(this.getPhysWorld(),
function(){if(d.util.ZPP_Flags.BodyType_DYNAMIC==null){d.util.ZPP_Flags.internal=true;d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType;d.util.ZPP_Flags.internal=false}return d.util.ZPP_Flags.BodyType_DYNAMIC}(this),50,b+this.side,c);this.body.zpp_inner.wrap_shapes.add(new f.shape.Polygon(f.shape.Polygon.rect(-18,14,36,16)));this.body.zpp_inner.wrap_shapes.at(0).set_sensorEnabled(!0);this.body.setShapeMaterials(h.alagatar.NapeTools.SetShapeMaterials(2,0,0));this.body.set_allowRotation(!0);this.body.get_userData().data=
a;this.body.get_userData().link=this;this.body.set_mass(4);this.graphicBraking2=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"effectBraking");this.graphicBraking2.alpha=0;this.graphicBraking2.set_scaleX(this.graphicBraking2.set_scaleY(0.69));this.graphicBraking2.set_offsetX(20);y.Game.getInstance().renderList1.addChild(this.graphicBraking2);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,a);this.graphic.breakTile("stand",[84,85,86,87,88,89,90,91,92,93,94,95,
96,97]);this.graphic.breakTile("walk",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],!0,70);this.graphic.breakTile("run",[28,29,30,31,32,33,34,35,36,37,38,39]);this.graphic.breakTile("falling",[41],!1);this.graphic.breakTile("damage",[40],!1);this.graphic.breakTile("death",[73,74,75,76,77,78,79,80,81,82,83],!0,30,!1,w(this,this.completeAnim));this.graphic.breakTile("beatStart",[42,43,44,45,46,47,48,49,50],!0,40,!1,w(this,this.completeAnim));this.graphic.breakTile("beatEnd",
[51,52,53,54,55,56,57,58],!0,40,!1,w(this,this.completeAnim));this.graphic.breakTile("braking",[59,60,61,62,63,64,65,66,67,68,69,70,71,72],!0,20,!1,w(this,this.completeAnim));this.graphic.set_currentAnim("stand");y.Game.getInstance().renderList1.addChild(this.graphic);this.graphic.set_offsetY(-16);this.graphic.set_offsetX(5);this.graphic.set_x(b);this.graphic.set_y(this.body.get_position().get_y());this.graphic.alpha=0;this.graphicBraking1=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,
"effectBraking");this.graphicBraking1.alpha=0;this.graphicBraking1.set_offsetX(-15);y.Game.getInstance().renderList1.addChild(this.graphicBraking1);this.graphicLand=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"effectLand");this.graphicLand.alpha=0;this.graphicLand.loop=!1;this.graphicLand.onComplete=w(this,this.completeAnim);y.Game.getInstance().renderList1.addChild(this.graphicLand);this.setDirectionHero(!1);this.blink=new h.effects.Blink;this.blink.init(this.graphic);this.blink.complete=
w(this,this.endInvulnerable);this.set_currentState(k.HeroState.None);this.checkFloor(this.body.get_position().get_y()+2,!0)},show:function(a){null==a&&(a=!1);if(!0==a)m.Actuate.tween(this.graphic,0.7,{alpha:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.show));else this.graphic.set_currentAnim("walk"),this.graphic.set_y(this.body.get_position().get_y()),this.side=50,0==this.param&&(this.side=-50),m.Actuate.tween(this.graphic,0.7,{x:this.startX+this.side}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,
this.start))},start:function(){this.active=!0;!1==this.speedUp?this.set_currentState(k.HeroState.walk):this.set_currentState(k.HeroState.run);this.activeAnyWay=!1},mouseDown:function(){this.get_currentState()==k.HeroState.stand||(this.get_currentState()==k.HeroState.death||this.get_currentState()==k.HeroState.damage)||(this.counterSpeedUp=0,this.checkSpeedUp=!0)},mouseUp:function(){this.get_currentState()==k.HeroState.None||this.get_currentState()==k.HeroState.death||this.get_currentState()==k.HeroState.damage||
this.get_currentState()==k.HeroState.beat||this.get_currentState()==k.HeroState.braking||this.get_currentState()==k.HeroState.acceleration?(this.counterSpeedUp=0,this.speedUp=this.checkSpeedUp=!1):(this.checkSpeedUp=!1,this.get_currentState()==k.HeroState.falling||this.get_currentState()==k.HeroState.lift||this.get_currentState()==k.HeroState.fly?(!1==this.speedUp&&this.setDirectionHero(),this.speedUp=!1):this.get_currentState()==k.HeroState.stand?(this.active=!0,this.set_currentState(k.HeroState.walk)):
!1==this.speedUp?this.set_currentState(k.HeroState.braking):(this.speedUp=!1,this.set_currentState(k.HeroState.walk)))},get_currentState:function(){return this._currentState},set_currentState:function(a){if(this._currentState==k.HeroState.death)return a;this._currentState=a;h.sound.SoundManager.getInstance().StopMusic(1);a!=k.HeroState.None&&(a==k.HeroState.stand?this.staticStateStand():a==k.HeroState.walk?this.staticStateWalk():a==k.HeroState.run?this.staticStateRun():a==k.HeroState.acceleration?
this.staticStateAcceleration():a==k.HeroState.braking?this.staticStateBraking():a==k.HeroState.beat?this.staticStateBeat():a==k.HeroState.damage?this.staticStateDamage():a==k.HeroState.falling?this.staticStateFalling():a==k.HeroState.land?this.staticStateLand():a==k.HeroState.death?this.staticStateDeath():a==k.HeroState.lift?this.staticStateLift():a==k.HeroState.slew?this.staticStateSlew():a==k.HeroState.fly&&this.staticStateFly());return a},staticStateFly:function(){this.graphic.set_currentAnim("falling");
this.stopBrakingEffect()},staticStateDeath:function(){h.sound.SoundManager.getInstance().PlayEffect("death");this.graphic.set_currentAnim("death")},staticStateSlew:function(){this.clearForce();this.setDirectionHero();this.stopBrakingEffect();this.set_currentState(k.HeroState.acceleration)},staticStateBraking:function(){h.sound.SoundManager.getInstance().PlayEffect("foot_slide");this.graphic.set_currentAnim("braking");var a=this.graphic;a.set_scaleX(-1*a.get_scaleX());this.playBrakingEffect()},staticStateLift:function(){this.graphic.set_currentAnim("stand");
this.stopBrakingEffect();this.setSpeedByGraphic()},staticStateDamage:function(){h.sound.SoundManager.getInstance().PlayEffect("pain"+h.alagatar.Tools.randTo(1,3));this.graphic.set_currentAnim("damage");this.stopBrakingEffect()},staticStateLand:function(){h.sound.SoundManager.getInstance().PlayEffect("jump_down"+h.alagatar.Tools.randTo(1,2));this.graphicLand.set_x(this.body.get_position().get_x());this.graphicLand.set_y(this.body.get_position().get_y()+22);this.graphicLand.alpha=1;this.graphicLand.play();
this.setSpeedByGraphic();!0==this.speedUp?this.set_currentState(k.HeroState.run):this.set_currentState(k.HeroState.walk)},staticStateFalling:function(){this.clearForce();this.graphic.set_currentAnim("falling");this.stopBrakingEffect()},staticStateStand:function(){this.graphic.set_currentAnim("stand")},staticStateBeat:function(){this.clearForce();this.graphic.set_currentAnim("beatStart")},staticStateAcceleration:function(){this.graphic.set_currentAnim("walk");this.clearForce()},staticStateWalk:function(){h.sound.SoundManager.getInstance().PlayMusic("steps",
!1,1);this.graphic.set_currentAnim("walk")},staticStateRun:function(){h.sound.SoundManager.getInstance().PlayMusic("run",!1,1);this.graphic.set_currentAnim("run")},updateStateBraking:function(){var a=this.body.get_velocity();a.set_x(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.coefSpeed);1>Math.abs(this.body.get_velocity().get_x())&&this.set_currentState(k.HeroState.slew)},updateStateAcceleration:function(){1>Math.abs(this.body.get_velocity().get_x())&&this.body.get_velocity().set_x(this.speed/
10);var a=this.body.get_velocity();a.set_x(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)/this.coefSpeed);Math.abs(this.body.get_velocity().get_x())>=Math.abs(this.speed)&&(!1==this.speedUp?this.set_currentState(k.HeroState.walk):this.set_currentState(k.HeroState.run))},updateStateWalk:function(){this.body.get_velocity().set_x(this.speed);!0==this.speedUp&&this.set_currentState(k.HeroState.run)},updateStateRun:function(){this.counterMetters++;this.counterMetters==this.completeMetters&&
(this.counterMetters=0,h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.run));this.body.get_velocity().set_x(this.speed*this.speedAcceleration);!1==this.speedUp&&this.set_currentState(k.HeroState.walk)},updateStateLift:function(){this.clearForce()},update:function(){this.get_currentState()!=k.HeroState.death&&(this.checkAccel(),this.get_currentState()==k.HeroState.walk?this.updateStateWalk():this.get_currentState()==k.HeroState.run?this.updateStateRun():this.get_currentState()==
k.HeroState.acceleration?this.updateStateAcceleration():this.get_currentState()==k.HeroState.braking?this.updateStateBraking():this.get_currentState()==k.HeroState.lift&&this.updateStateLift(),this.upGraphic(),this.checkFloor(this.body.get_position().get_y()),!0==this.checkFly&&(this.counterCanFly++,this.counterCanFly==this.completeCanFly&&(this.checkFly=!1,this.get_currentState()!=k.HeroState.damage&&this.get_currentState()!=k.HeroState.fly&&this.set_currentState(k.HeroState.falling))))},completeAnim:function(a){"beatStart"==
a.get_currentAnim()?(h.sound.SoundManager.getInstance().PlayEffect("hero_beat"),a.set_currentAnim("beatEnd"),null!=this.destroyElement&&(this.destroyElement.destroy(),this.destroyElement=null)):"beatEnd"==a.get_currentAnim()?"Barrels"==this.nameBarel?!0==this.speedUp?this.set_currentState(k.HeroState.run):this.set_currentState(k.HeroState.walk):this.set_currentState(k.HeroState.slew):"braking"==a.get_currentAnim()&&this.get_currentState()==k.HeroState.slew;"effectLand"==a.get_tile()&&(a.alpha=0)},
setDirectionHero:function(a){null==a&&(a=!0);!0==a&&(this.speed*=-1);0<this.speed?this.graphic.set_scaleX(1):0>this.speed&&this.graphic.set_scaleX(-1)},setSpeedByGraphic:function(){if(1==this.graphic.get_scaleX()&&0>this.speed||-1==this.graphic.get_scaleX()&&0<this.speed)this.speed*=-1},playBrakingEffect:function(){this.graphicBraking1.alpha=1;this.graphicBraking1.play();this.graphicBraking1.set_scaleX(this.graphic.get_scaleX());this.graphicBraking2.alpha=1;this.graphicBraking2.play();this.graphicBraking2.set_scaleX(this.graphic.get_scaleX())},
stopBrakingEffect:function(){this.graphicBraking1.alpha=0;this.graphicBraking1.stop();this.graphicBraking2.alpha=0;this.graphicBraking2.stop()},updateAnyWay:function(){this.checkAccel()},checkAccel:function(){!1!=F.getInstance().canRun&&!0==this.checkSpeedUp&&(this.counterSpeedUp++,10==this.counterSpeedUp&&(this.counterSpeedUp=0,this.checkSpeedUp=!1,this.speedUp=!0))},checkFloor:function(a,b){null==b&&(b=!1);a!=this.lastPositionY&&(y.Game.getInstance().updateCamera(a,b),this.currentFloor=Math.floor(a/
this.gridH));this.lastPositionY=a},nameBarel:null,onContact:function(a,b){null==b&&(b=0);null==a&&(a="");if(!(this.get_currentState()==k.HeroState.stand||this.get_currentState()==k.HeroState.None||this.get_currentState()==k.HeroState.death))if("endFloor"==a)this.counterFly--,0==this.counterFly&&(this.completeCanFly=2,!0==this.speedUp&&(this.completeCanFly/=this.speedAcceleration),this.counterCanFly=0,this.checkFly=!0);else if("startFloor"==a)if(this.checkFly=!1,this.counterFly++,this.get_currentState()==
k.HeroState.falling)this.set_currentState(k.HeroState.land);else{if(this.get_currentState()==k.HeroState.damage||this.get_currentState()==k.HeroState.fly)!1==this.speedUp?this.set_currentState(k.HeroState.walk):this.set_currentState(k.HeroState.run)}else if("Wall"==a)0<this.speed&&this.body.get_position().get_x()>=b||0>this.speed&&this.body.get_position().get_x()<=b||(this.body.get_velocity().set_y(0),this.set_currentState(k.HeroState.slew));else if("Barrel"==a||"Barrels"==a){this.nameBarel=a;if(1==
this.graphic.get_scaleX()&&this.body.get_position().get_x()>b||-1==this.graphic.get_scaleX()&&this.body.get_position().get_x()<b){var c=this.graphic;c.set_scaleX(-1*c.get_scaleX())}this.set_currentState(k.HeroState.beat)}else"Spike"==a?(this.loseHealth(),this.get_currentState()!=k.HeroState.death&&(this.set_currentState(k.HeroState.damage),this.side=1,this.body.get_position().get_x()<b&&(this.side=-1),(0<this.speed&&this.body.get_position().get_x()<=b||0>this.speed&&this.body.get_position().get_x()>=
b)&&this.setDirectionHero(),(0<this.speed&&this.body.get_position().get_x()>=b||0>this.speed&&this.body.get_position().get_x()<=b)&&this.setDirectionHero(!1),this.giveImpuls(700*this.side,-600,1E3),this.startInvulnerable())):"Finish"==a&&(this.blink.stop(),this.set_currentState(k.HeroState.None),this.active=!1,this.clearForce(),this.graphic.alpha=0,this.graphicBraking1.alpha=0,this.graphicBraking2.alpha=0)},loseHealth:function(){this.health=this.health-1|0;t.LevelBuilder.getInstance().showDamage(!0);
0==this.health&&this.set_currentState(k.HeroState.death)},giveImpuls:function(a,b,c){this.body.get_velocity().setxy(0,0);a=f.geom.Vec2.get(a,b,null);a.set_length(c);this.body.applyImpulse(a)},startInvulnerable:function(){this.invulnerable=!0;this.blink.start(200,10)},endInvulnerable:function(){this.invulnerable=!1},upGraphic:function(){this.graphic.set_x(this.body.get_position().get_x());this.graphic.set_y(this.body.get_position().get_y());1==this.graphicBraking1.alpha&&(this.graphicBraking1.set_x(this.body.get_position().get_x()),
this.graphicBraking1.set_y(this.body.get_position().get_y()+23),this.graphicBraking2.set_x(this.body.get_position().get_x()),this.graphicBraking2.set_y(this.body.get_position().get_y()+23))},clearForce:function(){this.body.set_angularVel(0);this.body.get_velocity().set_x(0)},free:function(){this.body=this.graphic=this.destroyElement=this.graphicBraking2=this.graphicBraking1=this.graphicLand=null;m.Actuate.stop(this,null,!1,!1);this.blink.free();this.blink=null},__class__:k.Hero,__properties__:z(k.BasicElements.prototype.__properties__,
{set_currentState:"set_currentState",get_currentState:"get_currentState"})});k.HidedSpikes=function(){this.afterOne=!0;this.counterActive=0;this.counterShootComplete=5;this.counterShoot=0;this.shkalaW=this.shkalaH=20;this.distanceConnect=40;this.time=75;this.canContact=!0;k.BasicElements.call(this)};l["elements.HidedSpikes"]=k.HidedSpikes;k.HidedSpikes.__name__=["elements","HidedSpikes"];k.HidedSpikes.__super__=k.BasicElements;k.HidedSpikes.prototype=z(k.BasicElements.prototype,{canContact:null,time:null,
distanceConnect:null,dis:null,shkalaSprite:null,shkalaW:null,shkalaH:null,fire:null,counterShoot:null,counterShootComplete:null,counterActive:null,create:function(a,b,c,d,g,i,N,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,N,f,o);this.shkalaSprite=new e.display.Sprite;y.Game.getInstance().objectsLayer.addChild(this.shkalaSprite);this.fire=[];this.addFire(b-15,c-25);this.addFire(b+3,c-25);this.addFire(b+19,c-25);a=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList1,a);a.set_x(b);
a.set_y(c+23);y.Game.getInstance().renderList1.addChild(a);this.shkalaSprite.set_x(b);this.shkalaSprite.set_y(c+38);h.jdtiles.jdb.BitmapSprite.drawRect(y.Game.getInstance().objectsLayer.get_graphics(),0,1,this.shkalaW,this.shkalaH,b,c+28);this.shkalaSprite.get_graphics().beginFill(14711834);this.shkalaSprite.get_graphics().drawRect(-(this.shkalaW/2),-this.shkalaH,this.shkalaW,this.shkalaH);this.shkalaSprite.get_graphics().endFill();0==o?(this.shkalaSprite.set_height(this.shkalaH),this.show()):(this.shkalaSprite.set_height(0),
this.hide());this.activeAnyWay=!0},addFire:function(a,b){var c=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,"ShootFire");c.set_x(a);c.set_y(b);c.loop=!1;c.onComplete=w(this,this.hideAnim);c.alpha=0;y.Game.getInstance().renderList2.addChild(c);this.fire.push(c)},show:function(){this.counterShoot=0;this.counterActive=this.time;this.canContact=this.active=!0;var a=C["int"](h.alagatar.Tools.randTo(0,2));this.fire[a].alpha=1;this.fire[a].play();this.playS()},playSound:function(a){this.canPlaySound=
a},afterOne:null,playS:function(){!1!=this.canPlaySound&&(!0==this.afterOne&&h.sound.SoundManager.getInstance().PlayEffect("magic_floor_gun"),this.afterOne=!this.afterOne)},hide:function(){for(var a=this.counterActive=0,b=this.fire;a<b.length;){var c=b[a];++a;c.alpha=0;c.set_currentFrame(0)}this.canContact=this.active=!1},hideAnim:function(a){a.alpha=0},updateAnyWay:function(){!0==this.canContact?this.counterActive--:this.counterActive++;if(this.counterActive==this.time&&!1==this.canContact||0==this.counterActive&&
!0==this.canContact)!0==this.canContact?this.hide():this.show();this.shkalaSprite.set_height(h.alagatar.Tools.fromPercent(h.alagatar.Tools.toPercent(this.counterActive,this.time),this.shkalaH));if(!1!=this.canContact&&(this.counterShoot++,this.counterShoot>=this.counterShootComplete)){this.counterShoot=0;this.counterShootComplete=h.alagatar.Tools.randTo(5,10);for(var a=0,b=this.fire;a<b.length;){var c=b[a];++a;if(1!=c.alpha){c.alpha=1;c.play();this.playS();break}}}},update:function(){if(!0!=y.Game.getInstance().hero.invulnerable&&
(this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect))y.Game.getInstance().hero.onContact("Spike",this.startX)},free:function(){this.fire=[];this.shkalaSprite=this.fire=null},__class__:k.HidedSpikes});k.Lever=function(){this.distanceConnect=20;k.BasicElements.call(this)};l["elements.Lever"]=k.Lever;k.Lever.__name__=["elements","Lever"];k.Lever.__super__=k.BasicElements;k.Lever.prototype=
z(k.BasicElements.prototype,{distanceConnect:null,dis:null,graphic:null,create:function(a,b,c,d,g,i,N,e,f){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,N,e,f);this.active=!0;this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,a);this.graphic.set_x(b);this.graphic.set_y(c);this.graphic.set_offsetY(17);this.graphic.loop=!1;y.Game.getInstance().renderList2.addChild(this.graphic)},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),
y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&(y.Game.getInstance().hero.destroyElement=this,y.Game.getInstance().hero.onContact("Barrel",this.startX),this.active=!1)},destroy:function(){h.sound.SoundManager.getInstance().PlayEffect("lever");this.graphic.play();this.sendToClasses("Door",this.param)},free:function(){this.graphic=null},__class__:k.Lever});k.MachineBullet=function(){this.speed=8.5;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.MachineBullet"]=
k.MachineBullet;k.MachineBullet.__name__=["elements","MachineBullet"];k.MachineBullet.__super__=k.BasicElements;k.MachineBullet.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,speed:null,graphic:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,a);this.graphic.breakTile("blow",[0,1,2,3,4,5,6,7,8,9]);this.graphic.breakTile("destroy",[10,11,12,13,14,15,16,
17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],!0,30,!1,w(this,this.completeAnim));this.graphic.set_currentAnim("blow");y.Game.getInstance().renderList2.addChildAt(this.graphic,0);1==o&&(this.speed*=-1,this.graphic.set_scaleX(-1));this.blow(c)},blow:function(a){this.graphic.set_currentAnim("blow");this.graphic.alpha=1;this.graphic.play();this.graphic.set_x(this.startX);this.graphic.set_y(a);this.activeAnyWay=!0},updateAnyWay:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),
this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y());(80>=this.graphic.get_x()||640<=this.graphic.get_x())&&this.hide();this.dis<this.distanceConnect&&!1==y.Game.getInstance().hero.invulnerable?this.contactHero():this.upGraphic()},contactHero:function(){y.Game.getInstance().hero.onContact("Spike",this.graphic.get_x());this.hide()},hide:function(){this.activeAnyWay=!1;this.graphic.set_currentAnim("destroy")},completeAnim:function(a){a.alpha=0},upGraphic:function(){var a=
this.graphic;a.set_x(a.get_x()+this.speed)},free:function(){this.graphic=null},__class__:k.MachineBullet});k.MachineGun=function(){this.shkalaH=22;this.shkalaW=20;this.counterActive=0;this.timeBlow=80;k.BasicElements.call(this)};l["elements.MachineGun"]=k.MachineGun;k.MachineGun.__name__=["elements","MachineGun"];k.MachineGun.__super__=k.BasicElements;k.MachineGun.prototype=z(k.BasicElements.prototype,{timeBlow:null,bullets:null,graphic:null,graphicDust:null,body:null,counterActive:null,shkalaSprite:null,
shkalaW:null,shkalaH:null,create:function(a,b,c,j,g,i,N,n,o){c-=4;k.BasicElements.prototype.create.call(this,a,b,c,j,g,i,N,n,o);this.activeAnyWay=!0;this.bullets=[];this.shkalaSprite=new e.display.Sprite;this.shkalaSprite.get_graphics().beginFill(14711834);this.shkalaSprite.get_graphics().drawRect(-(this.shkalaW/2),-this.shkalaH,this.shkalaW,this.shkalaH);this.shkalaSprite.get_graphics().endFill();this.shkalaSprite.set_height(0);this.shkalaSprite.set_x(b-1);this.shkalaSprite.set_y(c+12);y.Game.getInstance().objectsLayer.addChild(this.shkalaSprite);
h.jdtiles.jdb.BitmapSprite.drawRect(y.Game.getInstance().objectsLayer.get_graphics(),0,1,this.shkalaW,this.shkalaH,b,c);this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),function(){null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_STATIC}(this),40,40,b,c);this.body.get_userData().data="Wall";this.graphicDust=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,
"machineGunSmoke");this.graphicDust.set_y(c+2);this.graphicDust.set_x(b+(0==this.param?50:-50));this.graphicDust.alpha=0;this.graphicDust.loop=!1;this.graphicDust.onComplete=w(this,this.completeAnim);y.Game.getInstance().renderList1.addChild(this.graphicDust);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,a);y.Game.getInstance().renderList1.addChild(this.graphic);this.graphic.set_x(b+(0==this.param?20:-20));this.graphic.set_y(c);this.graphic.loop=!1;a=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList1,
"machineGunBase");a.set_x(b);a.set_y(c);y.Game.getInstance().renderList1.addChild(a);1==this.param&&(this.graphic.set_scaleX(-1),this.graphicDust.set_scaleX(-1))},blow:function(){this.playS();this.graphic.play();this.graphicDust.alpha=1;this.graphicDust.play();for(var a=0,b=this.bullets;a<b.length;){var c=b[a];++a;if(!1==c.activeAnyWay){c.blow(this.startY);return}}a=new k.MachineBullet;a.create("MachineBullet",this.startX,this.startY,0,0,0,0,0,this.param);this.bullets.push(a)},playSound:function(a){this.canPlaySound=
a},playS:function(){!1!=this.canPlaySound&&h.sound.SoundManager.getInstance().PlayEffect("wall_cannon")},completeAnim:function(a){a.alpha=0},updateAnyWay:function(){this.counterActive++;this.counterActive==this.timeBlow&&(this.counterActive=0,this.blow());this.shkalaSprite.set_height(h.alagatar.Tools.fromPercent(h.alagatar.Tools.toPercent(this.counterActive,this.timeBlow),this.shkalaH));for(var a=0,b=this.bullets;a<b.length;){var c=b[a];++a;!0==c.activeAnyWay&&c.updateAnyWay()}},free:function(){this.body=
this.shkalaSprite=this.graphic=this.graphicDust=null;for(var a=0,b=this.bullets;a<b.length;){var c=b[a];++a;c.free()}this.bullets=[];this.bullets=null},__class__:k.MachineGun});k.SideMP=l["elements.SideMP"]={__ename__:["elements","SideMP"],__constructs__:["A","B","Wait"]};k.SideMP.A=["A",0];k.SideMP.A.toString=A;k.SideMP.A.__enum__=k.SideMP;k.SideMP.B=["B",1];k.SideMP.B.toString=A;k.SideMP.B.__enum__=k.SideMP;k.SideMP.Wait=["Wait",2];k.SideMP.Wait.toString=A;k.SideMP.Wait.__enum__=k.SideMP;k.MovingPlatform=
function(){this.acceleration=this.heroHere=this.contactHero=!1;this.counterWaitComplete=60;this.counterWait=0;this.coef=0.97;this.hBlock=30;this.wBlock=110;this.speed=60;k.BasicElements.call(this)};l["elements.MovingPlatform"]=k.MovingPlatform;k.MovingPlatform.__name__=["elements","MovingPlatform"];k.MovingPlatform.__super__=k.BasicElements;k.MovingPlatform.prototype=z(k.BasicElements.prototype,{body:null,speed:null,lastSpeed:null,currentSide:null,sideA:null,sideB:null,wBlock:null,hBlock:null,coef:null,
distanceToSide:null,counterWait:null,counterWaitComplete:null,acceleration:null,heroHere:null,contactHero:null,graphic:null,create:function(a,b,c,j,g,i,e,n,o){k.BasicElements.prototype.create.call(this,a,b,c,j,g,i,e,n,o);this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),function(){null==d.util.ZPP_Flags.BodyType_KINEMATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_KINEMATIC}(this),
this.wBlock,this.hBlock,b,c,0);this.body.get_userData().data="Floor";this.body.get_userData().data2=a;this.body.get_userData().link=this;this.body.setShapeMaterials(h.alagatar.NapeTools.SetShapeMaterials(2,0,0));this.activeAnyWay=!0;j=h.alagatar.Tools.toRad(n);this.body.set_velocity(f.geom.Vec2.get(Math.cos(j),Math.sin(j),null));this.body.get_velocity().set_length(this.speed);this.currentSide=k.SideMP.A;var o=g=0,Ib="",x=0;if(i>e)for(var g=b+i/2-this.wBlock/2,o=C["int"](h.alagatar.Tools.roundDec(i/
40)-2),i=b-i/2+60,T=0,e=0;e<o;)Ib=e++,0==Ib?(Ib="MovingPlatformPart0",x=-90,T=1):Ib==o-1?(Ib="MovingPlatformPart0",x=90,T=-0.5):(Ib="MovingPlatformPart1",x=-90,T=0),y.Game.getInstance().createBackgroundTile(Ib,h.jdtiles.jda.AnchorPoint.CC,i,c+T,1,1,x),i+=40;else{g=b+e/2-this.hBlock/2;o=C["int"](h.alagatar.Tools.roundDec(e/40));i=c-e/2+16;for(e=T=0;e<o;)Ib=e++,0==Ib?(Ib="MovingPlatformPart0",x=0,T=-1):Ib==o-1?(Ib="MovingPlatformPart0",x=180,T=0.5):(Ib="MovingPlatformPart1",T=x=0),y.Game.getInstance().createBackgroundTile(Ib,
h.jdtiles.jda.AnchorPoint.CC,b+T,i,1,1,x),i+=40}this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,a);this.graphic.set_offsetX(3);this.graphic.set_offsetY(3);y.Game.getInstance().renderList2.addChild(this.graphic);this.upGraphic();this.sideA=h.alagatar.Tools.rotatePointByAngle(b,c,g,c,j);this.sideB=h.alagatar.Tools.rotatePointByAngle(b,c,g,c,h.alagatar.Tools.toRad(n+180))},playSound:function(a){this.canPlaySound=a;!1==a?(y.Game.getInstance().amountLift--,0>y.Game.getInstance().amountLift&&
(y.Game.getInstance().amountLift=0),0==y.Game.getInstance().amountLift&&h.sound.SoundManager.getInstance().StopMusic(3)):(y.Game.getInstance().amountLift++,h.sound.SoundManager.getInstance().PlayMusic("lift",!1,2))},updateAnyWay:function(){this.currentSide==k.SideMP.A?this.distanceToSide=h.alagatar.Tools.roundDec(h.alagatar.Tools.calcDistOfDots(this.body.get_position().get_x(),this.body.get_position().get_y(),this.sideA.x,this.sideA.y)):this.currentSide==k.SideMP.B&&(this.distanceToSide=h.alagatar.Tools.roundDec(h.alagatar.Tools.calcDistOfDots(this.body.get_position().get_x(),
this.body.get_position().get_y(),this.sideB.x,this.sideB.y)));if(!0==this.contactHero){var a=y.Game.getInstance().hero.body.get_position();a.set_x(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)+(this.body.get_position().get_x()-y.Game.getInstance().hero.body.get_position().get_x())/10)}if(0<this.distanceToSide&&40>=this.distanceToSide){var b=this.body.get_velocity();b.set_length(Math.sqrt(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)*function(){b.zpp_inner.validate();
return b.zpp_inner.x}(this)+function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)*function(){b.zpp_inner.validate();return b.zpp_inner.y}(this))*this.coef)}else if(0==this.distanceToSide&&(0==this.counterWait&&(y.Game.getInstance().movingLift--,0>y.Game.getInstance().movingLift&&(y.Game.getInstance().movingLift=0),h.sound.SoundManager.getInstance().StopMusic(2),!0==this.contactHero&&y.Game.getInstance().hero.set_currentState(k.HeroState.acceleration),this.contactHero=!1,this.lastSpeed=this.body.get_velocity().copy(null),
this.body.get_velocity().setxy(0,0)),this.counterWait++,this.counterWait==this.counterWaitComplete)){y.Game.getInstance().movingLift++;this.counterWait=0;var c=this.lastSpeed;c.set_x(-1*function(){c.zpp_inner.validate();return c.zpp_inner.x}(this));var d=this.lastSpeed;d.set_y(-1*function(){d.zpp_inner.validate();return d.zpp_inner.y}(this));this.body.set_velocity(this.lastSpeed);this.acceleration=!0;!0==this.canPlaySound&&h.sound.SoundManager.getInstance().PlayMusic("lift",!1,2);this.currentSide==
k.SideMP.A?this.currentSide=k.SideMP.B:this.currentSide==k.SideMP.B&&(this.currentSide=k.SideMP.A)}if(!0==this.acceleration){var g=this.body.get_velocity();g.set_length(Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.y}(this))/this.coef);this.body.get_velocity().get_length()>=this.speed&&(this.acceleration=
!1)}(!0==this.heroHere&&!1==this.contactHero&&0<this.distanceToSide||!0==this.heroHere&&!0==this.contactHero&&y.Game.getInstance().hero.get_currentState()!=k.HeroState.lift)&&this.stopHero();this.upGraphic()},upGraphic:function(){this.graphic.set_x(this.body.get_position().get_x());this.graphic.set_y(this.body.get_position().get_y())},onContact:function(a){null==a&&(a="");"start"==a?this.heroHere=!0:"end"==a&&(this.heroHere=!1)},stopHero:function(){this.body.get_position().get_y()>y.Game.getInstance().hero.body.get_position().get_y()+
37&&(y.Game.getInstance().hero.body.get_position().get_x()>=this.body.get_position().get_x()-50&&y.Game.getInstance().hero.body.get_position().get_x()<=this.body.get_position().get_x()+50)&&(h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.useLift),y.Game.getInstance().hero.set_currentState(k.HeroState.lift),this.contactHero=!0)},free:function(){this.body=this.graphic=null},__class__:k.MovingPlatform});k.Saw=function(){this.horizontal=!1;this.lastPositionY=0;this.rBlock=40;
this.counterWait=0;this.coefDamping=0.93;this.timeWait=36;this.speedAngular=0;this.speedRotation=10;this.speed=5;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.Saw"]=k.Saw;k.Saw.__name__=["elements","Saw"];k.Saw.__super__=k.BasicElements;k.Saw.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,speed:null,speedRotation:null,speedAngular:null,timeWait:null,angularDown:null,coefDamping:null,counterWait:null,currentSide:null,lastSide:null,sideA:null,sideB:null,rBlock:null,
lastPositionY:null,graphic:null,horizontal:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,a);y.Game.getInstance().renderList2.addChild(this.graphic);this.angularDown=this.timeWait/2;this.activeAnyWay=this.active=!0;1==o&&(this.speedRotation*=-1,this.distanceConnect=50);this.currentSide=k.SideMP.A;this.lastSide=k.SideMP.B;a=0;if(i>e){e=b+i/2-this.rBlock/2;this.horizontal=
!0;a=C["int"](h.alagatar.Tools.roundDec(i/this.rBlock));i=b-i/2;for(g=0;g<a;)g++,d=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"podSaw"),d.set_x(i),d.set_y(c),d.set_anchor(0==this.param?h.jdtiles.jda.AnchorPoint.UL:h.jdtiles.jda.AnchorPoint.DL),y.Game.getInstance().renderList2.addChild(d),i+=this.rBlock}else e=b+e/2-this.rBlock/2;this.sideA=h.alagatar.Tools.rotatePointByAngle(b,c,e,c,h.alagatar.Tools.toRad(f));this.sideB=h.alagatar.Tools.rotatePointByAngle(b,c,e,c,h.alagatar.Tools.toRad(f+
180));this.graphic.set_x(this.sideB.x);this.graphic.set_y(this.sideB.y)},updateAnyWay:function(){if(this.currentSide==k.SideMP.A)if(!0==this.horizontal)if(this.sideA.x>this.sideB.x){var a=this.graphic;a.set_x(a.get_x()+this.speed);this.speedAngular=this.speedRotation;this.graphic.get_x()>=this.sideA.x&&(this.graphic.set_x(this.sideA.x),this.currentSide=k.SideMP.Wait)}else this.sideA.x<this.sideB.x&&(a=this.graphic,a.set_x(a.get_x()-this.speed),this.speedAngular=-this.speedRotation,this.graphic.get_x()<=
this.sideA.x&&(this.graphic.set_x(this.sideA.x),this.currentSide=k.SideMP.Wait));else this.sideA.y>this.sideB.y?(a=this.graphic,a.set_y(a.get_y()+this.speed),this.speedAngular=-this.speedRotation,this.graphic.get_y()>=this.sideA.y&&(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideMP.Wait)):this.sideA.y<this.sideB.y&&(a=this.graphic,a.set_y(a.get_y()-this.speed),this.speedAngular=this.speedRotation,this.graphic.get_y()<=this.sideA.y&&(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideMP.Wait));
else if(this.currentSide==k.SideMP.B)!0==this.horizontal?this.sideB.x>this.sideA.x?(a=this.graphic,a.set_x(a.get_x()+this.speed),this.speedAngular=this.speedRotation,this.graphic.get_x()>=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideMP.Wait)):this.sideB.x<this.sideA.x&&(a=this.graphic,a.set_x(a.get_x()-this.speed),this.speedAngular=-this.speedRotation,this.graphic.get_x()<=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideMP.Wait)):this.sideB.y>this.sideA.y?
(a=this.graphic,a.set_y(a.get_y()+this.speed),this.speedAngular=-this.speedRotation,this.graphic.get_y()>=this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideMP.Wait)):this.sideB.y<this.sideA.y&&(a=this.graphic,a.set_y(a.get_y()-this.speed),this.speedAngular=this.speedRotation,this.graphic.get_y()<=this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideMP.Wait));else if(this.currentSide==k.SideMP.Wait&&(this.counterWait++,this.counterWait<this.angularDown?this.speedAngular*=
this.coefDamping:this.counterWait>this.angularDown?this.speedAngular/=this.coefDamping:this.counterWait==this.angularDown&&(this.speedAngular*=-1),this.counterWait==this.timeWait))this.counterWait=0,this.lastSide==k.SideMP.B?(this.currentSide=this.lastSide,this.lastSide=k.SideMP.A):this.lastSide==k.SideMP.A&&(this.currentSide=this.lastSide,this.lastSide=k.SideMP.B);this.graphicRotation();this.checkFloor(this.graphic.get_y())},graphicRotation:function(){this.graphic.set_rotation((this.graphic.get_rotation()+
this.speedAngular)%360)},update:function(){if(!0!=y.Game.getInstance().hero.invulnerable&&(this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect))y.Game.getInstance().hero.onContact("Spike",this.graphic.get_x())},checkFloor:function(a){a!=this.lastPositionY&&(this.currentFloor=Math.floor(a/this.gridH));this.lastPositionY=a},free:function(){m.Actuate.stop(this.graphic,
null,!1,!1);this.graphic=null},__class__:k.Saw});k.SawL=function(){this.scaleSpeed=0.08;this.horizontal=!1;this.lastPositionY=0;this.rBlock=40;this.counterWait=0;this.speedAngular=-10;this.timeWait=36;this.speedHide=2.5;this.speed=5;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.SawL"]=k.SawL;k.SawL.__name__=["elements","SawL"];k.SawL.__super__=k.BasicElements;k.SawL.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,speed:null,speedHide:null,timeWait:null,speedAngular:null,
currentSide:null,lastSide:null,counterWait:null,sideA:null,sideB:null,sideC:null,sideD:null,rBlock:null,lastPositionY:null,graphic:null,horizontal:null,scaleSpeed:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"Saw");y.Game.getInstance().renderList2.addChild(this.graphic);this.activeAnyWay=this.active=!0;1==o&&(this.distanceConnect=50);this.currentSide=k.SideSaw.A;this.lastSide=
k.SideSaw.D;a=0;if(i>e){e=b+i/2-this.rBlock/2;this.horizontal=!0;a=C["int"](h.alagatar.Tools.roundDec(i/this.rBlock));i=b-i/2;for(g=0;g<a;)g++,d=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"podSaw"),d.set_x(i),d.set_y(c),d.set_anchor(0==this.param?h.jdtiles.jda.AnchorPoint.UL:h.jdtiles.jda.AnchorPoint.DL),y.Game.getInstance().renderList2.addChild(d),i+=this.rBlock}else e=b+e/2-this.rBlock/2;i=h.alagatar.Tools.toRad(f);f=h.alagatar.Tools.toRad(f+180);this.sideD=h.alagatar.Tools.rotatePointByAngle(b,
c,e,c,i);this.sideC=h.alagatar.Tools.rotatePointByAngle(b,c,e,c+this.rBlock/2,i);this.sideB=h.alagatar.Tools.rotatePointByAngle(b,c,e,c-this.rBlock/2,f);this.sideA=h.alagatar.Tools.rotatePointByAngle(b,c,e,c,f);this.graphic.set_x(this.sideD.x);this.graphic.set_y(this.sideD.y)},updateAnyWay:function(){if(this.currentSide==k.SideSaw.A)if(!0==this.horizontal)if(this.sideA.x>this.sideD.x){var a=this.graphic;a.set_x(a.get_x()+this.speed);this.graphic.get_x()>=this.sideA.x&&(this.graphic.set_x(this.sideA.x),
this.currentSide=k.SideSaw.Wait)}else this.sideA.x<this.sideD.x&&(a=this.graphic,a.set_x(a.get_x()-this.speed),this.graphic.get_x()<=this.sideA.x&&(this.graphic.set_x(this.sideA.x),this.currentSide=k.SideSaw.Wait));else this.sideA.y>this.sideD.y?(a=this.graphic,a.set_y(a.get_y()+this.speed),this.graphic.get_y()>=this.sideA.y&&(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideSaw.Wait)):this.sideA.y<this.sideD.y&&(a=this.graphic,a.set_y(a.get_y()-this.speed),this.graphic.get_y()<=this.sideA.y&&
(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideSaw.Wait));else this.currentSide==k.SideSaw.B?(this.graphic.set_scaleX(function(a){var c=a.graphic;return c.set_scaleY(c.get_scaleY()-a.scaleSpeed)}(this)),!0==this.horizontal?this.sideB.y>this.sideA.y?(a=this.graphic,a.set_y(a.get_y()+this.speedHide),this.graphic.get_y()>=this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideSaw.Wait)):this.sideB.y<this.sideA.y&&(a=this.graphic,a.set_y(a.get_y()-this.speedHide),this.graphic.get_y()<=
this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideSaw.Wait)):this.sideB.x>this.sideA.x?(a=this.graphic,a.set_x(a.get_x()+this.speedHide),this.graphic.get_x()>=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideSaw.Wait)):this.sideB.x<this.sideA.x&&(a=this.graphic,a.set_x(a.get_x()-this.speedHide),this.graphic.get_x()<=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideSaw.Wait))):this.currentSide==k.SideSaw.D?(this.graphic.set_scaleX(function(a){var c=
a.graphic;return c.set_scaleY(c.get_scaleY()+a.scaleSpeed)}(this)),!0==this.horizontal?this.sideD.y>this.sideC.y?(a=this.graphic,a.set_y(a.get_y()+this.speedHide),this.graphic.get_y()>=this.sideD.y&&(this.graphic.set_y(this.sideD.y),this.currentSide=k.SideSaw.Wait)):this.sideD.y<this.sideC.y&&(a=this.graphic,a.set_y(a.get_y()-this.speedHide),this.graphic.get_y()<=this.sideD.y&&(this.graphic.set_y(this.sideD.y),this.currentSide=k.SideSaw.Wait)):this.sideD.x>this.sideC.x?(a=this.graphic,a.set_x(a.get_x()+
this.speedHide),this.graphic.get_x()>=this.sideD.x&&(this.graphic.set_x(this.sideD.x),this.currentSide=k.SideSaw.Wait)):this.sideD.x<this.sideC.x&&(a=this.graphic,a.set_x(a.get_x()-this.speedHide),this.graphic.get_x()<=this.sideD.x&&(this.graphic.set_x(this.sideD.x),this.currentSide=k.SideSaw.Wait))):this.currentSide==k.SideSaw.Wait&&(this.lastSide==k.SideSaw.D?(this.currentSide=k.SideSaw.B,this.lastSide=k.SideSaw.A):this.lastSide==k.SideSaw.A?(this.counterWait++,this.counterWait==this.timeWait&&
(this.counterWait=0,this.graphic.set_x(this.sideC.x),this.graphic.set_y(this.sideC.y),this.currentSide=k.SideSaw.D,this.lastSide=k.SideSaw.C)):this.lastSide==k.SideSaw.C&&(this.graphic.set_scaleX(this.graphic.set_scaleY(1)),this.currentSide=k.SideSaw.A,this.lastSide=k.SideSaw.D));this.graphicRotation();this.checkFloor(this.graphic.get_y())},graphicRotation:function(){this.graphic.set_rotation((this.graphic.get_rotation()+this.speedAngular)%360)},update:function(){if(!0!=y.Game.getInstance().hero.invulnerable&&
(this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect&&1==this.graphic.get_scaleX()))y.Game.getInstance().hero.onContact("Spike",this.graphic.get_x())},checkFloor:function(a){a!=this.lastPositionY&&(this.currentFloor=Math.floor(a/this.gridH));this.lastPositionY=a},free:function(){m.Actuate.stop(this.graphic,null,!1,!1);this.graphic=null},__class__:k.SawL});
k.SideSaw=l["elements.SideSaw"]={__ename__:["elements","SideSaw"],__constructs__:["A","B","C","D","Wait"]};k.SideSaw.A=["A",0];k.SideSaw.A.toString=A;k.SideSaw.A.__enum__=k.SideSaw;k.SideSaw.B=["B",1];k.SideSaw.B.toString=A;k.SideSaw.B.__enum__=k.SideSaw;k.SideSaw.C=["C",2];k.SideSaw.C.toString=A;k.SideSaw.C.__enum__=k.SideSaw;k.SideSaw.D=["D",3];k.SideSaw.D.toString=A;k.SideSaw.D.__enum__=k.SideSaw;k.SideSaw.Wait=["Wait",4];k.SideSaw.Wait.toString=A;k.SideSaw.Wait.__enum__=k.SideSaw;k.SawR=function(){this.scaleSpeed=
0.08;this.horizontal=!1;this.lastPositionY=0;this.rBlock=40;this.counterWait=0;this.speedAngular=10;this.timeWait=36;this.speedHide=2.5;this.speed=5;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.SawR"]=k.SawR;k.SawR.__name__=["elements","SawR"];k.SawR.__super__=k.BasicElements;k.SawR.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,speed:null,speedHide:null,timeWait:null,speedAngular:null,currentSide:null,lastSide:null,counterWait:null,sideA:null,sideB:null,sideC:null,
sideD:null,rBlock:null,lastPositionY:null,graphic:null,horizontal:null,scaleSpeed:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.graphic=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"Saw");y.Game.getInstance().renderList2.addChild(this.graphic);this.activeAnyWay=this.active=!0;1==o&&(this.distanceConnect=50);this.currentSide=k.SideSaw.A;this.lastSide=k.SideSaw.D;a=0;if(i>e){e=b+i/2-this.rBlock/2;this.horizontal=!0;a=C["int"](h.alagatar.Tools.roundDec(i/
this.rBlock));i=b-i/2;for(g=0;g<a;)g++,d=new h.jdtiles.jda.TileSprite(y.Game.getInstance().renderList2,"podSaw"),d.set_x(i),d.set_y(c),d.set_anchor(0==this.param?h.jdtiles.jda.AnchorPoint.UL:h.jdtiles.jda.AnchorPoint.DL),y.Game.getInstance().renderList2.addChild(d),i+=this.rBlock}else e=b+e/2-this.rBlock/2;i=h.alagatar.Tools.toRad(f);f=h.alagatar.Tools.toRad(f+180);this.sideA=h.alagatar.Tools.rotatePointByAngle(b,c,e,c,i);this.sideB=h.alagatar.Tools.rotatePointByAngle(b,c,e,c+this.rBlock/2,i);this.sideC=
h.alagatar.Tools.rotatePointByAngle(b,c,e,c-this.rBlock/2,f);this.sideD=h.alagatar.Tools.rotatePointByAngle(b,c,e,c,f);this.graphic.set_x(this.sideD.x);this.graphic.set_y(this.sideD.y)},updateAnyWay:function(){if(this.currentSide==k.SideSaw.A)if(!0==this.horizontal)if(this.sideA.x>this.sideD.x){var a=this.graphic;a.set_x(a.get_x()+this.speed);this.graphic.get_x()>=this.sideA.x&&(this.graphic.set_x(this.sideA.x),this.currentSide=k.SideSaw.Wait)}else this.sideA.x<this.sideD.x&&(a=this.graphic,a.set_x(a.get_x()-
this.speed),this.graphic.get_x()<=this.sideA.x&&(this.graphic.set_x(this.sideA.x),this.currentSide=k.SideSaw.Wait));else this.sideA.y>this.sideD.y?(a=this.graphic,a.set_y(a.get_y()+this.speed),this.graphic.get_y()>=this.sideA.y&&(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideSaw.Wait)):this.sideA.y<this.sideD.y&&(a=this.graphic,a.set_y(a.get_y()-this.speed),this.graphic.get_y()<=this.sideA.y&&(this.graphic.set_y(this.sideA.y),this.currentSide=k.SideSaw.Wait));else this.currentSide==k.SideSaw.B?
(this.graphic.set_scaleX(function(a){var c=a.graphic;return c.set_scaleY(c.get_scaleY()-a.scaleSpeed)}(this)),!0==this.horizontal?this.sideB.y>this.sideA.y?(a=this.graphic,a.set_y(a.get_y()+this.speedHide),this.graphic.get_y()>=this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideSaw.Wait)):this.sideB.y<this.sideA.y&&(a=this.graphic,a.set_y(a.get_y()-this.speedHide),this.graphic.get_y()<=this.sideB.y&&(this.graphic.set_y(this.sideB.y),this.currentSide=k.SideSaw.Wait)):this.sideB.x>
this.sideA.x?(a=this.graphic,a.set_x(a.get_x()+this.speedHide),this.graphic.get_x()>=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideSaw.Wait)):this.sideB.x<this.sideA.x&&(a=this.graphic,a.set_x(a.get_x()-this.speedHide),this.graphic.get_x()<=this.sideB.x&&(this.graphic.set_x(this.sideB.x),this.currentSide=k.SideSaw.Wait))):this.currentSide==k.SideSaw.D?(this.graphic.set_scaleX(function(a){var c=a.graphic;return c.set_scaleY(c.get_scaleY()+a.scaleSpeed)}(this)),!0==this.horizontal?
this.sideD.y>this.sideC.y?(a=this.graphic,a.set_y(a.get_y()+this.speedHide),this.graphic.get_y()>=this.sideD.y&&(this.graphic.set_y(this.sideD.y),this.currentSide=k.SideSaw.Wait)):this.sideD.y<this.sideC.y&&(a=this.graphic,a.set_y(a.get_y()-this.speedHide),this.graphic.get_y()<=this.sideD.y&&(this.graphic.set_y(this.sideD.y),this.currentSide=k.SideSaw.Wait)):this.sideD.x>this.sideC.x?(a=this.graphic,a.set_x(a.get_x()+this.speedHide),this.graphic.get_x()>=this.sideD.x&&(this.graphic.set_x(this.sideD.x),
this.currentSide=k.SideSaw.Wait)):this.sideD.x<this.sideC.x&&(a=this.graphic,a.set_x(a.get_x()-this.speedHide),this.graphic.get_x()<=this.sideD.x&&(this.graphic.set_x(this.sideD.x),this.currentSide=k.SideSaw.Wait))):this.currentSide==k.SideSaw.Wait&&(this.lastSide==k.SideSaw.D?(this.currentSide=k.SideSaw.B,this.lastSide=k.SideSaw.A):this.lastSide==k.SideSaw.A?(this.counterWait++,this.counterWait==this.timeWait&&(this.counterWait=0,this.graphic.set_x(this.sideC.x),this.graphic.set_y(this.sideC.y),
this.currentSide=k.SideSaw.D,this.lastSide=k.SideSaw.C)):this.lastSide==k.SideSaw.C&&(this.graphic.set_scaleX(this.graphic.set_scaleY(1)),this.currentSide=k.SideSaw.A,this.lastSide=k.SideSaw.D));this.graphicRotation();this.checkFloor(this.graphic.get_y())},graphicRotation:function(){this.graphic.set_rotation((this.graphic.get_rotation()+this.speedAngular)%360)},update:function(){if(!0!=y.Game.getInstance().hero.invulnerable&&(this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),
y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect&&1==this.graphic.get_scaleX()))y.Game.getInstance().hero.onContact("Spike",this.graphic.get_x())},checkFloor:function(a){a!=this.lastPositionY&&(this.currentFloor=Math.floor(a/this.gridH));this.lastPositionY=a},free:function(){m.Actuate.stop(this.graphic,null,!1,!1);this.graphic=null},__class__:k.SawR});k.SkeletonState=l["elements.SkeletonState"]={__ename__:["elements","SkeletonState"],
__constructs__:"walk run beat death resurrect stand die".split(" ")};k.SkeletonState.walk=["walk",0];k.SkeletonState.walk.toString=A;k.SkeletonState.walk.__enum__=k.SkeletonState;k.SkeletonState.run=["run",1];k.SkeletonState.run.toString=A;k.SkeletonState.run.__enum__=k.SkeletonState;k.SkeletonState.beat=["beat",2];k.SkeletonState.beat.toString=A;k.SkeletonState.beat.__enum__=k.SkeletonState;k.SkeletonState.death=["death",3];k.SkeletonState.death.toString=A;k.SkeletonState.death.__enum__=k.SkeletonState;
k.SkeletonState.resurrect=["resurrect",4];k.SkeletonState.resurrect.toString=A;k.SkeletonState.resurrect.__enum__=k.SkeletonState;k.SkeletonState.stand=["stand",5];k.SkeletonState.stand.toString=A;k.SkeletonState.stand.__enum__=k.SkeletonState;k.SkeletonState.die=["die",6];k.SkeletonState.die.toString=A;k.SkeletonState.die.__enum__=k.SkeletonState;k.Skeleton=function(){this.lastDie=this.haveTarget=!1;this.dis=this.dieCount=0;this.deathTime=75;this.deathTimer=0;this.alive=!0;this.distanceConnect=60;
this.blockSize=40;this.leftBorder=this.rightBorder=0;this.timeCheck=Math.floor(120*Math.random())+60;this.timeAFK=Math.floor(30*Math.random())+30;this.timer1=this.timer2=0;this.runSpeed=6.5;this.speed=0;this.startSpeed=3.5;this.side=1;this.canMove=!1;k.BasicElements.call(this)};l["elements.Skeleton"]=k.Skeleton;k.Skeleton.__name__=["elements","Skeleton"];k.Skeleton.__super__=k.BasicElements;k.Skeleton.prototype=z(k.BasicElements.prototype,{canMove:null,side:null,startSpeed:null,speed:null,runSpeed:null,
timer1:null,timer2:null,timeAFK:null,timeCheck:null,leftBorder:null,rightBorder:null,graphic:null,blockSize:null,distanceConnect:null,alive:null,deathTimer:null,deathTime:null,dis:null,dieCount:null,lastDie:null,_currentState:null,haveTarget:null,stun:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);d*=this.blockSize;this.leftBorder=b-d/2+15;this.rightBorder=b+d/2-15;this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,a);1==
G.currentVersion?(this.graphic.breakTile("stand",[48,49,50,51,52,53,54,55,56,57,58,59,60],!0),this.graphic.breakTile("walk",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],!0,45),this.graphic.breakTile("run",[27,28,29,30,31,32,33,34,35,36,37],!0),this.graphic.breakTile("death",[61,62,63,64,65,66,67,68,69,70,71],!0,30,!1),this.graphic.breakTile("resurrect",[71,70,69,68,67,66,65,64,63,62,61],!0,30,!1,w(this,this.completeAnim)),this.graphic.breakTile("beat",[38,39,40,41,42,43,44,45,46,47],
!0,30,!1,w(this,this.completeAnim)),this.graphic.breakTile("die",[72],!1),this.graphic.set_offsetY(-19)):2==G.currentVersion&&(this.graphic.breakTile("stand",[50,51,52,53,54,55,56,57,58,59,60,61,62],!0),this.graphic.breakTile("walk",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],!0,45),this.graphic.breakTile("run",[24,25,26,27,28,29,30,31,32,33,34],!0),this.graphic.breakTile("death",[62,63,64,65,66,67,68,69,70],!0,30,!1),this.graphic.breakTile("resurrect",[70,71,72,73,74],!0,30,!1,
w(this,this.completeAnim)),this.graphic.breakTile("beat",[35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],!0,30,!1,w(this,this.completeAnim)),this.graphic.breakTile("die",[70],!1),this.graphic.set_offsetY(-27));this.graphic.set_currentAnim("walk");y.Game.getInstance().renderList2.addChild(this.graphic);2==G.currentVersion&&(this.stun=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,"stunSkeleton"),this.stun.alpha=0,this.stun.set_offsetY(-25),y.Game.getInstance().renderList2.addChild(this.stun));
this.graphic.set_offsetX(5);this.graphic.set_x(Math.random()*d+this.leftBorder);this.graphic.set_y(c+5);0==Math.floor(2*Math.random())&&(this.side=-1);this.graphic.set_scaleX(this.side);this.active=this.activeAnyWay=this.canMove=!0;this.set_currentState(k.SkeletonState.walk);this.speed=this.startSpeed},updateAnyWay:function(){!0!=this.lastDie&&(this.calcSide(),this.findHero(),this.move())},update:function(){this.calcDistance()},calcSide:function(){(1==this.side&&this.graphic.get_x()>=this.rightBorder||
-1==this.side&&this.graphic.get_x()<=this.leftBorder)&&this.reverse()},reverse:function(){this.side*=-1;this.graphic.set_scaleX(this.side);this.haveTarget=!1;this.graphic.get_x()>=this.rightBorder?this.graphic.set_x(this.rightBorder):this.graphic.get_x()<=this.leftBorder&&this.graphic.set_x(this.leftBorder)},move:function(){if(!0==this.canMove){var a=this.graphic;a.set_x(a.get_x()+this.speed*this.side)}!0==this.alive?!1==this.haveTarget&&(this.timer1++,this.timer1>=this.timeCheck&&(this.canMove=!1,
this.set_currentState(k.SkeletonState.stand),this.timer2++,this.timer2>=this.timeAFK&&this.clearMoveParams())):(this.deathTimer++,this.deathTimer>=this.deathTime&&this.get_currentState()!=k.SkeletonState.resurrect&&(this.canMove=!1,this.deathTimer=0,this.set_currentState(k.SkeletonState.resurrect)))},findHero:function(){!0==this.haveTarget||!1==this.canMove||(y.Game.getInstance().hero.currentFloor==this.currentFloor&&!1==y.Game.getInstance().hero.invulnerable?(this.side=1,y.Game.getInstance().hero.graphic.get_x()<
this.graphic.get_x()&&(this.side=-1),this.haveTarget=!0,this.get_currentState()!=k.SkeletonState.run&&this.set_currentState(k.SkeletonState.run),this.speed=this.runSpeed,this.graphic.set_scaleX(this.side),this.canMove=!0):(this.set_currentState(k.SkeletonState.walk),this.speed=this.startSpeed,this.haveTarget=!1))},clearMoveParams:function(){this.speed=this.startSpeed;this.timer2=this.timer1=0;this.timeAFK=Math.floor(30*Math.random())+30;this.timeCheck=Math.floor(120*Math.random())+60;this.canMove=
!0},calcDistance:function(){!1==this.alive||y.Game.getInstance().hero.get_currentState()==k.HeroState.falling||(this.dis=h.alagatar.Tools.calcDistOfDots(this.graphic.get_x(),this.graphic.get_y(),y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect&&(!1==y.Game.getInstance().hero.invulnerable&&(y.Game.getInstance().hero.graphic.get_x()<=this.graphic.get_x()&&0>y.Game.getInstance().hero.body.get_velocity().get_x()&&-1==this.side||y.Game.getInstance().hero.graphic.get_x()>
this.graphic.get_x()&&0<=y.Game.getInstance().hero.body.get_velocity().get_x()&&1==this.side)?!0==this.canMove&&this.get_currentState()!=k.SkeletonState.beat&&this.set_currentState(k.SkeletonState.beat):(y.Game.getInstance().hero.destroyElement=this,y.Game.getInstance().hero.onContact("Barrel",this.graphic.get_x())),this.canMove=this.haveTarget=!1))},destroy:function(){this.dieCount++;this.alive=!1;5<=this.dieCount?(this.lastDie=!0,this.set_currentState(k.SkeletonState.die)):this.set_currentState(k.SkeletonState.death)},
completeAnim:function(a){if("beat"==a.get_currentAnim()){if(100>this.dis)y.Game.getInstance().hero.onContact("Spike",this.graphic.get_x())}else this.alive=!0;this.haveTarget=!1;this.clearMoveParams()},get_currentState:function(){return this._currentState},set_currentState:function(a){this._currentState=a;a==k.SkeletonState.walk?this.staticStateWalk():a==k.SkeletonState.run?this.staticStateRun():a==k.SkeletonState.beat?this.staticStateBeat():a==k.SkeletonState.death?this.staticStateDeath():a==k.SkeletonState.resurrect?
this.staticStateResurrect():a==k.SkeletonState.stand?this.staticStateStand():a==k.SkeletonState.die&&this.staticStateDie();return a},staticStateDie:function(){h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.killSkeleton);h.sound.SoundManager.getInstance().PlayEffect("skeleton_die");this.graphic.set_currentAnim("die")},staticStateStand:function(){this.graphic.set_currentAnim("stand")},staticStateWalk:function(){this.graphic.set_currentAnim("walk")},staticStateRun:function(){h.sound.SoundManager.getInstance().PlayEffect("Skeleton_attack");
this.graphic.set_currentAnim("run")},staticStateBeat:function(){this.graphic.set_currentAnim("beat")},staticStateDeath:function(){h.sound.SoundManager.getInstance().PlayEffect("skeleton_die");this.graphic.set_currentAnim("death");null!=this.stun&&(this.stun.set_scaleX(this.graphic.get_scaleX()),this.stun.set_x(this.graphic.get_x()+(1==this.graphic.get_scaleX()?-10:10)),this.stun.set_y(this.graphic.get_y()),this.stun.alpha=1,this.stun.play())},staticStateResurrect:function(){this.graphic.set_currentAnim("resurrect");
null!=this.stun&&(this.stun.alpha=0,this.stun.stop())},free:function(){k.BasicElements.prototype.free.call(this);this.stun=this.graphic=null},__class__:k.Skeleton,__properties__:z(k.BasicElements.prototype.__properties__,{set_currentState:"set_currentState",get_currentState:"get_currentState"})});k.Spikes=function(){this.counterAnim=0;this.distanceConnect=40;k.BasicElements.call(this)};l["elements.Spikes"]=k.Spikes;k.Spikes.__name__=["elements","Spikes"];k.Spikes.__super__=k.BasicElements;k.Spikes.prototype=
z(k.BasicElements.prototype,{distanceConnect:null,dis:null,graphic:null,counterAnim:null,completeAnim:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"blik",20);y.Game.getInstance().renderList1.addChild(this.graphic);this.graphic.set_x(b);this.graphic.set_y(c);this.graphic.loop=!1;this.graphic.onComplete=w(this,this.endAnim);this.graphic.play();y.Game.getInstance().createBackgroundTile("Stones",
h.jdtiles.jda.AnchorPoint.CC,b,c+23);this.completeAnim=h.alagatar.Tools.randTo(40,80);this.active=!0},endAnim:function(){this.activeAnyWay=!0;this.graphic.alpha=0},updateAnyWay:function(){this.counterAnim++;this.counterAnim==this.completeAnim&&(this.counterAnim=0,this.completeAnim=h.alagatar.Tools.randTo(40,80),this.activeAnyWay=!1,this.graphic.set_x(h.alagatar.Tools.randTo(this.startX-20,this.startX+20)),this.graphic.alpha=1,this.graphic.play())},update:function(){if(!0!=y.Game.getInstance().hero.invulnerable&&
(this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y()),this.dis<this.distanceConnect))y.Game.getInstance().hero.onContact("Spike",this.startX)},free:function(){this.graphic=null},__class__:k.Spikes});k.Spring=function(){this.impPower=1800;this.impY=-1350;this.impX=0;this.distanceConnect=20;k.BasicElements.call(this)};l["elements.Spring"]=k.Spring;k.Spring.__name__=["elements","Spring"];k.Spring.__super__=
k.BasicElements;k.Spring.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,graphic:null,impX:null,impY:null,impPower:null,create:function(a,b,c,d,g,i,e,f,o){c-=14;k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.active=!0;this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,"Spring");this.graphic.loop=!1;this.graphic.set_x(b);this.graphic.set_y(c);this.graphic.set_offsetX(6);this.graphic.onComplete=w(this,this.completeAnim);y.Game.getInstance().renderList2.addChild(this.graphic);
this.setAnim()},setAnim:function(){},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&(this.graphic.play(),this.bump(),this.active=!1)},bump:function(){h.sound.SoundManager.getInstance().PlayEffect("spring");y.Game.getInstance().hero.set_currentState(k.HeroState.fly);y.Game.getInstance().hero.giveImpuls(this.impX,this.impY,this.impPower)},completeAnim:function(){this.active=
!0},free:function(){this.graphic=null},__class__:k.Spring});k.SpringR=function(){k.Spring.call(this)};l["elements.SpringR"]=k.SpringR;k.SpringR.__name__=["elements","SpringR"];k.SpringR.__super__=k.Spring;k.SpringR.prototype=z(k.Spring.prototype,{setAnim:function(){this.impX=500},bump:function(){k.Spring.prototype.bump.call(this);if(0>y.Game.getInstance().hero.speed&&0<this.impX||0<y.Game.getInstance().hero.speed&&0>this.impX)y.Game.getInstance().hero.setDirectionHero();else if(0<y.Game.getInstance().hero.speed&&
0<this.impX&&-1==y.Game.getInstance().hero.graphic.get_scaleX()||0<y.Game.getInstance().hero.speed&&0>this.impX&&1==y.Game.getInstance().hero.graphic.get_scaleX()){var a=y.Game.getInstance().hero.graphic;a.set_scaleX(-1*a.get_scaleX())}},__class__:k.SpringR});k.SpringL=function(){k.SpringR.call(this)};l["elements.SpringL"]=k.SpringL;k.SpringL.__name__=["elements","SpringL"];k.SpringL.__super__=k.SpringR;k.SpringL.prototype=z(k.SpringR.prototype,{create:function(a,b,c,d,g,i,e,f,o){k.SpringR.prototype.create.call(this,
a,b,c,d,g,i,e,f,o);this.graphic.set_scaleX(-1);this.impX=-500},__class__:k.SpringL});k.Start=function(){this.counter=0;k.BasicElements.call(this)};l["elements.Start"]=k.Start;k.Start.__name__=["elements","Start"];k.Start.__super__=k.BasicElements;k.Start.prototype=z(k.BasicElements.prototype,{graphic:null,graphicDust:null,counter:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);a=1;1==o&&(a=-1);this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,
"start",20);this.graphic.set_x(b+33*a);this.graphic.set_y(c-21);this.graphic.set_scaleX(a);this.graphic.loop=!1;this.graphic.onComplete=w(this,this.completeAnim);y.Game.getInstance().renderList1.addChild(this.graphic);this.graphicDust=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList2,"doorDust");this.graphicDust.set_x(b+65*a);this.graphicDust.set_y(c-25);this.graphicDust.set_scaleX(a);this.graphicDust.loop=!1;this.graphicDust.alpha=0;this.graphicDust.onComplete=w(this,this.completeAnim);
y.Game.getInstance().renderList2.addChild(this.graphicDust);y.Game.getInstance().createBackgroundTile("Door",h.jdtiles.jda.AnchorPoint.CC,b,c-33,a);this.activeAnyWay=!0},updateAnyWay:function(){this.counter++;20==this.counter&&(this.counter=0,this.activeAnyWay=!1,h.sound.SoundManager.getInstance().PlayEffect("door"),this.graphic.play(),y.Game.getInstance().hero.show(!0))},completeAnim:function(a){"start"==a.get_tile()?(this.graphicDust.alpha=1,this.graphicDust.play()):"doorDust"==a.get_tile()&&(a.alpha=
0)},free:function(){this.graphicDust=this.graphic=null},__class__:k.Start});k.StaticBlock=function(){k.BasicElements.call(this)};l["elements.StaticBlock"]=k.StaticBlock;k.StaticBlock.__name__=["elements","StaticBlock"];k.StaticBlock.__super__=k.BasicElements;k.StaticBlock.prototype=z(k.BasicElements.prototype,{body:null,create:function(a,b,c,j,g,i,e,n,o){k.BasicElements.prototype.create.call(this,a,b,c,j,g,i,e,n,o);this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),function(){null==d.util.ZPP_Flags.BodyType_STATIC&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_STATIC}(this),40*j,30*g,b,c,n);this.body.get_userData().data="Floor";if(1!=o){a=C["int"](h.alagatar.Tools.roundDec(i/40));b=b-i/2+20;e="";i=1;c-=16;for(j=0;j<a;)g=j++,i=1,0==g?(e="fonBlock0",i=-1):g==a-1?e="fonBlock0":(g=h.alagatar.Tools.randTo(1,2),e="fonBlock"+g,2==g&&1==h.alagatar.Tools.randTo(1,2)&&(i=-1)),y.Game.getInstance().createBackgroundTile(e,
h.jdtiles.jda.AnchorPoint.UC,b,c,i),b+=40}},free:function(){this.body=null},__class__:k.StaticBlock});k.Teleport=function(){this.disable=!1;this.distanceConnect=30;k.BasicElements.call(this)};l["elements.Teleport"]=k.Teleport;k.Teleport.__name__=["elements","Teleport"];k.Teleport.__super__=k.BasicElements;k.Teleport.prototype=z(k.BasicElements.prototype,{distanceConnect:null,dis:null,disable:null,teleport:null,heroSpeed:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,
a,b,c,d,g,i,e,f,o);y.Game.getInstance().createBackgroundTile("TeleportDoor",h.jdtiles.jda.AnchorPoint.CC,b,c-7);this.active=!0},buildComplete:function(){this.teleport=this.findClasses(this.nameClass,this.param);var a=1,b=1;this.startY>this.teleport.startY?(this.startX>this.teleport.startX&&(b=-1,a=0),y.Game.getInstance().createBackgroundTile("TeleportStup",h.jdtiles.jda.AnchorPoint.CC,this.startX+a,this.startY,b)):(this.startX>this.teleport.startX&&(b=-1,a=0),y.Game.getInstance().createBackgroundTile("teleportPoruchni",
h.jdtiles.jda.AnchorPoint.CC,this.startX+a,this.startY,b))},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.body.get_position().get_x(),y.Game.getInstance().hero.body.get_position().get_y());!0==this.disable?this.dis<this.distanceConnect?this.heroSpeed!=y.Game.getInstance().hero.speed&&this.teleport.use():this.disable=!1:this.dis<this.distanceConnect&&this.teleport.use()},use:function(){h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.useTeleport);
this.disable=!0;this.heroSpeed=y.Game.getInstance().hero.speed;y.Game.getInstance().hero.body.get_position().setxy(this.startX,this.startY+20)},free:function(){this.teleport=null},__class__:k.Teleport});k.Torch=function(){k.BasicElements.call(this)};l["elements.Torch"]=k.Torch;k.Torch.__name__=["elements","Torch"];k.Torch.__super__=k.BasicElements;k.Torch.prototype=z(k.BasicElements.prototype,{graphic:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,
f,o);1==G.currentVersion?(this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"Fire"),y.Game.getInstance().renderList1.addChild(this.graphic),this.graphic.set_x(b),this.graphic.set_y(c-22),this.graphic.play()):2==G.currentVersion&&(this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,"Fire"),y.Game.getInstance().renderList1.addChild(this.graphic),this.graphic.set_x(b-24),this.graphic.set_y(c+16),this.graphic.play(),this.graphic=new h.jdtiles.jda.TileClip(y.Game.getInstance().renderList1,
"Fire"),y.Game.getInstance().renderList1.addChild(this.graphic),this.graphic.set_x(b+29),this.graphic.set_y(c+16),this.graphic.play());y.Game.getInstance().createBackgroundTile(a,h.jdtiles.jda.AnchorPoint.CC,b,c+15)},free:function(){this.graphic=null},__class__:k.Torch});k.Trigger=function(){this.distanceConnect=30;k.BasicElements.call(this)};l["elements.Trigger"]=k.Trigger;k.Trigger.__name__=["elements","Trigger"];k.Trigger.__super__=k.BasicElements;k.Trigger.prototype=z(k.BasicElements.prototype,
{distanceConnect:null,dis:null,create:function(a,b,c,d,g,i,e,f,o){k.BasicElements.prototype.create.call(this,a,b,c,d,g,i,e,f,o);this.active=!0},update:function(){this.dis=h.alagatar.Tools.calcDistOfDots(this.startX,this.startY,y.Game.getInstance().hero.graphic.get_x(),y.Game.getInstance().hero.graphic.get_y());this.dis<this.distanceConnect&&this.contact()},contact:function(){this.active=!1;t.LevelBuilder.getInstance().showTutorial(this.param)},__class__:k.Trigger});k.Wall=function(){k.BasicElements.call(this)};
l["elements.Wall"]=k.Wall;k.Wall.__name__=["elements","Wall"];k.Wall.__super__=k.BasicElements;k.Wall.prototype=z(k.BasicElements.prototype,{body:null,create:function(a,b,c,j,g,i,e,n,o){k.BasicElements.prototype.create.call(this,a,b,c,j,g,i,e,n,o);this.body=h.alagatar.NapeTools.createBox(this.getPhysWorld(),function(){null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_STATIC}(this),
30*j,40*g,b,c,n);this.body.get_userData().data=a;a=C["int"](h.alagatar.Tools.roundDec(e/30));c=c-e/2+15;for(e=0;e<a;)e++,y.Game.getInstance().createBackgroundTile("fonBlock3",h.jdtiles.jda.AnchorPoint.CC,b,c),c+=30},free:function(){k.BasicElements.prototype.free.call(this);this.body=null},__class__:k.Wall});var p={};p.StackItem=l["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};p.StackItem.CFunction=["CFunction",0];p.StackItem.CFunction.toString=
A;p.StackItem.CFunction.__enum__=p.StackItem;p.StackItem.Module=function(a){a=["Module",1,a];a.__enum__=p.StackItem;a.toString=A;return a};p.StackItem.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=p.StackItem;a.toString=A;return a};p.StackItem.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=p.StackItem;c.toString=A;return c};p.StackItem.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=p.StackItem;a.toString=A;return a};p.CallStack=function(){};l["haxe.CallStack"]=p.CallStack;
p.CallStack.__name__=["haxe","CallStack"];p.CallStack.exceptionStack=function(){return[]};p.CallStack.toString=function(a){for(var b=new na,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";p.CallStack.itemToString(b,d)}return b.b};p.CallStack.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b=null==c?a.b+"null":a.b+(""+c);break;case 2:var c=b[4],d=b[3],g=b[2];null!=g&&(p.CallStack.itemToString(a,g),a.b+=" (");a.b=null==d?a.b+"null":a.b+
(""+d);a.b+=" line ";a.b=null==c?a.b+"null":a.b+(""+c);null!=g&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b=null==d?a.b+"null":a.b+(""+d);a.b+=".";a.b=null==c?a.b+"null":a.b+(""+c);break;case 4:c=b[2],a.b+="local function #",a.b=null==c?a.b+"null":a.b+(""+c)}};p.Log=function(){};l["haxe.Log"]=p.Log;p.Log.__name__=["haxe","Log"];p.Log.trace=function(a,b){D.Boot.__trace(a,b)};p.Serializer=function(){this.buf=new na;this.cache=[];this.useCache=p.Serializer.USE_CACHE;this.useEnumIndex=p.Serializer.USE_ENUM_INDEX;
this.shash=new p.ds.StringMap;this.scount=0};l["haxe.Serializer"]=p.Serializer;p.Serializer.__name__=["haxe","Serializer"];p.Serializer.run=function(a){var b=new p.Serializer;b.serialize(a);return b.toString()};p.Serializer.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),
this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var g=c++,i=this.cache[g];if(typeof i==b&&i==a)return this.buf.b+="r",this.buf.b=null==g?this.buf.b+"null":this.buf.b+(""+g),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=u.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);
this.serialize(u.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=R["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);
break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var g=d++;null==a[g]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[g]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case oa:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;
case Date:this.buf.b+="v";this.buf.add(B.dateStr(a));break;case p.ds.StringMap:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case p.ds.IntMap:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case p.ds.ObjectMap:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=u.field(c,"__id__"),u.deleteField(c,
"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case p.io.Bytes:d=0;g=a.length-2;b=new na;for(c=p.Serializer.BASE64;d<g;){var i=a.get(d++),e=a.get(d++),f=a.get(d++);b.add(c.charAt(i>>2));b.add(c.charAt((i<<4|e>>4)&63));b.add(c.charAt((e<<2|f>>6)&63));b.add(c.charAt(f&63))}d==g?(g=a.get(d++),a=a.get(d++),b.add(c.charAt(g>>2)),b.add(c.charAt((g<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==g+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;
this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(R.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(R.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;
this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(R.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=C.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=C.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+
C.string(a);}},__class__:p.Serializer};p.Timer=function(){};l["haxe.Timer"]=p.Timer;p.Timer.__name__=["haxe","Timer"];p.Timer.stamp=function(){return(new Date).getTime()/1E3};p.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=p.Unserializer.DEFAULT_RESOLVER;null==a&&(a=R,p.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};l["haxe.Unserializer"]=p.Unserializer;p.Unserializer.__name__=["haxe","Unserializer"];p.Unserializer.initCodes=function(){for(var a=
[],b=0,c=p.Unserializer.BASE64.length;b<c;){var d=b++;a[p.Unserializer.BASE64.charCodeAt(d)]=d}return a};p.Unserializer.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;
b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return R.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());
return R.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return C.parseFloat(B.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=B.substr(this.buf,this.pos,a);
this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";
return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=R.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);
return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=R.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new oa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new p.ds.StringMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),
a.set(b,this.unserialize());this.pos++;return a;case 113:a=new p.ds.IntMap;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new p.ds.ObjectMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=B.substr(this.buf,this.pos,19),a=B.strDate(a),this.cache.push(a),this.pos+=19,a;
case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var g=p.Unserializer.CODES;null==g&&(g=p.Unserializer.initCodes(),p.Unserializer.CODES=g);for(var i=this.pos,e=a&3,f=i+(a-e),b=p.io.Bytes.alloc(3*(a>>2)+(2<=e?e-1:0)),c=0;i<f;){var o=g[O.fastCodeAt(d,i++)],h=g[O.fastCodeAt(d,i++)];b.set(c++,o<<2|h>>4);o=g[O.fastCodeAt(d,i++)];b.set(c++,h<<4|o>>2);h=g[O.fastCodeAt(d,i++)];b.set(c++,o<<6|h)}2<=e&&(h=g[O.fastCodeAt(d,i++)],f=g[O.fastCodeAt(d,
i++)],b.set(c++,h<<2|f>>4),3==e&&(d=g[O.fastCodeAt(d,i++)],b.set(c++,f<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=R.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:p.Unserializer};p.Utf8=function(){this.__b=""};l["haxe.Utf8"]=
p.Utf8;p.Utf8.__name__=["haxe","Utf8"];p.Utf8.prototype={__b:null,__class__:p.Utf8};p.crypto={};p.crypto.BaseCode=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=c};l["haxe.crypto.BaseCode"]=p.crypto.BaseCode;p.crypto.BaseCode.__name__=["haxe","crypto","BaseCode"];p.crypto.BaseCode.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,g=p.io.Bytes.alloc(d+
(0==8*a.length%b?0:1)),i=0,e=0,f=(1<<b)-1,o=0,h=0;h<d;){for(;e<b;)e+=8,i<<=8,i|=a.get(o++);e-=b;g.set(h++,c.b[i>>e&f])}0<e&&g.set(h++,c.b[i<<b-e&f]);return g},__class__:p.crypto.BaseCode};p.ds={};p.ds.IntMap=function(){this.h={}};l["haxe.ds.IntMap"]=p.ds.IntMap;p.ds.IntMap.__name__=["haxe","ds","IntMap"];p.ds.IntMap.__interfaces__=[X];p.ds.IntMap.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return B.iter(a)},__class__:p.ds.IntMap};p.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};l["haxe.ds.ObjectMap"]=p.ds.ObjectMap;p.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];p.ds.ObjectMap.__interfaces__=[X];p.ds.ObjectMap.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++p.ds.ObjectMap.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];
return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return B.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:p.ds.ObjectMap};p.ds.StringMap=function(){this.h={}};l["haxe.ds.StringMap"]=p.ds.StringMap;p.ds.StringMap.__name__=["haxe","ds","StringMap"];p.ds.StringMap.__interfaces__=[X];p.ds.StringMap.prototype=
{h:null,set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return B.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},__class__:p.ds.StringMap};
p.ds._Vector={};p.ds._Vector.Vector_Impl_=function(){};l["haxe.ds._Vector.Vector_Impl_"]=p.ds._Vector.Vector_Impl_;p.ds._Vector.Vector_Impl_.__name__=["haxe","ds","_Vector","Vector_Impl_"];p.ds._Vector.Vector_Impl_.blit=function(a,b,c,d,g){for(var i=0;i<g;){var e=i++;c[d+e]=a[b+e]}};p.ds._Vector.Vector_Impl_.toArray=function(a){for(var b=[],c=a.length,d=0;d<c;){var g=d++;b[g]=a[g]}return b};p.io={};p.io.Bytes=function(a,b){this.length=a;this.b=b};l["haxe.io.Bytes"]=p.io.Bytes;p.io.Bytes.__name__=
["haxe","io","Bytes"];p.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new p.io.Bytes(a,b)};p.io.Bytes.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=O.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|O.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new p.io.Bytes(b.length,b)};p.io.Bytes.ofData=function(a){return new p.io.Bytes(a.length,
a)};p.io.Bytes.prototype={length:null,b:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw p.io.Error.OutsideBounds;for(var c="",d=this.b,g=String.fromCharCode,i=a,e=a+b;i<e;){var f=d[i++];if(128>f){if(0==f)break;c+=g(f)}else if(224>f)c+=g((f&63)<<6|d[i++]&127);else if(240>f)var o=d[i++],c=c+g((f&31)<<12|(o&127)<<6|d[i++]&127);else var o=d[i++],h=d[i++],f=(f&15)<<18|(o&127)<<12|(h&127)<<6|d[i++]&127,c=c+g((f>>10)+55232),
c=c+g(f&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:p.io.Bytes};p.io.Eof=function(){};l["haxe.io.Eof"]=p.io.Eof;p.io.Eof.__name__=["haxe","io","Eof"];p.io.Eof.prototype={toString:function(){return"Eof"},__class__:p.io.Eof};p.io.Error=l["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};p.io.Error.Blocked=["Blocked",0];p.io.Error.Blocked.toString=A;p.io.Error.Blocked.__enum__=p.io.Error;p.io.Error.Overflow=
["Overflow",1];p.io.Error.Overflow.toString=A;p.io.Error.Overflow.__enum__=p.io.Error;p.io.Error.OutsideBounds=["OutsideBounds",2];p.io.Error.OutsideBounds.toString=A;p.io.Error.OutsideBounds.__enum__=p.io.Error;p.io.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=p.io.Error;a.toString=A;return a};p.io.Path=function(a){var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=B.substr(a,0,c),a=B.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=B.substr(a,0,b),a=B.substr(a,b+1,null)):this.dir=
null;b=a.lastIndexOf(".");-1!=b?(this.ext=B.substr(a,b+1,null),this.file=B.substr(a,0,b)):(this.ext=null,this.file=a)};l["haxe.io.Path"]=p.io.Path;p.io.Path.__name__=["haxe","io","Path"];p.io.Path.withoutExtension=function(a){a=new p.io.Path(a);a.ext=null;return a.toString()};p.io.Path.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:p.io.Path};p.xml={};p.xml._Fast=
{};p.xml._Fast.NodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeAccess"]=p.xml._Fast.NodeAccess;p.xml._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];p.xml._Fast.NodeAccess.prototype={__x:null,__class__:p.xml._Fast.NodeAccess};p.xml._Fast.AttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.AttribAccess"]=p.xml._Fast.AttribAccess;p.xml._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];p.xml._Fast.AttribAccess.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==
H.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:p.xml._Fast.AttribAccess};p.xml._Fast.HasAttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasAttribAccess"]=p.xml._Fast.HasAttribAccess;p.xml._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];p.xml._Fast.HasAttribAccess.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==H.Document)throw"Cannot access document attribute "+
a;return this.__x.exists(a)},__class__:p.xml._Fast.HasAttribAccess};p.xml._Fast.HasNodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasNodeAccess"]=p.xml._Fast.HasNodeAccess;p.xml._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];p.xml._Fast.HasNodeAccess.prototype={__x:null,__class__:p.xml._Fast.HasNodeAccess};p.xml._Fast.NodeListAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeListAccess"]=p.xml._Fast.NodeListAccess;p.xml._Fast.NodeListAccess.__name__=["haxe","xml","_Fast",
"NodeListAccess"];p.xml._Fast.NodeListAccess.prototype={__x:null,resolve:function(a){for(var b=new oa,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new p.xml.Fast(c))}return b},__class__:p.xml._Fast.NodeListAccess};p.xml.Fast=function(a){if(a.nodeType!=H.Document&&a.nodeType!=H.Element)throw"Invalid nodeType "+C.string(a.nodeType);this.x=a;this.node=new p.xml._Fast.NodeAccess(a);this.nodes=new p.xml._Fast.NodeListAccess(a);this.att=new p.xml._Fast.AttribAccess(a);this.has=new p.xml._Fast.HasAttribAccess(a);
this.hasNode=new p.xml._Fast.HasNodeAccess(a)};l["haxe.xml.Fast"]=p.xml.Fast;p.xml.Fast.__name__=["haxe","xml","Fast"];p.xml.Fast.prototype={x:null,node:null,nodes:null,att:null,has:null,hasNode:null,__class__:p.xml.Fast};p.xml.Parser=function(){};l["haxe.xml.Parser"]=p.xml.Parser;p.xml.Parser.__name__=["haxe","xml","Parser"];p.xml.Parser.parse=function(a){var b=H.createDocument();p.xml.Parser.doParse(a,0,b);return b};p.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,g=1,i=1,e=null,
f=0,o=0,h=0,x=a.charCodeAt(b),T=new na;x==x;){switch(g){case 0:switch(x){case 10:case 13:case 9:case 32:break;default:g=i;continue}break;case 1:switch(x){case 60:g=0;i=2;break;default:f=b;g=13;continue}break;case 13:60==x?(i=H.createPCData(T.b+B.substr(a,f,b-f)),T=new na,c.addChild(i),o++,g=0,i=2):38==x&&(T.addSub(a,f,b-f),g=18,i=13,f=b+1);break;case 17:93==x&&(93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(g=H.createCData(B.substr(a,f,b-f)),c.addChild(g),o++,b+=2,g=1);break;case 2:switch(x){case 33:if(91==
a.charCodeAt(b+1)){b+=2;if("CDATA["!=B.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;g=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=B.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;g=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;g=15}f=b+1;break;case 63:g=14;f=b;break;case 47:if(null==c)throw"Expected node name";f=b+1;g=0;i=10;break;default:g=3;f=b;continue}break;case 3:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=
x&&57>=x||58==x||46==x||95==x||45==x)){if(b==f)throw"Expected node name";d=H.createElement(B.substr(a,f,b-f));c.addChild(d);g=0;i=4;continue}break;case 4:switch(x){case 47:g=11;o++;break;case 62:g=9;o++;break;default:g=5;f=b;continue}break;case 5:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(f==b)throw"Expected attribute name";e=B.substr(a,f,b-f);if(d.exists(e))throw"Duplicate attribute";g=0;i=6;continue}break;case 6:switch(x){case 61:g=0;i=7;break;default:throw"Expected =";
}break;case 7:switch(x){case 34:case 39:g=8;f=b;break;default:throw'Expected "';}break;case 8:x==a.charCodeAt(f)&&(i=B.substr(a,f+1,b-f-1),d.set(e,i),g=0,i=4);break;case 9:f=b=p.xml.Parser.doParse(a,b,d);g=1;break;case 11:switch(x){case 62:g=1;break;default:throw"Expected >";}break;case 12:switch(x){case 62:return 0==o&&c.addChild(H.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(f==b)throw"Expected node name";
if(B.substr(a,f,b-f)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";g=0;i=12;continue}break;case 15:45==x&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(H.createComment(B.substr(a,f,b-f))),b+=2,g=1);break;case 16:91==x?h++:93==x?h--:62==x&&0==h&&(c.addChild(H.createDocType(B.substr(a,f,b-f))),g=1);break;case 14:63==x&&62==a.charCodeAt(b+1)&&(b++,g=B.substr(a,f+1,b-f-2),c.addChild(H.createProcessingInstruction(g)),g=1);break;case 18:59==x&&(f=B.substr(a,f,b-f),35==f.charCodeAt(0)?
(f=120==f.charCodeAt(1)?C.parseInt("0"+B.substr(f,1,f.length-1)):C.parseInt(B.substr(f,1,f.length-1)),T.add(String.fromCharCode(f))):p.xml.Parser.escapes.exists(f)?T.add(p.xml.Parser.escapes.get(f)):T.b+=C.string("&"+f+";"),f=b+1,g=i)}x=O.fastCodeAt(a,++b)}1==g&&(f=b,g=13);if(13==g)return(b!=f||0==o)&&c.addChild(H.createPCData(T.b+B.substr(a,f,b-f))),b;throw"Unexpected end";};var D={Boot:function(){}};l["js.Boot"]=D.Boot;D.Boot.__name__=["js","Boot"];D.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};
D.Boot.__trace=function(a,b){var c;c=null!=b?b.fileName+":"+b.lineNumber+": ":"";c+=D.Boot.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,g=b.customParams;d<g.length;){var i=g[d];++d;c+=","+D.Boot.__string_rec(i,"")}var e;"undefined"!=typeof document&&null!=(e=document.getElementById("haxe:trace"))?e.innerHTML+=D.Boot.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};D.Boot.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};
D.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,g=a.length;d<g;)var i=d++,c=2!=i?c+(","+D.Boot.__string_rec(a[i],b)):c+D.Boot.__string_rec(a[i],b);return c+")"}c=a.length;d="[";b+="\t";for(g=0;g<c;)i=g++,d+=(0<i?",":"")+D.Boot.__string_rec(a[i],b);return d+"]"}try{d=a.toString}catch(e){return"???"}if(null!=
d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";g=null!=a.hasOwnProperty;for(c in a)if(!g||a.hasOwnProperty(c))"prototype"==c||("__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c)||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+D.Boot.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};D.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;
var c=a.__interfaces__;if(null!=c)for(var d=0,g=c.length;d<g;){var i=d++,i=c[i];if(i==b||D.Boot.__interfLoop(i,b))return!0}return D.Boot.__interfLoop(a.__super__,b)};D.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Jc:return(a|0)===a;case Xc:return"number"==typeof a;case Yc:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Ke:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||D.Boot.__interfLoop(D.Boot.getClass(a),
b)))return!0}else return!1;return b==Zc&&null!=a.__name__||b==Ag&&null!=a.__ename__?!0:a.__enum__==b}};D.Boot.__cast=function(a,b){if(D.Boot.__instanceof(a,b))return a;throw"Cannot cast "+C.string(a)+" to "+C.string(b);};D.Browser=function(){};l["js.Browser"]=D.Browser;D.Browser.__name__=["js","Browser"];D.Browser.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};var y={Game:function(){this.tempHeroFloor=-1;this.createTutorialLevel7=!0;this.amountLift=
this.movingLift=0;this.victory=this.updateY=!1;this.collectedMoney=this.maxMoney=this.feedGoToHero=0;this.maxHealth=3;if(null!=y.Game.instance)throw"Error: Allready inited. Use getInstance() instead;";e.display.Sprite.call(this);y.Game.instance=this}};l["managers.Game"]=y.Game;y.Game.__name__=["managers","Game"];y.Game.instance=null;y.Game.getInstance=function(){return null==y.Game.instance?new y.Game:y.Game.instance};y.Game.__super__=e.display.Sprite;y.Game.prototype=z(e.display.Sprite.prototype,
{gameElements:null,levelHeight:null,maxD:null,backgroundLayer:null,objectsLayer:null,heroLayer:null,effectsLayer:null,staticList:null,renderList1:null,renderList2:null,hero:null,gameWorld:null,maxHealth:null,collectedMoney:null,maxMoney:null,feedGoToHero:null,victory:null,updateY:null,newY:null,stepY:null,amountLift:null,movingLift:null,init:function(){this.initWorld();this.maxHealth=C["int"](h.alagatar.DataManager.getInstance().getData("Health"));0==this.maxHealth&&(this.maxHealth=3);this.gameElements=
[];this.initLayers();this.buildLevel();this.buildComplete();!0==this.createTutorialLevel7&&7==t.LevelBuilder.getInstance().currentLevel&&(this.createBackgroundTile("tutorialLevel7",h.jdtiles.jda.AnchorPoint.CC,550,375),this.createTutorialLevel7=!1);this.staticList.render()},initWorld:function(){this.gameWorld=new h.World;this.addChild(this.gameWorld);this.gameWorld.mouseChildren=!1;this.gameWorld.mouseEnabled=!1},initLayers:function(){this.backgroundLayer=new e.display.Sprite;this.backgroundLayer.mouseEnabled=
!1;this.addChild(this.backgroundLayer);this.staticList=h.jdtiles.Tile.getInstance().getTileLayer("BitmapList","BitmapList");this.staticList.mouseEnabled(!0);this.staticList.update=!1;this.addChild(this.staticList.view);this.renderList2=h.jdtiles.Tile.getInstance().getTileLayer("RenderList2","RenderList2");this.addChild(this.renderList2.view);this.objectsLayer=new e.display.Sprite;this.objectsLayer.mouseEnabled=!1;this.addChild(this.objectsLayer);this.renderList1=h.jdtiles.Tile.getInstance().getTileLayer("RenderList1",
"RenderList1");this.addChild(this.renderList1.view);this.heroLayer=new e.display.Sprite;this.heroLayer.mouseEnabled=!1;this.addChild(this.heroLayer);this.effectsLayer=new e.display.Sprite;this.effectsLayer.mouseEnabled=!1;this.addChild(this.effectsLayer)},createTutorialLevel7:null,buildLevel:function(){for(var a=F.getInstance().levels.get(t.LevelBuilder.getInstance().currentLevel),b=0;b<a.length;){var c=a[b];++b;"stat_"==D.Boot.__cast(c.id,String).substring(0,5)||"anim_"==D.Boot.__cast(c.id,String).substring(0,
5)?this.createBackgroundTile(""+C.string(c.id),h.jdtiles.jda.AnchorPoint.CC,C.parseFloat(c.x),C.parseFloat(c.y),C.parseFloat(c.sX),C.parseFloat(c.sY),C.parseFloat(c.r),!0):this.CreateElements(""+C.string(c.id),C.parseFloat(c.x),C.parseFloat(c.y),C.parseFloat(c.sX),C.parseFloat(c.sY),C.parseFloat(c.w),C.parseFloat(c.h),C.parseFloat(c.r),C.parseFloat(c.p))}},buildComplete:function(){for(var a=0,b=this.gameElements;a<b.length;){var c=b[a];++a;c.buildComplete()}this.checkSound()},createBackgroundTile:function(a,
b,c,d,g,i,e,f){null==f&&(f=!1);null==e&&(e=0);null==i&&(i=1);null==g&&(g=1);if("stat_curtain1"==a||"stat_curtain2"==a||"stat_curtain3"==a)a+=F.getInstance().currentWorld;180==e&&!0==f&&("stat_webAngular1"!=a&&"stat_webAngular2"!=a)&&(g=-1,i=1,e=0);"stat_botWall"==a&&(d+=4);a=new h.jdtiles.jda.TileSprite(this.staticList,a);a.set_x(c);a.set_y(d);a.set_scaleX(g);a.set_scaleY(i);a.set_rotation(e);a.set_anchor(b);this.staticList.addChild(a)},CreateElements:function(a,b,c,d,g,i,e,f,o){if("LevelHeight"==
a)this.setLevelHeight(e);else{var h=R.createInstance(R.resolveClass("elements."+a),[]);h.create(a,b,c,d,g,i,e,f,o);this.gameElements.push(h)}},setLevelHeight:function(a){this.levelHeight=a;this.gameWorld.initWorldBox(this.levelHeight);this.maxD=-(this.levelHeight-480);this.staticList.setRenderBorders(0,this.levelHeight);this.renderList1.setRenderBorders(0,this.levelHeight);this.renderList2.setRenderBorders(0,this.levelHeight)},mouseDown:function(){this.hero.mouseDown()},mouseUp:function(){this.hero.mouseUp()},
update:function(){this.gameWorld.update();this.updateObjects();!0==this.updateY&&(this.set_y(this.get_y()-this.stepY),t.LevelBuilder.getInstance().moveSideBorders(this.get_y()),2>=Math.abs(this.get_y()-this.newY)&&(this.set_y(this.newY),t.LevelBuilder.getInstance().moveSideBorders(this.newY),this.updateY=!1))},updateCamera:function(a,b){null==b&&(b=!1);this.newY=-(a-160);0<this.newY&&(this.newY=0);this.newY<this.maxD&&(this.newY=this.maxD);this.checkSound();!0==b?(this.set_y(this.newY),t.LevelBuilder.getInstance().moveSideBorders(this.newY)):
(this.updateY=!0,this.stepY=(this.get_y()-this.newY)/10)},tempHeroFloor:null,checkSound:function(){if(this.tempHeroFloor!=this.hero.currentFloor){for(var a=0,b=this.gameElements;a<b.length;){var c=b[a];++a;!0!=D.Boot.__instanceof(c,k.Hero)&&(this.hero.currentFloor>c.currentFloor?!0==c.canPlaySound&&5<=this.hero.currentFloor-c.currentFloor?c.playSound(!1):!1==c.canPlaySound&&5>this.hero.currentFloor-c.currentFloor&&c.playSound(!0):!1==c.canPlaySound&&8>=c.currentFloor-this.hero.currentFloor?c.playSound(!0):
!0==c.canPlaySound&&8<c.currentFloor-this.hero.currentFloor&&c.playSound(!1))}this.tempHeroFloor=this.hero.currentFloor}},updateObjects:function(){for(var a=0,b=this.gameElements.length;a<b;){var c=a++;!0==this.gameElements[c].activeAnyWay&&this.gameElements[c].updateAnyWay();!0==this.gameElements[c].active&&this.gameElements[c].currentFloor>=this.hero.currentFloor-1&&this.gameElements[c].currentFloor<=this.hero.currentFloor+1&&this.gameElements[c].update()}},collectMoney:function(){this.feedGoToHero--;
this.collectedMoney++;t.LevelBuilder.getInstance().moneyField.set_text(this.collectedMoney+"/"+this.maxMoney);this.checkFinish()},checkFinish:function(){!0==this.victory&&(0==this.feedGoToHero&&this.hero.get_currentState()==k.HeroState.None)&&t.LevelBuilder.getInstance().CompleteFail(!0)},free:function(){this.gameWorld.ClearWorld();this.gameWorld.free();for(var a=0,b=this.gameElements.length;a<b;){var c=a++;this.gameElements[c].free()}this.gameElements=[];this.renderList2=this.renderList1=this.staticList=
this.hero=this.gameElements=null;y.Game.instance=null;h.alagatar.Tools.clearLayer(this.backgroundLayer);this.backgroundLayer=null;h.alagatar.Tools.clearLayer(this.objectsLayer);this.objectsLayer=null;h.alagatar.Tools.clearLayer(this.heroLayer);this.heroLayer=null;h.alagatar.Tools.clearLayer(this.effectsLayer);this.effectsLayer=null},__class__:y.Game});var m={actuators:{}};m.actuators.IGenericActuator=function(){};l["motion.actuators.IGenericActuator"]=m.actuators.IGenericActuator;m.actuators.IGenericActuator.__name__=
["motion","actuators","IGenericActuator"];m.actuators.IGenericActuator.prototype={autoVisible:null,delay:null,ease:null,onComplete:null,onRepeat:null,onUpdate:null,reflect:null,repeat:null,reverse:null,smartRotation:null,snapping:null,onPause:null,onResume:null,apply:null,move:null,pause:null,resume:null,stop:null,__class__:m.actuators.IGenericActuator};m.actuators.GenericActuator=function(a,b,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=
this._reverse=!1;this.target=a;this.properties=c;this.duration=b;this._ease=m.Actuate.defaultEase};l["motion.actuators.GenericActuator"]=m.actuators.GenericActuator;m.actuators.GenericActuator.__name__=["motion","actuators","GenericActuator"];m.actuators.GenericActuator.__interfaces__=[m.actuators.IGenericActuator];m.actuators.GenericActuator.prototype={duration:null,id:null,properties:null,target:null,_autoVisible:null,_delay:null,_ease:null,_onComplete:null,_onCompleteParams:null,_onRepeat:null,
_onRepeatParams:null,_onUpdate:null,_onUpdateParams:null,_onResume:null,_onResumeParams:null,_onPause:null,_onPauseParams:null,_reflect:null,_repeat:null,_reverse:null,_smartRotation:null,_snapping:null,special:null,apply:function(){for(var a=0,b=u.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?u.setField(this.target,c,u.field(this.properties,c)):u.setProperty(this.target,c,u.field(this.properties,c))}},autoVisible:function(a){null==a&&(a=!0);
this._autoVisible=a;return this},callMethod:function(a,b){null==b&&(b=[]);return a.apply(a,b)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(a){null==a&&(a=!0);a&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams));m.Actuate.unload(this)},delay:function(a){this._delay=a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=
null==b?[]:b;0==this.duration&&this.complete();return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,b){this._onPause=a;this._onPauseParams=null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;this._onResumeParams=null==b?[]:b;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(a){null==
a&&(a=!0);this._reflect=a;this.special=!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(){},__class__:m.actuators.GenericActuator};
m.actuators.SimpleActuator=function(a,b,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=e.Lib.getTimer()/1E3;m.actuators.GenericActuator.call(this,a,b,c);m.actuators.SimpleActuator.addedEvent||(m.actuators.SimpleActuator.addedEvent=!0,e.Lib.current.stage.addEventListener(e.events.Event.ENTER_FRAME,m.actuators.SimpleActuator.stage_onEnterFrame))};l["motion.actuators.SimpleActuator"]=m.actuators.SimpleActuator;
m.actuators.SimpleActuator.__name__=["motion","actuators","SimpleActuator"];m.actuators.SimpleActuator.stage_onEnterFrame=function(){for(var a=e.Lib.getTimer()/1E3,b,c=0,d=0,g=m.actuators.SimpleActuator.actuatorsLength;d<g;)d++,b=m.actuators.SimpleActuator.actuators[c],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),c++):(m.actuators.SimpleActuator.actuators.splice(c,1),--m.actuators.SimpleActuator.actuatorsLength)};m.actuators.SimpleActuator.__super__=m.actuators.GenericActuator;m.actuators.SimpleActuator.prototype=
z(m.actuators.GenericActuator.prototype,{setField_motion_actuators_SimpleActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:u.setProperty(a,b,c)},timeOffset:null,active:null,cacheVisible:null,detailsLength:null,initialized:null,paused:null,pauseTime:null,propertyDetails:null,sendChange:null,setVisible:null,startTime:null,toggleVisible:null,autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;a||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,
"visible",this.cacheVisible));return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,b){var c=null;return c=Object.prototype.hasOwnProperty.call(a,b)?u.field(a,b):u.getProperty(a,b)},initialize:function(){for(var a,b=0,c=u.fields(this.properties);b<c.length;){var d=c[b];++b;var g=!0;Object.prototype.hasOwnProperty.call(this.target,d)&&(!this.target.__properties__||!this.target.__properties__["set_"+d])?a=u.field(this.target,d):(g=!1,a=u.getProperty(this.target,
d));"number"==typeof a&&(a=new m.actuators.PropertyDetails(this.target,d,a,this.getField(this.properties,d)-a,g),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){if((this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&D.Boot.__instanceof(this.target,e.display.DisplayObject))&&0!=this.properties.alpha&&!this.getField(this.target,"visible"))this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),
this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0);this.timeOffset=this.startTime;m.actuators.SimpleActuator.actuators.push(this);++m.actuators.SimpleActuator.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=!0;return this},pause:function(){this.paused||(this.paused=!0,m.actuators.GenericActuator.prototype.pause.call(this),this.pauseTime=e.Lib.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=
(e.Lib.getTimer()-this.pauseTime)/1E3,m.actuators.GenericActuator.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:u.setProperty(a.target,a.propertyName,b)},stop:function(a,b,c){if(this.active)if(null==a)this.active=!1,b&&this.apply(),this.complete(c);else for(var d=0,a=u.fields(a);d<a.length;){var g=a[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,g)){this.active=!1;b&&this.apply();this.complete(c);break}}},update:function(a){if(!this.paused){var b,
c,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var g,i=0,e=this.detailsLength;i<e;)b=i++,b=this.propertyDetails[b],this._smartRotation&&("rotation"==b.propertyName||"rotationX"==b.propertyName||"rotationY"==b.propertyName||"rotationZ"==b.propertyName)?(g=b.change%360,180<g?g-=360:-180>g&&(g+=360),g=b.start+g*c):g=b.start+b.change*c,this._snapping?this.setProperty(b,Math.round(g)):
b.isField?b.target[b.propertyName]=g:u.setProperty(b.target,b.propertyName,g)}else{c=this._ease.calculate(d);i=0;for(e=this.detailsLength;i<e;)b=i++,b=this.propertyDetails[b],this.setProperty(b,b.start+b.change*c)}if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&
(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:m.actuators.SimpleActuator});m.easing={};m.easing.Expo=function(){};l["motion.easing.Expo"]=m.easing.Expo;m.easing.Expo.__name__=["motion","easing","Expo"];m.easing.Expo.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};m.easing.Expo.get_easeIn=function(){return new m.easing.ExpoEaseIn};m.easing.Expo.get_easeInOut=
function(){return new m.easing.ExpoEaseInOut};m.easing.Expo.get_easeOut=function(){return new m.easing.ExpoEaseOut};m.easing.IEasing=function(){};l["motion.easing.IEasing"]=m.easing.IEasing;m.easing.IEasing.__name__=["motion","easing","IEasing"];m.easing.IEasing.prototype={calculate:null,ease:null,__class__:m.easing.IEasing};m.easing.ExpoEaseOut=function(){};l["motion.easing.ExpoEaseOut"]=m.easing.ExpoEaseOut;m.easing.ExpoEaseOut.__name__=["motion","easing","ExpoEaseOut"];m.easing.ExpoEaseOut.__interfaces__=
[m.easing.IEasing];m.easing.ExpoEaseOut.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},ease:function(a,b,c,d){return a==d?b+c:c*(1-Math.pow(2,-10*a/d))+b},__class__:m.easing.ExpoEaseOut};m.Actuate=function(){};l["motion.Actuate"]=m.Actuate;m.Actuate.__name__=["motion","Actuate"];m.Actuate.apply=function(a,b,c){m.Actuate.stop(a,b);null==c&&(c=m.Actuate.defaultActuator);a=R.createInstance(c,[a,0,b]);a.apply();return a};m.Actuate.effects=function(a,b,c){null==c&&(c=!0);return new m._Actuate.EffectsOptions(a,
b,c)};m.Actuate.getLibrary=function(a,b){null==b&&(b=!0);null==m.Actuate.targetLibraries.h.__keys__[a.__id__]&&b&&m.Actuate.targetLibraries.set(a,[]);return m.Actuate.targetLibraries.h[a.__id__]};m.Actuate.isActive=function(){for(var a=!1,b=m.Actuate.targetLibraries.iterator();b.hasNext();){b.next();a=!0;break}return a};m.Actuate.motionPath=function(a,b,c,d){null==d&&(d=!0);return m.Actuate.tween(a,b,c,d,m.actuators.MotionPathActuator)};m.Actuate.pause=function(a){if(D.Boot.__instanceof(a,m.actuators.IGenericActuator))a.pause();
else if(a=m.Actuate.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=a[b];++b;c.pause()}};m.Actuate.pauseAll=function(){for(var a=m.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.pause()}};m.Actuate.reset=function(){for(var a=m.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=b.length-1;0<=c;)b[c].stop(null,!1,!1),c--;m.Actuate.targetLibraries=new p.ds.ObjectMap};m.Actuate.resume=function(a){if(D.Boot.__instanceof(a,
m.actuators.IGenericActuator))a.resume();else if(a=m.Actuate.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=a[b];++b;c.resume()}};m.Actuate.resumeAll=function(){for(var a=m.Actuate.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.resume()}};m.Actuate.stop=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=a)if(D.Boot.__instanceof(a,m.actuators.IGenericActuator))a.stop(null,c,d);else if(a=m.Actuate.getLibrary(a,!1),null!=a){if("string"==
typeof b){var g={};u.setField(g,b,null);b=g}else if(b instanceof Array&&null==b.__enum__){for(var g={},i=0,b=D.Boot.__cast(b,Array);i<b.length;){var e=b[i];++i;u.setField(g,e,null)}b=g}for(g=a.length-1;0<=g;)a[g].stop(b,c,d),g--}};m.Actuate.timer=function(a,b){return m.Actuate.tween(new m._Actuate.TweenTimer(0),a,new m._Actuate.TweenTimer(1),!1,b)};m.Actuate.transform=function(a,b,c){null==c&&(c=!0);null==b&&(b=0);return new m._Actuate.TransformOptions(a,b,c)};m.Actuate.tween=function(a,b,c,d,g){null==
d&&(d=!0);if(null!=a){if(0<b){null==g&&(g=m.Actuate.defaultActuator);a=R.createInstance(g,[a,b,c]);b=m.Actuate.getLibrary(a.target);if(d){for(d=b.length-1;0<=d;)b[d].stop(a.properties,!1,!1),d--;b=m.Actuate.getLibrary(a.target)}b.push(a);a.move();return a}return m.Actuate.apply(a,c,g)}return null};m.Actuate.unload=function(a){var b=a.target;null!=m.Actuate.targetLibraries.h.__keys__[b.__id__]&&(B.remove(m.Actuate.targetLibraries.h[b.__id__],a),0==m.Actuate.targetLibraries.h[b.__id__].length&&m.Actuate.targetLibraries.remove(b))};
m.Actuate.update=function(a,b,c,d,g){null==g&&(g=!0);return m.Actuate.tween(a,b,{start:c,end:d},g,m.actuators.MethodActuator)};m._Actuate={};m._Actuate.EffectsOptions=function(a,b,c){this.target=a;this.duration=b;this.overwrite=c};l["motion._Actuate.EffectsOptions"]=m._Actuate.EffectsOptions;m._Actuate.EffectsOptions.__name__=["motion","_Actuate","EffectsOptions"];m._Actuate.EffectsOptions.prototype={duration:null,overwrite:null,target:null,filter:function(a,b){b.filter=a;return m.Actuate.tween(this.target,
this.duration,b,this.overwrite,m.actuators.FilterActuator)},__class__:m._Actuate.EffectsOptions};m._Actuate.TransformOptions=function(a,b,c){this.target=a;this.duration=b;this.overwrite=c};l["motion._Actuate.TransformOptions"]=m._Actuate.TransformOptions;m._Actuate.TransformOptions.__name__=["motion","_Actuate","TransformOptions"];m._Actuate.TransformOptions.prototype={duration:null,overwrite:null,target:null,color:function(a,b,c){null==b&&(b=1);null==a&&(a=0);a={colorValue:a,colorStrength:b};null!=
c&&(a.colorAlpha=c);return m.Actuate.tween(this.target,this.duration,a,this.overwrite,m.actuators.TransformActuator)},sound:function(a,b){var c={};null!=a&&(c.soundVolume=a);null!=b&&(c.soundPan=b);return m.Actuate.tween(this.target,this.duration,c,this.overwrite,m.actuators.TransformActuator)},__class__:m._Actuate.TransformOptions};m._Actuate.TweenTimer=function(a){this.progress=a};l["motion._Actuate.TweenTimer"]=m._Actuate.TweenTimer;m._Actuate.TweenTimer.__name__=["motion","_Actuate","TweenTimer"];
m._Actuate.TweenTimer.prototype={progress:null,__class__:m._Actuate.TweenTimer};m.MotionPath=function(){this._x=new m.ComponentPath;this._y=new m.ComponentPath;this._rotation=null};l["motion.MotionPath"]=m.MotionPath;m.MotionPath.__name__=["motion","MotionPath"];m.MotionPath.prototype={rotation:null,x:null,y:null,_rotation:null,_x:null,_y:null,bezier:function(a,b,c,d,g){null==g&&(g=1);this._x.addPath(new m.BezierPath(a,c,g));this._y.addPath(new m.BezierPath(b,d,g));return this},line:function(a,b,
c){null==c&&(c=1);this._x.addPath(new m.LinearPath(a,c));this._y.addPath(new m.LinearPath(b,c));return this},get_rotation:function(){null==this._rotation&&(this._rotation=new m.RotationPath(this._x,this._y));return this._rotation},get_x:function(){return this._x},get_y:function(){return this._y},__class__:m.MotionPath,__properties__:{get_y:"get_y",get_x:"get_x",get_rotation:"get_rotation"}};m.IComponentPath=function(){};l["motion.IComponentPath"]=m.IComponentPath;m.IComponentPath.__name__=["motion",
"IComponentPath"];m.IComponentPath.prototype={end:null,start:null,calculate:null,__class__:m.IComponentPath};m.ComponentPath=function(){this.paths=[];this.totalStrength=this.start=0};l["motion.ComponentPath"]=m.ComponentPath;m.ComponentPath.__name__=["motion","ComponentPath"];m.ComponentPath.__interfaces__=[m.IComponentPath];m.ComponentPath.prototype={start:null,end:null,paths:null,totalStrength:null,addPath:function(a){this.paths.push(a);this.totalStrength+=a.strength},calculate:function(a){if(1==
this.paths.length)return this.paths[0].calculate(this.start,a);for(var a=a*this.totalStrength,b=this.start,c=0,d=this.paths;c<d.length;){var g=d[c];++c;if(a>g.strength)a-=g.strength,b=g.end;else return g.calculate(b,a/g.strength)}return 0},get_end:function(){return 0<this.paths.length?this.paths[this.paths.length-1].end:this.start},__class__:m.ComponentPath,__properties__:{get_end:"get_end"}};m.BezierPath=function(a,b,c){this.end=a;this.control=b;this.strength=c};l["motion.BezierPath"]=m.BezierPath;
m.BezierPath.__name__=["motion","BezierPath"];m.BezierPath.prototype={control:null,end:null,strength:null,calculate:function(a,b){return(1-b)*(1-b)*a+2*(1-b)*b*this.control+b*b*this.end},__class__:m.BezierPath};m.LinearPath=function(a,b){m.BezierPath.call(this,a,0,b)};l["motion.LinearPath"]=m.LinearPath;m.LinearPath.__name__=["motion","LinearPath"];m.LinearPath.__super__=m.BezierPath;m.LinearPath.prototype=z(m.BezierPath.prototype,{calculate:function(a,b){return a+b*(this.end-a)},__class__:m.LinearPath});
m.RotationPath=function(a,b){this.step=0.01;this._x=a;this._y=b;this.offset=0;this.start=this.calculate(0)};l["motion.RotationPath"]=m.RotationPath;m.RotationPath.__name__=["motion","RotationPath"];m.RotationPath.__interfaces__=[m.IComponentPath];m.RotationPath.prototype={end:null,offset:null,start:null,step:null,_x:null,_y:null,calculate:function(a){var b=this._x.calculate(a)-this._x.calculate(a+this.step),a=this._y.calculate(a)-this._y.calculate(a+this.step),b=Math.atan2(a,b)*(180/Math.PI);return b=
(b+this.offset)%360},get_end:function(){return this.calculate(1)},__class__:m.RotationPath,__properties__:{get_end:"get_end"}};m.actuators.FilterActuator=function(a,b,c){this.filterIndex=-1;m.actuators.SimpleActuator.call(this,a,b,c);if(D.Boot.__instanceof(c.filter,Zc)){this.filterClass=c.filter;0==a.get_filters().length&&a.set_filters([R.createInstance(this.filterClass,[])]);b=0;for(a=a.get_filters();b<a.length;)c=a[b],++b,D.Boot.__instanceof(c,this.filterClass)&&(this.filter=c)}else this.filterIndex=
c.filter,this.filter=a.get_filters()[this.filterIndex]};l["motion.actuators.FilterActuator"]=m.actuators.FilterActuator;m.actuators.FilterActuator.__name__=["motion","actuators","FilterActuator"];m.actuators.FilterActuator.__super__=m.actuators.SimpleActuator;m.actuators.FilterActuator.prototype=z(m.actuators.SimpleActuator.prototype,{setField_openfl_display_DisplayObject:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:u.setProperty(a,b,c)},filter:null,filterClass:null,filterIndex:null,
apply:function(){for(var a=0,b=u.fields(this.properties);a<b.length;){var c=b[a];++a;"filter"!=c&&u.setField(this.filter,c,u.field(this.properties,c))}a=this.getField(this.target,"filters");u.setField(a,this.properties.filter,this.filter);this.setField_openfl_display_DisplayObject(this.target,"filters",a)},initialize:function(){for(var a,b=0,c=u.fields(this.properties);b<c.length;){var d=c[b];++b;"filter"!=d&&(a=this.getField(this.filter,d),a=new m.actuators.PropertyDetails(this.filter,d,a,u.field(this.properties,
d)-a),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){m.actuators.SimpleActuator.prototype.update.call(this,a);a=this.target.get_filters();if(-1<this.filterIndex)u.setField(a,this.properties.filter,this.filter);else for(var b=0,c=a.length;b<c;){var d=b++;D.Boot.__instanceof(a[d],this.filterClass)&&(a[d]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",a)},__class__:m.actuators.FilterActuator});m.actuators.MethodActuator=
function(a,b,c){this.currentParameters=[];this.tweenProperties={};m.actuators.SimpleActuator.call(this,a,b,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<b;)c=a++,this.currentParameters.push(this.properties.start[c])};l["motion.actuators.MethodActuator"]=m.actuators.MethodActuator;m.actuators.MethodActuator.__name__=["motion","actuators",
"MethodActuator"];m.actuators.MethodActuator.__super__=m.actuators.SimpleActuator;m.actuators.MethodActuator.prototype=z(m.actuators.SimpleActuator.prototype,{currentParameters:null,tweenProperties:null,apply:function(){this.callMethod(this.target,this.properties.end)},initialize:function(){for(var a,b,c=0,d=this.properties.start.length;c<d;){var g=c++;a="param"+g;b=this.properties.start[g];this.tweenProperties[a]=b;if("number"==typeof b||(b|0)===b)a=new m.actuators.PropertyDetails(this.tweenProperties,
a,b,this.properties.end[g]-b),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){m.actuators.SimpleActuator.prototype.update.call(this,a);if(this.active){for(var a=0,b=this.properties.start.length;a<b;){var c=a++;this.currentParameters[c]=u.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters)}},__class__:m.actuators.MethodActuator});m.actuators.MotionPathActuator=function(a,b,c){m.actuators.SimpleActuator.call(this,
a,b,c)};l["motion.actuators.MotionPathActuator"]=m.actuators.MotionPathActuator;m.actuators.MotionPathActuator.__name__=["motion","actuators","MotionPathActuator"];m.actuators.MotionPathActuator.__super__=m.actuators.SimpleActuator;m.actuators.MotionPathActuator.prototype=z(m.actuators.SimpleActuator.prototype,{setField_motion_actuators_MotionPathActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:u.setProperty(a,b,c)},apply:function(){for(var a=0,b=u.fields(this.properties);a<
b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?u.setField(this.target,c,D.Boot.__cast(u.field(this.properties,c),m.IComponentPath).get_end()):u.setProperty(this.target,c,D.Boot.__cast(u.field(this.properties,c),m.IComponentPath).get_end())}},initialize:function(){for(var a,b=0,c=u.fields(this.properties);b<c.length;){var d=c[b];++b;a=D.Boot.__cast(u.field(this.properties,d),m.IComponentPath);if(null!=a){var g=!0;Object.prototype.hasOwnProperty.call(this.target,d)?a.start=
u.field(this.target,d):(g=!1,a.start=u.getProperty(this.target,d));a=new m.actuators.PropertyPathDetails(this.target,d,a,g);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){b=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,g=this.propertyDetails;d<g.length;){var i=g[d];++d;this._snapping?
i.isField?u.setField(i.target,i.propertyName,Math.round(D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b))):u.setProperty(i.target,i.propertyName,Math.round(D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b))):i.isField?u.setField(i.target,i.propertyName,D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b)):u.setProperty(i.target,i.propertyName,D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b))}}else{b=this._ease.calculate(c);d=0;for(g=
this.propertyDetails;d<g.length;)i=g[d],++d,i.isField?u.setField(i.target,i.propertyName,D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b)):u.setProperty(i.target,i.propertyName,D.Boot.__cast(i,m.actuators.PropertyPathDetails).path.calculate(b))}if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,
this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:m.actuators.MotionPathActuator});m.actuators.PropertyDetails=function(a,b,c,d,g){null==g&&(g=!0);this.target=a;this.propertyName=b;this.start=c;this.change=d;this.isField=g};l["motion.actuators.PropertyDetails"]=m.actuators.PropertyDetails;m.actuators.PropertyDetails.__name__=["motion","actuators",
"PropertyDetails"];m.actuators.PropertyDetails.prototype={change:null,isField:null,propertyName:null,start:null,target:null,__class__:m.actuators.PropertyDetails};m.actuators.PropertyPathDetails=function(a,b,c,d){null==d&&(d=!0);m.actuators.PropertyDetails.call(this,a,b,0,0,d);this.path=c};l["motion.actuators.PropertyPathDetails"]=m.actuators.PropertyPathDetails;m.actuators.PropertyPathDetails.__name__=["motion","actuators","PropertyPathDetails"];m.actuators.PropertyPathDetails.__super__=m.actuators.PropertyDetails;
m.actuators.PropertyPathDetails.prototype=z(m.actuators.PropertyDetails.prototype,{path:null,__class__:m.actuators.PropertyPathDetails});m.actuators.TransformActuator=function(a,b,c){m.actuators.SimpleActuator.call(this,a,b,c)};l["motion.actuators.TransformActuator"]=m.actuators.TransformActuator;m.actuators.TransformActuator.__name__=["motion","actuators","TransformActuator"];m.actuators.TransformActuator.__super__=m.actuators.SimpleActuator;m.actuators.TransformActuator.prototype=z(m.actuators.SimpleActuator.prototype,
{setField_openfl_geom_Transform:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:u.setProperty(a,b,c)},setField_motion_actuators_TransformActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:u.setProperty(a,b,c)},endColorTransform:null,endSoundTransform:null,tweenColorTransform:null,tweenSoundTransform:null,apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(a,"colorTransform",
this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&D.Boot.__instanceof(this.target,e.display.DisplayObject)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=
this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=new e.geom.ColorTransform;var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var c;0.5>b?(c=1,b*=2):(c=1-2*(b-0.5),b=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=b*(a>>16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=
0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=
this.getField(this.target,"alpha");c=this.getField(this.target,"transform");c=this.getField(c,"colorTransform");this.tweenColorTransform=new e.geom.ColorTransform;for(var d,b=0;b<a.length;){var g=a[b];++b;d=this.getField(c,g);d=new m.actuators.PropertyDetails(this.tweenColorTransform,g,d,this.getField(this.endColorTransform,g)-d);this.propertyDetails.push(d)}},initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,
"soundTransform",new e.media.SoundTransform);var a=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform");this.tweenSoundTransform=new e.media.SoundTransform;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new m.actuators.PropertyDetails(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));Object.prototype.hasOwnProperty.call(this.properties,
"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new m.actuators.PropertyDetails(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},update:function(a){m.actuators.SimpleActuator.prototype.update.call(this,a);null!=this.endColorTransform&&(a=this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(a,"colorTransform",this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,
"soundTransform",this.tweenSoundTransform)},__class__:m.actuators.TransformActuator});m.easing.Bounce=function(){};l["motion.easing.Bounce"]=m.easing.Bounce;m.easing.Bounce.__name__=["motion","easing","Bounce"];m.easing.Bounce.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};m.easing.Bounce.get_easeIn=function(){return new m.easing.BounceEaseIn};m.easing.Bounce.get_easeInOut=function(){return new m.easing.BounceEaseInOut};m.easing.Bounce.get_easeOut=
function(){return new m.easing.BounceEaseOut};m.easing.BounceEaseIn=function(){};l["motion.easing.BounceEaseIn"]=m.easing.BounceEaseIn;m.easing.BounceEaseIn.__name__=["motion","easing","BounceEaseIn"];m.easing.BounceEaseIn.__interfaces__=[m.easing.IEasing];m.easing.BounceEaseIn._ease=function(a,b,c,d){return c-m.easing.BounceEaseOut._ease(d-a,0,c,d)+b};m.easing.BounceEaseIn.prototype={calculate:function(a){return 1-m.easing.BounceEaseOut._ease(1-a,0,1,1)},ease:function(a,b,c,d){return c-m.easing.BounceEaseOut._ease(d-
a,0,c,d)+b},__class__:m.easing.BounceEaseIn};m.easing.BounceEaseInOut=function(){};l["motion.easing.BounceEaseInOut"]=m.easing.BounceEaseInOut;m.easing.BounceEaseInOut.__name__=["motion","easing","BounceEaseInOut"];m.easing.BounceEaseInOut.__interfaces__=[m.easing.IEasing];m.easing.BounceEaseInOut.prototype={calculate:function(a){return 0.5>a?0.5*(1-m.easing.BounceEaseOut._ease(1-2*a,0,1,1)):0.5*m.easing.BounceEaseOut._ease(2*a-1,0,1,1)+0.5},ease:function(a,b,c,d){return a<d/2?0.5*(c-m.easing.BounceEaseOut._ease(d-
2*a,0,c,d))+b:0.5*m.easing.BounceEaseOut._ease(2*a-d,0,c,d)+0.5*c+b},__class__:m.easing.BounceEaseInOut};m.easing.BounceEaseOut=function(){};l["motion.easing.BounceEaseOut"]=m.easing.BounceEaseOut;m.easing.BounceEaseOut.__name__=["motion","easing","BounceEaseOut"];m.easing.BounceEaseOut.__interfaces__=[m.easing.IEasing];m.easing.BounceEaseOut._ease=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>
a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};m.easing.BounceEaseOut.prototype={calculate:function(a){return m.easing.BounceEaseOut._ease(a,0,1,1)},ease:function(a,b,c,d){return m.easing.BounceEaseOut._ease(a,b,c,d)},__class__:m.easing.BounceEaseOut};m.easing.Elastic=function(){};l["motion.easing.Elastic"]=m.easing.Elastic;m.easing.Elastic.__name__=["motion","easing","Elastic"];m.easing.Elastic.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",
get_easeIn:"get_easeIn"};m.easing.Elastic.get_easeIn=function(){return new m.easing.ElasticEaseIn(0.1,0.4)};m.easing.Elastic.get_easeInOut=function(){return new m.easing.ElasticEaseInOut(0.1,0.4)};m.easing.Elastic.get_easeOut=function(){return new m.easing.ElasticEaseOut(0.1,0.4)};m.easing.ElasticEaseIn=function(a,b){this.a=a;this.p=b};l["motion.easing.ElasticEaseIn"]=m.easing.ElasticEaseIn;m.easing.ElasticEaseIn.__name__=["motion","easing","ElasticEaseIn"];m.easing.ElasticEaseIn.__interfaces__=[m.easing.IEasing];
m.easing.ElasticEaseIn.prototype={a:null,p:null,calculate:function(a){if(0==a)return 0;if(1==a)return 1;var b;1>this.a?(this.a=1,b=this.p/4):b=this.p/(2*Math.PI)*Math.asin(1/this.a);return-(this.a*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/this.p))},ease:function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;this.a<Math.abs(c)?(this.a=c,c=this.p/4):c=this.p/(2*Math.PI)*Math.asin(c/this.a);return-(this.a*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/this.p))+b},__class__:m.easing.ElasticEaseIn};
m.easing.ElasticEaseInOut=function(a,b){this.a=a;this.p=b};l["motion.easing.ElasticEaseInOut"]=m.easing.ElasticEaseInOut;m.easing.ElasticEaseInOut.__name__=["motion","easing","ElasticEaseInOut"];m.easing.ElasticEaseInOut.__interfaces__=[m.easing.IEasing];m.easing.ElasticEaseInOut.prototype={a:null,p:null,calculate:function(a){return 0==a?0:2==(a/=0.5)?1:1>a?-0.5*Math.pow(2,10*(a-=1))*Math.sin((a-0.11249999999999999)*2*Math.PI/0.44999999999999996):0.5*Math.pow(2,-10*(a-=1))*Math.sin((a-0.11249999999999999)*
2*Math.PI/0.44999999999999996)+1},ease:function(a,b,c,d){if(0==a)return b;if(2==(a/=d/2))return b+c;var g;this.a<Math.abs(c)?(this.a=c,g=this.p/4):g=this.p/(2*Math.PI)*Math.asin(c/this.a);return 1>a?-0.5*this.a*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/this.p)+b:0.5*this.a*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/this.p)+c+b},__class__:m.easing.ElasticEaseInOut};m.easing.ElasticEaseOut=function(a,b){this.a=a;this.p=b};l["motion.easing.ElasticEaseOut"]=m.easing.ElasticEaseOut;m.easing.ElasticEaseOut.__name__=
["motion","easing","ElasticEaseOut"];m.easing.ElasticEaseOut.__interfaces__=[m.easing.IEasing];m.easing.ElasticEaseOut.prototype={a:null,p:null,calculate:function(a){if(0==a)return 0;if(1==a)return 1;var b;1>this.a?(this.a=1,b=this.p/4):b=this.p/(2*Math.PI)*Math.asin(1/this.a);return this.a*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/this.p)+1},ease:function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var g;this.a<Math.abs(c)?(this.a=c,g=this.p/4):g=this.p/(2*Math.PI)*Math.asin(c/this.a);return this.a*
Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/this.p)+c+b},__class__:m.easing.ElasticEaseOut};m.easing.ExpoEaseIn=function(){};l["motion.easing.ExpoEaseIn"]=m.easing.ExpoEaseIn;m.easing.ExpoEaseIn.__name__=["motion","easing","ExpoEaseIn"];m.easing.ExpoEaseIn.__interfaces__=[m.easing.IEasing];m.easing.ExpoEaseIn.prototype={calculate:function(a){return 0==a?0:Math.pow(2,10*(a-1))},ease:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},__class__:m.easing.ExpoEaseIn};m.easing.ExpoEaseInOut=function(){};
l["motion.easing.ExpoEaseInOut"]=m.easing.ExpoEaseInOut;m.easing.ExpoEaseInOut.__name__=["motion","easing","ExpoEaseInOut"];m.easing.ExpoEaseInOut.__interfaces__=[m.easing.IEasing];m.easing.ExpoEaseInOut.prototype={calculate:function(a){return 0==a?0:1==a?1:1>(a/=0.5)?0.5*Math.pow(2,10*(a-1)):0.5*(2-Math.pow(2,-10*--a))},ease:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(2-Math.pow(2,-10*--a))+b},__class__:m.easing.ExpoEaseInOut};m.easing.Linear=function(){};
l["motion.easing.Linear"]=m.easing.Linear;m.easing.Linear.__name__=["motion","easing","Linear"];m.easing.Linear.__properties__={get_easeNone:"get_easeNone"};m.easing.Linear.get_easeNone=function(){return new m.easing.LinearEaseNone};m.easing.LinearEaseNone=function(){};l["motion.easing.LinearEaseNone"]=m.easing.LinearEaseNone;m.easing.LinearEaseNone.__name__=["motion","easing","LinearEaseNone"];m.easing.LinearEaseNone.__interfaces__=[m.easing.IEasing];m.easing.LinearEaseNone.prototype={calculate:function(a){return a},
ease:function(a,b,c,d){return c*a/d+b},__class__:m.easing.LinearEaseNone};m.easing.Quint=function(){};l["motion.easing.Quint"]=m.easing.Quint;m.easing.Quint.__name__=["motion","easing","Quint"];m.easing.Quint.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};m.easing.Quint.get_easeIn=function(){return new m.easing.QuintEaseIn};m.easing.Quint.get_easeInOut=function(){return new m.easing.QuintEaseInOut};m.easing.Quint.get_easeOut=function(){return new m.easing.QuintEaseOut};
m.easing.QuintEaseIn=function(){};l["motion.easing.QuintEaseIn"]=m.easing.QuintEaseIn;m.easing.QuintEaseIn.__name__=["motion","easing","QuintEaseIn"];m.easing.QuintEaseIn.__interfaces__=[m.easing.IEasing];m.easing.QuintEaseIn.prototype={calculate:function(a){return a*a*a*a*a},ease:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},__class__:m.easing.QuintEaseIn};m.easing.QuintEaseInOut=function(){};l["motion.easing.QuintEaseInOut"]=m.easing.QuintEaseInOut;m.easing.QuintEaseInOut.__name__=["motion","easing",
"QuintEaseInOut"];m.easing.QuintEaseInOut.__interfaces__=[m.easing.IEasing];m.easing.QuintEaseInOut.prototype={calculate:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},ease:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},__class__:m.easing.QuintEaseInOut};m.easing.QuintEaseOut=function(){};l["motion.easing.QuintEaseOut"]=m.easing.QuintEaseOut;m.easing.QuintEaseOut.__name__=["motion","easing","QuintEaseOut"];m.easing.QuintEaseOut.__interfaces__=[m.easing.IEasing];
m.easing.QuintEaseOut.prototype={calculate:function(a){return--a*a*a*a*a+1},ease:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},__class__:m.easing.QuintEaseOut};var f={Config:function(){}};l["nape.Config"]=f.Config;f.Config.__name__=["nape","Config"];f.Config.prototype={__class__:f.Config};f.callbacks={};f.callbacks.Callback=function(){this.zpp_inner=null};l["nape.callbacks.Callback"]=f.callbacks.Callback;f.callbacks.Callback.__name__=["nape","callbacks","Callback"];f.callbacks.Callback.prototype=
{zpp_inner:null,get_event:function(){return d.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_listener:function(){return this.zpp_inner.listener.outer},toString:function(){return""},__class__:f.callbacks.Callback,__properties__:{get_listener:"get_listener",get_event:"get_event"}};f.callbacks.BodyCallback=function(){f.callbacks.Callback.call(this)};l["nape.callbacks.BodyCallback"]=f.callbacks.BodyCallback;f.callbacks.BodyCallback.__name__=["nape","callbacks","BodyCallback"];f.callbacks.BodyCallback.__super__=
f.callbacks.Callback;f.callbacks.BodyCallback.prototype=z(f.callbacks.Callback.prototype,{get_body:function(){return this.zpp_inner.body.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-d.util.ZPP_Flags.id_CbEvent_WAKE];a+=":"+this.zpp_inner.body.outer.toString();return a+=" : listener: "+C.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.BodyCallback,__properties__:z(f.callbacks.Callback.prototype.__properties__,{get_body:"get_body"})});f.callbacks.Listener=
function(){this.zpp_inner=null};l["nape.callbacks.Listener"]=f.callbacks.Listener;f.callbacks.Listener.__name__=["nape","callbacks","Listener"];f.callbacks.Listener.prototype={zpp_inner:null,get_type:function(){return d.callbacks.ZPP_Listener.types[this.zpp_inner.type]},get_event:function(){return d.callbacks.ZPP_Listener.events[this.zpp_inner.event]},set_event:function(a){d.callbacks.ZPP_Listener.events[this.zpp_inner.event]!=a&&(null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,
d.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_BEGIN?a=d.util.ZPP_Flags.id_CbEvent_BEGIN:(null==d.util.ZPP_Flags.CbEvent_ONGOING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_ONGOING)?a=d.util.ZPP_Flags.id_CbEvent_ONGOING:(null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,
d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_END)?a=d.util.ZPP_Flags.id_CbEvent_END:(null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_SLEEP)?a=d.util.ZPP_Flags.id_CbEvent_SLEEP:(null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_WAKE)?
a=d.util.ZPP_Flags.id_CbEvent_WAKE:(null==d.util.ZPP_Flags.CbEvent_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a=a==d.util.ZPP_Flags.CbEvent_PRE?d.util.ZPP_Flags.id_CbEvent_PRE:d.util.ZPP_Flags.id_CbEvent_BREAK),this.zpp_inner.swapEvent(a));return d.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_precedence:function(){return this.zpp_inner.precedence},set_precedence:function(a){this.zpp_inner.precedence!=a&&(this.zpp_inner.precedence=
a,this.zpp_inner.invalidate_precedence());return this.zpp_inner.precedence},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if((null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a)null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(this),null!=a?a.zpp_inner.wrap_listeners.add(this):this.zpp_inner.space=null;return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},toString:function(){var a=
"BEGIN END WAKE SLEEP BREAK PRE ONGOING".split(" ")[this.zpp_inner.event];if(this.zpp_inner.type==d.util.ZPP_Flags.id_ListenerType_BODY)return"BodyListener{"+a+"::"+C.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(this.zpp_inner.type==d.util.ZPP_Flags.id_ListenerType_CONSTRAINT)return"ConstraintListener{"+a+"::"+C.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var b=this.zpp_inner.interaction,c;switch(b.itype){case d.util.ZPP_Flags.id_InteractionType_COLLISION:c=
"COLLISION";break;case d.util.ZPP_Flags.id_InteractionType_SENSOR:c="SENSOR";break;case d.util.ZPP_Flags.id_InteractionType_FLUID:c="FLUID";break;default:c="ALL"}return(this.zpp_inner.type==d.util.ZPP_Flags.id_ListenerType_INTERACTION?"InteractionListener{"+a+"#"+c+"::"+C.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+C.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+c+"::"+C.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+C.string(b.outer_znp.zpp_inner_zn.options2.outer)+
"}")+" precedence="+this.zpp_inner.precedence},__class__:f.callbacks.Listener,__properties__:{set_space:"set_space",get_space:"get_space",set_precedence:"set_precedence",get_precedence:"get_precedence",set_event:"set_event",get_event:"get_event",get_type:"get_type"}};f.callbacks.BodyListener=function(a,b,c,j){null==j&&(j=0);this.zpp_inner_zn=null;f.callbacks.Listener.call(this);var g=-1;null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,
d.util.ZPP_Flags.internal=!1);if(a==d.util.ZPP_Flags.CbEvent_WAKE)g=d.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_SLEEP)g=d.util.ZPP_Flags.id_CbEvent_SLEEP;this.zpp_inner=this.zpp_inner_zn=new d.callbacks.ZPP_BodyListener(d.callbacks.ZPP_OptionType.argument(b),g,c);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner.precedence=
j};l["nape.callbacks.BodyListener"]=f.callbacks.BodyListener;f.callbacks.BodyListener.__name__=["nape","callbacks","BodyListener"];f.callbacks.BodyListener.__super__=f.callbacks.Listener;f.callbacks.BodyListener.prototype=z(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);return this.zpp_inner_zn.options.outer},get_handler:function(){return this.zpp_inner_zn.handler},
set_handler:function(a){this.zpp_inner_zn.handler=a;return this.zpp_inner_zn.handler},__class__:f.callbacks.BodyListener,__properties__:z(f.callbacks.Listener.prototype.__properties__,{set_handler:"set_handler",get_handler:"get_handler",set_options:"set_options",get_options:"get_options"})});f.callbacks.CbEvent=function(){};l["nape.callbacks.CbEvent"]=f.callbacks.CbEvent;f.callbacks.CbEvent.__name__=["nape","callbacks","CbEvent"];f.callbacks.CbEvent.__properties__={get_PRE:"get_PRE",get_BREAK:"get_BREAK",
get_SLEEP:"get_SLEEP",get_WAKE:"get_WAKE",get_END:"get_END",get_ONGOING:"get_ONGOING",get_BEGIN:"get_BEGIN"};f.callbacks.CbEvent.get_BEGIN=function(){null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_BEGIN};f.callbacks.CbEvent.get_ONGOING=function(){null==d.util.ZPP_Flags.CbEvent_ONGOING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,
d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_ONGOING};f.callbacks.CbEvent.get_END=function(){null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_END};f.callbacks.CbEvent.get_WAKE=function(){null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_WAKE};
f.callbacks.CbEvent.get_SLEEP=function(){null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_SLEEP};f.callbacks.CbEvent.get_BREAK=function(){null==d.util.ZPP_Flags.CbEvent_BREAK&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_BREAK};f.callbacks.CbEvent.get_PRE=function(){null==
d.util.ZPP_Flags.CbEvent_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.CbEvent_PRE};f.callbacks.CbEvent.prototype={toString:function(){null==d.util.ZPP_Flags.CbEvent_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_PRE)return"PRE";null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BEGIN=
new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_BEGIN)return"BEGIN";null==d.util.ZPP_Flags.CbEvent_ONGOING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_ONGOING)return"ONGOING";null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_END)return"END";
null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_WAKE)return"WAKE";null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.CbEvent_SLEEP)return"SLEEP";null==d.util.ZPP_Flags.CbEvent_BREAK&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BREAK=
new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.CbEvent_BREAK?"BREAK":""},__class__:f.callbacks.CbEvent};f.callbacks.CbType=function(){this.zpp_inner=null;this.zpp_inner=new d.callbacks.ZPP_CbType;this.zpp_inner.outer=this};l["nape.callbacks.CbType"]=f.callbacks.CbType;f.callbacks.CbType.__name__=["nape","callbacks","CbType"];f.callbacks.CbType.__properties__={get_ANY_COMPOUND:"get_ANY_COMPOUND",get_ANY_SHAPE:"get_ANY_SHAPE",get_ANY_CONSTRAINT:"get_ANY_CONSTRAINT",
get_ANY_BODY:"get_ANY_BODY"};f.callbacks.CbType.get_ANY_BODY=function(){return d.callbacks.ZPP_CbType.ANY_BODY};f.callbacks.CbType.get_ANY_CONSTRAINT=function(){return d.callbacks.ZPP_CbType.ANY_CONSTRAINT};f.callbacks.CbType.get_ANY_SHAPE=function(){return d.callbacks.ZPP_CbType.ANY_SHAPE};f.callbacks.CbType.get_ANY_COMPOUND=function(){return d.callbacks.ZPP_CbType.ANY_COMPOUND};f.callbacks.CbType.prototype={zpp_inner:null,get_id:function(){return this.zpp_inner.id},including:function(a){return(new f.callbacks.OptionType(this)).including(a)},
excluding:function(a){return(new f.callbacks.OptionType(this)).excluding(a)},get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=d.util.ZPP_InteractorList.get(this.zpp_inner.interactors,!0));return this.zpp_inner.wrap_interactors},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=d.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,
!0));return this.zpp_inner.wrap_constraints},toString:function(){return this==d.callbacks.ZPP_CbType.ANY_BODY?"ANY_BODY":this==d.callbacks.ZPP_CbType.ANY_SHAPE?"ANY_SHAPE":this==d.callbacks.ZPP_CbType.ANY_COMPOUND?"ANY_COMPOUND":this==d.callbacks.ZPP_CbType.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},__class__:f.callbacks.CbType,__properties__:{get_constraints:"get_constraints",get_interactors:"get_interactors",get_userData:"get_userData",get_id:"get_id"}};f.callbacks.CbTypeIterator=
function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.callbacks.CbTypeIterator"]=f.callbacks.CbTypeIterator;f.callbacks.CbTypeIterator.__name__=["nape","callbacks","CbTypeIterator"];f.callbacks.CbTypeIterator.get=function(a){var b;null==f.callbacks.CbTypeIterator.zpp_pool?(d.util.ZPP_CbTypeList.internal=!0,b=new f.callbacks.CbTypeIterator,d.util.ZPP_CbTypeList.internal=!1):(b=f.callbacks.CbTypeIterator.zpp_pool,f.callbacks.CbTypeIterator.zpp_pool=b.zpp_next);
b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.callbacks.CbTypeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.callbacks.CbTypeIterator.zpp_pool;f.callbacks.CbTypeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.callbacks.CbTypeIterator};
f.callbacks.CbTypeList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_CbTypeList;this.zpp_inner.outer=this};l["nape.callbacks.CbTypeList"]=f.callbacks.CbTypeList;f.callbacks.CbTypeList.__name__=["nape","callbacks","CbTypeList"];f.callbacks.CbTypeList.fromArray=function(a){for(var b=new f.callbacks.CbTypeList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.callbacks.CbTypeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=
!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=
this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):
this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=
1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);
var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.callbacks.CbTypeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.callbacks.CbTypeList,c;this.zpp_inner.valmod();for(c=f.callbacks.CbTypeIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.callbacks.CbTypeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);
this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.callbacks.CbTypeIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.callbacks.CbTypeIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=
f.callbacks.CbTypeIterator.zpp_pool;f.callbacks.CbTypeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.callbacks.CbTypeList,__properties__:{get_length:"get_length"}};f.callbacks.ConstraintCallback=function(){f.callbacks.Callback.call(this)};l["nape.callbacks.ConstraintCallback"]=f.callbacks.ConstraintCallback;f.callbacks.ConstraintCallback.__name__=["nape",
"callbacks","ConstraintCallback"];f.callbacks.ConstraintCallback.__super__=f.callbacks.Callback;f.callbacks.ConstraintCallback.prototype=z(f.callbacks.Callback.prototype,{get_constraint:function(){return this.zpp_inner.constraint.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-d.util.ZPP_Flags.id_CbEvent_WAKE];a+=":"+this.zpp_inner.constraint.outer.toString();return a+=" : listener: "+C.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.ConstraintCallback,
__properties__:z(f.callbacks.Callback.prototype.__properties__,{get_constraint:"get_constraint"})});f.callbacks.ConstraintListener=function(a,b,c,j){null==j&&(j=0);this.zpp_inner_zn=null;f.callbacks.Listener.call(this);var g=-1;null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(a==d.util.ZPP_Flags.CbEvent_WAKE)g=d.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_SLEEP)g=d.util.ZPP_Flags.id_CbEvent_SLEEP;else if(null==d.util.ZPP_Flags.CbEvent_BREAK&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_BREAK)g=d.util.ZPP_Flags.id_CbEvent_BREAK;this.zpp_inner=this.zpp_inner_zn=new d.callbacks.ZPP_ConstraintListener(d.callbacks.ZPP_OptionType.argument(b),g,
c);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner.precedence=j};l["nape.callbacks.ConstraintListener"]=f.callbacks.ConstraintListener;f.callbacks.ConstraintListener.__name__=["nape","callbacks","ConstraintListener"];f.callbacks.ConstraintListener.__super__=f.callbacks.Listener;f.callbacks.ConstraintListener.prototype=z(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);
return this.zpp_inner_zn.options.outer},get_handler:function(){return this.zpp_inner_zn.handler},set_handler:function(a){this.zpp_inner_zn.handler=a;return this.zpp_inner_zn.handler},__class__:f.callbacks.ConstraintListener,__properties__:z(f.callbacks.Listener.prototype.__properties__,{set_handler:"set_handler",get_handler:"get_handler",set_options:"set_options",get_options:"get_options"})});f.callbacks.InteractionCallback=function(){f.callbacks.Callback.call(this)};l["nape.callbacks.InteractionCallback"]=
f.callbacks.InteractionCallback;f.callbacks.InteractionCallback.__name__=["nape","callbacks","InteractionCallback"];f.callbacks.InteractionCallback.__super__=f.callbacks.Callback;f.callbacks.InteractionCallback.prototype=z(f.callbacks.Callback.prototype,{get_int1:function(){return this.zpp_inner.int1.outer_i},get_int2:function(){return this.zpp_inner.int2.outer_i},get_arbiters:function(){return this.zpp_inner.wrap_arbiters},toString:function(){var a;a="Cb:"+"BEGIN END     ONGOING".split(" ")[this.zpp_inner.event];
a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+=" : listener: "+C.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.InteractionCallback,__properties__:z(f.callbacks.Callback.prototype.__properties__,{get_arbiters:"get_arbiters",get_int2:"get_int2",get_int1:"get_int1"})});f.callbacks.InteractionListener=function(a,b,c,j,g,i){null==i&&(i=0);this.zpp_inner_zn=null;f.callbacks.Listener.call(this);
var e=-1;null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);if(a==d.util.ZPP_Flags.CbEvent_BEGIN)e=d.util.ZPP_Flags.id_CbEvent_BEGIN;else if(null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_END)e=d.util.ZPP_Flags.id_CbEvent_END;else if(null==d.util.ZPP_Flags.CbEvent_ONGOING&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.CbEvent_ONGOING)e=d.util.ZPP_Flags.id_CbEvent_ONGOING;this.zpp_inner=this.zpp_inner_zn=new d.callbacks.ZPP_InteractionListener(d.callbacks.ZPP_OptionType.argument(c),d.callbacks.ZPP_OptionType.argument(j),e,d.util.ZPP_Flags.id_ListenerType_INTERACTION);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zni=this;this.zpp_inner.precedence=i;this.zpp_inner_zn.handleri=
g;this.set_interactionType(b)};l["nape.callbacks.InteractionListener"]=f.callbacks.InteractionListener;f.callbacks.InteractionListener.__name__=["nape","callbacks","InteractionListener"];f.callbacks.InteractionListener.__super__=f.callbacks.Listener;f.callbacks.InteractionListener.prototype=z(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options1:function(){return this.zpp_inner_zn.options1.outer},set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},
get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==d.util.ZPP_Flags.id_InteractionType_COLLISION?(null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_COLLISION):
a==d.util.ZPP_Flags.id_InteractionType_SENSOR?(null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_SENSOR):a==d.util.ZPP_Flags.id_InteractionType_FLUID?(null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_FLUID):
a==d.util.ZPP_Flags.id_InteractionType_ANY?(null==d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){this.get_interactionType()!=a&&(null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=
!1),a==d.util.ZPP_Flags.InteractionType_COLLISION?a=d.util.ZPP_Flags.id_InteractionType_COLLISION:(null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.InteractionType_SENSOR)?a=d.util.ZPP_Flags.id_InteractionType_SENSOR:(null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,
d.util.ZPP_Flags.internal=!1),a=a==d.util.ZPP_Flags.InteractionType_FLUID?d.util.ZPP_Flags.id_InteractionType_FLUID:d.util.ZPP_Flags.id_InteractionType_ANY),this.zpp_inner_zn.itype=a);return this.get_interactionType()},get_handler:function(){return this.zpp_inner_zn.handleri},set_handler:function(a){this.zpp_inner_zn.handleri=a;return this.zpp_inner_zn.handleri},get_allowSleepingCallbacks:function(){return this.zpp_inner_zn.allowSleepingCallbacks},set_allowSleepingCallbacks:function(a){this.zpp_inner_zn.allowSleepingCallbacks=
a;return this.zpp_inner_zn.allowSleepingCallbacks},__class__:f.callbacks.InteractionListener,__properties__:z(f.callbacks.Listener.prototype.__properties__,{set_allowSleepingCallbacks:"set_allowSleepingCallbacks",get_allowSleepingCallbacks:"get_allowSleepingCallbacks",set_handler:"set_handler",get_handler:"get_handler",set_interactionType:"set_interactionType",get_interactionType:"get_interactionType",set_options2:"set_options2",get_options2:"get_options2",set_options1:"set_options1",get_options1:"get_options1"})});
f.callbacks.InteractionType=function(){};l["nape.callbacks.InteractionType"]=f.callbacks.InteractionType;f.callbacks.InteractionType.__name__=["nape","callbacks","InteractionType"];f.callbacks.InteractionType.__properties__={get_ANY:"get_ANY",get_FLUID:"get_FLUID",get_SENSOR:"get_SENSOR",get_COLLISION:"get_COLLISION"};f.callbacks.InteractionType.get_COLLISION=function(){null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,
d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InteractionType_COLLISION};f.callbacks.InteractionType.get_SENSOR=function(){null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InteractionType_SENSOR};f.callbacks.InteractionType.get_FLUID=function(){null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=
new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InteractionType_FLUID};f.callbacks.InteractionType.get_ANY=function(){null==d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InteractionType_ANY};f.callbacks.InteractionType.prototype={toString:function(){null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.InteractionType_COLLISION)return"COLLISION";null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.InteractionType_SENSOR)return"SENSOR";null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=
new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.InteractionType_FLUID)return"FLUID";null==d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.InteractionType_ANY?"ANY":""},__class__:f.callbacks.InteractionType};f.callbacks.ListenerIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=
null};l["nape.callbacks.ListenerIterator"]=f.callbacks.ListenerIterator;f.callbacks.ListenerIterator.__name__=["nape","callbacks","ListenerIterator"];f.callbacks.ListenerIterator.get=function(a){var b;null==f.callbacks.ListenerIterator.zpp_pool?(d.util.ZPP_ListenerList.internal=!0,b=new f.callbacks.ListenerIterator,d.util.ZPP_ListenerList.internal=!1):(b=f.callbacks.ListenerIterator.zpp_pool,f.callbacks.ListenerIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.callbacks.ListenerIterator.prototype=
{zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.callbacks.ListenerIterator.zpp_pool;f.callbacks.ListenerIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.callbacks.ListenerIterator};f.callbacks.ListenerList=function(){this.zpp_inner=null;this.zpp_inner=
new d.util.ZPP_ListenerList;this.zpp_inner.outer=this};l["nape.callbacks.ListenerList"]=f.callbacks.ListenerList;f.callbacks.ListenerList.__name__=["nape","callbacks","ListenerList"];f.callbacks.ListenerList.fromArray=function(a){for(var b=new f.callbacks.ListenerList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.callbacks.ListenerList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=
this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},
push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&
this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();
return f.callbacks.ListenerIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.callbacks.ListenerList,c;this.zpp_inner.valmod();for(c=f.callbacks.ListenerIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.callbacks.ListenerIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a=
"[",b=!0,c;this.zpp_inner.valmod();for(c=f.callbacks.ListenerIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.callbacks.ListenerIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.callbacks.ListenerIterator.zpp_pool;f.callbacks.ListenerIterator.zpp_pool=b;b.zpp_inner=
null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.callbacks.ListenerList,__properties__:{get_length:"get_length"}};f.callbacks.ListenerType=function(){};l["nape.callbacks.ListenerType"]=f.callbacks.ListenerType;f.callbacks.ListenerType.__name__=["nape","callbacks","ListenerType"];f.callbacks.ListenerType.__properties__={get_PRE:"get_PRE",get_INTERACTION:"get_INTERACTION",get_CONSTRAINT:"get_CONSTRAINT",
get_BODY:"get_BODY"};f.callbacks.ListenerType.get_BODY=function(){null==d.util.ZPP_Flags.ListenerType_BODY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ListenerType_BODY};f.callbacks.ListenerType.get_CONSTRAINT=function(){null==d.util.ZPP_Flags.ListenerType_CONSTRAINT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);
return d.util.ZPP_Flags.ListenerType_CONSTRAINT};f.callbacks.ListenerType.get_INTERACTION=function(){null==d.util.ZPP_Flags.ListenerType_INTERACTION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ListenerType_INTERACTION};f.callbacks.ListenerType.get_PRE=function(){null==d.util.ZPP_Flags.ListenerType_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,
d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ListenerType_PRE};f.callbacks.ListenerType.prototype={toString:function(){null==d.util.ZPP_Flags.ListenerType_BODY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ListenerType_BODY)return"BODY";null==d.util.ZPP_Flags.ListenerType_CONSTRAINT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=
!1);if(this==d.util.ZPP_Flags.ListenerType_CONSTRAINT)return"CONSTRAINT";null==d.util.ZPP_Flags.ListenerType_INTERACTION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ListenerType_INTERACTION)return"INTERACTION";null==d.util.ZPP_Flags.ListenerType_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);return this==
d.util.ZPP_Flags.ListenerType_PRE?"PRE":""},__class__:f.callbacks.ListenerType};f.callbacks.OptionType=function(a,b){this.zpp_inner=null;this.zpp_inner=new d.callbacks.ZPP_OptionType;this.zpp_inner.outer=this;null!=a&&this.including(a);null!=b&&this.excluding(b)};l["nape.callbacks.OptionType"]=f.callbacks.OptionType;f.callbacks.OptionType.__name__=["nape","callbacks","OptionType"];f.callbacks.OptionType.prototype={zpp_inner:null,get_includes:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();
return this.zpp_inner.wrap_includes},get_excludes:function(){null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return this.zpp_inner.wrap_excludes},including:function(a){this.zpp_inner.append(this.zpp_inner.includes,a);return this},excluding:function(a){this.zpp_inner.append(this.zpp_inner.excludes,a);return this},toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&
this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:f.callbacks.OptionType,__properties__:{get_excludes:"get_excludes",get_includes:"get_includes"}};f.callbacks.PreCallback=function(){f.callbacks.Callback.call(this)};l["nape.callbacks.PreCallback"]=f.callbacks.PreCallback;f.callbacks.PreCallback.__name__=["nape","callbacks","PreCallback"];f.callbacks.PreCallback.__super__=f.callbacks.Callback;f.callbacks.PreCallback.prototype=z(f.callbacks.Callback.prototype,
{get_arbiter:function(){return this.zpp_inner.pre_arbiter.wrapper()},get_int1:function(){return this.zpp_inner.int1.outer_i},get_int2:function(){return this.zpp_inner.int2.outer_i},get_swapped:function(){return this.zpp_inner.pre_swapped},toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString());a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();return a+=" : listnener: "+C.string(this.zpp_inner.listener.outer)},__class__:f.callbacks.PreCallback,
__properties__:z(f.callbacks.Callback.prototype.__properties__,{get_swapped:"get_swapped",get_int2:"get_int2",get_int1:"get_int1",get_arbiter:"get_arbiter"})});f.callbacks.PreFlag=function(){};l["nape.callbacks.PreFlag"]=f.callbacks.PreFlag;f.callbacks.PreFlag.__name__=["nape","callbacks","PreFlag"];f.callbacks.PreFlag.__properties__={get_IGNORE_ONCE:"get_IGNORE_ONCE",get_ACCEPT_ONCE:"get_ACCEPT_ONCE",get_IGNORE:"get_IGNORE",get_ACCEPT:"get_ACCEPT"};f.callbacks.PreFlag.get_ACCEPT=function(){null==
d.util.ZPP_Flags.PreFlag_ACCEPT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.PreFlag_ACCEPT};f.callbacks.PreFlag.get_IGNORE=function(){null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.PreFlag_IGNORE};f.callbacks.PreFlag.get_ACCEPT_ONCE=function(){null==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE};f.callbacks.PreFlag.get_IGNORE_ONCE=function(){null==d.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.PreFlag_IGNORE_ONCE};f.callbacks.PreFlag.prototype={toString:function(){null==d.util.ZPP_Flags.PreFlag_ACCEPT&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.PreFlag_ACCEPT)return"ACCEPT";null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.PreFlag_IGNORE)return"IGNORE";null==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,
d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)return"ACCEPT_ONCE";null==d.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":""},__class__:f.callbacks.PreFlag};f.callbacks.PreListener=function(a,b,c,j,g,i){null==i&&(i=!1);null==g&&(g=0);this.zpp_inner_zn=null;f.callbacks.Listener.call(this);this.zpp_inner=
this.zpp_inner_zn=new d.callbacks.ZPP_InteractionListener(d.callbacks.ZPP_OptionType.argument(b),d.callbacks.ZPP_OptionType.argument(c),d.util.ZPP_Flags.id_CbEvent_PRE,d.util.ZPP_Flags.id_ListenerType_PRE);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_znp=this;this.zpp_inner.precedence=g;this.zpp_inner_zn.pure=i;this.zpp_inner_zn.handlerp=j;this.set_interactionType(a)};l["nape.callbacks.PreListener"]=f.callbacks.PreListener;f.callbacks.PreListener.__name__=["nape","callbacks","PreListener"];f.callbacks.PreListener.__super__=
f.callbacks.Listener;f.callbacks.PreListener.prototype=z(f.callbacks.Listener.prototype,{zpp_inner_zn:null,get_options1:function(){return this.zpp_inner_zn.options1.outer},set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},get_handler:function(){return this.zpp_inner_zn.handlerp},
set_handler:function(a){this.zpp_inner_zn.handlerp=a;this.zpp_inner_zn.wake();return this.zpp_inner_zn.handlerp},get_pure:function(){return this.zpp_inner_zn.pure},set_pure:function(a){a||this.zpp_inner_zn.wake();this.zpp_inner_zn.pure=a;return this.zpp_inner_zn.pure},get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==d.util.ZPP_Flags.id_InteractionType_COLLISION?(null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=
new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_COLLISION):a==d.util.ZPP_Flags.id_InteractionType_SENSOR?(null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_SENSOR):a==d.util.ZPP_Flags.id_InteractionType_FLUID?(null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=
new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_FLUID):a==d.util.ZPP_Flags.id_InteractionType_ANY?(null==d.util.ZPP_Flags.InteractionType_ANY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_ANY=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){this.get_interactionType()!=a&&(null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.InteractionType_COLLISION?a=d.util.ZPP_Flags.id_InteractionType_COLLISION:(null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.InteractionType_SENSOR)?a=d.util.ZPP_Flags.id_InteractionType_SENSOR:(null==d.util.ZPP_Flags.InteractionType_FLUID&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a=a==d.util.ZPP_Flags.InteractionType_FLUID?d.util.ZPP_Flags.id_InteractionType_FLUID:d.util.ZPP_Flags.id_InteractionType_ANY),this.zpp_inner_zn.itype=a);return this.get_interactionType()},__class__:f.callbacks.PreListener,__properties__:z(f.callbacks.Listener.prototype.__properties__,{set_interactionType:"set_interactionType",get_interactionType:"get_interactionType",
set_pure:"set_pure",get_pure:"get_pure",set_handler:"set_handler",get_handler:"get_handler",set_options2:"set_options2",get_options2:"get_options2",set_options1:"set_options1",get_options1:"get_options1"})});f.constraint={};f.constraint.Constraint=function(){this.debugDraw=!0;this.zpp_inner.insert_cbtype(d.callbacks.ZPP_CbType.ANY_CONSTRAINT.zpp_inner)};l["nape.constraint.Constraint"]=f.constraint.Constraint;f.constraint.Constraint.__name__=["nape","constraint","Constraint"];f.constraint.Constraint.prototype=
{zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},debugDraw:null,get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){if((null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a){if(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer))(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(this);
null!=a&&a.zpp_inner.wrap_constraints.add(this)}return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if((null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a)null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(this),null!=a?a.zpp_inner.wrap_constraints.add(this):
this.zpp_inner.space=null;return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},get_isSleeping:function(){return this.zpp_inner.component.sleeping},get_active:function(){return this.zpp_inner.active},set_active:function(a){this.zpp_inner.active!=a&&((null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),a)?(this.zpp_inner.active=a,this.zpp_inner.activate(),null!=this.zpp_inner.space&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.sleeping=
!0),this.zpp_inner.space.wake_constraint(this.zpp_inner,!0))):(null!=this.zpp_inner.space&&(this.zpp_inner.wake(),this.zpp_inner.space.live_constraints.remove(this.zpp_inner)),this.zpp_inner.active=a,this.zpp_inner.deactivate()));return this.zpp_inner.active},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=a&&(this.zpp_inner.ignore=a,this.zpp_inner.wake());return this.zpp_inner.ignore},get_stiff:function(){return this.zpp_inner.stiff},set_stiff:function(a){this.zpp_inner.stiff!=
a&&(this.zpp_inner.stiff=a,this.zpp_inner.wake());return this.zpp_inner.stiff},get_frequency:function(){return this.zpp_inner.frequency},set_frequency:function(a){this.zpp_inner.frequency!=a&&(this.zpp_inner.frequency=a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.frequency},get_damping:function(){return this.zpp_inner.damping},set_damping:function(a){this.zpp_inner.damping!=a&&(this.zpp_inner.damping=a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.damping},
get_maxForce:function(){return this.zpp_inner.maxForce},set_maxForce:function(a){this.zpp_inner.maxForce!=a&&(this.zpp_inner.maxForce=a,this.zpp_inner.wake());return this.zpp_inner.maxForce},get_maxError:function(){return this.zpp_inner.maxError},set_maxError:function(a){this.zpp_inner.maxError!=a&&(this.zpp_inner.maxError=a,this.zpp_inner.wake());return this.zpp_inner.maxError},get_breakUnderForce:function(){return this.zpp_inner.breakUnderForce},set_breakUnderForce:function(a){this.zpp_inner.breakUnderForce!=
a&&(this.zpp_inner.breakUnderForce=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderForce},get_breakUnderError:function(){return this.zpp_inner.breakUnderError},set_breakUnderError:function(a){this.zpp_inner.breakUnderError!=a&&(this.zpp_inner.breakUnderError=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderError},get_removeOnBreak:function(){return this.zpp_inner.removeOnBreak},set_removeOnBreak:function(a){this.zpp_inner.removeOnBreak=a;return this.zpp_inner.removeOnBreak},impulse:function(){return null},
bodyImpulse:function(){return null},visitBodies:function(){},get_cbTypes:function(){null==this.zpp_inner.wrap_cbTypes&&this.zpp_inner.setupcbTypes();return this.zpp_inner.wrap_cbTypes},toString:function(){return"{Constraint}"},copy:function(){return this.zpp_inner.copy()},__class__:f.constraint.Constraint,__properties__:{get_cbTypes:"get_cbTypes",set_removeOnBreak:"set_removeOnBreak",get_removeOnBreak:"get_removeOnBreak",set_breakUnderError:"set_breakUnderError",get_breakUnderError:"get_breakUnderError",
set_breakUnderForce:"set_breakUnderForce",get_breakUnderForce:"get_breakUnderForce",set_maxError:"set_maxError",get_maxError:"get_maxError",set_maxForce:"set_maxForce",get_maxForce:"get_maxForce",set_damping:"set_damping",get_damping:"get_damping",set_frequency:"set_frequency",get_frequency:"get_frequency",set_stiff:"set_stiff",get_stiff:"get_stiff",set_ignore:"set_ignore",get_ignore:"get_ignore",set_active:"set_active",get_active:"get_active",get_isSleeping:"get_isSleeping",set_space:"set_space",
get_space:"get_space",set_compound:"set_compound",get_compound:"get_compound",get_userData:"get_userData"}};f.constraint.AngleJoint=function(a,b,c,j,g){null==g&&(g=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_AngleJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("AngleJoint::jointMin");this.zpp_inner_zn.jointMin!=c&&(this.zpp_inner_zn.jointMin=c,
this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("AngleJoint::jointMax");this.zpp_inner_zn.jointMax!=j&&(this.zpp_inner_zn.jointMax=j,this.zpp_inner.wake());this.zpp_inner_zn.jointMax;this.zpp_inner.immutable_midstep("AngleJoint::ratio");this.zpp_inner_zn.ratio!=g&&(this.zpp_inner_zn.ratio=g,this.zpp_inner.wake());this.zpp_inner_zn.ratio};l["nape.constraint.AngleJoint"]=f.constraint.AngleJoint;f.constraint.AngleJoint.__name__=["nape","constraint","AngleJoint"];f.constraint.AngleJoint.__super__=
f.constraint.Constraint;f.constraint.AngleJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&
this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&
null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_jointMin:function(){return this.zpp_inner_zn.jointMin},
set_jointMin:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMin");this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMax");this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},
set_ratio:function(a){this.zpp_inner.immutable_midstep("AngleJoint::ratio");this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){return this.zpp_inner_zn.is_slack()},impulse:function(){var a=new f.geom.MatMN(1,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get(0,0,0)},visitBodies:function(a){if(null!=
(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.AngleJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_ratio:"set_ratio",
get_ratio:"get_ratio",set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.ConstraintIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.constraint.ConstraintIterator"]=f.constraint.ConstraintIterator;f.constraint.ConstraintIterator.__name__=["nape","constraint","ConstraintIterator"];f.constraint.ConstraintIterator.get=
function(a){var b;null==f.constraint.ConstraintIterator.zpp_pool?(d.util.ZPP_ConstraintList.internal=!0,b=new f.constraint.ConstraintIterator,d.util.ZPP_ConstraintList.internal=!1):(b=f.constraint.ConstraintIterator.zpp_pool,f.constraint.ConstraintIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.constraint.ConstraintIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.constraint.ConstraintIterator.zpp_pool;f.constraint.ConstraintIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.constraint.ConstraintIterator};f.constraint.ConstraintList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_ConstraintList;this.zpp_inner.outer=this};l["nape.constraint.ConstraintList"]=f.constraint.ConstraintList;f.constraint.ConstraintList.__name__=
["nape","constraint","ConstraintList"];f.constraint.ConstraintList.fromArray=function(a){for(var b=new f.constraint.ConstraintList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.constraint.ConstraintList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?
this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=
null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||
this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||
this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&
this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.constraint.ConstraintIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.constraint.ConstraintList,
c;this.zpp_inner.valmod();for(c=f.constraint.ConstraintIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.constraint.ConstraintIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.constraint.ConstraintIterator.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.constraint.ConstraintIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.constraint.ConstraintIterator.zpp_pool;f.constraint.ConstraintIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);
try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.constraint.ConstraintList,__properties__:{get_length:"get_length"}};f.constraint.DistanceJoint=function(a,b,c,j,g,i){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_DistanceJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);this.set_body1(a);this.set_body2(b);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(c);
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(j);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");this.zpp_inner_zn.jointMin!=g&&(this.zpp_inner_zn.jointMin=g,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");
this.zpp_inner_zn.jointMax!=i&&(this.zpp_inner_zn.jointMax=i,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};l["nape.constraint.DistanceJoint"]=f.constraint.DistanceJoint;f.constraint.DistanceJoint.__name__=["nape","constraint","DistanceJoint"];f.constraint.DistanceJoint.__super__=f.constraint.Constraint;f.constraint.DistanceJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&
this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&
(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&
null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},
get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");this.zpp_inner_zn.jointMin!=
a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},isSlack:function(){return this.zpp_inner_zn.slack},impulse:function(){var a=new f.geom.MatMN(1,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;
return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?
null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.DistanceJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.LineJoint=function(a,b,c,j,g,i,e){this.zpp_inner_zn=
null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_LineJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);this.set_body1(a);this.set_body2(b);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(c);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(j);null==this.zpp_inner_zn.wrap_a2&&
this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n.set(g);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n;this.zpp_inner.immutable_midstep("LineJoint::jointMin");this.zpp_inner_zn.jointMin!=i&&(this.zpp_inner_zn.jointMin=i,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("LineJoint::jointMax");this.zpp_inner_zn.jointMax!=e&&(this.zpp_inner_zn.jointMax=
e,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};l["nape.constraint.LineJoint"]=f.constraint.LineJoint;f.constraint.LineJoint.__name__=["nape","constraint","LineJoint"];f.constraint.LineJoint.__super__=f.constraint.Constraint;f.constraint.LineJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;
if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=
a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?
null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?
null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==
this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_direction:function(){null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},set_direction:function(a){null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();
this.zpp_inner_zn.wrap_n.set(a);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMin");this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMax");
this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},impulse:function(){var a=new f.geom.MatMN(2,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==
this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.LineJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",
set_direction:"set_direction",get_direction:"get_direction",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.MotorJoint=function(a,b,c,j){null==j&&(j=1);null==c&&(c=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_MotorJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);
this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("MotorJoint::rate");this.zpp_inner_zn.rate!=c&&(this.zpp_inner_zn.rate=c,this.zpp_inner.wake());this.zpp_inner_zn.rate;this.zpp_inner.immutable_midstep("MotorJoint::ratio");this.zpp_inner_zn.ratio!=j&&(this.zpp_inner_zn.ratio=j,this.zpp_inner.wake());this.zpp_inner_zn.ratio};l["nape.constraint.MotorJoint"]=f.constraint.MotorJoint;f.constraint.MotorJoint.__name__=["nape","constraint","MotorJoint"];f.constraint.MotorJoint.__super__=
f.constraint.Constraint;f.constraint.MotorJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&
this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&
null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_ratio:function(){return this.zpp_inner_zn.ratio},
set_ratio:function(a){this.zpp_inner.immutable_midstep("MotorJoint::ratio");this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},get_rate:function(){return this.zpp_inner_zn.rate},set_rate:function(a){this.zpp_inner.immutable_midstep("MotorJoint::rate");this.zpp_inner_zn.rate!=a&&(this.zpp_inner_zn.rate=a,this.zpp_inner.wake());return this.zpp_inner_zn.rate},impulse:function(){var a=new f.geom.MatMN(1,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;
return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?
null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.MotorJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_rate:"set_rate",get_rate:"get_rate",set_ratio:"set_ratio",get_ratio:"get_ratio",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.PivotJoint=function(a,b,c,j){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_PivotJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);
this.set_body1(a);this.set_body2(b);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(c);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(j);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2};l["nape.constraint.PivotJoint"]=f.constraint.PivotJoint;f.constraint.PivotJoint.__name__=["nape","constraint",
"PivotJoint"];f.constraint.PivotJoint.__super__=f.constraint.Constraint;f.constraint.PivotJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&
null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();
return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),
this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==
this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();
this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},impulse:function(){var a=new f.geom.MatMN(2,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==
this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.PivotJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",
set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.PulleyJoint=function(a,b,c,j,g,i,e,n,o,h,x){null==x&&(x=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_PulleyJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);this.set_body1(a);this.set_body2(b);this.set_body3(c);this.set_body4(j);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(g);
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(i);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(e);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3;null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();
this.zpp_inner_zn.wrap_a4.set(n);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4;this.zpp_inner.immutable_midstep("PulleyJoint::ratio");this.zpp_inner_zn.ratio!=x&&(this.zpp_inner_zn.ratio=x,this.zpp_inner.wake());this.zpp_inner_zn.ratio;this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");this.zpp_inner_zn.jointMin!=o&&(this.zpp_inner_zn.jointMin=o,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");
this.zpp_inner_zn.jointMax!=h&&(this.zpp_inner_zn.jointMax=h,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};l["nape.constraint.PulleyJoint"]=f.constraint.PulleyJoint;f.constraint.PulleyJoint.__name__=["nape","constraint","PulleyJoint"];f.constraint.PulleyJoint.__super__=f.constraint.Constraint;f.constraint.PulleyJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");
a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_body3:function(){return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},set_body3:function(a){this.zpp_inner.immutable_midstep("Constraint::body3");
a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b3&&(null!=this.zpp_inner_zn.b3&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b3&&null!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b3.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b3.wake()),this.zpp_inner_zn.b3=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},get_body4:function(){return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},set_body4:function(a){this.zpp_inner.immutable_midstep("Constraint::body4");
a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b4&&(null!=this.zpp_inner_zn.b4&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b4&&null!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b4.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b4.wake()),this.zpp_inner_zn.b4=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},
set_anchor1:function(a){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();
return this.zpp_inner_zn.wrap_a2},get_anchor3:function(){null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},set_anchor3:function(a){null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(a);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},get_anchor4:function(){null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},set_anchor4:function(a){null==
this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4.set(a);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},
set_jointMax:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::ratio");this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){return this.zpp_inner_zn.slack},impulse:function(){var a=
new f.geom.MatMN(1,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer);if(null!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))a(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer);if(null!=(null==this.zpp_inner_zn.b4?
null:this.zpp_inner_zn.b4.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer))a(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)},__class__:f.constraint.PulleyJoint,
__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_ratio:"set_ratio",get_ratio:"get_ratio",set_jointMax:"set_jointMax",get_jointMax:"get_jointMax",set_jointMin:"set_jointMin",get_jointMin:"get_jointMin",set_anchor4:"set_anchor4",get_anchor4:"get_anchor4",set_anchor3:"set_anchor3",get_anchor3:"get_anchor3",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body4:"set_body4",get_body4:"get_body4",set_body3:"set_body3",get_body3:"get_body3",
set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.constraint.UserConstraint=function(a,b){null==b&&(b=!1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_UserConstraint(a,b);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this)};l["nape.constraint.UserConstraint"]=f.constraint.UserConstraint;f.constraint.UserConstraint.__name__=["nape","constraint","UserConstraint"];f.constraint.UserConstraint.__super__=
f.constraint.Constraint;f.constraint.UserConstraint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,__bindVec2:function(){var a=new f.geom.Vec2;a.zpp_inner._inuse=!0;a.zpp_inner._invalidate=(V=this.zpp_inner_zn,w(V,V.bindVec2_invalidate));return a},__copy:function(){return null},__broken:function(){},__validate:function(){},__draw:function(){},__prepare:function(){},__position:function(){},__velocity:function(){},__eff_mass:function(){},__clamp:function(){},__impulse:function(){},
impulse:function(){for(var a=new f.geom.MatMN(this.zpp_inner_zn.dim,1),b=0,c=this.zpp_inner_zn.dim;b<c;){var d=b++;a.zpp_inner.x[d*a.zpp_inner.n]=this.zpp_inner_zn.jAcc[d]}return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){for(var b=0,c=this.zpp_inner_zn.bodies.length;b<c;){var d=this.zpp_inner_zn.bodies[b];if(null!=d.body){for(var g=!1,i=b+1;i<c;){var e=i++;if(this.zpp_inner_zn.bodies[e].body==d.body){g=
!0;break}}g||a(d.body.outer)}b++}},__invalidate:function(){this.zpp_inner.immutable_midstep("UserConstraint::invalidate()");this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner.wake()},__registerBody:function(a,b){this.zpp_inner.immutable_midstep("UserConstraint::registerBody(..)");a!=b&&(null!=a&&(this.zpp_inner_zn.remBody(a.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&a.zpp_inner.wake()),
null!=b&&this.zpp_inner_zn.addBody(b.zpp_inner),this.zpp_inner.wake(),null!=b&&b.zpp_inner.wake());return b},__class__:f.constraint.UserConstraint});f.constraint.WeldJoint=function(a,b,c,j,g){null==g&&(g=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new d.constraint.ZPP_WeldJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;f.constraint.Constraint.call(this);this.set_body1(a);this.set_body2(b);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(c);
null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(j);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("WeldJoint::phase");this.zpp_inner_zn.phase!=g&&(this.zpp_inner_zn.phase=g,this.zpp_inner.wake());this.zpp_inner_zn.phase};l["nape.constraint.WeldJoint"]=f.constraint.WeldJoint;f.constraint.WeldJoint.__name__=
["nape","constraint","WeldJoint"];f.constraint.WeldJoint.__super__=f.constraint.Constraint;f.constraint.WeldJoint.prototype=z(f.constraint.Constraint.prototype,{zpp_inner_zn:null,get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=
this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),
null!=a&&a.wake();return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;if(a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),
this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)))this.zpp_inner.wake(),null!=a&&a.wake();return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==
this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();
this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_phase:function(){return this.zpp_inner_zn.phase},set_phase:function(a){this.zpp_inner.immutable_midstep("WeldJoint::phase");this.zpp_inner_zn.phase!=a&&(this.zpp_inner_zn.phase=a,this.zpp_inner.wake());return this.zpp_inner_zn.phase},impulse:function(){var a=new f.geom.MatMN(3,1);a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;
a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccz;return a},bodyImpulse:function(a){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):f.geom.Vec3.get()},visitBodies:function(a){if(null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);if(null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer))a(null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:f.constraint.WeldJoint,__properties__:z(f.constraint.Constraint.prototype.__properties__,{set_phase:"set_phase",get_phase:"get_phase",set_anchor2:"set_anchor2",get_anchor2:"get_anchor2",set_anchor1:"set_anchor1",get_anchor1:"get_anchor1",set_body2:"set_body2",get_body2:"get_body2",set_body1:"set_body1",get_body1:"get_body1"})});f.dynamics={};f.dynamics.Arbiter=function(){this.zpp_inner=null};l["nape.dynamics.Arbiter"]=f.dynamics.Arbiter;
f.dynamics.Arbiter.__name__=["nape","dynamics","Arbiter"];f.dynamics.Arbiter.prototype={zpp_inner:null,get_isSleeping:function(){return this.zpp_inner.sleeping},get_type:function(){return d.dynamics.ZPP_Arbiter.types[this.zpp_inner.type]},isCollisionArbiter:function(){return this.zpp_inner.type==d.dynamics.ZPP_Arbiter.COL},isFluidArbiter:function(){return this.zpp_inner.type==d.dynamics.ZPP_Arbiter.FLUID},isSensorArbiter:function(){return this.zpp_inner.type==d.dynamics.ZPP_Arbiter.SENSOR},get_collisionArbiter:function(){return this.zpp_inner.type==
d.dynamics.ZPP_Arbiter.COL?this.zpp_inner.colarb.outer_zn:null},get_fluidArbiter:function(){return this.zpp_inner.type==d.dynamics.ZPP_Arbiter.FLUID?this.zpp_inner.fluidarb.outer_zn:null},get_shape1:function(){return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer},get_shape2:function(){return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer},get_body1:function(){return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?
this.zpp_inner.b2.outer:this.zpp_inner.b1.outer},get_body2:function(){return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer},get_state:function(){var a=this.zpp_inner.immState;if(a==(d.util.ZPP_Flags.id_ImmState_ACCEPT|d.util.ZPP_Flags.id_ImmState_ALWAYS))return null==d.util.ZPP_Flags.PreFlag_ACCEPT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.PreFlag_ACCEPT;switch(a){case d.util.ZPP_Flags.id_ImmState_ACCEPT:return null==
d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;default:if(a==(d.util.ZPP_Flags.id_ImmState_IGNORE|d.util.ZPP_Flags.id_ImmState_ALWAYS))return null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.PreFlag_IGNORE;null==d.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.PreFlag_IGNORE_ONCE}},totalImpulse:function(){return f.geom.Vec3.get(0,0,0)},toString:function(){var a;a=this.zpp_inner.type==d.dynamics.ZPP_Arbiter.COL?"CollisionArbiter":this.zpp_inner.type==d.dynamics.ZPP_Arbiter.FLUID?"FluidArbiter":"SensorArbiter";return this.zpp_inner.cleared?a+"(object-pooled)":a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:
this.zpp_inner.ws1.outer).toString()+"|"+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+")"+(this.zpp_inner.type==d.dynamics.ZPP_Arbiter.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()},__class__:f.dynamics.Arbiter,__properties__:{get_state:"get_state",get_body2:"get_body2",get_body1:"get_body1",get_shape2:"get_shape2",get_shape1:"get_shape1",get_fluidArbiter:"get_fluidArbiter",get_collisionArbiter:"get_collisionArbiter",
get_type:"get_type",get_isSleeping:"get_isSleeping"}};f.dynamics.ArbiterIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.dynamics.ArbiterIterator"]=f.dynamics.ArbiterIterator;f.dynamics.ArbiterIterator.__name__=["nape","dynamics","ArbiterIterator"];f.dynamics.ArbiterIterator.get=function(a){var b;null==f.dynamics.ArbiterIterator.zpp_pool?(d.util.ZPP_ArbiterList.internal=!0,b=new f.dynamics.ArbiterIterator,d.util.ZPP_ArbiterList.internal=!1):(b=
f.dynamics.ArbiterIterator.zpp_pool,f.dynamics.ArbiterIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.dynamics.ArbiterIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.ArbiterIterator.zpp_pool;f.dynamics.ArbiterIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.ArbiterIterator};f.dynamics.ArbiterList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_ArbiterList;this.zpp_inner.outer=this};l["nape.dynamics.ArbiterList"]=f.dynamics.ArbiterList;f.dynamics.ArbiterList.__name__=["nape","dynamics","ArbiterList"];f.dynamics.ArbiterList.fromArray=function(a){for(var b=new f.dynamics.ArbiterList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.dynamics.ArbiterList.prototype={zpp_inner:null,
get_length:function(){return this.zpp_gl()},zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},has:function(a){this.zpp_vm();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-
a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){this.zpp_inner.modify_test();
this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();
this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();
this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){this.zpp_inner.modify_test();this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&
(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==this.zpp_gl()},iterator:function(){this.zpp_vm();return f.dynamics.ArbiterIterator.get(this)},copy:function(a){null==a&&(a=!1);for(var b=new f.dynamics.ArbiterList,c=this.iterator();c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||this.add(b)}},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){for(var b=this.iterator();b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);
c(d)}catch(g){b.zpp_next=f.dynamics.ArbiterIterator.zpp_pool;f.dynamics.ArbiterIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.zpp_gl();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.dynamics.ArbiterList,__properties__:{get_length:"get_length"}};f.dynamics.ArbiterType=function(){};l["nape.dynamics.ArbiterType"]=f.dynamics.ArbiterType;f.dynamics.ArbiterType.__name__=["nape","dynamics","ArbiterType"];f.dynamics.ArbiterType.__properties__=
{get_FLUID:"get_FLUID",get_SENSOR:"get_SENSOR",get_COLLISION:"get_COLLISION"};f.dynamics.ArbiterType.get_COLLISION=function(){null==d.util.ZPP_Flags.ArbiterType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ArbiterType_COLLISION};f.dynamics.ArbiterType.get_SENSOR=function(){null==d.util.ZPP_Flags.ArbiterType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,
d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ArbiterType_SENSOR};f.dynamics.ArbiterType.get_FLUID=function(){null==d.util.ZPP_Flags.ArbiterType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ArbiterType_FLUID};f.dynamics.ArbiterType.prototype={toString:function(){null==d.util.ZPP_Flags.ArbiterType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,
d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ArbiterType_COLLISION)return"COLLISION";null==d.util.ZPP_Flags.ArbiterType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ArbiterType_SENSOR)return"SENSOR";null==d.util.ZPP_Flags.ArbiterType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.ArbiterType_FLUID?
"FLUID":""},__class__:f.dynamics.ArbiterType};f.dynamics.CollisionArbiter=function(){f.dynamics.Arbiter.call(this)};l["nape.dynamics.CollisionArbiter"]=f.dynamics.CollisionArbiter;f.dynamics.CollisionArbiter.__name__=["nape","dynamics","CollisionArbiter"];f.dynamics.CollisionArbiter.__super__=f.dynamics.Arbiter;f.dynamics.CollisionArbiter.prototype=z(f.dynamics.Arbiter.prototype,{get_contacts:function(){null==this.zpp_inner.colarb.wrap_contacts&&this.zpp_inner.colarb.setupcontacts();return this.zpp_inner.colarb.wrap_contacts},
get_normal:function(){null==this.zpp_inner.colarb.wrap_normal&&this.zpp_inner.colarb.getnormal();return this.zpp_inner.colarb.wrap_normal},get_radius:function(){return this.zpp_inner.colarb.radius},get_referenceEdge1:function(){var a=this.zpp_inner.colarb.__ref_edge1;if(null!=a&&((this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).zpp_inner.type!=d.util.ZPP_Flags.id_ShapeType_POLYGON||(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:
this.zpp_inner.ws1.outer).zpp_inner!=a.polygon))a=this.zpp_inner.colarb.__ref_edge2;return null==a?null:a.wrapper()},get_referenceEdge2:function(){var a=this.zpp_inner.colarb.__ref_edge1;if(null!=a&&((this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).zpp_inner.type!=d.util.ZPP_Flags.id_ShapeType_POLYGON||(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).zpp_inner!=a.polygon))a=this.zpp_inner.colarb.__ref_edge2;
return null==a?null:a.wrapper()},firstVertex:function(){return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?-1==this.zpp_inner.colarb.__ref_vertex:!1},secondVertex:function(){return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?1==this.zpp_inner.colarb.__ref_vertex:!1},normalImpulse:function(a,b){null==b&&(b=!1);var c=0,d=0,g=0,i=this.zpp_inner.colarb;if(!b||i.oc1.fresh){var e=i.oc1.wrapper().normalImpulse(a);e.zpp_inner.validate();
c+=1*e.zpp_inner.x;e.zpp_inner.validate();d+=1*e.zpp_inner.y;e.zpp_inner.validate();g+=1*e.zpp_inner.z;e.dispose()}if(i.hc2&&(!b||i.oc2.fresh))i=i.oc2.wrapper().normalImpulse(a),i.zpp_inner.validate(),c+=1*i.zpp_inner.x,i.zpp_inner.validate(),d+=1*i.zpp_inner.y,i.zpp_inner.validate(),g+=1*i.zpp_inner.z,i.dispose();return f.geom.Vec3.get(c,d,g)},tangentImpulse:function(a,b){null==b&&(b=!1);var c=0,d=0,g=0,i=this.zpp_inner.colarb;if(!b||i.oc1.fresh){var e=i.oc1.wrapper().tangentImpulse(a);e.zpp_inner.validate();
c+=1*e.zpp_inner.x;e.zpp_inner.validate();d+=1*e.zpp_inner.y;e.zpp_inner.validate();g+=1*e.zpp_inner.z;e.dispose()}if(i.hc2&&(!b||i.oc2.fresh))i=i.oc2.wrapper().tangentImpulse(a),i.zpp_inner.validate(),c+=1*i.zpp_inner.x,i.zpp_inner.validate(),d+=1*i.zpp_inner.y,i.zpp_inner.validate(),g+=1*i.zpp_inner.z,i.dispose();return f.geom.Vec3.get(c,d,g)},totalImpulse:function(a,b){null==b&&(b=!1);var c=0,d=0,g=0,i=this.zpp_inner.colarb;if(!b||i.oc1.fresh){var e=i.oc1.wrapper().totalImpulse(a);e.zpp_inner.validate();
c+=1*e.zpp_inner.x;e.zpp_inner.validate();d+=1*e.zpp_inner.y;e.zpp_inner.validate();g+=1*e.zpp_inner.z;e.dispose()}if(i.hc2&&(!b||i.oc2.fresh))i=i.oc2.wrapper().totalImpulse(a),i.zpp_inner.validate(),c+=1*i.zpp_inner.x,i.zpp_inner.validate(),d+=1*i.zpp_inner.y,i.zpp_inner.validate(),g+=1*i.zpp_inner.z,i.dispose();return f.geom.Vec3.get(c,d,g)},rollingImpulse:function(a,b){null==b&&(b=!1);var c=this.zpp_inner.colarb;return!b||c.oc1.fresh?c.oc1.wrapper().rollingImpulse(a):0},get_elasticity:function(){var a=
this.zpp_inner.colarb;if(a.invalidated){a.invalidated=!1;if(!a.userdef_restitution&&(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution))a.restitution=1;a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction));
a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction));a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction))}return a.restitution},set_elasticity:function(a){var b=this.zpp_inner.colarb;b.restitution=a;b.userdef_restitution=!0;return this.get_elasticity()},get_dynamicFriction:function(){var a=this.zpp_inner.colarb;if(a.invalidated){a.invalidated=!1;if(!a.userdef_restitution&&(a.restitution=a.s1.material.elasticity<=
Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution))a.restitution=1;a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction));a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction));
a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction))}return a.dyn_fric},set_dynamicFriction:function(a){var b=this.zpp_inner.colarb;b.dyn_fric=a;b.userdef_dyn_fric=!0;return this.get_dynamicFriction()},get_staticFriction:function(){var a=this.zpp_inner.colarb;if(a.invalidated){a.invalidated=!1;if(!a.userdef_restitution&&(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=
Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution))a.restitution=1;a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction));a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction));a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction))}return a.stat_fric},
set_staticFriction:function(a){var b=this.zpp_inner.colarb;b.stat_fric=a;b.userdef_stat_fric=!0;return this.get_staticFriction()},get_rollingFriction:function(){var a=this.zpp_inner.colarb;if(a.invalidated){a.invalidated=!1;if(!a.userdef_restitution&&(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/
2,0>a.restitution&&(a.restitution=0),1<a.restitution))a.restitution=1;a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction));a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction));a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction))}return a.rfric},set_rollingFriction:function(a){var b=this.zpp_inner.colarb;b.rfric=a;b.userdef_rfric=!0;return this.get_rollingFriction()},
__class__:f.dynamics.CollisionArbiter,__properties__:z(f.dynamics.Arbiter.prototype.__properties__,{set_rollingFriction:"set_rollingFriction",get_rollingFriction:"get_rollingFriction",set_staticFriction:"set_staticFriction",get_staticFriction:"get_staticFriction",set_dynamicFriction:"set_dynamicFriction",get_dynamicFriction:"get_dynamicFriction",set_elasticity:"set_elasticity",get_elasticity:"get_elasticity",get_referenceEdge2:"get_referenceEdge2",get_referenceEdge1:"get_referenceEdge1",get_radius:"get_radius",
get_normal:"get_normal",get_contacts:"get_contacts"})});f.dynamics.Contact=function(){this.zpp_inner=null};l["nape.dynamics.Contact"]=f.dynamics.Contact;f.dynamics.Contact.__name__=["nape","dynamics","Contact"];f.dynamics.Contact.prototype={zpp_inner:null,get_arbiter:function(){return null==this.zpp_inner.arbiter?null:this.zpp_inner.arbiter.outer.get_collisionArbiter()},get_penetration:function(){return-this.zpp_inner.dist},get_position:function(){null==this.zpp_inner.wrap_position&&this.zpp_inner.getposition();
return this.zpp_inner.wrap_position},get_fresh:function(){return this.zpp_inner.fresh},normalImpulse:function(a){var b=this.zpp_inner.arbiter.colarb,c=this.zpp_inner.inner,d=c.jnAcc;return null==a?f.geom.Vec3.get(b.nx*d,b.ny*d):a==b.b1.outer?f.geom.Vec3.get(b.nx*-d,b.ny*-d,-(b.ny*c.r1x-b.nx*c.r1y)*d):f.geom.Vec3.get(b.nx*d,b.ny*d,(b.ny*c.r2x-b.nx*c.r2y)*d)},tangentImpulse:function(a){var b=this.zpp_inner.arbiter.colarb,c=this.zpp_inner.inner,d=c.jtAcc;return null==a?f.geom.Vec3.get(-b.ny*d,b.nx*d):
a==b.b1.outer?f.geom.Vec3.get(b.ny*d,-b.nx*d,-(c.r1x*b.nx+c.r1y*b.ny)*d):f.geom.Vec3.get(-b.ny*d,b.nx*d,(c.r2x*b.nx+c.r2y*b.ny)*d)},rollingImpulse:function(a){var b=this.zpp_inner.arbiter.colarb,c=this.zpp_inner.arbiter.colarb.jrAcc;return null==a?c:a==b.b1.outer?-c:c},totalImpulse:function(a){var b=this.zpp_inner.arbiter.colarb,c=this.zpp_inner.inner,d=c.jnAcc,g=c.jtAcc,i=b.jrAcc;if(null==a)return f.geom.Vec3.get(b.nx*d-b.ny*g,b.ny*d+b.nx*g,i);var e=b.nx*d-b.ny*g,d=b.ny*d+b.nx*g;return a==b.b1.outer?
f.geom.Vec3.get(-e,-d,-(d*c.r1x-e*c.r1y)-i):f.geom.Vec3.get(e,d,d*c.r2x-e*c.r2y+i)},get_friction:function(){return this.zpp_inner.inner.friction},toString:function(){return null==this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:f.dynamics.Contact,__properties__:{get_friction:"get_friction",get_fresh:"get_fresh",get_position:"get_position",get_penetration:"get_penetration",get_arbiter:"get_arbiter"}};f.dynamics.ContactIterator=function(){this.zpp_next=
null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.dynamics.ContactIterator"]=f.dynamics.ContactIterator;f.dynamics.ContactIterator.__name__=["nape","dynamics","ContactIterator"];f.dynamics.ContactIterator.get=function(a){var b;null==f.dynamics.ContactIterator.zpp_pool?(d.util.ZPP_ContactList.internal=!0,b=new f.dynamics.ContactIterator,d.util.ZPP_ContactList.internal=!1):(b=f.dynamics.ContactIterator.zpp_pool,f.dynamics.ContactIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=
a;b.zpp_critical=!1;return b};f.dynamics.ContactIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.ContactIterator.zpp_pool;f.dynamics.ContactIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.ContactIterator};f.dynamics.ContactList=
function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_ContactList;this.zpp_inner.outer=this};l["nape.dynamics.ContactList"]=f.dynamics.ContactList;f.dynamics.ContactList.__name__=["nape","dynamics","ContactList"];f.dynamics.ContactList.fromArray=function(a){for(var b=new f.dynamics.ContactList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.dynamics.ContactList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=
!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var b=
this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}return this.zpp_inner.at_ite.wrapper()},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=0==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?
this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=0==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=
this.zpp_inner.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.next:b.next,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();
return a.wrapper()},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.next:b.next,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.next,
b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.next;null!=c;){if(c==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;0!=this.get_length();)this.pop();else for(;0!=this.get_length();)this.shift()},empty:function(){return 0==this.get_length()},iterator:function(){this.zpp_inner.valmod();return f.dynamics.ContactIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.dynamics.ContactList,c;this.zpp_inner.valmod();for(c=f.dynamics.ContactIterator.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.dynamics.ContactIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.dynamics.ContactIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();
b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.dynamics.ContactIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.dynamics.ContactIterator.zpp_pool;f.dynamics.ContactIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.dynamics.ContactList,__properties__:{get_length:"get_length"}};
f.dynamics.FluidArbiter=function(){f.dynamics.Arbiter.call(this)};l["nape.dynamics.FluidArbiter"]=f.dynamics.FluidArbiter;f.dynamics.FluidArbiter.__name__=["nape","dynamics","FluidArbiter"];f.dynamics.FluidArbiter.__super__=f.dynamics.Arbiter;f.dynamics.FluidArbiter.prototype=z(f.dynamics.Arbiter.prototype,{get_position:function(){null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},set_position:function(a){null==this.zpp_inner.fluidarb.wrap_position&&
this.zpp_inner.fluidarb.getposition();this.zpp_inner.fluidarb.wrap_position.set(a);null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},get_overlap:function(){return this.zpp_inner.fluidarb.overlap},set_overlap:function(a){this.zpp_inner.fluidarb.overlap=a;return this.zpp_inner.fluidarb.overlap},buoyancyImpulse:function(a){var b=this.zpp_inner.fluidarb;return null==a?f.geom.Vec3.get(b.buoyx,b.buoyy,0):a.zpp_inner==this.zpp_inner.b2?
f.geom.Vec3.get(b.buoyx,b.buoyy,b.buoyy*b.r2x-b.buoyx*b.r2y):f.geom.Vec3.get(-b.buoyx,-b.buoyy,-(b.buoyy*b.r1x-b.buoyx*b.r1y))},dragImpulse:function(a){var b=this.zpp_inner.fluidarb,a=null==a||a.zpp_inner==this.zpp_inner.b2?1:-1;return f.geom.Vec3.get(b.dampx*a,b.dampy*a,b.adamp*a)},totalImpulse:function(a,b){null==b&&(b=!1);var c=this.buoyancyImpulse(a),d=this.dragImpulse(a);d.set_x(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this)+function(){c.zpp_inner.validate();return c.zpp_inner.x}(this));
d.set_y(function(){d.zpp_inner.validate();return d.zpp_inner.y}(this)+function(){c.zpp_inner.validate();return c.zpp_inner.y}(this));d.set_z(function(){d.zpp_inner.validate();return d.zpp_inner.z}(this)+function(){c.zpp_inner.validate();return c.zpp_inner.z}(this));c.dispose();return d},__class__:f.dynamics.FluidArbiter,__properties__:z(f.dynamics.Arbiter.prototype.__properties__,{set_overlap:"set_overlap",get_overlap:"get_overlap",set_position:"set_position",get_position:"get_position"})});f.dynamics.InteractionFilter=
function(a,b,c,j,g,i){null==i&&(i=-1);null==g&&(g=1);null==j&&(j=-1);null==c&&(c=1);null==b&&(b=-1);null==a&&(a=1);this.zpp_inner=null;null==d.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner=new d.dynamics.ZPP_InteractionFilter:(this.zpp_inner=d.dynamics.ZPP_InteractionFilter.zpp_pool,d.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;this.zpp_inner.collisionGroup!=a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());
this.zpp_inner.collisionGroup;this.zpp_inner.collisionMask!=b&&(this.zpp_inner.collisionMask=b,this.zpp_inner.invalidate());this.zpp_inner.collisionMask;this.zpp_inner.sensorGroup!=c&&(this.zpp_inner.sensorGroup=c,this.zpp_inner.invalidate());this.zpp_inner.sensorGroup;this.zpp_inner.sensorMask!=j&&(this.zpp_inner.sensorMask=j,this.zpp_inner.invalidate());this.zpp_inner.sensorMask;this.zpp_inner.fluidGroup!=g&&(this.zpp_inner.fluidGroup=g,this.zpp_inner.invalidate());this.zpp_inner.fluidGroup;this.zpp_inner.fluidMask!=
i&&(this.zpp_inner.fluidMask=i,this.zpp_inner.invalidate());this.zpp_inner.fluidMask};l["nape.dynamics.InteractionFilter"]=f.dynamics.InteractionFilter;f.dynamics.InteractionFilter.__name__=["nape","dynamics","InteractionFilter"];f.dynamics.InteractionFilter.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=d.util.ZPP_ShapeList.get(this.zpp_inner.shapes,
!0));return this.zpp_inner.wrap_shapes},get_collisionGroup:function(){return this.zpp_inner.collisionGroup},set_collisionGroup:function(a){this.zpp_inner.collisionGroup!=a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionGroup},get_collisionMask:function(){return this.zpp_inner.collisionMask},set_collisionMask:function(a){this.zpp_inner.collisionMask!=a&&(this.zpp_inner.collisionMask=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionMask},get_sensorGroup:function(){return this.zpp_inner.sensorGroup},
set_sensorGroup:function(a){this.zpp_inner.sensorGroup!=a&&(this.zpp_inner.sensorGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.sensorGroup},get_sensorMask:function(){return this.zpp_inner.sensorMask},set_sensorMask:function(a){this.zpp_inner.sensorMask!=a&&(this.zpp_inner.sensorMask=a,this.zpp_inner.invalidate());return this.zpp_inner.sensorMask},get_fluidGroup:function(){return this.zpp_inner.fluidGroup},set_fluidGroup:function(a){this.zpp_inner.fluidGroup!=a&&(this.zpp_inner.fluidGroup=
a,this.zpp_inner.invalidate());return this.zpp_inner.fluidGroup},get_fluidMask:function(){return this.zpp_inner.fluidMask},set_fluidMask:function(a){this.zpp_inner.fluidMask!=a&&(this.zpp_inner.fluidMask=a,this.zpp_inner.invalidate());return this.zpp_inner.fluidMask},shouldCollide:function(a){return this.zpp_inner.shouldCollide(a.zpp_inner)},shouldSense:function(a){return this.zpp_inner.shouldSense(a.zpp_inner)},shouldFlow:function(a){return this.zpp_inner.shouldFlow(a.zpp_inner)},copy:function(){return new f.dynamics.InteractionFilter(this.zpp_inner.collisionGroup,
this.zpp_inner.collisionMask,this.zpp_inner.sensorGroup,this.zpp_inner.sensorMask,this.zpp_inner.fluidGroup,this.zpp_inner.fluidMask)},toString:function(){return"{ collision: "+O.hex(this.zpp_inner.collisionGroup,8)+"~"+O.hex(this.zpp_inner.collisionMask,8)+" sensor: "+O.hex(this.zpp_inner.sensorGroup,8)+"~"+O.hex(this.zpp_inner.sensorMask,8)+" fluid: "+O.hex(this.zpp_inner.fluidGroup,8)+"~"+O.hex(this.zpp_inner.fluidMask,8)+" }"},__class__:f.dynamics.InteractionFilter,__properties__:{set_fluidMask:"set_fluidMask",
get_fluidMask:"get_fluidMask",set_fluidGroup:"set_fluidGroup",get_fluidGroup:"get_fluidGroup",set_sensorMask:"set_sensorMask",get_sensorMask:"get_sensorMask",set_sensorGroup:"set_sensorGroup",get_sensorGroup:"get_sensorGroup",set_collisionMask:"set_collisionMask",get_collisionMask:"get_collisionMask",set_collisionGroup:"set_collisionGroup",get_collisionGroup:"get_collisionGroup",get_shapes:"get_shapes",get_userData:"get_userData"}};f.dynamics.InteractionGroup=function(a){null==a&&(a=!1);this.zpp_inner=
null;this.zpp_inner=new d.dynamics.ZPP_InteractionGroup;this.zpp_inner.outer=this;this.zpp_inner.ignore!=a&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);this.zpp_inner.ignore};l["nape.dynamics.InteractionGroup"]=f.dynamics.InteractionGroup;f.dynamics.InteractionGroup.__name__=["nape","dynamics","InteractionGroup"];f.dynamics.InteractionGroup.prototype={zpp_inner:null,get_group:function(){return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},set_group:function(a){this.zpp_inner.setGroup(null==
a?null:a.zpp_inner);return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=a&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);return this.zpp_inner.ignore},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=d.util.ZPP_InteractorList.get(this.zpp_inner.interactors,!0));return this.zpp_inner.wrap_interactors},get_groups:function(){null==
this.zpp_inner.wrap_groups&&(this.zpp_inner.wrap_groups=d.util.ZPP_InteractionGroupList.get(this.zpp_inner.groups,!0));return this.zpp_inner.wrap_groups},toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:f.dynamics.InteractionGroup,__properties__:{get_groups:"get_groups",get_interactors:"get_interactors",set_ignore:"set_ignore",get_ignore:"get_ignore",set_group:"set_group",get_group:"get_group"}};f.dynamics.InteractionGroupIterator=function(){this.zpp_next=
null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.dynamics.InteractionGroupIterator"]=f.dynamics.InteractionGroupIterator;f.dynamics.InteractionGroupIterator.__name__=["nape","dynamics","InteractionGroupIterator"];f.dynamics.InteractionGroupIterator.get=function(a){var b;null==f.dynamics.InteractionGroupIterator.zpp_pool?(d.util.ZPP_InteractionGroupList.internal=!0,b=new f.dynamics.InteractionGroupIterator,d.util.ZPP_InteractionGroupList.internal=!1):(b=f.dynamics.InteractionGroupIterator.zpp_pool,
f.dynamics.InteractionGroupIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.dynamics.InteractionGroupIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.dynamics.InteractionGroupIterator.zpp_pool;f.dynamics.InteractionGroupIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.dynamics.InteractionGroupIterator};f.dynamics.InteractionGroupList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_InteractionGroupList;this.zpp_inner.outer=this};l["nape.dynamics.InteractionGroupList"]=f.dynamics.InteractionGroupList;f.dynamics.InteractionGroupList.__name__=["nape","dynamics","InteractionGroupList"];f.dynamics.InteractionGroupList.fromArray=function(a){for(var b=new f.dynamics.InteractionGroupList,c=0;c<a.length;){var d=
a[c];++c;b.push(d)}return b};f.dynamics.InteractionGroupList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||
this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=
null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||
this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=
this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.dynamics.InteractionGroupIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.dynamics.InteractionGroupList,c;this.zpp_inner.valmod();for(c=f.dynamics.InteractionGroupIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();
for(a=f.dynamics.InteractionGroupIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.dynamics.InteractionGroupIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.dynamics.InteractionGroupIterator.get(this);b.hasNext();)try{var c=
a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.dynamics.InteractionGroupIterator.zpp_pool;f.dynamics.InteractionGroupIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.dynamics.InteractionGroupList,__properties__:{get_length:"get_length"}};f.geom={};f.geom.AABB=function(a,b,c,j){null==j&&(j=0);null==c&&(c=0);null==b&&(b=
0);null==a&&(a=0);this.zpp_inner=null;this.zpp_inner=d.geom.ZPP_AABB.get(a,b,a+c,b+j);this.zpp_inner.outer=this};l["nape.geom.AABB"]=f.geom.AABB;f.geom.AABB.__name__=["nape","geom","AABB"];f.geom.AABB.fromRect=function(a){return new f.geom.AABB(a.x,a.y,a.width,a.height)};f.geom.AABB.prototype={zpp_inner:null,copy:function(){this.zpp_inner.validate();return this.zpp_inner.copy().wrapper()},toRect:function(){var a=e.geom.Rectangle;this.zpp_inner.validate();var b=this.zpp_inner.minx;this.zpp_inner.validate();
var c=this.zpp_inner.miny;this.zpp_inner.validate();var d=this.zpp_inner.width(),g;this.zpp_inner.validate();g=this.zpp_inner.height();return new a(b,c,d,g)},get_min:function(){return this.zpp_inner.getmin()},set_min:function(a){this.zpp_inner.getmin().set(a);return this.zpp_inner.getmin()},get_max:function(){return this.zpp_inner.getmax()},set_max:function(a){this.zpp_inner.getmax().set(a);return this.zpp_inner.getmax()},get_x:function(){this.zpp_inner.validate();return this.zpp_inner.minx},set_x:function(a){this.zpp_inner.validate();
this.zpp_inner.minx!=a&&(this.zpp_inner.maxx+=a-this.zpp_inner.minx,this.zpp_inner.minx=a,this.zpp_inner.invalidate());this.zpp_inner.validate();return this.zpp_inner.minx},get_y:function(){this.zpp_inner.validate();return this.zpp_inner.miny},set_y:function(a){this.zpp_inner.validate();this.zpp_inner.miny!=a&&(this.zpp_inner.maxy+=a-this.zpp_inner.miny,this.zpp_inner.miny=a,this.zpp_inner.invalidate());this.zpp_inner.validate();return this.zpp_inner.miny},get_width:function(){this.zpp_inner.validate();
return this.zpp_inner.width()},set_width:function(a){this.zpp_inner.validate();if(this.zpp_inner.width()!=a){var b=this.zpp_inner;this.zpp_inner.validate();b.maxx=this.zpp_inner.minx+a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.width()},get_height:function(){this.zpp_inner.validate();return this.zpp_inner.height()},set_height:function(a){this.zpp_inner.validate();if(this.zpp_inner.height()!=a){var b=this.zpp_inner;this.zpp_inner.validate();b.maxy=this.zpp_inner.miny+
a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.height()},toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:f.geom.AABB,__properties__:{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_max:"set_max",get_max:"get_max",set_min:"set_min",get_min:"get_min"}};f.geom.ConvexResult=function(){this.zpp_inner=null};l["nape.geom.ConvexResult"]=
f.geom.ConvexResult;f.geom.ConvexResult.__name__=["nape","geom","ConvexResult"];f.geom.ConvexResult.prototype={zpp_inner:null,get_normal:function(){return this.zpp_inner.normal},get_position:function(){return this.zpp_inner.position},get_toi:function(){return this.zpp_inner.toiDistance},get_shape:function(){return this.zpp_inner.shape},dispose:function(){this.zpp_inner.free()},toString:function(){return"{ shape: "+C.string(this.zpp_inner.shape)+" toi: "+this.zpp_inner.toiDistance+" }"},__class__:f.geom.ConvexResult,
__properties__:{get_shape:"get_shape",get_toi:"get_toi",get_position:"get_position",get_normal:"get_normal"}};f.geom.ConvexResultIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.geom.ConvexResultIterator"]=f.geom.ConvexResultIterator;f.geom.ConvexResultIterator.__name__=["nape","geom","ConvexResultIterator"];f.geom.ConvexResultIterator.get=function(a){var b;null==f.geom.ConvexResultIterator.zpp_pool?(d.util.ZPP_ConvexResultList.internal=!0,b=new f.geom.ConvexResultIterator,
d.util.ZPP_ConvexResultList.internal=!1):(b=f.geom.ConvexResultIterator.zpp_pool,f.geom.ConvexResultIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.ConvexResultIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.ConvexResultIterator.zpp_pool;f.geom.ConvexResultIterator.zpp_pool=this;
this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.ConvexResultIterator};f.geom.ConvexResultList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_ConvexResultList;this.zpp_inner.outer=this};l["nape.geom.ConvexResultList"]=f.geom.ConvexResultList;f.geom.ConvexResultList.__name__=["nape","geom","ConvexResultList"];f.geom.ConvexResultList.fromArray=function(a){for(var b=new f.geom.ConvexResultList,c=0;c<a.length;){var d=
a[c];++c;b.push(d)}return b};f.geom.ConvexResultList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-
1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=
this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&
(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):
this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==
this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.ConvexResultIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.geom.ConvexResultList,c;this.zpp_inner.valmod();for(c=f.geom.ConvexResultIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.geom.ConvexResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||
(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.geom.ConvexResultIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.geom.ConvexResultIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.geom.ConvexResultIterator.zpp_pool;
f.geom.ConvexResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.geom.ConvexResultList,__properties__:{get_length:"get_length"}};f.geom.Geom=function(){};l["nape.geom.Geom"]=f.geom.Geom;f.geom.Geom.__name__=["nape","geom","Geom"];f.geom.Geom.distanceBody=function(a,b,c,j){for(var g=a.zpp_inner.shapes.head;null!=g;)d.geom.ZPP_Geom.validateShape(g.elt),
g=g.next;for(g=b.zpp_inner.shapes.head;null!=g;)d.geom.ZPP_Geom.validateShape(g.elt),g=g.next;return d.geom.ZPP_SweepDistance.distanceBody(a.zpp_inner,b.zpp_inner,c.zpp_inner,j.zpp_inner)};f.geom.Geom.distance=function(a,b,c,j){d.geom.ZPP_Geom.validateShape(a.zpp_inner);d.geom.ZPP_Geom.validateShape(b.zpp_inner);var g;null==d.geom.ZPP_Vec2.zpp_pool?g=new d.geom.ZPP_Vec2:(g=d.geom.ZPP_Vec2.zpp_pool,d.geom.ZPP_Vec2.zpp_pool=g.next,g.next=null);g.weak=!1;a=d.geom.ZPP_SweepDistance.distance(a.zpp_inner,
b.zpp_inner,c.zpp_inner,j.zpp_inner,g,1E100);null!=g.outer&&(g.outer.zpp_inner=null,g.outer=null);g._isimmutable=null;g._validate=null;g._invalidate=null;g.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=g;return a};f.geom.Geom.intersectsBody=function(a,b){for(var c=a.zpp_inner.shapes.head;null!=c;)d.geom.ZPP_Geom.validateShape(c.elt),c=c.next;for(c=b.zpp_inner.shapes.head;null!=c;)d.geom.ZPP_Geom.validateShape(c.elt),c=c.next;if(a.zpp_inner.aabb.intersect(b.zpp_inner.aabb))for(c=a.zpp_inner.shapes.head;null!=
c;){for(var j=c.elt,g=b.zpp_inner.shapes.head;null!=g;){if(d.geom.ZPP_Collide.testCollide_safe(j,g.elt))return!0;g=g.next}c=c.next}return!1};f.geom.Geom.intersects=function(a,b){d.geom.ZPP_Geom.validateShape(a.zpp_inner);d.geom.ZPP_Geom.validateShape(b.zpp_inner);return a.zpp_inner.aabb.intersect(b.zpp_inner.aabb)&&d.geom.ZPP_Collide.testCollide_safe(a.zpp_inner,b.zpp_inner)};f.geom.Geom.contains=function(a,b){d.geom.ZPP_Geom.validateShape(a.zpp_inner);d.geom.ZPP_Geom.validateShape(b.zpp_inner);return d.geom.ZPP_Collide.containTest(a.zpp_inner,
b.zpp_inner)};f.geom.GeomPoly=function(a){this.zpp_pool=this.zpp_inner=null;this.zpp_inner=new d.geom.ZPP_GeomPoly(this);if(null!=a){if(a instanceof Array&&null==a.__enum__)for(var b=0;b<a.length;){var c=a[b];++b;var j=c,c=d.geom.ZPP_GeomVert.get(function(){j.zpp_inner.validate();return j.zpp_inner.x}(this),function(){j.zpp_inner.validate();return j.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=c.prev=c.next=c:(c.prev=this.zpp_inner.vertices,c.next=this.zpp_inner.vertices.next,
this.zpp_inner.vertices.next.prev=c,this.zpp_inner.vertices.next=c);this.zpp_inner.vertices=c}else if(D.Boot.__instanceof(a,f.geom.Vec2List))for(b=a.iterator();b.hasNext();){var g;b.zpp_critical=!1;g=b.zpp_inner.at(b.zpp_i++);c=d.geom.ZPP_GeomVert.get(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();return g.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=c.prev=c.next=c:(c.prev=this.zpp_inner.vertices,c.next=this.zpp_inner.vertices.next,
this.zpp_inner.vertices.next.prev=c,this.zpp_inner.vertices.next=c);this.zpp_inner.vertices=c}else if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(b=a.zpp_inner.vertices,null!=b)){c=b;do{var i=f.geom.Vec2.get(c.x,c.y,null),c=c.next,e=d.geom.ZPP_GeomVert.get(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=e.prev=e.next=e:(e.prev=this.zpp_inner.vertices,e.next=this.zpp_inner.vertices.next,
this.zpp_inner.vertices.next.prev=e,this.zpp_inner.vertices.next=e);this.zpp_inner.vertices=e;i.dispose()}while(c!=b)}this.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(b=0;b<a.length;)c=a[b],c.zpp_inner.weak?(e=void 0,c.dispose(),c=e=!0):c=!1,c?a.splice(b,1):b++;else if(D.Boot.__instanceof(a,f.geom.Vec2List)){null!=a.zpp_inner._validate&&a.zpp_inner._validate();a=a.zpp_inner.inner;b=null;for(c=a.head;null!=c;)e=c.elt,e.outer.zpp_inner.weak?(c=a.erase(b),e.outer.zpp_inner.weak?(e.outer.dispose(),
!0):!1):(b=c,c=c.next)}}};l["nape.geom.GeomPoly"]=f.geom.GeomPoly;f.geom.GeomPoly.__name__=["nape","geom","GeomPoly"];f.geom.GeomPoly.get=function(a){var b;null==d.util.ZPP_PubPool.poolGeomPoly?b=new f.geom.GeomPoly:(b=d.util.ZPP_PubPool.poolGeomPoly,d.util.ZPP_PubPool.poolGeomPoly=b.zpp_pool,b.zpp_pool=null);if(null!=a){if(a instanceof Array&&null==a.__enum__)for(var c=0;c<a.length;){var j=a[c];++c;var g=j,j=d.geom.ZPP_GeomVert.get(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();
return g.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=j.prev=j.next=j:(j.prev=b.zpp_inner.vertices,j.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=j,b.zpp_inner.vertices.next=j);b.zpp_inner.vertices=j}else if(D.Boot.__instanceof(a,f.geom.Vec2List))for(c=a.iterator();c.hasNext();){var i;c.zpp_critical=!1;i=c.zpp_inner.at(c.zpp_i++);j=d.geom.ZPP_GeomVert.get(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));
null==b.zpp_inner.vertices?b.zpp_inner.vertices=j.prev=j.next=j:(j.prev=b.zpp_inner.vertices,j.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=j,b.zpp_inner.vertices.next=j);b.zpp_inner.vertices=j}else if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(c=a.zpp_inner.vertices,null!=c)){j=c;do{var e=f.geom.Vec2.get(j.x,j.y,null),j=j.next,n=d.geom.ZPP_GeomVert.get(function(){e.zpp_inner.validate();return e.zpp_inner.x}(this),function(){e.zpp_inner.validate();return e.zpp_inner.y}(this));null==
b.zpp_inner.vertices?b.zpp_inner.vertices=n.prev=n.next=n:(n.prev=b.zpp_inner.vertices,n.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=n,b.zpp_inner.vertices.next=n);b.zpp_inner.vertices=n;e.dispose()}while(j!=c)}b.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(c=0;c<a.length;)j=a[c],j.zpp_inner.weak?(n=void 0,j.dispose(),j=n=!0):j=!1,j?a.splice(c,1):c++;else if(D.Boot.__instanceof(a,f.geom.Vec2List)){null!=a.zpp_inner._validate&&a.zpp_inner._validate();a=a.zpp_inner.inner;
c=null;for(j=a.head;null!=j;)n=j.elt,n.outer.zpp_inner.weak?(j=a.erase(c),n.outer.zpp_inner.weak?(n.outer.dispose(),!0):!1):(c=j,j=j.next)}}return b};f.geom.GeomPoly.prototype={zpp_pool:null,zpp_inner:null,empty:function(){return null==this.zpp_inner.vertices},size:function(){var a=0,b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do a++,b=b.next;while(b!=c)}return a},iterator:function(){return d.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!0)},forwardIterator:function(){return d.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,
!0)},backwardsIterator:function(){return d.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!1)},current:function(){return this.zpp_inner.vertices.wrapper()},push:function(a){var b=d.geom.ZPP_GeomVert.get(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=b.prev=b.next=b:(b.prev=this.zpp_inner.vertices,b.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=
b,this.zpp_inner.vertices.next=b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},pop:function(){var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;
this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=a;return this},unshift:function(a){var b=d.geom.ZPP_GeomVert.get(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=
b.prev=b.next=b:(b.next=this.zpp_inner.vertices,b.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=b,this.zpp_inner.vertices.prev=b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},shift:function(){var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.next;
this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=a;return this},skipForward:function(a){if(null!=this.zpp_inner.vertices)if(0<a)for(;0<a--;)this.zpp_inner.vertices=
this.zpp_inner.vertices.next;else if(0>a)for(;0>a++;)this.zpp_inner.vertices=this.zpp_inner.vertices.prev;return this},skipBackwards:function(a){return this.skipForward(-a)},erase:function(a){for(;0!=a&&null!=this.zpp_inner.vertices;){var b=this.zpp_inner.vertices;if(0<a){if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var c=this.zpp_inner.vertices.next;
this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=c}a--}else 0>a&&(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(c=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=
this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,this.zpp_inner.vertices=c),a++);null!=b.wrap&&(b.wrap.zpp_inner._inuse=!1,b.wrap.dispose(),b.wrap=null);b.prev=b.next=null;b.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=b}return this},clear:function(){for(;null!=this.zpp_inner.vertices;){var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&
this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),
a.wrap=null);a.prev=a.next=null;a.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=a}return this},copy:function(){var a=f.geom.GeomPoly.get(),b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var j=b,j=d.geom.ZPP_GeomVert.get(j.x,j.y);null==a.zpp_inner.vertices?a.zpp_inner.vertices=j.prev=j.next=j:(j.prev=a.zpp_inner.vertices,j.next=a.zpp_inner.vertices.next,a.zpp_inner.vertices.next.prev=j,a.zpp_inner.vertices.next=j);a.zpp_inner.vertices=j;b=b.next}while(b!=c)}return a.skipForward(1)},
dispose:function(){this.clear();this.zpp_pool=d.util.ZPP_PubPool.poolGeomPoly;d.util.ZPP_PubPool.poolGeomPoly=this},toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d!=this.zpp_inner.vertices&&(a+=",");a+="{"+d.x+","+d.y+"}";b=b.next}while(b!=c)}return a+"]"},area:function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return 0;var a;a=0;var b=this.zpp_inner.vertices,
c=this.zpp_inner.vertices;if(null!=b){do{var d=b;a+=d.x*(d.next.y-d.prev.y);b=b.next}while(b!=c)}a*=0.5;return 0>a?-a:a},winding:function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return null==d.util.ZPP_Flags.Winding_UNDEFINED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.Winding_UNDEFINED;var a;a=0;var b=this.zpp_inner.vertices,
c=this.zpp_inner.vertices;if(null!=b){do{var j=b;a+=j.x*(j.next.y-j.prev.y);b=b.next}while(b!=c)}a*=0.5;if(0<a)return null==d.util.ZPP_Flags.Winding_CLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.Winding_CLOCKWISE;if(0==a)return null==d.util.ZPP_Flags.Winding_UNDEFINED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.Winding_UNDEFINED;
null==d.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Winding_ANTICLOCKWISE},contains:function(a){var b;a.zpp_inner.validate();b=a.zpp_inner.x;var c;a.zpp_inner.validate();c=a.zpp_inner.y;var d=!1,g=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=g){do{var e=g,f=e.prev;if((e.y<c&&f.y>=c||f.y<c&&e.y>=c)&&(e.x<=b||f.x<=b))e.x+(c-e.y)/(f.y-e.y)*(f.x-e.x)<b&&
(d=!d);g=g.next}while(g!=i)}b=d;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},isClockwise:function(){var a=this.winding();null==d.util.ZPP_Flags.Winding_CLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);return a==d.util.ZPP_Flags.Winding_CLOCKWISE},isConvex:function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return!0;var a=!1,b=!1,c=!0,
d=this.zpp_inner.vertices,g=this.zpp_inner.vertices;if(null!=d){do{var i=d,e=i.prev,f=i.next,o=0,h=0,o=f.x-i.x,h=f.y-i.y,x=f=0,f=i.x-e.x,x=i.y-e.y,i=x*o-f*h;0<i?b=!0:0>i&&(a=!0);if(b&&a){c=!1;break}d=d.next}while(d!=g)}return c},isSimple:function(){return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:d.geom.ZPP_Simple.isSimple(this.zpp_inner.vertices)},isMonotone:function(){return null==this.zpp_inner.vertices||null==
this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:d.geom.ZPP_Monotone.isMonotone(this.zpp_inner.vertices)},isDegenerate:function(){return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:this.area()<f.Config.epsilon},simplify:function(a){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return this.copy();
var a=d.geom.ZPP_Simplify.simplify(this.zpp_inner.vertices,a),b=f.geom.GeomPoly.get();b.zpp_inner.vertices=a;return b},simpleDecomposition:function(a){for(var b=d.geom.ZPP_Simple.decompose(this.zpp_inner.vertices,function(){null==d.geom.ZPP_PartitionedPoly.sharedGVList&&(d.geom.ZPP_PartitionedPoly.sharedGVList=new d.util.ZNPList_ZPP_GeomVert);return d.geom.ZPP_PartitionedPoly.sharedGVList}(this)),a=null==a?new f.geom.GeomPolyList:a;null!=b.head;){var c=b.pop_unsafe(),j=f.geom.GeomPoly.get();j.zpp_inner.vertices=
c;a.zpp_inner.reverse_flag?a.push(j):a.unshift(j)}return a},monotoneDecomposition:function(a){for(var b=d.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(){null==d.geom.ZPP_Monotone.sharedPPoly&&(d.geom.ZPP_Monotone.sharedPPoly=new d.geom.ZPP_PartitionedPoly);return d.geom.ZPP_Monotone.sharedPPoly}(this)).extract(function(){null==d.geom.ZPP_PartitionedPoly.sharedGVList&&(d.geom.ZPP_PartitionedPoly.sharedGVList=new d.util.ZNPList_ZPP_GeomVert);return d.geom.ZPP_PartitionedPoly.sharedGVList}(this)),
a=null==a?new f.geom.GeomPolyList:a;null!=b.head;){var c=b.pop_unsafe(),j=f.geom.GeomPoly.get();j.zpp_inner.vertices=c;a.zpp_inner.reverse_flag?a.push(j):a.unshift(j)}return a},convexDecomposition:function(a,b){null==a&&(a=!1);var c=d.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(){null==d.geom.ZPP_Monotone.sharedPPoly&&(d.geom.ZPP_Monotone.sharedPPoly=new d.geom.ZPP_PartitionedPoly);return d.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(){null==d.geom.ZPP_PartitionedPoly.sharedPPList&&
(d.geom.ZPP_PartitionedPoly.sharedPPList=new d.util.ZNPList_ZPP_PartitionedPoly);return d.geom.ZPP_PartitionedPoly.sharedPPList}(this)),j;for(j=null==b?new f.geom.GeomPolyList:b;null!=c.head;){var g=c.pop_unsafe();d.geom.ZPP_Triangular.triangulate(g);a&&d.geom.ZPP_Triangular.optimise(g);d.geom.ZPP_Convex.optimise(g);var i=g.extract(function(){null==d.geom.ZPP_PartitionedPoly.sharedGVList&&(d.geom.ZPP_PartitionedPoly.sharedGVList=new d.util.ZNPList_ZPP_GeomVert);return d.geom.ZPP_PartitionedPoly.sharedGVList}(this));
g.next=d.geom.ZPP_PartitionedPoly.zpp_pool;for(d.geom.ZPP_PartitionedPoly.zpp_pool=g;null!=i.head;){var g=i.pop_unsafe(),e=f.geom.GeomPoly.get();e.zpp_inner.vertices=g;j.zpp_inner.reverse_flag?j.push(e):j.unshift(e)}}return j},triangularDecomposition:function(a,b){null==a&&(a=!1);var c=d.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(){null==d.geom.ZPP_Monotone.sharedPPoly&&(d.geom.ZPP_Monotone.sharedPPoly=new d.geom.ZPP_PartitionedPoly);return d.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(){null==
d.geom.ZPP_PartitionedPoly.sharedPPList&&(d.geom.ZPP_PartitionedPoly.sharedPPList=new d.util.ZNPList_ZPP_PartitionedPoly);return d.geom.ZPP_PartitionedPoly.sharedPPList}(this)),j;for(j=null==b?new f.geom.GeomPolyList:b;null!=c.head;){var g=c.pop_unsafe();d.geom.ZPP_Triangular.triangulate(g);a&&d.geom.ZPP_Triangular.optimise(g);var i=g.extract(function(){null==d.geom.ZPP_PartitionedPoly.sharedGVList&&(d.geom.ZPP_PartitionedPoly.sharedGVList=new d.util.ZNPList_ZPP_GeomVert);return d.geom.ZPP_PartitionedPoly.sharedGVList}(this));
g.next=d.geom.ZPP_PartitionedPoly.zpp_pool;for(d.geom.ZPP_PartitionedPoly.zpp_pool=g;null!=i.head;){var g=i.pop_unsafe(),e=f.geom.GeomPoly.get();e.zpp_inner.vertices=g;j.zpp_inner.reverse_flag?j.push(e):j.unshift(e)}}return j},inflate:function(a){var b=f.geom.GeomPoly.get(),c=this.winding();null==d.util.ZPP_Flags.Winding_CLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);c==d.util.ZPP_Flags.Winding_CLOCKWISE&&(a=-a);var j=this.zpp_inner.vertices,
c=this.zpp_inner.vertices;if(null!=j){do{var g=j,i=g.prev,e=g.next,n=0,o=0,h=0,x=0,n=g.x-i.x,o=g.y-i.y,h=e.x-g.x,x=e.y-g.y,T=e=i=0,k=0,i=n,e=o,T=1/Math.sqrt(i*i+e*e),i=i*T,e=e*T,T=i,i=-e,e=T,T=a,i=i*T,e=e*T,T=h,k=x,l=1/Math.sqrt(T*T+k*k),T=T*l,k=k*l,l=T,T=-k,k=l,l=a,T=T*l,k=k*l,s=l=0,l=T-i,s=k-e,T=x*l-h*s,T=0==T?0:T/(x*n-h*o),x=h=0,h=g.x+i,x=g.y+e,g=T,h=h+n*g,x=x+o*g;b.push(f.geom.Vec2.get(h,x,null));j=j.next}while(j!=c)}return b.skipForward(1)},cut:function(a,b,c,j,g){null==j&&(j=!1);null==c&&(c=
!1);c=d.geom.ZPP_Cutter.run(this.zpp_inner.vertices,a,b,c,j,g);a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return c},transform:function(a){var b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var d=b,g=a.zpp_inner.a*d.x+a.zpp_inner.b*d.y+a.zpp_inner.tx;d.y=a.zpp_inner.c*d.x+a.zpp_inner.d*d.y+a.zpp_inner.ty;d.x=g;b=b.next}while(b!=c)}return this},bounds:function(){var a=1E100,b=1E100,c=-1E100,d=-1E100,g=this.zpp_inner.vertices,i=this.zpp_inner.vertices;
if(null!=g){do{var e=g;e.x<a&&(a=e.x);e.y<b&&(b=e.y);e.x>c&&(c=e.x);e.y>d&&(d=e.y);g=g.next}while(g!=i)}return new f.geom.AABB(a,b,c-a,d-b)},top:function(){var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d.y<a.y&&(a=d);b=b.next}while(b!=c)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=w(a,a.modwrap),a.wrap.zpp_inner._validate=w(a,a.getwrap));return a.wrap},bottom:function(){var a=
this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d.y>a.y&&(a=d);b=b.next}while(b!=c)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=w(a,a.modwrap),a.wrap.zpp_inner._validate=w(a,a.getwrap));return a.wrap},left:function(){var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d.x<a.x&&(a=d);b=b.next}while(b!=c)}null==a.wrap&&(a.wrap=
f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=w(a,a.modwrap),a.wrap.zpp_inner._validate=w(a,a.getwrap));return a.wrap},right:function(){var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d.x>a.x&&(a=d);b=b.next}while(b!=c)}null==a.wrap&&(a.wrap=f.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=w(a,a.modwrap),a.wrap.zpp_inner._validate=w(a,a.getwrap));return a.wrap},
__class__:f.geom.GeomPoly};f.geom.GeomPolyIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.geom.GeomPolyIterator"]=f.geom.GeomPolyIterator;f.geom.GeomPolyIterator.__name__=["nape","geom","GeomPolyIterator"];f.geom.GeomPolyIterator.get=function(a){var b;null==f.geom.GeomPolyIterator.zpp_pool?(d.util.ZPP_GeomPolyList.internal=!0,b=new f.geom.GeomPolyIterator,d.util.ZPP_GeomPolyList.internal=!1):(b=f.geom.GeomPolyIterator.zpp_pool,f.geom.GeomPolyIterator.zpp_pool=
b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.GeomPolyIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.GeomPolyIterator.zpp_pool;f.geom.GeomPolyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.GeomPolyIterator};
f.geom.GeomPolyList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_GeomPolyList;this.zpp_inner.outer=this};l["nape.geom.GeomPolyList"]=f.geom.GeomPolyList;f.geom.GeomPolyList.__name__=["nape","geom","GeomPolyList"];f.geom.GeomPolyList.fromArray=function(a){for(var b=new f.geom.GeomPolyList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.geom.GeomPolyList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=
!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=
this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):
this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=
1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);
var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.GeomPolyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.geom.GeomPolyList,c;this.zpp_inner.valmod();for(c=f.geom.GeomPolyIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.geom.GeomPolyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);
this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.geom.GeomPolyIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.geom.GeomPolyIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=
f.geom.GeomPolyIterator.zpp_pool;f.geom.GeomPolyIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.geom.GeomPolyList,__properties__:{get_length:"get_length"}};f.geom.GeomVertexIterator=function(){};l["nape.geom.GeomVertexIterator"]=f.geom.GeomVertexIterator;f.geom.GeomVertexIterator.__name__=["nape","geom","GeomVertexIterator"];f.geom.GeomVertexIterator.prototype=
{zpp_inner:null,hasNext:function(){var a=this.zpp_inner.ptr!=this.zpp_inner.start||this.zpp_inner.first;this.zpp_inner.first=!1;if(!a){var b=this.zpp_inner;b.outer.zpp_inner=null;b.ptr=b.start=null;b.next=d.geom.ZPP_GeomVertexIterator.zpp_pool;d.geom.ZPP_GeomVertexIterator.zpp_pool=b}return a},next:function(){var a=this.zpp_inner.ptr.wrapper();this.zpp_inner.ptr=this.zpp_inner.forward?this.zpp_inner.ptr.next:this.zpp_inner.ptr.prev;return a},__class__:f.geom.GeomVertexIterator};f.geom.MarchingSquares=
function(){};l["nape.geom.MarchingSquares"]=f.geom.MarchingSquares;f.geom.MarchingSquares.__name__=["nape","geom","MarchingSquares"];f.geom.MarchingSquares.run=function(a,b,c,j,g,i,e){null==i&&(i=!0);null==j&&(j=2);e=null!=e?e:new f.geom.GeomPolyList;if(null==g)d.geom.ZPP_MarchingSquares.run(a,function(){b.zpp_inner.validate();return b.zpp_inner.minx}(this),function(){b.zpp_inner.validate();return b.zpp_inner.miny}(this),b.zpp_inner.getmax().get_x(),b.zpp_inner.getmax().get_y(),c,j,i,e);else{var n;
b.zpp_inner.validate();var o=b.zpp_inner.width();g.zpp_inner.validate();n=o/g.zpp_inner.x;var h;b.zpp_inner.validate();o=b.zpp_inner.height();g.zpp_inner.validate();h=o/g.zpp_inner.y;var o=n|0,x=h|0;o!=n&&o++;x!=h&&x++;for(n=0;n<o;){var T=n++;h=void 0;b.zpp_inner.validate();h=b.zpp_inner.minx;var k=void 0;g.zpp_inner.validate();k=g.zpp_inner.x;h+=k*T;T==o-1?T=b.zpp_inner.getmax().get_x():(T=h,k=void 0,g.zpp_inner.validate(),k=g.zpp_inner.x,T+=k);for(k=0;k<x;){var l=k++,s;s=void 0;b.zpp_inner.validate();
s=b.zpp_inner.miny;var m=void 0;g.zpp_inner.validate();m=g.zpp_inner.y;s+=m*l;l==x-1?l=b.zpp_inner.getmax().get_y():(l=s,m=void 0,g.zpp_inner.validate(),m=g.zpp_inner.y,l+=m);d.geom.ZPP_MarchingSquares.run(a,h,s,T,l,c,j,i,e)}}}c.zpp_inner.weak?(c.dispose(),!0):!1;null!=g&&(g.zpp_inner.weak?(g.dispose(),!0):!1);return e};f.geom.Mat23=function(a,b,c,j,g,i){null==i&&(i=0);null==g&&(g=0);null==j&&(j=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.zpp_inner=null;this.zpp_inner=d.geom.ZPP_Mat23.get();
this.zpp_inner.outer=this;this.zpp_inner.a=a;this.zpp_inner.invalidate();this.zpp_inner.a;this.zpp_inner.b=b;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.tx=g;this.zpp_inner.invalidate();this.zpp_inner.tx;this.zpp_inner.c=c;this.zpp_inner.invalidate();this.zpp_inner.c;this.zpp_inner.d=j;this.zpp_inner.invalidate();this.zpp_inner.d;this.zpp_inner.ty=i;this.zpp_inner.invalidate();this.zpp_inner.ty};l["nape.geom.Mat23"]=f.geom.Mat23;f.geom.Mat23.__name__=["nape","geom","Mat23"];f.geom.Mat23.fromMatrix=
function(a){return new f.geom.Mat23(a.a,a.c,a.b,a.d,a.tx,a.ty)};f.geom.Mat23.rotation=function(a){var b=Math.cos(a),a=Math.sin(a);return new f.geom.Mat23(b,-a,a,b,0,0)};f.geom.Mat23.translation=function(a,b){return new f.geom.Mat23(1,0,0,1,a,b)};f.geom.Mat23.scale=function(a,b){return new f.geom.Mat23(a,0,0,b,0,0)};f.geom.Mat23.prototype={zpp_inner:null,get_a:function(){return this.zpp_inner.a},set_a:function(a){this.zpp_inner.a=a;this.zpp_inner.invalidate();return this.zpp_inner.a},get_b:function(){return this.zpp_inner.b},
set_b:function(a){this.zpp_inner.b=a;this.zpp_inner.invalidate();return this.zpp_inner.b},get_c:function(){return this.zpp_inner.c},set_c:function(a){this.zpp_inner.c=a;this.zpp_inner.invalidate();return this.zpp_inner.c},get_d:function(){return this.zpp_inner.d},set_d:function(a){this.zpp_inner.d=a;this.zpp_inner.invalidate();return this.zpp_inner.d},get_tx:function(){return this.zpp_inner.tx},set_tx:function(a){this.zpp_inner.tx=a;this.zpp_inner.invalidate();return this.zpp_inner.tx},get_ty:function(){return this.zpp_inner.ty},
set_ty:function(a){this.zpp_inner.ty=a;this.zpp_inner.invalidate();return this.zpp_inner.ty},copy:function(){return new f.geom.Mat23(this.zpp_inner.a,this.zpp_inner.b,this.zpp_inner.c,this.zpp_inner.d,this.zpp_inner.tx,this.zpp_inner.ty)},set:function(a){this.zpp_inner.set(a.zpp_inner);this.zpp_inner.invalidate();return this},setAs:function(a,b,c,d,g,i){null==i&&(i=0);null==g&&(g=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.zpp_inner.setas(a,b,c,d,g,i);this.zpp_inner.invalidate();
return this},reset:function(){return this.setAs()},toMatrix:function(a){null==a&&(a=new e.geom.Matrix);a.a=this.zpp_inner.a;a.b=this.zpp_inner.c;a.c=this.zpp_inner.b;a.d=this.zpp_inner.d;a.tx=this.zpp_inner.tx;a.ty=this.zpp_inner.ty;return a},get_determinant:function(){return this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c},singular:function(){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d,
b=this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c;0>b&&(b=-b);return a>f.Config.illConditionedThreshold*b},inverse:function(){var a=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);return new f.geom.Mat23(this.zpp_inner.d*a,-this.zpp_inner.b*a,-this.zpp_inner.c*a,this.zpp_inner.a*a,(this.zpp_inner.b*this.zpp_inner.ty-this.zpp_inner.d*this.zpp_inner.tx)*a,(this.zpp_inner.c*this.zpp_inner.tx-this.zpp_inner.a*this.zpp_inner.ty)*a)},transpose:function(){return new f.geom.Mat23(this.zpp_inner.a,
this.zpp_inner.c,this.zpp_inner.b,this.zpp_inner.d,-this.zpp_inner.a*this.zpp_inner.tx-this.zpp_inner.c*this.zpp_inner.ty,-this.zpp_inner.b*this.zpp_inner.tx-this.zpp_inner.d*this.zpp_inner.ty)},concat:function(a){return new f.geom.Mat23(a.zpp_inner.a*this.zpp_inner.a+a.zpp_inner.b*this.zpp_inner.c,a.zpp_inner.a*this.zpp_inner.b+a.zpp_inner.b*this.zpp_inner.d,a.zpp_inner.c*this.zpp_inner.a+a.zpp_inner.d*this.zpp_inner.c,a.zpp_inner.c*this.zpp_inner.b+a.zpp_inner.d*this.zpp_inner.d,a.zpp_inner.a*this.zpp_inner.tx+
a.zpp_inner.b*this.zpp_inner.ty+a.zpp_inner.tx,a.zpp_inner.c*this.zpp_inner.tx+a.zpp_inner.d*this.zpp_inner.ty+a.zpp_inner.ty)},transform:function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);b=b?f.geom.Vec2.get(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.a+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b,function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*
this.zpp_inner.d,c):f.geom.Vec2.get(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.a+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b+this.zpp_inner.tx,function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.d+this.zpp_inner.ty,c);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},inverseTransform:function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);
var d=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);if(b)c=f.geom.Vec2.get((function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.d-function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b)*d,(function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.a-function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c)*d,c);else{a.zpp_inner.validate();var b=a.zpp_inner.x-this.zpp_inner.tx,g;a.zpp_inner.validate();
g=a.zpp_inner.y-this.zpp_inner.ty;c=f.geom.Vec2.get((b*this.zpp_inner.d-g*this.zpp_inner.b)*d,(g*this.zpp_inner.a-b*this.zpp_inner.c)*d,c)}a.zpp_inner.weak?(a.dispose(),!0):!1;return c},toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},equiorthogonal:function(){if(this.singular())return!1;var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;return a*
a<f.Config.epsilon?(a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-this.zpp_inner.c*this.zpp_inner.c-this.zpp_inner.d*this.zpp_inner.d,a*a<f.Config.epsilon):!1},orthogonal:function(){var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;if(a*a<f.Config.epsilon){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-1,b=this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d-1;return a*a<f.Config.epsilon&&b*b<f.Config.epsilon}return!1},
equiorthogonalise:function(){if(!this.equiorthogonal()){var a=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d),c=(a+b)/2,a=c/a,b=c/b;this.zpp_inner.a*=a;this.zpp_inner.invalidate();this.zpp_inner.a;this.zpp_inner.c*=a;this.zpp_inner.invalidate();this.zpp_inner.c;this.zpp_inner.b*=b;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.d*=b;this.zpp_inner.invalidate();this.zpp_inner.d;
b=0.25*Math.PI-0.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/(c*c));0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),c=this.zpp_inner.a*b-this.zpp_inner.c*a,d=this.zpp_inner.b*b+this.zpp_inner.d*a;this.zpp_inner.c=this.zpp_inner.c*b+this.zpp_inner.a*a;this.zpp_inner.invalidate();this.zpp_inner.c;this.zpp_inner.a=c;this.zpp_inner.invalidate();this.zpp_inner.a;this.zpp_inner.d=this.zpp_inner.d*b-this.zpp_inner.b*
a;this.zpp_inner.invalidate();this.zpp_inner.d;this.zpp_inner.b=d;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.invalidate()}return this},orthogonalise:function(){if(!this.orthogonal()){var a=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d),a=1/a,b=1/b;this.zpp_inner.a*=a;this.zpp_inner.invalidate();this.zpp_inner.a;this.zpp_inner.c*=a;this.zpp_inner.invalidate();this.zpp_inner.c;
this.zpp_inner.b*=b;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.d*=b;this.zpp_inner.invalidate();this.zpp_inner.d;b=0.25*Math.PI-0.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/1);0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),c=this.zpp_inner.a*b-this.zpp_inner.c*a,d=this.zpp_inner.b*b+this.zpp_inner.d*a;this.zpp_inner.c=this.zpp_inner.c*b+this.zpp_inner.a*a;this.zpp_inner.invalidate();
this.zpp_inner.c;this.zpp_inner.a=c;this.zpp_inner.invalidate();this.zpp_inner.a;this.zpp_inner.d=this.zpp_inner.d*b-this.zpp_inner.b*a;this.zpp_inner.invalidate();this.zpp_inner.d;this.zpp_inner.b=d;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.invalidate()}return this},__class__:f.geom.Mat23,__properties__:{get_determinant:"get_determinant",set_ty:"set_ty",get_ty:"get_ty",set_tx:"set_tx",get_tx:"get_tx",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",
set_a:"set_a",get_a:"get_a"}};f.geom.MatMN=function(a,b){this.zpp_inner=null;this.zpp_inner=new d.geom.ZPP_MatMN(a,b);this.zpp_inner.outer=this};l["nape.geom.MatMN"]=f.geom.MatMN;f.geom.MatMN.__name__=["nape","geom","MatMN"];f.geom.MatMN.prototype={zpp_inner:null,get_rows:function(){return this.zpp_inner.m},get_cols:function(){return this.zpp_inner.n},x:function(a,b){return this.zpp_inner.x[a*this.zpp_inner.n+b]},setx:function(a,b,c){return this.zpp_inner.x[a*this.zpp_inner.n+b]=c},toString:function(){for(var a=
"{ ",b=!0,c=0,d=this.zpp_inner.m;c<d;){var g=c++;b||(a+="; ");for(var b=!1,i=0,e=this.zpp_inner.n;i<e;)var f=i++,a=a+(this.zpp_inner.x[g*this.zpp_inner.n+f]+" ")}return a+"}"},transpose:function(){for(var a=new f.geom.MatMN(this.zpp_inner.n,this.zpp_inner.m),b=0,c=this.zpp_inner.m;b<c;)for(var d=b++,g=0,i=this.zpp_inner.n;g<i;){var e=g++;a.zpp_inner.x[e*a.zpp_inner.n+d]=this.zpp_inner.x[d*this.zpp_inner.n+e]}return a},mul:function(a){for(var b=new f.geom.MatMN(this.zpp_inner.m,a.zpp_inner.n),c=0,
d=this.zpp_inner.m;c<d;)for(var g=c++,i=0,e=a.zpp_inner.n;i<e;){for(var n=i++,o=0,h=0,x=this.zpp_inner.n;h<x;)var T=h++,o=o+this.zpp_inner.x[g*this.zpp_inner.n+T]*a.zpp_inner.x[T*a.zpp_inner.n+n];b.zpp_inner.x[g*b.zpp_inner.n+n]=o}return b},__class__:f.geom.MatMN,__properties__:{get_cols:"get_cols",get_rows:"get_rows"}};f.geom.Ray=function(a,b){this.zpp_inner=null;this.zpp_inner=new d.geom.ZPP_Ray;this.zpp_inner.origin.set(a);this.zpp_inner.origin;this.zpp_inner.direction.set(b);this.zpp_inner.zip_dir=
!0;this.zpp_inner.direction;this.zpp_inner.maxdist=Math.POSITIVE_INFINITY};l["nape.geom.Ray"]=f.geom.Ray;f.geom.Ray.__name__=["nape","geom","Ray"];f.geom.Ray.fromSegment=function(a,b){var c=b.sub(a,!0),c=new f.geom.Ray(a,c);c.set_maxDistance(Math.sqrt(d.geom.ZPP_VecMath.vec_dsq(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();return b.zpp_inner.y}(this))));
a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return c};f.geom.Ray.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_origin:function(){return this.zpp_inner.origin},set_origin:function(a){this.zpp_inner.origin.set(a);return this.zpp_inner.origin},get_direction:function(){return this.zpp_inner.direction},set_direction:function(a){this.zpp_inner.direction.set(a);this.zpp_inner.zip_dir=
!0;return this.zpp_inner.direction},get_maxDistance:function(){return this.zpp_inner.maxdist},set_maxDistance:function(a){this.zpp_inner.maxdist=a;return this.zpp_inner.maxdist},aabb:function(){return this.zpp_inner.rayAABB().wrapper()},at:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_dir();return f.geom.Vec2.get(this.zpp_inner.origin.get_x()+a*this.zpp_inner.dirx,this.zpp_inner.origin.get_y()+a*this.zpp_inner.diry,b)},copy:function(){var a=new f.geom.Ray(this.zpp_inner.origin,this.zpp_inner.direction);
a.zpp_inner.maxdist=this.zpp_inner.maxdist;a.zpp_inner.maxdist;return a},__class__:f.geom.Ray,__properties__:{set_maxDistance:"set_maxDistance",get_maxDistance:"get_maxDistance",set_direction:"set_direction",get_direction:"get_direction",set_origin:"set_origin",get_origin:"get_origin",get_userData:"get_userData"}};f.geom.RayResult=function(){this.zpp_inner=null};l["nape.geom.RayResult"]=f.geom.RayResult;f.geom.RayResult.__name__=["nape","geom","RayResult"];f.geom.RayResult.prototype={zpp_inner:null,
get_normal:function(){return this.zpp_inner.normal},get_distance:function(){return this.zpp_inner.toiDistance},get_inner:function(){return this.zpp_inner.inner},get_shape:function(){return this.zpp_inner.shape},dispose:function(){this.zpp_inner.free()},toString:function(){return"{ shape: "+C.string(this.zpp_inner.shape)+" distance: "+this.zpp_inner.toiDistance+" ?inner: "+C.string(this.zpp_inner.inner)+" }"},__class__:f.geom.RayResult,__properties__:{get_shape:"get_shape",get_inner:"get_inner",get_distance:"get_distance",
get_normal:"get_normal"}};f.geom.RayResultIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.geom.RayResultIterator"]=f.geom.RayResultIterator;f.geom.RayResultIterator.__name__=["nape","geom","RayResultIterator"];f.geom.RayResultIterator.get=function(a){var b;null==f.geom.RayResultIterator.zpp_pool?(d.util.ZPP_RayResultList.internal=!0,b=new f.geom.RayResultIterator,d.util.ZPP_RayResultList.internal=!1):(b=f.geom.RayResultIterator.zpp_pool,f.geom.RayResultIterator.zpp_pool=
b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.RayResultIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.RayResultIterator.zpp_pool;f.geom.RayResultIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.RayResultIterator};
f.geom.RayResultList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_RayResultList;this.zpp_inner.outer=this};l["nape.geom.RayResultList"]=f.geom.RayResultList;f.geom.RayResultList.__name__=["nape","geom","RayResultList"];f.geom.RayResultList.fromArray=function(a){for(var b=new f.geom.RayResultList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.geom.RayResultList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=
!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;
return this.zpp_inner.at_ite.elt},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&
this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&
this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:
b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;
null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==
a){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.geom.RayResultIterator.get(this)},copy:function(a){null==a&&
(a=!1);var b=new f.geom.RayResultList,c;this.zpp_inner.valmod();for(c=f.geom.RayResultIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.geom.RayResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.geom.RayResultIterator.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.geom.RayResultIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.geom.RayResultIterator.zpp_pool;f.geom.RayResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},
__class__:f.geom.RayResultList,__properties__:{get_length:"get_length"}};f.geom.Vec2=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;this.zpp_inner=d.geom.ZPP_Vec2.get(a,b,null);this.zpp_inner.outer=this};l["nape.geom.Vec2"]=f.geom.Vec2;f.geom.Vec2.__name__=["nape","geom","Vec2"];f.geom.Vec2.weak=function(a,b){null==b&&(b=0);null==a&&(a=0);return f.geom.Vec2.get(a,b,!0)};f.geom.Vec2.get=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);var j;null==d.util.ZPP_PubPool.poolVec2?
j=new f.geom.Vec2:(j=d.util.ZPP_PubPool.poolVec2,d.util.ZPP_PubPool.poolVec2=j.zpp_pool,j.zpp_pool=null);if(null==j.zpp_inner)j.zpp_inner=d.geom.ZPP_Vec2.get(a,b,null),j.zpp_inner.outer=j;else{j.zpp_inner.validate();var g;if(g=j.zpp_inner.x==a)j.zpp_inner.validate(),g=j.zpp_inner.y==b;g||(j.zpp_inner.x=a,j.zpp_inner.y=b,j.zpp_inner.invalidate());j}j.zpp_inner.weak=c;return j};f.geom.Vec2.fromPoint=function(a,b){null==b&&(b=!1);return f.geom.Vec2.get(a.x,a.y,b)};f.geom.Vec2.fromPolar=function(a,b,
c){null==c&&(c=!1);return f.geom.Vec2.get(a*Math.cos(b),a*Math.sin(b),c)};f.geom.Vec2.dsq=function(a,b){var c=d.geom.ZPP_VecMath.vec_dsq(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();return b.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return c};f.geom.Vec2.distance=function(a,
b){var c=Math.sqrt(d.geom.ZPP_VecMath.vec_dsq(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return c};f.geom.Vec2.prototype={zpp_inner:null,zpp_pool:null,dispose:function(){var a=this.zpp_inner;this.zpp_inner=this.zpp_inner.outer=
null;this.zpp_pool=d.util.ZPP_PubPool.poolVec2;d.util.ZPP_PubPool.poolVec2=this;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=a},copy:function(a){null==a&&(a=!1);return f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this),a)},toPoint:function(a){null==a&&(a=new e.geom.Point);this.zpp_inner.validate();
a.x=this.zpp_inner.x;this.zpp_inner.validate();a.y=this.zpp_inner.y;return a},get_x:function(){this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){this.zpp_inner.validate();this.zpp_inner.x!=a&&(this.zpp_inner.x=a,this.zpp_inner.invalidate());this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){this.zpp_inner.validate();return this.zpp_inner.y},set_y:function(a){this.zpp_inner.validate();this.zpp_inner.y!=a&&(this.zpp_inner.y=a,this.zpp_inner.invalidate());this.zpp_inner.validate();
return this.zpp_inner.y},get_length:function(){return Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this))},set_length:function(a){var a=a/Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();
return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)),b=this;b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)*a);var c=this;c.set_y(function(){c.zpp_inner.validate();return c.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();return Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();
return a.zpp_inner.y}(this))},lsq:function(){this.zpp_inner.validate();var a=this.zpp_inner.x;this.zpp_inner.validate();a*=this.zpp_inner.x;this.zpp_inner.validate();var b=this.zpp_inner.y;this.zpp_inner.validate();return a+b*this.zpp_inner.y},set:function(a){var b=this.setxy(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return b},setxy:function(a,b){this.zpp_inner.validate();var c;
if(c=this.zpp_inner.x==a)this.zpp_inner.validate(),c=this.zpp_inner.y==b;c||(this.zpp_inner.x=a,this.zpp_inner.y=b,this.zpp_inner.invalidate());return this},get_angle:function(){this.zpp_inner.validate();var a=this.zpp_inner.x;this.zpp_inner.validate();if(a=a==this.zpp_inner.y)this.zpp_inner.validate(),a=0==this.zpp_inner.x;return a?0:Math.atan2(function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this))},set_angle:function(a){var b=
Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this));this.setxy(b*Math.cos(a),b*Math.sin(a));this.zpp_inner.validate();a=this.zpp_inner.x;this.zpp_inner.validate();if(a=a==this.zpp_inner.y)this.zpp_inner.validate(),a=0==this.zpp_inner.x;return a?0:Math.atan2(function(a){a.zpp_inner.validate();
return a.zpp_inner.y}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this))},rotate:function(a){if(0!=a%(2*Math.PI)){var b=Math.sin(a),a=Math.cos(a),c=a*this.zpp_inner.x-b*this.zpp_inner.y;this.zpp_inner.y=this.zpp_inner.x*b+this.zpp_inner.y*a;this.zpp_inner.x=c;this.zpp_inner.invalidate()}return this},reflect:function(a,b){null==b&&(b=!1);var c=f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this),
!0).normalise(),c=a.sub(c.muleq(2*c.dot(a)),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return c},normalise:function(){this.zpp_inner.validate();var a=this.zpp_inner.x;this.zpp_inner.validate();a*=this.zpp_inner.x;this.zpp_inner.validate();var b=this.zpp_inner.y;this.zpp_inner.validate();var a=1/Math.sqrt(a+b*this.zpp_inner.y),c=this;c.set_x(function(){c.zpp_inner.validate();return c.zpp_inner.x}(this)*a);var d=this;d.set_y(function(){d.zpp_inner.validate();return d.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();
return this},unit:function(a){null==a&&(a=!1);var b=1/d.util.ZPP_Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this));return f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*b,function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,a)},add:function(a,b){null==
b&&(b=!1);var c=f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return c},addMul:function(a,b,c){null==c&&(c=!1);b=f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.x}(this)*
b,function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,c);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},sub:function(a,b){null==b&&(b=!1);var c=f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?
(a.dispose(),!0):!1;return c},mul:function(a,b){null==b&&(b=!1);return f.geom.Vec2.get(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*a,b)},addeq:function(a){this.setxy(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(){a.zpp_inner.validate();return a.zpp_inner.y}(this));
a.zpp_inner.weak?(a.dispose(),!0):!1;return this},subeq:function(a){this.setxy(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(){a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},muleq:function(a){return this.setxy(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){a.zpp_inner.validate();
return a.zpp_inner.y}(this)*a)},dot:function(a){var b;this.zpp_inner.validate();b=this.zpp_inner.x;a.zpp_inner.validate();b*=a.zpp_inner.x;this.zpp_inner.validate();var c=this.zpp_inner.y;a.zpp_inner.validate();b+=c*a.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},cross:function(a){var b;a.zpp_inner.validate();b=a.zpp_inner.y;this.zpp_inner.validate();b*=this.zpp_inner.x;a.zpp_inner.validate();var c=a.zpp_inner.x;this.zpp_inner.validate();b-=c*this.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),
!0):!1;return b},perp:function(a){null==a&&(a=!1);return f.geom.Vec2.get(-function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this),a)},toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:f.geom.Vec2,__properties__:{set_angle:"set_angle",get_angle:"get_angle",set_length:"set_length",get_length:"get_length",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};f.geom.Vec2Iterator=function(){this.zpp_next=
null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.geom.Vec2Iterator"]=f.geom.Vec2Iterator;f.geom.Vec2Iterator.__name__=["nape","geom","Vec2Iterator"];f.geom.Vec2Iterator.get=function(a){var b;null==f.geom.Vec2Iterator.zpp_pool?(d.util.ZPP_Vec2List.internal=!0,b=new f.geom.Vec2Iterator,d.util.ZPP_Vec2List.internal=!1):(b=f.geom.Vec2Iterator.zpp_pool,f.geom.Vec2Iterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.geom.Vec2Iterator.prototype={zpp_inner:null,
zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.geom.Vec2Iterator.zpp_pool;f.geom.Vec2Iterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.geom.Vec2Iterator};f.geom.Vec2List=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_Vec2List;this.zpp_inner.outer=this};l["nape.geom.Vec2List"]=
f.geom.Vec2List;f.geom.Vec2List.__name__=["nape","geom","Vec2List"];f.geom.Vec2List.fromArray=function(a){for(var b=new f.geom.Vec2List,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.geom.Vec2List.prototype={zpp_inner:null,get_length:function(){return this.zpp_gl()},zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},
has:function(a){this.zpp_vm();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){this.zpp_inner.modify_test();
this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();
this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();
this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){this.zpp_inner.modify_test();this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&
(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==this.zpp_gl()},iterator:function(){this.zpp_vm();return f.geom.Vec2Iterator.get(this)},copy:function(a){null==a&&(a=!1);for(var b=new f.geom.Vec2List,c=this.iterator();c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?f.geom.Vec2.get(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this),!1):d)}return b},merge:function(a){for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||this.add(b)}},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+
"]"},foreach:function(a){for(var b=this.iterator();b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.geom.Vec2Iterator.zpp_pool;f.geom.Vec2Iterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.zpp_gl();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.geom.Vec2List,__properties__:{get_length:"get_length"}};f.geom.Vec3=function(a,b,c){null==c&&(c=0);null==b&&(b=0);
null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;this.zpp_inner=new d.geom.ZPP_Vec3;this.zpp_inner.outer=this;this.zpp_inner.x=a;this.zpp_inner.validate();this.zpp_inner.x;this.zpp_inner.y=b;this.zpp_inner.validate();this.zpp_inner.y;this.zpp_inner.z=c;this.zpp_inner.validate();this.zpp_inner.z};l["nape.geom.Vec3"]=f.geom.Vec3;f.geom.Vec3.__name__=["nape","geom","Vec3"];f.geom.Vec3.get=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var j;null==d.util.ZPP_PubPool.poolVec3?j=new f.geom.Vec3:
(j=d.util.ZPP_PubPool.poolVec3,d.util.ZPP_PubPool.poolVec3=j.zpp_pool,j.zpp_pool=null);j.setxyz(a,b,c);j.zpp_inner.immutable=!1;j.zpp_inner._validate=null;return j};f.geom.Vec3.prototype={zpp_inner:null,zpp_pool:null,get_x:function(){this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){this.zpp_inner.x=a;this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){this.zpp_inner.validate();return this.zpp_inner.y},set_y:function(a){this.zpp_inner.y=a;this.zpp_inner.validate();
return this.zpp_inner.y},get_z:function(){this.zpp_inner.validate();return this.zpp_inner.z},set_z:function(a){this.zpp_inner.z=a;this.zpp_inner.validate();return this.zpp_inner.z},dispose:function(){this.zpp_pool=d.util.ZPP_PubPool.poolVec3;d.util.ZPP_PubPool.poolVec3=this},get_length:function(){return Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*
function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.z}(this))},set_length:function(a){var a=a/Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){a.zpp_inner.validate();
return a.zpp_inner.z}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.z}(this)),b=this;b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)*a);var c=this;c.set_y(function(){c.zpp_inner.validate();return c.zpp_inner.y}(this)*a);var d=this;d.set_z(function(){d.zpp_inner.validate();return d.zpp_inner.z}(this)*a);return Math.sqrt(function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){a.zpp_inner.validate();
return a.zpp_inner.y}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){a.zpp_inner.validate();return a.zpp_inner.z}(this))},lsq:function(){this.zpp_inner.validate();var a=this.zpp_inner.x;this.zpp_inner.validate();a*=this.zpp_inner.x;this.zpp_inner.validate();var b=this.zpp_inner.y;this.zpp_inner.validate();a+=b*this.zpp_inner.y;this.zpp_inner.validate();b=this.zpp_inner.z;this.zpp_inner.validate();return a+
b*this.zpp_inner.z},set:function(a){return this.setxyz(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),function(){a.zpp_inner.validate();return a.zpp_inner.z}(this))},setxyz:function(a,b,c){this.zpp_inner.x=a;this.zpp_inner.validate();this.zpp_inner.x;this.zpp_inner.y=b;this.zpp_inner.validate();this.zpp_inner.y;this.zpp_inner.z=c;this.zpp_inner.validate();this.zpp_inner.z;return this},xy:function(a){null==a&&(a=!1);return f.geom.Vec2.get(function(a){a.zpp_inner.validate();
return a.zpp_inner.x}(this),function(a){a.zpp_inner.validate();return a.zpp_inner.y}(this),a)},toString:function(){this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";this.zpp_inner.validate();a=a+this.zpp_inner.y+" z: ";this.zpp_inner.validate();return a+this.zpp_inner.z+" }"},__class__:f.geom.Vec3,__properties__:{set_length:"set_length",get_length:"get_length",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};f.geom.Winding=function(){};l["nape.geom.Winding"]=
f.geom.Winding;f.geom.Winding.__name__=["nape","geom","Winding"];f.geom.Winding.__properties__={get_ANTICLOCKWISE:"get_ANTICLOCKWISE",get_CLOCKWISE:"get_CLOCKWISE",get_UNDEFINED:"get_UNDEFINED"};f.geom.Winding.get_UNDEFINED=function(){null==d.util.ZPP_Flags.Winding_UNDEFINED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Winding_UNDEFINED};f.geom.Winding.get_CLOCKWISE=function(){null==d.util.ZPP_Flags.Winding_CLOCKWISE&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Winding_CLOCKWISE};f.geom.Winding.get_ANTICLOCKWISE=function(){null==d.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Winding_ANTICLOCKWISE};f.geom.Winding.prototype={toString:function(){null==d.util.ZPP_Flags.Winding_UNDEFINED&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.Winding_UNDEFINED=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.Winding_UNDEFINED)return"UNDEFINED";null==d.util.ZPP_Flags.Winding_CLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_CLOCKWISE=new f.geom.Winding,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.Winding_CLOCKWISE)return"CLOCKWISE";null==d.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Winding_ANTICLOCKWISE=new f.geom.Winding,
d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""},__class__:f.geom.Winding};f.phys={};f.phys.Interactor=function(){this.zpp_inner_i=null};l["nape.phys.Interactor"]=f.phys.Interactor;f.phys.Interactor.__name__=["nape","phys","Interactor"];f.phys.Interactor.prototype={zpp_inner_i:null,get_id:function(){return this.zpp_inner_i.id},get_userData:function(){null==this.zpp_inner_i.userData&&(this.zpp_inner_i.userData={});return this.zpp_inner_i.userData},
isShape:function(){return null!=this.zpp_inner_i.ishape},isBody:function(){return null!=this.zpp_inner_i.ibody},isCompound:function(){return null!=this.zpp_inner_i.icompound},get_castShape:function(){return null!=this.zpp_inner_i.ishape?this.zpp_inner_i.ishape.outer:null},get_castBody:function(){return null!=this.zpp_inner_i.ibody?this.zpp_inner_i.ibody.outer:null},get_castCompound:function(){return null!=this.zpp_inner_i.icompound?this.zpp_inner_i.icompound.outer:null},get_group:function(){return null==
this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},set_group:function(a){this.zpp_inner_i.immutable_midstep("Interactor::group");this.zpp_inner_i.setGroup(null==a?null:a.zpp_inner);return null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},get_cbTypes:function(){null==this.zpp_inner_i.wrap_cbTypes&&this.zpp_inner_i.setupcbTypes();return this.zpp_inner_i.wrap_cbTypes},toString:function(){return""},__class__:f.phys.Interactor,__properties__:{get_cbTypes:"get_cbTypes",set_group:"set_group",
get_group:"get_group",get_castCompound:"get_castCompound",get_castBody:"get_castBody",get_castShape:"get_castShape",get_userData:"get_userData",get_id:"get_id"}};f.phys.Body=function(a,b){this.debugDraw=!0;this.zpp_inner=null;f.phys.Interactor.call(this);this.zpp_inner=new d.phys.ZPP_Body;this.zpp_inner.outer=this;this.zpp_inner.outer_i=this;this.zpp_inner_i=this.zpp_inner;null!=b?(b.zpp_inner.validate(),this.zpp_inner.posx=b.zpp_inner.x,b.zpp_inner.validate(),this.zpp_inner.posy=b.zpp_inner.y):(this.zpp_inner.posx=
0,this.zpp_inner.posy=0);this.set_type(null==a?function(){if(d.util.ZPP_Flags.BodyType_DYNAMIC==null){d.util.ZPP_Flags.internal=true;d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType;d.util.ZPP_Flags.internal=false}return d.util.ZPP_Flags.BodyType_DYNAMIC}(this):a);null!=b&&(b.zpp_inner.weak?(b.dispose(),!0):!1);this.zpp_inner_i.insert_cbtype(d.callbacks.ZPP_CbType.ANY_BODY.zpp_inner)};l["nape.phys.Body"]=f.phys.Body;f.phys.Body.__name__=["nape","phys","Body"];f.phys.Body.__super__=f.phys.Interactor;
f.phys.Body.prototype=z(f.phys.Interactor.prototype,{zpp_inner:null,debugDraw:null,get_type:function(){return d.phys.ZPP_Body.types[this.zpp_inner.type]},set_type:function(a){this.zpp_inner.immutable_midstep("Body::type");d.phys.ZPP_Body.types[this.zpp_inner.type]!=a&&(null==d.util.ZPP_Flags.BodyType_DYNAMIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.BodyType_DYNAMIC?a=d.util.ZPP_Flags.id_BodyType_DYNAMIC:
(null==d.util.ZPP_Flags.BodyType_KINEMATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1),a=a==d.util.ZPP_Flags.BodyType_KINEMATIC?d.util.ZPP_Flags.id_BodyType_KINEMATIC:d.util.ZPP_Flags.id_BodyType_STATIC),a==d.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.space&&(this.zpp_inner.velx=0,this.zpp_inner.vely=0,this.zpp_inner.angvel=0),this.zpp_inner.invalidate_type(),null!=this.zpp_inner.space?this.zpp_inner.space.transmitType(this.zpp_inner,
a):this.zpp_inner.type=a);return d.phys.ZPP_Body.types[this.zpp_inner.type]},get_isBullet:function(){return this.zpp_inner.bulletEnabled},set_isBullet:function(a){this.zpp_inner.bulletEnabled=a;return this.zpp_inner.bulletEnabled},get_disableCCD:function(){return this.zpp_inner.disableCCD},set_disableCCD:function(a){this.zpp_inner.disableCCD=a;return this.zpp_inner.disableCCD},integrate:function(a){this.zpp_inner.immutable_midstep("Body::space");if(0==a)return this;var b=this.zpp_inner;b.sweepTime=
0;b.sweep_angvel=b.angvel;b.sweepIntegrate(a);b.invalidate_pos();b.invalidate_rot();b.sweepTime=0;return this},isStatic:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC},isKinematic:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC},get_shapes:function(){return this.zpp_inner.wrap_shapes},get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},
set_compound:function(a){if((null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a){if(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer))(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(this);null!=a&&a.zpp_inner.wrap_bodies.add(this)}return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){this.zpp_inner.immutable_midstep("Body::space");
if((null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a){if(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer))this.zpp_inner.component.woken=!1;if(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer))(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(this);null!=a&&a.zpp_inner.wrap_bodies.add(this)}return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},get_arbiters:function(){null==this.zpp_inner.wrap_arbiters&&
(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));return this.zpp_inner.wrap_arbiters},get_isSleeping:function(){return this.zpp_inner.component.sleeping},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=d.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));return this.zpp_inner.wrap_constraints},copy:function(){return this.zpp_inner.copy()},get_position:function(){null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();
return this.zpp_inner.wrap_pos},set_position:function(a){null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.set(a);null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();return this.zpp_inner.wrap_pos},get_velocity:function(){null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},set_velocity:function(a){null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a);null==this.zpp_inner.wrap_vel&&
this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},setVelocityFromTarget:function(a,b,c){c=1/c;null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a.sub(function(a){null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();return a.zpp_inner.wrap_pos}(this),!0).muleq(c));this.set_angularVel((b-this.zpp_inner.rot)*c);a.zpp_inner.weak?(a.dispose(),!0):!1;return this},get_kinematicVel:function(){null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();
return this.zpp_inner.wrap_kinvel},set_kinematicVel:function(a){null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();this.zpp_inner.wrap_kinvel.set(a);null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();return this.zpp_inner.wrap_kinvel},get_surfaceVel:function(){null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();return this.zpp_inner.wrap_svel},set_surfaceVel:function(a){null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();this.zpp_inner.wrap_svel.set(a);null==
this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();return this.zpp_inner.wrap_svel},get_force:function(){null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();return this.zpp_inner.wrap_force},set_force:function(a){null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();this.zpp_inner.wrap_force.set(a);null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();return this.zpp_inner.wrap_force},get_constraintVelocity:function(){null==this.zpp_inner.wrapcvel&&this.zpp_inner.setup_cvel();
return this.zpp_inner.wrapcvel},get_rotation:function(){return this.zpp_inner.rot},set_rotation:function(a){this.zpp_inner.immutable_midstep("Body::rotation");this.zpp_inner.rot!=a&&(this.zpp_inner.rot=a,this.zpp_inner.invalidate_rot(),this.zpp_inner.wake());return this.zpp_inner.rot},get_angularVel:function(){return this.zpp_inner.angvel},set_angularVel:function(a){this.zpp_inner.angvel!=a&&(this.zpp_inner.angvel=a,this.zpp_inner.wake());return this.zpp_inner.angvel},get_kinAngVel:function(){return this.zpp_inner.kinangvel},
set_kinAngVel:function(a){this.zpp_inner.kinangvel!=a&&(this.zpp_inner.kinangvel=a,this.zpp_inner.wake());return this.zpp_inner.kinangvel},get_torque:function(){return this.zpp_inner.torque},set_torque:function(a){this.zpp_inner.torque!=a&&(this.zpp_inner.torque=a,this.zpp_inner.wake());return this.zpp_inner.torque},get_bounds:function(){return this.zpp_inner.aabb.wrapper()},get_allowMovement:function(){return!this.zpp_inner.nomove},set_allowMovement:function(a){this.zpp_inner.immutable_midstep("Body::"+
(null==a?"null":""+a));!this.zpp_inner.nomove!=a&&(this.zpp_inner.nomove=!a,this.zpp_inner.invalidate_mass());return!this.zpp_inner.nomove},get_allowRotation:function(){return!this.zpp_inner.norotate},set_allowRotation:function(a){this.zpp_inner.immutable_midstep("Body::"+(null==a?"null":""+a));!this.zpp_inner.norotate!=a&&(this.zpp_inner.norotate=!a,this.zpp_inner.invalidate_inertia());return!this.zpp_inner.norotate},get_massMode:function(){null==d.util.ZPP_Flags.MassMode_DEFAULT&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);var a=d.util.ZPP_Flags.MassMode_DEFAULT;null==d.util.ZPP_Flags.MassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);return[a,d.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},set_massMode:function(a){this.zpp_inner.immutable_midstep("Body::massMode");null==d.util.ZPP_Flags.MassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_DEFAULT=
new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);this.zpp_inner.massMode=a==d.util.ZPP_Flags.MassMode_DEFAULT?d.util.ZPP_Flags.id_MassMode_DEFAULT:d.util.ZPP_Flags.id_MassMode_FIXED;this.zpp_inner.invalidate_mass();null==d.util.ZPP_Flags.MassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);a=d.util.ZPP_Flags.MassMode_DEFAULT;null==d.util.ZPP_Flags.MassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_FIXED=
new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);return[a,d.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},get_constraintMass:function(){this.zpp_inner.world||this.zpp_inner.validate_mass();return this.zpp_inner.smass},get_mass:function(){this.zpp_inner.validate_mass();return this.zpp_inner.cmass},set_mass:function(a){this.zpp_inner.immutable_midstep("Body::mass");this.zpp_inner.massMode=d.util.ZPP_Flags.id_MassMode_FIXED;this.zpp_inner.cmass=a;this.zpp_inner.invalidate_mass();this.zpp_inner.validate_mass();
return this.zpp_inner.cmass},get_gravMassMode:function(){null==d.util.ZPP_Flags.GravMassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);var a=d.util.ZPP_Flags.GravMassMode_DEFAULT;null==d.util.ZPP_Flags.GravMassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);var b=d.util.ZPP_Flags.GravMassMode_FIXED;null==d.util.ZPP_Flags.GravMassMode_SCALED&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);return[a,b,d.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},set_gravMassMode:function(a){this.zpp_inner.immutable_midstep("Body::gravMassMode");null==d.util.ZPP_Flags.GravMassMode_SCALED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);a==d.util.ZPP_Flags.GravMassMode_SCALED?this.zpp_inner.gravMassMode=
d.util.ZPP_Flags.id_GravMassMode_SCALED:(null==d.util.ZPP_Flags.GravMassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1),this.zpp_inner.gravMassMode=a==d.util.ZPP_Flags.GravMassMode_DEFAULT?d.util.ZPP_Flags.id_GravMassMode_DEFAULT:d.util.ZPP_Flags.id_GravMassMode_FIXED);this.zpp_inner.invalidate_gravMass();null==d.util.ZPP_Flags.GravMassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_DEFAULT=
new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);a=d.util.ZPP_Flags.GravMassMode_DEFAULT;null==d.util.ZPP_Flags.GravMassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);var b=d.util.ZPP_Flags.GravMassMode_FIXED;null==d.util.ZPP_Flags.GravMassMode_SCALED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);return[a,b,d.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},
get_gravMass:function(){this.zpp_inner.validate_gravMass();return this.zpp_inner.gravMass},set_gravMass:function(a){this.zpp_inner.immutable_midstep("Body::gravMass");this.zpp_inner.gravMassMode=d.util.ZPP_Flags.id_GravMassMode_FIXED;this.zpp_inner.gravMass=a;this.zpp_inner.invalidate_gravMass();this.zpp_inner.validate_gravMass();return this.zpp_inner.gravMass},get_gravMassScale:function(){this.zpp_inner.validate_gravMassScale();return this.zpp_inner.gravMassScale},set_gravMassScale:function(a){this.zpp_inner.immutable_midstep("Body::gravMassScale");
this.zpp_inner.gravMassMode=d.util.ZPP_Flags.id_GravMassMode_SCALED;this.zpp_inner.gravMassScale=a;this.zpp_inner.invalidate_gravMassScale();this.zpp_inner.validate_gravMassScale();return this.zpp_inner.gravMassScale},get_inertiaMode:function(){null==d.util.ZPP_Flags.InertiaMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);var a=d.util.ZPP_Flags.InertiaMode_DEFAULT;null==d.util.ZPP_Flags.InertiaMode_FIXED&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);return[a,d.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},set_inertiaMode:function(a){this.zpp_inner.immutable_midstep("Body::inertiaMode");null==d.util.ZPP_Flags.InertiaMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);this.zpp_inner.inertiaMode=a==d.util.ZPP_Flags.InertiaMode_FIXED?d.util.ZPP_Flags.id_InertiaMode_FIXED:
d.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.zpp_inner.invalidate_inertia();null==d.util.ZPP_Flags.InertiaMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);a=d.util.ZPP_Flags.InertiaMode_DEFAULT;null==d.util.ZPP_Flags.InertiaMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);return[a,d.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},
get_constraintInertia:function(){this.zpp_inner.world||this.zpp_inner.validate_inertia();return this.zpp_inner.sinertia},get_inertia:function(){this.zpp_inner.validate_inertia();return this.zpp_inner.cinertia},set_inertia:function(a){this.zpp_inner.immutable_midstep("Body::inertia");this.zpp_inner.inertiaMode=d.util.ZPP_Flags.id_InertiaMode_FIXED;this.zpp_inner.cinertia=a;this.zpp_inner.invalidate_inertia();this.zpp_inner.validate_inertia();return this.zpp_inner.cinertia},connectedBodies:function(a,
b){null==a&&(a=-1);return this.zpp_inner.connectedBodies(a,b)},interactingBodies:function(a,b,c){null==b&&(b=-1);null==a?a=d.dynamics.ZPP_Arbiter.COL|d.dynamics.ZPP_Arbiter.SENSOR|d.dynamics.ZPP_Arbiter.FLUID:(null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a==d.util.ZPP_Flags.InteractionType_COLLISION)?a=d.dynamics.ZPP_Arbiter.COL:(null==d.util.ZPP_Flags.InteractionType_SENSOR&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),a=a==d.util.ZPP_Flags.InteractionType_SENSOR?d.dynamics.ZPP_Arbiter.SENSOR:d.dynamics.ZPP_Arbiter.FLUID);return this.zpp_inner.interactingBodies(a,b,c)},crushFactor:function(){var a=0,b=f.geom.Vec2.get(null,null,null);null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var c=this.zpp_inner.wrap_arbiters.iterator();c.hasNext();){c.zpp_critical=
!1;var j=c.zpp_inner.at(c.zpp_i++).totalImpulse(this),g=j.xy();b.addeq(g);a+=Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose();j.dispose()}null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=d.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));for(c=this.zpp_inner.wrap_constraints.iterator();c.hasNext();){c.zpp_critical=
!1;var j=c.zpp_inner.at(c.zpp_i++).bodyImpulse(this),i=j.xy();b.addeq(i);a+=Math.sqrt(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this)*function(){i.zpp_inner.validate();return i.zpp_inner.x}(this)+function(){i.zpp_inner.validate();return i.zpp_inner.y}(this)*function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));i.dispose();j.dispose()}a-=Math.sqrt(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)*function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+function(){b.zpp_inner.validate();
return b.zpp_inner.y}(this)*function(){b.zpp_inner.validate();return b.zpp_inner.y}(this));this.zpp_inner.validate_mass();a/=this.zpp_inner.cmass*(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.pre_dt;b.dispose();return a},localPointToWorld:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_axis();var c=0,d=0,c=this.zpp_inner.axisy;a.zpp_inner.validate();c*=a.zpp_inner.x;d=this.zpp_inner.axisx;a.zpp_inner.validate();c-=d*a.zpp_inner.y;a.zpp_inner.validate();d=a.zpp_inner.x*
this.zpp_inner.axisx;a.zpp_inner.validate();d+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(c+this.zpp_inner.posx,d+this.zpp_inner.posy,b)},worldPointToLocal:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_axis();var c=0,d=0,g=d=0;a.zpp_inner.validate();d=a.zpp_inner.x-this.zpp_inner.posx;a.zpp_inner.validate();g=a.zpp_inner.y-this.zpp_inner.posy;c=d*this.zpp_inner.axisy+g*this.zpp_inner.axisx;d=g*this.zpp_inner.axisy-d*this.zpp_inner.axisx;
a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(c,d,b)},localVectorToWorld:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_axis();var c=0,d=0,c=this.zpp_inner.axisy;a.zpp_inner.validate();c*=a.zpp_inner.x;d=this.zpp_inner.axisx;a.zpp_inner.validate();c-=d*a.zpp_inner.y;a.zpp_inner.validate();d=a.zpp_inner.x*this.zpp_inner.axisx;a.zpp_inner.validate();d+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(c,d,b)},worldVectorToLocal:function(a,
b){null==b&&(b=!1);this.zpp_inner.validate_axis();var c=0,d=0;a.zpp_inner.validate();c=a.zpp_inner.x*this.zpp_inner.axisy;a.zpp_inner.validate();c+=a.zpp_inner.y*this.zpp_inner.axisx;a.zpp_inner.validate();d=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.validate();d-=a.zpp_inner.x*this.zpp_inner.axisx;a.zpp_inner.weak?(a.dispose(),!0):!1;return f.geom.Vec2.get(c,d,b)},applyImpulse:function(a,b,c){null==c&&(c=!1);if(c&&this.zpp_inner.component.sleeping)return a.zpp_inner.weak?(a.dispose(),!0):!1,
null!=b&&(b.zpp_inner.weak?(b.dispose(),!0):!1),this;this.zpp_inner.validate_mass();var j=this.zpp_inner.imass,g=this.zpp_inner,i=g.velx;a.zpp_inner.validate();g.velx=i+a.zpp_inner.x*j;g=this.zpp_inner;i=g.vely;a.zpp_inner.validate();g.vely=i+a.zpp_inner.y*j;if(null!=b){var e=0,j=0;b.zpp_inner.validate();e=b.zpp_inner.x-this.zpp_inner.posx;b.zpp_inner.validate();j=b.zpp_inner.y-this.zpp_inner.posy;this.zpp_inner.validate_inertia();g=this.zpp_inner;i=g.angvel;a.zpp_inner.validate();e*=a.zpp_inner.y;
a.zpp_inner.validate();g.angvel=i+(e-a.zpp_inner.x*j)*this.zpp_inner.iinertia;b.zpp_inner.weak?(b.dispose(),!0):!1}c||this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();a.zpp_inner.weak?(a.dispose(),!0):!1;return this},applyAngularImpulse:function(a,b){null==b&&(b=!1);if(b&&this.zpp_inner.component.sleeping)return this;this.zpp_inner.validate_inertia();this.zpp_inner.angvel+=a*this.zpp_inner.iinertia;b||this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();
return this},translateShapes:function(a){this.zpp_inner.immutable_midstep("Body::translateShapes()");var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;for(var c=this.zpp_inner.shapes.head;null!=c;)c.elt.outer.translate(a),c=c.next;a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotateShapes:function(a){this.zpp_inner.immutable_midstep("Body::rotateShapes()");for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.rotate(a),b=b.next;return this},scaleShapes:function(a,b){this.zpp_inner.immutable_midstep("Body::scaleShapes()");
for(var c=this.zpp_inner.shapes.head;null!=c;)c.elt.outer.scale(a,b),c=c.next;return this},transformShapes:function(a){this.zpp_inner.immutable_midstep("Body::transformShapes()");for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.transform(a),b=b.next;return this},align:function(){this.zpp_inner.immutable_midstep("Body::align()");this.zpp_inner.validate_localCOM();var a=f.geom.Vec2.get(-this.zpp_inner.localCOMx,-this.zpp_inner.localCOMy,null);this.translateShapes(a);var b=this.localVectorToWorld(a);
null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.subeq(b);if(this.zpp_inner.pre_posx<Math.POSITIVE_INFINITY){var c=this.zpp_inner,d=c.pre_posx;b.zpp_inner.validate();c.pre_posx=d-1*b.zpp_inner.x;c=this.zpp_inner;d=c.pre_posy;b.zpp_inner.validate();c.pre_posy=d-1*b.zpp_inner.y}a.dispose();b.dispose();return this},rotate:function(a,b){var c=a.zpp_inner.weak;a.zpp_inner.weak=!1;null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();var d=this.zpp_inner.wrap_pos.sub(a);
d.rotate(b);this.set_position(a.add(d,!0));d.dispose();this.set_rotation(this.zpp_inner.rot+b);a.zpp_inner.weak=c;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},setShapeMaterials:function(a){this.zpp_inner.immutable_midstep("Body::setShapeMaterials()");for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_material(a),b=b.next;return this},setShapeFilters:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFilters()");for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_filter(a),
b=b.next;return this},setShapeFluidProperties:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFluidProperties()");for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_fluidProperties(a),b=b.next;return this},get_localCOM:function(){null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.wrap_localCOM=f.geom.Vec2.get(this.zpp_inner.localCOMx,this.zpp_inner.localCOMy,null),this.zpp_inner.wrap_localCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_localCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_localCOM.zpp_inner._validate=
(V=this.zpp_inner,w(V,V.getlocalCOM)));return this.zpp_inner.wrap_localCOM},get_worldCOM:function(){null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=f.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=(V=this.zpp_inner,w(V,V.getworldCOM)));return this.zpp_inner.wrap_worldCOM},normalImpulse:function(a,b){null==b&&
(b=!1);var c=0,j=0,g=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var i=this.zpp_inner.wrap_arbiters.iterator();i.hasNext();){i.zpp_critical=!1;var e=i.zpp_inner.at(i.zpp_i++).zpp_inner;if(e.type==d.dynamics.ZPP_Arbiter.COL&&!(null!=a&&e.b2!=a.zpp_inner&&e.b1!=a.zpp_inner)){var e=e.wrapper().get_collisionArbiter().normalImpulse(this,b),n=void 0;e.zpp_inner.validate();n=e.zpp_inner.x;c+=1*n;n=void 0;e.zpp_inner.validate();
n=e.zpp_inner.y;j+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.z;g+=1*n;e.dispose()}}return f.geom.Vec3.get(c,j,g)},tangentImpulse:function(a,b){null==b&&(b=!1);var c=0,j=0,g=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var i=this.zpp_inner.wrap_arbiters.iterator();i.hasNext();){i.zpp_critical=!1;var e=i.zpp_inner.at(i.zpp_i++).zpp_inner;if(e.type==d.dynamics.ZPP_Arbiter.COL&&!(null!=a&&e.b2!=a.zpp_inner&&e.b1!=
a.zpp_inner)){var e=e.wrapper().get_collisionArbiter().tangentImpulse(this,b),n=void 0;e.zpp_inner.validate();n=e.zpp_inner.x;c+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.y;j+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.z;g+=1*n;e.dispose()}}return f.geom.Vec3.get(c,j,g)},totalContactsImpulse:function(a,b){null==b&&(b=!1);var c=0,j=0,g=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var i=this.zpp_inner.wrap_arbiters.iterator();i.hasNext();){i.zpp_critical=
!1;var e=i.zpp_inner.at(i.zpp_i++).zpp_inner;if(e.type==d.dynamics.ZPP_Arbiter.COL&&!(null!=a&&e.b2!=a.zpp_inner&&e.b1!=a.zpp_inner)){var e=e.wrapper().get_collisionArbiter().totalImpulse(this,b),n=void 0;e.zpp_inner.validate();n=e.zpp_inner.x;c+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.y;j+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.z;g+=1*n;e.dispose()}}return f.geom.Vec3.get(c,j,g)},rollingImpulse:function(a,b){null==b&&(b=!1);var c=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=
d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var j=this.zpp_inner.wrap_arbiters.iterator();j.hasNext();){j.zpp_critical=!1;var g=j.zpp_inner.at(j.zpp_i++).zpp_inner;g.type==d.dynamics.ZPP_Arbiter.COL&&!(null!=a&&g.b2!=a.zpp_inner&&g.b1!=a.zpp_inner)&&(c+=g.wrapper().get_collisionArbiter().rollingImpulse(this,b))}return c},buoyancyImpulse:function(a){var b=0,c=0,j=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));
for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var i=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(i.type==d.dynamics.ZPP_Arbiter.FLUID&&!(null!=a&&i.b2!=a.zpp_inner&&i.b1!=a.zpp_inner)){var i=i.wrapper().get_fluidArbiter().buoyancyImpulse(this),e=void 0;i.zpp_inner.validate();e=i.zpp_inner.x;b+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.y;c+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.z;j+=1*e;i.dispose()}}return f.geom.Vec3.get(b,c,j)},dragImpulse:function(a){var b=
0,c=0,j=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var i=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(i.type==d.dynamics.ZPP_Arbiter.FLUID&&!(null!=a&&i.b2!=a.zpp_inner&&i.b1!=a.zpp_inner)){var i=i.wrapper().get_fluidArbiter().dragImpulse(this),e=void 0;i.zpp_inner.validate();e=i.zpp_inner.x;b+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.y;
c+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.z;j+=1*e;i.dispose()}}return f.geom.Vec3.get(b,c,j)},totalFluidImpulse:function(a){var b=0,c=0,j=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var g=this.zpp_inner.wrap_arbiters.iterator();g.hasNext();){g.zpp_critical=!1;var i=g.zpp_inner.at(g.zpp_i++).zpp_inner;if(i.type==d.dynamics.ZPP_Arbiter.FLUID&&!(null!=a&&i.b2!=a.zpp_inner&&i.b1!=a.zpp_inner)){var i=i.wrapper().get_fluidArbiter().totalImpulse(this),
e=void 0;i.zpp_inner.validate();e=i.zpp_inner.x;b+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.y;c+=1*e;e=void 0;i.zpp_inner.validate();e=i.zpp_inner.z;j+=1*e;i.dispose()}}return f.geom.Vec3.get(b,c,j)},constraintsImpulse:function(){for(var a=0,b=0,c=0,d=this.zpp_inner.constraints.head;null!=d;){var g=d.elt.outer.bodyImpulse(this),i=void 0;g.zpp_inner.validate();i=g.zpp_inner.x;a+=1*i;i=void 0;g.zpp_inner.validate();i=g.zpp_inner.y;b+=1*i;i=void 0;g.zpp_inner.validate();i=g.zpp_inner.z;c+=1*
i;g.dispose();d=d.next}return f.geom.Vec3.get(a,b,c)},totalImpulse:function(a,b){null==b&&(b=!1);var c=0,j=0,g=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var i=this.zpp_inner.wrap_arbiters.iterator();i.hasNext();){i.zpp_critical=!1;var e=i.zpp_inner.at(i.zpp_i++).zpp_inner;if(e.type!=d.dynamics.ZPP_Arbiter.SENSOR&&!(null!=a&&e.b2!=a.zpp_inner&&e.b1!=a.zpp_inner)){var e=e.wrapper().totalImpulse(this,b),n=void 0;e.zpp_inner.validate();
n=e.zpp_inner.x;c+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.y;j+=1*n;n=void 0;e.zpp_inner.validate();n=e.zpp_inner.z;g+=1*n;e.dispose()}}for(i=this.zpp_inner.constraints.head;null!=i;)e=i.elt,e.active&&(e=e.outer.bodyImpulse(this),n=void 0,e.zpp_inner.validate(),n=e.zpp_inner.x,c+=1*n,n=void 0,e.zpp_inner.validate(),n=e.zpp_inner.y,j+=1*n,n=void 0,e.zpp_inner.validate(),n=e.zpp_inner.z,g+=1*n,e.dispose()),i=i.next;return f.geom.Vec3.get(c,j,g)},contains:function(a){var b=a.zpp_inner.weak;
a.zpp_inner.weak=!1;var c;c=!1;for(var d=this.zpp_inner.shapes.head;null!=d;){if(d.elt.outer.contains(a)){c=!0;break}d=d.next}a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return c},toString:function(){return(this.zpp_inner.world?"(space::world":"("+(this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC?"dynamic":this.zpp_inner.type==d.util.ZPP_Flags.id_BodyType_STATIC?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:f.phys.Body,__properties__:z(f.phys.Interactor.prototype.__properties__,
{get_worldCOM:"get_worldCOM",get_localCOM:"get_localCOM",set_inertia:"set_inertia",get_inertia:"get_inertia",get_constraintInertia:"get_constraintInertia",set_inertiaMode:"set_inertiaMode",get_inertiaMode:"get_inertiaMode",set_gravMassScale:"set_gravMassScale",get_gravMassScale:"get_gravMassScale",set_gravMass:"set_gravMass",get_gravMass:"get_gravMass",set_gravMassMode:"set_gravMassMode",get_gravMassMode:"get_gravMassMode",set_mass:"set_mass",get_mass:"get_mass",get_constraintMass:"get_constraintMass",
set_massMode:"set_massMode",get_massMode:"get_massMode",set_allowRotation:"set_allowRotation",get_allowRotation:"get_allowRotation",set_allowMovement:"set_allowMovement",get_allowMovement:"get_allowMovement",get_bounds:"get_bounds",set_torque:"set_torque",get_torque:"get_torque",set_kinAngVel:"set_kinAngVel",get_kinAngVel:"get_kinAngVel",set_angularVel:"set_angularVel",get_angularVel:"get_angularVel",set_rotation:"set_rotation",get_rotation:"get_rotation",get_constraintVelocity:"get_constraintVelocity",
set_force:"set_force",get_force:"get_force",set_surfaceVel:"set_surfaceVel",get_surfaceVel:"get_surfaceVel",set_kinematicVel:"set_kinematicVel",get_kinematicVel:"get_kinematicVel",set_velocity:"set_velocity",get_velocity:"get_velocity",set_position:"set_position",get_position:"get_position",get_constraints:"get_constraints",get_isSleeping:"get_isSleeping",get_arbiters:"get_arbiters",set_space:"set_space",get_space:"get_space",set_compound:"set_compound",get_compound:"get_compound",get_shapes:"get_shapes",
set_disableCCD:"set_disableCCD",get_disableCCD:"get_disableCCD",set_isBullet:"set_isBullet",get_isBullet:"get_isBullet",set_type:"set_type",get_type:"get_type"})});f.phys.BodyIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.phys.BodyIterator"]=f.phys.BodyIterator;f.phys.BodyIterator.__name__=["nape","phys","BodyIterator"];f.phys.BodyIterator.get=function(a){var b;null==f.phys.BodyIterator.zpp_pool?(d.util.ZPP_BodyList.internal=!0,b=new f.phys.BodyIterator,
d.util.ZPP_BodyList.internal=!1):(b=f.phys.BodyIterator.zpp_pool,f.phys.BodyIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.BodyIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.BodyIterator.zpp_pool;f.phys.BodyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.BodyIterator};f.phys.BodyList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_BodyList;this.zpp_inner.outer=this};l["nape.phys.BodyList"]=f.phys.BodyList;f.phys.BodyList.__name__=["nape","phys","BodyList"];f.phys.BodyList.fromArray=function(a){for(var b=new f.phys.BodyList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.phys.BodyList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&
(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,
this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.BodyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.BodyList,c;this.zpp_inner.valmod();for(c=f.phys.BodyIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.phys.BodyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||
(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.phys.BodyIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.phys.BodyIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.phys.BodyIterator.zpp_pool;
f.phys.BodyIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.phys.BodyList,__properties__:{get_length:"get_length"}};f.phys.BodyType=function(){};l["nape.phys.BodyType"]=f.phys.BodyType;f.phys.BodyType.__name__=["nape","phys","BodyType"];f.phys.BodyType.__properties__={get_KINEMATIC:"get_KINEMATIC",get_DYNAMIC:"get_DYNAMIC",get_STATIC:"get_STATIC"};f.phys.BodyType.get_STATIC=
function(){null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_STATIC};f.phys.BodyType.get_DYNAMIC=function(){null==d.util.ZPP_Flags.BodyType_DYNAMIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_DYNAMIC};f.phys.BodyType.get_KINEMATIC=function(){null==d.util.ZPP_Flags.BodyType_KINEMATIC&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.BodyType_KINEMATIC};f.phys.BodyType.prototype={toString:function(){null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.BodyType_STATIC)return"STATIC";null==d.util.ZPP_Flags.BodyType_DYNAMIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_DYNAMIC=
new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.BodyType_DYNAMIC)return"DYNAMIC";null==d.util.ZPP_Flags.BodyType_KINEMATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.BodyType_KINEMATIC?"KINEMATIC":""},__class__:f.phys.BodyType};f.phys.Compound=function(){this.zpp_inner=null;f.phys.Interactor.call(this);this.zpp_inner=new d.phys.ZPP_Compound;this.zpp_inner.outer=this;
this.zpp_inner.outer_i=this;this.zpp_inner_i=this.zpp_inner;this.zpp_inner.insert_cbtype(d.callbacks.ZPP_CbType.ANY_COMPOUND.zpp_inner)};l["nape.phys.Compound"]=f.phys.Compound;f.phys.Compound.__name__=["nape","phys","Compound"];f.phys.Compound.__super__=f.phys.Interactor;f.phys.Compound.prototype=z(f.phys.Interactor.prototype,{zpp_inner:null,get_bodies:function(){return this.zpp_inner.wrap_bodies},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_compounds:function(){return this.zpp_inner.wrap_compounds},
get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){this.zpp_inner.immutable_midstep("Compound::compound");if((null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a){if(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer))(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(this);null!=a&&a.zpp_inner.wrap_compounds.add(this)}return null==this.zpp_inner.compound?
null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){this.zpp_inner.immutable_midstep("Compound::space");if((null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a){if(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer))(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_compounds.remove(this);null!=a&&a.zpp_inner.wrap_compounds.add(this)}return null==this.zpp_inner.space?
null:this.zpp_inner.space.outer},toString:function(){return"Compound"+this.zpp_inner_i.id},copy:function(){return this.zpp_inner.copy()},breakApart:function(){this.zpp_inner.breakApart()},visitBodies:function(a){for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},visitConstraints:function(a){for(var b=this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var c;
b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c);c.visitCompounds(a)}},COM:function(a){null==a&&(a=!1);var b=f.geom.Vec2.get(0,0,a),c=0;this.visitBodies(function(a){a.zpp_inner.wrap_shapes.empty()||(b.addeq(function(){null==a.zpp_inner.wrap_worldCOM&&
(a.zpp_inner.wrap_worldCOM=f.geom.Vec2.get(a.zpp_inner.worldCOMx,a.zpp_inner.worldCOMy,null),a.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,a.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,a.zpp_inner.wrap_worldCOM.zpp_inner._validate=(V=a.zpp_inner,w(V,V.getworldCOM)));return a.zpp_inner.wrap_worldCOM}(this).mul(function(){a.zpp_inner.validate_mass();return a.zpp_inner.cmass}(this),!0)),a.zpp_inner.validate_mass(),c+=a.zpp_inner.cmass)});b.muleq(1/c);return b},translate:function(a){var b=a.zpp_inner.weak;
a.zpp_inner.weak=!1;this.visitBodies(function(b){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.addeq(a)});a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotate:function(a,b){var c=a.zpp_inner.weak;a.zpp_inner.weak=!1;this.visitBodies(function(c){c.rotate(a,b)});a.zpp_inner.weak=c;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},__class__:f.phys.Compound,__properties__:z(f.phys.Interactor.prototype.__properties__,{set_space:"set_space",get_space:"get_space",
set_compound:"set_compound",get_compound:"get_compound",get_compounds:"get_compounds",get_constraints:"get_constraints",get_bodies:"get_bodies"})});f.phys.CompoundIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.phys.CompoundIterator"]=f.phys.CompoundIterator;f.phys.CompoundIterator.__name__=["nape","phys","CompoundIterator"];f.phys.CompoundIterator.get=function(a){var b;null==f.phys.CompoundIterator.zpp_pool?(d.util.ZPP_CompoundList.internal=!0,
b=new f.phys.CompoundIterator,d.util.ZPP_CompoundList.internal=!1):(b=f.phys.CompoundIterator.zpp_pool,f.phys.CompoundIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.CompoundIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.CompoundIterator.zpp_pool;f.phys.CompoundIterator.zpp_pool=
this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.CompoundIterator};f.phys.CompoundList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_CompoundList;this.zpp_inner.outer=this};l["nape.phys.CompoundList"]=f.phys.CompoundList;f.phys.CompoundList.__name__=["nape","phys","CompoundList"];f.phys.CompoundList.fromArray=function(a){for(var b=new f.phys.CompoundList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};
f.phys.CompoundList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||
this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=
null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||
this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=
this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.CompoundIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.CompoundList,c;this.zpp_inner.valmod();for(c=f.phys.CompoundIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=
f.phys.CompoundIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.phys.CompoundIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.phys.CompoundIterator.get(this);b.hasNext();)try{var c=
a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.phys.CompoundIterator.zpp_pool;f.phys.CompoundIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.phys.CompoundList,__properties__:{get_length:"get_length"}};f.phys.FluidProperties=function(a,b){null==b&&(b=1);null==a&&(a=1);this.zpp_inner=null;null==d.phys.ZPP_FluidProperties.zpp_pool?
this.zpp_inner=new d.phys.ZPP_FluidProperties:(this.zpp_inner=d.phys.ZPP_FluidProperties.zpp_pool,d.phys.ZPP_FluidProperties.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;a!=1E3*this.zpp_inner.density&&(this.zpp_inner.density=a/1E3,this.zpp_inner.invalidate());1E3*this.zpp_inner.density;b!=this.zpp_inner.viscosity&&(this.zpp_inner.viscosity=b/1,this.zpp_inner.invalidate());this.zpp_inner.viscosity};l["nape.phys.FluidProperties"]=f.phys.FluidProperties;f.phys.FluidProperties.__name__=
["nape","phys","FluidProperties"];f.phys.FluidProperties.prototype={zpp_inner:null,get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=d.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},copy:function(){var a=new f.phys.FluidProperties(1E3*this.zpp_inner.density,this.zpp_inner.viscosity);null!=this.zpp_inner.userData&&
(a.zpp_inner.userData=u.copy(this.zpp_inner.userData));a.set_gravity(this.zpp_inner.wrap_gravity);return a},get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){a!=1E3*this.zpp_inner.density&&(this.zpp_inner.density=a/1E3,this.zpp_inner.invalidate());return 1E3*this.zpp_inner.density},get_viscosity:function(){return this.zpp_inner.viscosity},set_viscosity:function(a){a!=this.zpp_inner.viscosity&&(this.zpp_inner.viscosity=a/1,this.zpp_inner.invalidate());return this.zpp_inner.viscosity},
get_gravity:function(){return this.zpp_inner.wrap_gravity},set_gravity:function(a){null==a?null!=this.zpp_inner.wrap_gravity&&(this.zpp_inner.wrap_gravity.zpp_inner._inuse=!1,this.zpp_inner.wrap_gravity.dispose(),this.zpp_inner.wrap_gravity=null):(null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity(),this.zpp_inner.wrap_gravity.set(a));return this.zpp_inner.wrap_gravity},toString:function(){return"{ density: "+1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+
C.string(this.zpp_inner.wrap_gravity)+" }"},__class__:f.phys.FluidProperties,__properties__:{set_gravity:"set_gravity",get_gravity:"get_gravity",set_viscosity:"set_viscosity",get_viscosity:"get_viscosity",set_density:"set_density",get_density:"get_density",get_shapes:"get_shapes",get_userData:"get_userData"}};f.phys.GravMassMode=function(){};l["nape.phys.GravMassMode"]=f.phys.GravMassMode;f.phys.GravMassMode.__name__=["nape","phys","GravMassMode"];f.phys.GravMassMode.__properties__={get_SCALED:"get_SCALED",
get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};f.phys.GravMassMode.get_DEFAULT=function(){null==d.util.ZPP_Flags.GravMassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.GravMassMode_DEFAULT};f.phys.GravMassMode.get_FIXED=function(){null==d.util.ZPP_Flags.GravMassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=
!1);return d.util.ZPP_Flags.GravMassMode_FIXED};f.phys.GravMassMode.get_SCALED=function(){null==d.util.ZPP_Flags.GravMassMode_SCALED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.GravMassMode_SCALED};f.phys.GravMassMode.prototype={toString:function(){null==d.util.ZPP_Flags.GravMassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_DEFAULT=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=
!1);if(this==d.util.ZPP_Flags.GravMassMode_DEFAULT)return"DEFAULT";null==d.util.ZPP_Flags.GravMassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_FIXED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.GravMassMode_FIXED)return"FIXED";null==d.util.ZPP_Flags.GravMassMode_SCALED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.GravMassMode_SCALED=new f.phys.GravMassMode,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.GravMassMode_SCALED?
"SCALED":""},__class__:f.phys.GravMassMode};f.phys.InertiaMode=function(){};l["nape.phys.InertiaMode"]=f.phys.InertiaMode;f.phys.InertiaMode.__name__=["nape","phys","InertiaMode"];f.phys.InertiaMode.__properties__={get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};f.phys.InertiaMode.get_DEFAULT=function(){null==d.util.ZPP_Flags.InertiaMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InertiaMode_DEFAULT};
f.phys.InertiaMode.get_FIXED=function(){null==d.util.ZPP_Flags.InertiaMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.InertiaMode_FIXED};f.phys.InertiaMode.prototype={toString:function(){null==d.util.ZPP_Flags.InertiaMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_DEFAULT=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.InertiaMode_DEFAULT)return"DEFAULT";
null==d.util.ZPP_Flags.InertiaMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InertiaMode_FIXED=new f.phys.InertiaMode,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.InertiaMode_FIXED?"FIXED":""},__class__:f.phys.InertiaMode};f.phys.InteractorIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.phys.InteractorIterator"]=f.phys.InteractorIterator;f.phys.InteractorIterator.__name__=["nape","phys","InteractorIterator"];f.phys.InteractorIterator.get=
function(a){var b;null==f.phys.InteractorIterator.zpp_pool?(d.util.ZPP_InteractorList.internal=!0,b=new f.phys.InteractorIterator,d.util.ZPP_InteractorList.internal=!1):(b=f.phys.InteractorIterator.zpp_pool,f.phys.InteractorIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.phys.InteractorIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=
!0;if(this.zpp_i<a)return!0;this.zpp_next=f.phys.InteractorIterator.zpp_pool;f.phys.InteractorIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.phys.InteractorIterator};f.phys.InteractorList=function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_InteractorList;this.zpp_inner.outer=this};l["nape.phys.InteractorList"]=f.phys.InteractorList;f.phys.InteractorList.__name__=["nape","phys","InteractorList"];
f.phys.InteractorList.fromArray=function(a){for(var b=new f.phys.InteractorList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.phys.InteractorList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner_i)},at:function(a){this.zpp_inner.valmod();
this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?
this.zpp_inner.inner.add(a.zpp_inner_i):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)):this.zpp_inner.inner.add(a.zpp_inner_i),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=
this.zpp_inner.inner.head.elt,b=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();
return a.outer_i},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,
b=a.outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer_i},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner_i){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.remove(a.zpp_inner_i),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.phys.InteractorIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.phys.InteractorList,c;this.zpp_inner.valmod();for(c=f.phys.InteractorIterator.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.phys.InteractorIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.phys.InteractorIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();
b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.phys.InteractorIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.phys.InteractorIterator.zpp_pool;f.phys.InteractorIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.phys.InteractorList,__properties__:{get_length:"get_length"}};
f.phys.MassMode=function(){};l["nape.phys.MassMode"]=f.phys.MassMode;f.phys.MassMode.__name__=["nape","phys","MassMode"];f.phys.MassMode.__properties__={get_FIXED:"get_FIXED",get_DEFAULT:"get_DEFAULT"};f.phys.MassMode.get_DEFAULT=function(){null==d.util.ZPP_Flags.MassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.MassMode_DEFAULT};f.phys.MassMode.get_FIXED=function(){null==d.util.ZPP_Flags.MassMode_FIXED&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_FIXED=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.MassMode_FIXED};f.phys.MassMode.prototype={toString:function(){null==d.util.ZPP_Flags.MassMode_DEFAULT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_DEFAULT=new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.MassMode_DEFAULT)return"DEFAULT";null==d.util.ZPP_Flags.MassMode_FIXED&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.MassMode_FIXED=
new f.phys.MassMode,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.MassMode_FIXED?"FIXED":""},__class__:f.phys.MassMode};f.phys.Material=function(a,b,c,j,g){null==g&&(g=0.001);null==j&&(j=1);null==c&&(c=2);null==b&&(b=1);null==a&&(a=0);this.zpp_inner=null;null==d.phys.ZPP_Material.zpp_pool?this.zpp_inner=new d.phys.ZPP_Material:(this.zpp_inner=d.phys.ZPP_Material.zpp_pool,d.phys.ZPP_Material.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;a!=this.zpp_inner.elasticity&&
(this.zpp_inner.elasticity=a/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));this.zpp_inner.elasticity;b!=this.zpp_inner.dynamicFriction&&(this.zpp_inner.dynamicFriction=b/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ANGDRAG|d.phys.ZPP_Material.ARBITERS));this.zpp_inner.dynamicFriction;c!=this.zpp_inner.staticFriction&&(this.zpp_inner.staticFriction=c/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));
this.zpp_inner.staticFriction;j!=1E3*this.zpp_inner.density&&(this.zpp_inner.density=j/1E3,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.PROPS));1E3*this.zpp_inner.density;g!=this.zpp_inner.rollingFriction&&(this.zpp_inner.rollingFriction=g/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));this.zpp_inner.rollingFriction};l["nape.phys.Material"]=f.phys.Material;f.phys.Material.__name__=["nape","phys","Material"];f.phys.Material.wood=function(){return new f.phys.Material(0.4,
0.2,0.38,0.7,0.005)};f.phys.Material.steel=function(){return new f.phys.Material(0.2,0.57,0.74,7.8,0.001)};f.phys.Material.ice=function(){return new f.phys.Material(0.3,0.03,0.1,0.9,1E-4)};f.phys.Material.rubber=function(){return new f.phys.Material(0.8,1,1.4,1.5,0.01)};f.phys.Material.glass=function(){return new f.phys.Material(0.4,0.4,0.94,2.6,0.002)};f.phys.Material.sand=function(){return new f.phys.Material(-1,0.45,0.6,1.6,16)};f.phys.Material.prototype={zpp_inner:null,get_userData:function(){null==
this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=d.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},copy:function(){var a=new f.phys.Material(this.zpp_inner.elasticity,this.zpp_inner.dynamicFriction,this.zpp_inner.staticFriction,1E3*this.zpp_inner.density,this.zpp_inner.rollingFriction);null!=this.zpp_inner.userData&&(a.zpp_inner.userData=u.copy(this.zpp_inner.userData));
return a},get_elasticity:function(){return this.zpp_inner.elasticity},set_elasticity:function(a){a!=this.zpp_inner.elasticity&&(this.zpp_inner.elasticity=a/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));return this.zpp_inner.elasticity},get_dynamicFriction:function(){return this.zpp_inner.dynamicFriction},set_dynamicFriction:function(a){a!=this.zpp_inner.dynamicFriction&&(this.zpp_inner.dynamicFriction=a/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ANGDRAG|
d.phys.ZPP_Material.ARBITERS));return this.zpp_inner.dynamicFriction},get_staticFriction:function(){return this.zpp_inner.staticFriction},set_staticFriction:function(a){a!=this.zpp_inner.staticFriction&&(this.zpp_inner.staticFriction=a/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));return this.zpp_inner.staticFriction},get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){a!=1E3*this.zpp_inner.density&&(this.zpp_inner.density=a/1E3,
this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.PROPS));return 1E3*this.zpp_inner.density},get_rollingFriction:function(){return this.zpp_inner.rollingFriction},set_rollingFriction:function(a){a!=this.zpp_inner.rollingFriction&&(this.zpp_inner.rollingFriction=a/1,this.zpp_inner.invalidate(d.phys.ZPP_Material.WAKE|d.phys.ZPP_Material.ARBITERS));return this.zpp_inner.rollingFriction},toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+
" staticFriction: "+this.zpp_inner.staticFriction+" density: "+1E3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:f.phys.Material,__properties__:{set_rollingFriction:"set_rollingFriction",get_rollingFriction:"get_rollingFriction",set_density:"set_density",get_density:"get_density",set_staticFriction:"set_staticFriction",get_staticFriction:"get_staticFriction",set_dynamicFriction:"set_dynamicFriction",get_dynamicFriction:"get_dynamicFriction",set_elasticity:"set_elasticity",
get_elasticity:"get_elasticity",get_shapes:"get_shapes",get_userData:"get_userData"}};f.shape={};f.shape.Shape=function(){this.zpp_inner=null;f.phys.Interactor.call(this)};l["nape.shape.Shape"]=f.shape.Shape;f.shape.Shape.__name__=["nape","shape","Shape"];f.shape.Shape.__super__=f.phys.Interactor;f.shape.Shape.prototype=z(f.phys.Interactor.prototype,{zpp_inner:null,get_type:function(){return d.shape.ZPP_Shape.types[this.zpp_inner.type]},isCircle:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE},
isPolygon:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_POLYGON},get_body:function(){return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},set_body:function(a){this.zpp_inner.immutable_midstep("Shape::body");if((null!=this.zpp_inner.body?this.zpp_inner.body.outer:null)!=a)null!=this.zpp_inner.body&&(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(this),null!=a&&a.zpp_inner.wrap_shapes.add(this);return null!=this.zpp_inner.body?
this.zpp_inner.body.outer:null},get_castCircle:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.outer_zn:null},get_castPolygon:function(){return this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_POLYGON?this.zpp_inner.polygon.outer_zn:null},get_worldCOM:function(){null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=f.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,
this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=(V=this.zpp_inner,w(V,V.getworldCOM)));return this.zpp_inner.wrap_worldCOM},get_localCOM:function(){null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},set_localCOM:function(a){this.zpp_inner.immutable_midstep("Body::localCOM");null==this.zpp_inner.wrap_localCOM&&
(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());this.zpp_inner.wrap_localCOM.set(a);null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},get_area:function(){this.zpp_inner.validate_area_inertia();return this.zpp_inner.area},get_inertia:function(){this.zpp_inner.validate_area_inertia();
return this.zpp_inner.inertia},get_angDrag:function(){this.zpp_inner.validate_angDrag();return this.zpp_inner.angDrag},get_material:function(){return this.zpp_inner.material.wrapper()},set_material:function(a){this.zpp_inner.immutable_midstep("Shape::material");this.zpp_inner.setMaterial(a.zpp_inner);return this.zpp_inner.material.wrapper()},get_filter:function(){return this.zpp_inner.filter.wrapper()},set_filter:function(a){this.zpp_inner.immutable_midstep("Shape::filter");this.zpp_inner.setFilter(a.zpp_inner);
return this.zpp_inner.filter.wrapper()},get_fluidProperties:function(){this.zpp_inner.immutable_midstep("Shape::fluidProperties");null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new f.phys.FluidProperties).zpp_inner);return this.zpp_inner.fluidProperties.wrapper()},set_fluidProperties:function(a){this.zpp_inner.setFluid(a.zpp_inner);this.zpp_inner.immutable_midstep("Shape::fluidProperties");null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new f.phys.FluidProperties).zpp_inner);
return this.zpp_inner.fluidProperties.wrapper()},get_fluidEnabled:function(){return this.zpp_inner.fluidEnabled},set_fluidEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::fluidEnabled");(this.zpp_inner.fluidEnabled=a)&&null==this.zpp_inner.fluidProperties&&this.set_fluidProperties(new f.phys.FluidProperties);this.zpp_inner.wake();return this.zpp_inner.fluidEnabled},get_sensorEnabled:function(){return this.zpp_inner.sensorEnabled},set_sensorEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::sensorEnabled");
this.zpp_inner.sensorEnabled=a;this.zpp_inner.wake();return this.zpp_inner.sensorEnabled},get_bounds:function(){return this.zpp_inner.aabb.wrapper()},translate:function(a){this.zpp_inner.immutable_midstep("Shape::translate()");0<a.lsq()&&(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__translate(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)):this.zpp_inner.polygon.__translate(function(){a.zpp_inner.validate();
return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},scale:function(a,b){this.zpp_inner.immutable_midstep("Shape::scale()");if(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){var c=a*a-b*b;c*c<f.Config.epsilon*f.Config.epsilon&&this.zpp_inner.circle.__scale(a,b)}else this.zpp_inner.polygon.__scale(a,b);return this},rotate:function(a){this.zpp_inner.immutable_midstep("Shape::rotate()");if(0!=a%(2*Math.PI)){var b=
Math.cos(a),a=Math.sin(a);this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__rotate(a,b):this.zpp_inner.polygon.__rotate(a,b)}return this},transform:function(a){this.zpp_inner.immutable_midstep("Shape::transform()");this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.equiorthogonal()&&this.zpp_inner.circle.__transform(a):this.zpp_inner.polygon.__transform(a);return this},contains:function(a){d.geom.ZPP_Geom.validateShape(this.zpp_inner);a.zpp_inner.validate();
var b=d.geom.ZPP_Collide.shapeContains(this.zpp_inner,a.zpp_inner);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},copy:function(){return this.zpp_inner.copy()},toString:function(){return(this.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:f.shape.Shape,__properties__:z(f.phys.Interactor.prototype.__properties__,{get_bounds:"get_bounds",set_sensorEnabled:"set_sensorEnabled",get_sensorEnabled:"get_sensorEnabled",set_fluidEnabled:"set_fluidEnabled",
get_fluidEnabled:"get_fluidEnabled",set_fluidProperties:"set_fluidProperties",get_fluidProperties:"get_fluidProperties",set_filter:"set_filter",get_filter:"get_filter",set_material:"set_material",get_material:"get_material",get_angDrag:"get_angDrag",get_inertia:"get_inertia",get_area:"get_area",set_localCOM:"set_localCOM",get_localCOM:"get_localCOM",get_worldCOM:"get_worldCOM",get_castPolygon:"get_castPolygon",get_castCircle:"get_castCircle",set_body:"set_body",get_body:"get_body",get_type:"get_type"})});
f.shape.Circle=function(a,b,c,j){this.zpp_inner_zn=null;f.shape.Shape.call(this);this.zpp_inner_zn=new d.shape.ZPP_Circle;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;this.zpp_inner.immutable_midstep("Circle::radius");a!=this.zpp_inner_zn.radius&&(this.zpp_inner_zn.radius=a,this.zpp_inner_zn.invalidate_radius());this.zpp_inner_zn.radius;null==b?(this.zpp_inner.localCOMx=0,this.zpp_inner.localCOMy=0):(b.zpp_inner.validate(),
this.zpp_inner.localCOMx=b.zpp_inner.x,b.zpp_inner.validate(),this.zpp_inner.localCOMy=b.zpp_inner.y,b.zpp_inner.weak?(b.dispose(),!0):!1);null==c?(null==d.phys.ZPP_Material.zpp_pool?this.zpp_inner.material=new d.phys.ZPP_Material:(this.zpp_inner.material=d.phys.ZPP_Material.zpp_pool,d.phys.ZPP_Material.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null),null):(this.zpp_inner.immutable_midstep("Shape::material"),this.zpp_inner.setMaterial(c.zpp_inner),this.zpp_inner.material.wrapper());
null==j?(null==d.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new d.dynamics.ZPP_InteractionFilter:(this.zpp_inner.filter=d.dynamics.ZPP_InteractionFilter.zpp_pool,d.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null),null):(this.zpp_inner.immutable_midstep("Shape::filter"),this.zpp_inner.setFilter(j.zpp_inner),this.zpp_inner.filter.wrapper());this.zpp_inner_i.insert_cbtype(d.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};l["nape.shape.Circle"]=
f.shape.Circle;f.shape.Circle.__name__=["nape","shape","Circle"];f.shape.Circle.__super__=f.shape.Shape;f.shape.Circle.prototype=z(f.shape.Shape.prototype,{zpp_inner_zn:null,get_radius:function(){return this.zpp_inner_zn.radius},set_radius:function(a){this.zpp_inner.immutable_midstep("Circle::radius");a!=this.zpp_inner_zn.radius&&(this.zpp_inner_zn.radius=a,this.zpp_inner_zn.invalidate_radius());return this.zpp_inner_zn.radius},__class__:f.shape.Circle,__properties__:z(f.shape.Shape.prototype.__properties__,
{set_radius:"set_radius",get_radius:"get_radius"})});f.shape.Edge=function(){this.zpp_inner=null};l["nape.shape.Edge"]=f.shape.Edge;f.shape.Edge.__name__=["nape","shape","Edge"];f.shape.Edge.prototype={zpp_inner:null,get_polygon:function(){return this.zpp_inner.polygon.outer_zn},get_localNormal:function(){null==this.zpp_inner.wrap_lnorm&&this.zpp_inner.getlnorm();return this.zpp_inner.wrap_lnorm},get_worldNormal:function(){null==this.zpp_inner.wrap_gnorm&&this.zpp_inner.getgnorm();return this.zpp_inner.wrap_gnorm},
get_length:function(){this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.length},get_localProjection:function(){this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lprojection},get_worldProjection:function(){this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gprojection},get_localVertex1:function(){this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp0.wrapper()},get_localVertex2:function(){this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp1.wrapper()},
get_worldVertex1:function(){this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp0.wrapper()},get_worldVertex2:function(){this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp1.wrapper()},toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";this.zpp_inner.polygon.validate_gaxi();return"{ localNormal : "+
("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:f.shape.Edge,__properties__:{get_worldVertex2:"get_worldVertex2",get_worldVertex1:"get_worldVertex1",get_localVertex2:"get_localVertex2",get_localVertex1:"get_localVertex1",get_worldProjection:"get_worldProjection",get_localProjection:"get_localProjection",get_length:"get_length",get_worldNormal:"get_worldNormal",get_localNormal:"get_localNormal",
get_polygon:"get_polygon"}};f.shape.EdgeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.shape.EdgeIterator"]=f.shape.EdgeIterator;f.shape.EdgeIterator.__name__=["nape","shape","EdgeIterator"];f.shape.EdgeIterator.get=function(a){var b;null==f.shape.EdgeIterator.zpp_pool?(d.util.ZPP_EdgeList.internal=!0,b=new f.shape.EdgeIterator,d.util.ZPP_EdgeList.internal=!1):(b=f.shape.EdgeIterator.zpp_pool,f.shape.EdgeIterator.zpp_pool=b.zpp_next);b.zpp_i=
0;b.zpp_inner=a;b.zpp_critical=!1;return b};f.shape.EdgeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.shape.EdgeIterator.zpp_pool;f.shape.EdgeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.shape.EdgeIterator};f.shape.EdgeList=
function(){this.zpp_inner=null;this.zpp_inner=new d.util.ZPP_EdgeList;this.zpp_inner.outer=this};l["nape.shape.EdgeList"]=f.shape.EdgeList;f.shape.EdgeList.__name__=["nape","shape","EdgeList"];f.shape.EdgeList.fromArray=function(a){for(var b=new f.shape.EdgeList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.shape.EdgeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);
return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},
push:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&
this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();
return f.shape.EdgeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new f.shape.EdgeList,c;this.zpp_inner.valmod();for(c=f.shape.EdgeIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.shape.EdgeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,
c;this.zpp_inner.valmod();for(c=f.shape.EdgeIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.shape.EdgeIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.shape.EdgeIterator.zpp_pool;f.shape.EdgeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=
0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},__class__:f.shape.EdgeList,__properties__:{get_length:"get_length"}};f.shape.Polygon=function(a,b,c){this.zpp_inner_zn=null;f.shape.Shape.call(this);this.zpp_inner_zn=new d.shape.ZPP_Polygon;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;if(a instanceof Array&&null==a.__enum__)for(var j=0;j<a.length;){var g=
a[j];++j;var i=g,g=void 0;null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();g=this.zpp_inner_zn.wrap_lverts;g.push(f.geom.Vec2.get(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this),!1))}else if(D.Boot.__instanceof(a,f.geom.Vec2List))for(j=a.iterator();j.hasNext();){var e;j.zpp_critical=!1;e=j.zpp_inner.at(j.zpp_i++);g=void 0;null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();g=this.zpp_inner_zn.wrap_lverts;
g.push(f.geom.Vec2.get(function(){e.zpp_inner.validate();return e.zpp_inner.x}(this),function(){e.zpp_inner.validate();return e.zpp_inner.y}(this),!1))}else if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(j=a.zpp_inner.vertices,null!=j)){g=j;do{var n=f.geom.Vec2.get(g.x,g.y,null),g=g.next,o=void 0;null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();o=this.zpp_inner_zn.wrap_lverts;o.push(f.geom.Vec2.get(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();
return n.zpp_inner.y}(this),!1));n.dispose()}while(g!=j)}if(a instanceof Array&&null==a.__enum__)for(j=0;j<a.length;)g=a[j],g.zpp_inner.weak?(o=void 0,g.dispose(),g=o=!0):g=!1,g?a.splice(j,1):j++;else if(D.Boot.__instanceof(a,f.geom.Vec2List)){null!=a.zpp_inner._validate&&a.zpp_inner._validate();a=a.zpp_inner.inner;j=null;for(g=a.head;null!=g;)o=g.elt,o.outer.zpp_inner.weak?(g=a.erase(j),o.outer.zpp_inner.weak?(o.outer.dispose(),!0):!1):(j=g,g=g.next)}null==b?(null==d.phys.ZPP_Material.zpp_pool?this.zpp_inner.material=
new d.phys.ZPP_Material:(this.zpp_inner.material=d.phys.ZPP_Material.zpp_pool,d.phys.ZPP_Material.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null),null):(this.zpp_inner.immutable_midstep("Shape::material"),this.zpp_inner.setMaterial(b.zpp_inner),this.zpp_inner.material.wrapper());null==c?(null==d.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new d.dynamics.ZPP_InteractionFilter:(this.zpp_inner.filter=d.dynamics.ZPP_InteractionFilter.zpp_pool,d.dynamics.ZPP_InteractionFilter.zpp_pool=
this.zpp_inner.filter.next,this.zpp_inner.filter.next=null),null):(this.zpp_inner.immutable_midstep("Shape::filter"),this.zpp_inner.setFilter(c.zpp_inner),this.zpp_inner.filter.wrapper());this.zpp_inner_i.insert_cbtype(d.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};l["nape.shape.Polygon"]=f.shape.Polygon;f.shape.Polygon.__name__=["nape","shape","Polygon"];f.shape.Polygon.rect=function(a,b,c,d,g){null==g&&(g=!1);return[f.geom.Vec2.get(a,b,g),f.geom.Vec2.get(a+c,b,g),f.geom.Vec2.get(a+c,b+d,g),f.geom.Vec2.get(a,
b+d,g)]};f.shape.Polygon.box=function(a,b,c){null==c&&(c=!1);return f.shape.Polygon.rect(-a/2,-b/2,a,b,c)};f.shape.Polygon.regular=function(a,b,c,d,g){null==g&&(g=!1);null==d&&(d=0);for(var i=[],e=2*Math.PI/c,n=0;n<c;){var o=n++*e+d,o=f.geom.Vec2.get(Math.cos(o)*a,Math.sin(o)*b,g);i.push(o)}return i};f.shape.Polygon.__super__=f.shape.Shape;f.shape.Polygon.prototype=z(f.shape.Shape.prototype,{zpp_inner_zn:null,get_localVerts:function(){null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();
return this.zpp_inner_zn.wrap_lverts},get_worldVerts:function(){null==this.zpp_inner_zn.wrap_gverts&&this.zpp_inner_zn.getgverts();return this.zpp_inner_zn.wrap_gverts},get_edges:function(){null==this.zpp_inner_zn.wrap_edges&&this.zpp_inner_zn.getedges();return this.zpp_inner_zn.wrap_edges},validity:function(){return this.zpp_inner_zn.valid()},__class__:f.shape.Polygon,__properties__:z(f.shape.Shape.prototype.__properties__,{get_edges:"get_edges",get_worldVerts:"get_worldVerts",get_localVerts:"get_localVerts"})});
f.shape.ShapeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};l["nape.shape.ShapeIterator"]=f.shape.ShapeIterator;f.shape.ShapeIterator.__name__=["nape","shape","ShapeIterator"];f.shape.ShapeIterator.get=function(a){var b;null==f.shape.ShapeIterator.zpp_pool?(d.util.ZPP_ShapeList.internal=!0,b=new f.shape.ShapeIterator,d.util.ZPP_ShapeList.internal=!1):(b=f.shape.ShapeIterator.zpp_pool,f.shape.ShapeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;
b.zpp_critical=!1;return b};f.shape.ShapeIterator.prototype={zpp_inner:null,zpp_i:null,zpp_critical:null,zpp_next:null,hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=f.shape.ShapeIterator.zpp_pool;f.shape.ShapeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:f.shape.ShapeIterator};f.shape.ShapeList=function(){this.zpp_inner=
null;this.zpp_inner=new d.util.ZPP_ShapeList;this.zpp_inner.outer=this};l["nape.shape.ShapeList"]=f.shape.ShapeList;f.shape.ShapeList.__name__=["nape","shape","ShapeList"];f.shape.ShapeList.fromArray=function(a){for(var b=new f.shape.ShapeList,c=0;c<a.length;){var d=a[c];++c;b.push(d)}return b};f.shape.ShapeList.prototype={zpp_inner:null,get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){this.zpp_inner.modify_test();
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){this.zpp_inner.modify_test();this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,c=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var c=this.zpp_inner.inner.head;null!=c;){if(c.elt==a.zpp_inner){b=!0;break}c=
c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return f.shape.ShapeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=
new f.shape.ShapeList,c;this.zpp_inner.valmod();for(c=f.shape.ShapeIterator.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b.push(a?null:d)}return b},merge:function(a){a.zpp_inner.valmod();for(a=f.shape.ShapeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=f.shape.ShapeIterator.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},foreach:function(a){var b;this.zpp_inner.valmod();for(b=f.shape.ShapeIterator.get(this);b.hasNext();)try{var c=a,d=void 0;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);c(d)}catch(g){b.zpp_next=f.shape.ShapeIterator.zpp_pool;f.shape.ShapeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){for(var b=0;b<this.get_length();){var c=this.at(b);try{a(c)?b++:this.remove(c)}catch(d){break}}return this},
__class__:f.shape.ShapeList,__properties__:{get_length:"get_length"}};f.shape.ShapeType=function(){};l["nape.shape.ShapeType"]=f.shape.ShapeType;f.shape.ShapeType.__name__=["nape","shape","ShapeType"];f.shape.ShapeType.__properties__={get_POLYGON:"get_POLYGON",get_CIRCLE:"get_CIRCLE"};f.shape.ShapeType.get_CIRCLE=function(){null==d.util.ZPP_Flags.ShapeType_CIRCLE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_CIRCLE=new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ShapeType_CIRCLE};
f.shape.ShapeType.get_POLYGON=function(){null==d.util.ZPP_Flags.ShapeType_POLYGON&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ShapeType_POLYGON};f.shape.ShapeType.prototype={toString:function(){null==d.util.ZPP_Flags.ShapeType_CIRCLE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_CIRCLE=new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ShapeType_CIRCLE)return"CIRCLE";
null==d.util.ZPP_Flags.ShapeType_POLYGON&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.ShapeType_POLYGON?"POLYGON":""},__class__:f.shape.ShapeType};f.shape.ValidationResult=function(){};l["nape.shape.ValidationResult"]=f.shape.ValidationResult;f.shape.ValidationResult.__name__=["nape","shape","ValidationResult"];f.shape.ValidationResult.__properties__={get_SELF_INTERSECTING:"get_SELF_INTERSECTING",
get_CONCAVE:"get_CONCAVE",get_DEGENERATE:"get_DEGENERATE",get_VALID:"get_VALID"};f.shape.ValidationResult.get_VALID=function(){null==d.util.ZPP_Flags.ValidationResult_VALID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ValidationResult_VALID};f.shape.ValidationResult.get_DEGENERATE=function(){null==d.util.ZPP_Flags.ValidationResult_DEGENERATE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_DEGENERATE=
new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ValidationResult_DEGENERATE};f.shape.ValidationResult.get_CONCAVE=function(){null==d.util.ZPP_Flags.ValidationResult_CONCAVE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_CONCAVE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ValidationResult_CONCAVE};f.shape.ValidationResult.get_SELF_INTERSECTING=function(){null==d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING};f.shape.ValidationResult.prototype={toString:function(){null==d.util.ZPP_Flags.ValidationResult_VALID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ValidationResult_VALID)return"VALID";null==
d.util.ZPP_Flags.ValidationResult_DEGENERATE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ValidationResult_DEGENERATE)return"DEGENERATE";null==d.util.ZPP_Flags.ValidationResult_CONCAVE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_CONCAVE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.ValidationResult_CONCAVE)return"CONCAVE";null==
d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":""},__class__:f.shape.ValidationResult};f.space={};f.space.Broadphase=function(){};l["nape.space.Broadphase"]=f.space.Broadphase;f.space.Broadphase.__name__=["nape","space","Broadphase"];f.space.Broadphase.__properties__={get_SWEEP_AND_PRUNE:"get_SWEEP_AND_PRUNE",
get_DYNAMIC_AABB_TREE:"get_DYNAMIC_AABB_TREE"};f.space.Broadphase.get_DYNAMIC_AABB_TREE=function(){null==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE};f.space.Broadphase.get_SWEEP_AND_PRUNE=function(){null==d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=
new f.space.Broadphase,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE};f.space.Broadphase.prototype={toString:function(){null==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1);if(this==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE)return"DYNAMIC_AABB_TREE";null==d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=
new f.space.Broadphase,d.util.ZPP_Flags.internal=!1);return this==d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":""},__class__:f.space.Broadphase};f.space.Space=function(a,b){this.zpp_inner=null;this.zpp_inner=new d.space.ZPP_Space(null==a?null:a.zpp_inner,b);this.zpp_inner.outer=this;null!=a&&(a.zpp_inner.weak?(a.dispose(),!0):!1)};l["nape.space.Space"]=f.space.Space;f.space.Space.__name__=["nape","space","Space"];f.space.Space.prototype={zpp_inner:null,get_userData:function(){null==
this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_gravity:function(){null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},set_gravity:function(a){null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();this.zpp_inner.wrap_gravity.set(a);null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},get_broadphase:function(){if(this.zpp_inner.bphase.is_sweep)return null==
d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE;null==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1);return d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE},get_sortContacts:function(){return this.zpp_inner.sortcontacts},
set_sortContacts:function(a){this.zpp_inner.sortcontacts=a;return this.zpp_inner.sortcontacts},get_worldAngularDrag:function(){return this.zpp_inner.global_ang_drag},set_worldAngularDrag:function(a){this.zpp_inner.global_ang_drag=a;return this.zpp_inner.global_ang_drag},get_worldLinearDrag:function(){return this.zpp_inner.global_lin_drag},set_worldLinearDrag:function(a){this.zpp_inner.global_lin_drag=a;return this.zpp_inner.global_lin_drag},get_compounds:function(){return this.zpp_inner.wrap_compounds},
get_bodies:function(){return this.zpp_inner.wrap_bodies},get_liveBodies:function(){return this.zpp_inner.wrap_live},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_liveConstraints:function(){return this.zpp_inner.wrap_livecon},visitBodies:function(a){for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},
visitConstraints:function(a){for(var b=this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);a(c);c.visitCompounds(a)}},get_world:function(){return this.zpp_inner.__static},
get_arbiters:function(){if(null==this.zpp_inner.wrap_arbiters){var a=new d.dynamics.ZPP_SpaceArbiterList;a.space=this.zpp_inner;this.zpp_inner.wrap_arbiters=a}return this.zpp_inner.wrap_arbiters},get_listeners:function(){return this.zpp_inner.wrap_listeners},clear:function(){this.zpp_inner.clear()},step:function(a,b,c){null==c&&(c=10);null==b&&(b=10);this.zpp_inner.step(a,b,c)},get_timeStamp:function(){return this.zpp_inner.stamp},get_elapsedTime:function(){return this.zpp_inner.time},interactionType:function(a,
b){if((null!=a.zpp_inner.body?a.zpp_inner.body.outer:null).zpp_inner.type==d.util.ZPP_Flags.id_BodyType_STATIC&&(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null).zpp_inner.type==d.util.ZPP_Flags.id_BodyType_STATIC||(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))return null;var c=a.zpp_inner,j=b.zpp_inner;switch(this.zpp_inner.interactionType(c,j,c.body,j.body)){case 0:return null==d.util.ZPP_Flags.InteractionType_FLUID&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.InteractionType_FLUID=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_FLUID;case 1:return null==d.util.ZPP_Flags.InteractionType_COLLISION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_COLLISION=new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_COLLISION;case 2:return null==d.util.ZPP_Flags.InteractionType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.InteractionType_SENSOR=
new f.callbacks.InteractionType,d.util.ZPP_Flags.internal=!1),d.util.ZPP_Flags.InteractionType_SENSOR;default:return null}},shapesUnderPoint:function(a,b,c){b=this.zpp_inner.shapesUnderPoint(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,c);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesUnderPoint:function(a,b,c){b=this.zpp_inner.bodiesUnderPoint(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),
function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,c);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},shapesInAABB:function(a,b,c,d,g){null==c&&(c=!0);null==b&&(b=!1);return this.zpp_inner.shapesInAABB(a,c,b,null==d?null:d.zpp_inner,g)},bodiesInAABB:function(a,b,c,d,g){null==c&&(c=!0);null==b&&(b=!1);return this.zpp_inner.bodiesInAABB(a,c,b,null==d?null:d.zpp_inner,g)},shapesInCircle:function(a,b,c,d,g){null==c&&(c=!1);b=this.zpp_inner.shapesInCircle(a,b,c,null==
d?null:d.zpp_inner,g);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesInCircle:function(a,b,c,d,g){null==c&&(c=!1);b=this.zpp_inner.bodiesInCircle(a,b,c,null==d?null:d.zpp_inner,g);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},shapesInShape:function(a,b,c,d){null==b&&(b=!1);return this.zpp_inner.shapesInShape(a.zpp_inner,b,null==c?null:c.zpp_inner,d)},bodiesInShape:function(a,b,c,d){null==b&&(b=!1);return this.zpp_inner.bodiesInShape(a.zpp_inner,b,null==c?null:c.zpp_inner,d)},shapesInBody:function(a,
b,c){c=null==c?new f.shape.ShapeList:c;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var d;a.zpp_critical=!1;d=a.zpp_inner.at(a.zpp_i++);this.shapesInShape(d,!1,b,c)}return c},bodiesInBody:function(a,b,c){c=null==c?new f.phys.BodyList:c;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var d;a.zpp_critical=!1;d=a.zpp_inner.at(a.zpp_i++);this.bodiesInShape(d,!1,b,c)}return c},convexCast:function(a,b,c,d){null==c&&(c=!1);return this.zpp_inner.convexCast(a.zpp_inner,b,d,c)},convexMultiCast:function(a,
b,c,d,g){null==c&&(c=!1);return this.zpp_inner.convexMultiCast(a.zpp_inner,b,d,c,g)},rayCast:function(a,b,c){null==b&&(b=!1);return this.zpp_inner.rayCast(a,b,c)},rayMultiCast:function(a,b,c,d){null==b&&(b=!1);return this.zpp_inner.rayMultiCast(a,b,c,d)},__class__:f.space.Space,__properties__:{get_elapsedTime:"get_elapsedTime",get_timeStamp:"get_timeStamp",get_listeners:"get_listeners",get_arbiters:"get_arbiters",get_world:"get_world",get_liveConstraints:"get_liveConstraints",get_constraints:"get_constraints",
get_liveBodies:"get_liveBodies",get_bodies:"get_bodies",get_compounds:"get_compounds",set_worldLinearDrag:"set_worldLinearDrag",get_worldLinearDrag:"get_worldLinearDrag",set_worldAngularDrag:"set_worldAngularDrag",get_worldAngularDrag:"get_worldAngularDrag",set_sortContacts:"set_sortContacts",get_sortContacts:"get_sortContacts",get_broadphase:"get_broadphase",set_gravity:"set_gravity",get_gravity:"get_gravity",get_userData:"get_userData"}};f.util={};f.util.Debug=function(){this.cullingEnabled=!1;
this.colour=null;this.drawCollisionArbiters=this.drawFluidArbiters=this.drawSensorArbiters=this.drawBodies=this.drawBodyDetail=this.drawShapeDetail=this.drawShapeAngleIndicators=this.drawConstraints=!1;this.zpp_inner=null;this.drawSensorArbiters=this.drawFluidArbiters=this.drawCollisionArbiters=!1;this.drawShapeAngleIndicators=this.drawBodies=!0;this.cullingEnabled=this.drawConstraints=this.drawShapeDetail=this.drawBodyDetail=!1;this.colour=null};l["nape.util.Debug"]=f.util.Debug;f.util.Debug.__name__=
["nape","util","Debug"];f.util.Debug.version=function(){return"Nape 2.0.19"};f.util.Debug.clearObjectPools=function(){for(;null!=f.constraint.ConstraintIterator.zpp_pool;){var a=f.constraint.ConstraintIterator.zpp_pool.zpp_next;f.constraint.ConstraintIterator.zpp_pool.zpp_next=null;f.constraint.ConstraintIterator.zpp_pool=a}for(;null!=f.phys.InteractorIterator.zpp_pool;)a=f.phys.InteractorIterator.zpp_pool.zpp_next,f.phys.InteractorIterator.zpp_pool.zpp_next=null,f.phys.InteractorIterator.zpp_pool=
a;for(;null!=f.phys.BodyIterator.zpp_pool;)a=f.phys.BodyIterator.zpp_pool.zpp_next,f.phys.BodyIterator.zpp_pool.zpp_next=null,f.phys.BodyIterator.zpp_pool=a;for(;null!=f.phys.CompoundIterator.zpp_pool;)a=f.phys.CompoundIterator.zpp_pool.zpp_next,f.phys.CompoundIterator.zpp_pool.zpp_next=null,f.phys.CompoundIterator.zpp_pool=a;for(;null!=f.callbacks.ListenerIterator.zpp_pool;)a=f.callbacks.ListenerIterator.zpp_pool.zpp_next,f.callbacks.ListenerIterator.zpp_pool.zpp_next=null,f.callbacks.ListenerIterator.zpp_pool=
a;for(;null!=f.callbacks.CbTypeIterator.zpp_pool;)a=f.callbacks.CbTypeIterator.zpp_pool.zpp_next,f.callbacks.CbTypeIterator.zpp_pool.zpp_next=null,f.callbacks.CbTypeIterator.zpp_pool=a;for(;null!=f.geom.ConvexResultIterator.zpp_pool;)a=f.geom.ConvexResultIterator.zpp_pool.zpp_next,f.geom.ConvexResultIterator.zpp_pool.zpp_next=null,f.geom.ConvexResultIterator.zpp_pool=a;for(;null!=f.geom.GeomPolyIterator.zpp_pool;)a=f.geom.GeomPolyIterator.zpp_pool.zpp_next,f.geom.GeomPolyIterator.zpp_pool.zpp_next=
null,f.geom.GeomPolyIterator.zpp_pool=a;for(;null!=f.geom.Vec2Iterator.zpp_pool;)a=f.geom.Vec2Iterator.zpp_pool.zpp_next,f.geom.Vec2Iterator.zpp_pool.zpp_next=null,f.geom.Vec2Iterator.zpp_pool=a;for(;null!=f.geom.RayResultIterator.zpp_pool;)a=f.geom.RayResultIterator.zpp_pool.zpp_next,f.geom.RayResultIterator.zpp_pool.zpp_next=null,f.geom.RayResultIterator.zpp_pool=a;for(;null!=f.shape.ShapeIterator.zpp_pool;)a=f.shape.ShapeIterator.zpp_pool.zpp_next,f.shape.ShapeIterator.zpp_pool.zpp_next=null,f.shape.ShapeIterator.zpp_pool=
a;for(;null!=f.shape.EdgeIterator.zpp_pool;)a=f.shape.EdgeIterator.zpp_pool.zpp_next,f.shape.EdgeIterator.zpp_pool.zpp_next=null,f.shape.EdgeIterator.zpp_pool=a;for(;null!=f.dynamics.ContactIterator.zpp_pool;)a=f.dynamics.ContactIterator.zpp_pool.zpp_next,f.dynamics.ContactIterator.zpp_pool.zpp_next=null,f.dynamics.ContactIterator.zpp_pool=a;for(;null!=f.dynamics.ArbiterIterator.zpp_pool;)a=f.dynamics.ArbiterIterator.zpp_pool.zpp_next,f.dynamics.ArbiterIterator.zpp_pool.zpp_next=null,f.dynamics.ArbiterIterator.zpp_pool=
a;for(;null!=f.dynamics.InteractionGroupIterator.zpp_pool;)a=f.dynamics.InteractionGroupIterator.zpp_pool.zpp_next,f.dynamics.InteractionGroupIterator.zpp_pool.zpp_next=null,f.dynamics.InteractionGroupIterator.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CbType.zpp_pool;)a=d.util.ZNPNode_ZPP_CbType.zpp_pool.next,d.util.ZNPNode_ZPP_CbType.zpp_pool.next=null,d.util.ZNPNode_ZPP_CbType.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool;)a=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next,d.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next=
null,d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;for(;null!=d.phys.ZPP_Material.zpp_pool;)a=d.phys.ZPP_Material.zpp_pool.next,d.phys.ZPP_Material.zpp_pool.next=null,d.phys.ZPP_Material.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Shape.zpp_pool;)a=d.util.ZNPNode_ZPP_Shape.zpp_pool.next,d.util.ZNPNode_ZPP_Shape.zpp_pool.next=null,d.util.ZNPNode_ZPP_Shape.zpp_pool=a;for(;null!=d.phys.ZPP_FluidProperties.zpp_pool;)a=d.phys.ZPP_FluidProperties.zpp_pool.next,d.phys.ZPP_FluidProperties.zpp_pool.next=null,d.phys.ZPP_FluidProperties.zpp_pool=
a;for(;null!=d.util.ZNPNode_ZPP_Body.zpp_pool;)a=d.util.ZNPNode_ZPP_Body.zpp_pool.next,d.util.ZNPNode_ZPP_Body.zpp_pool.next=null,d.util.ZNPNode_ZPP_Body.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Constraint.zpp_pool;)a=d.util.ZNPNode_ZPP_Constraint.zpp_pool.next,d.util.ZNPNode_ZPP_Constraint.zpp_pool.next=null,d.util.ZNPNode_ZPP_Constraint.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Compound.zpp_pool;)a=d.util.ZNPNode_ZPP_Compound.zpp_pool.next,d.util.ZNPNode_ZPP_Compound.zpp_pool.next=null,d.util.ZNPNode_ZPP_Compound.zpp_pool=
a;for(;null!=d.callbacks.ZPP_CbSetPair.zpp_pool;)a=d.callbacks.ZPP_CbSetPair.zpp_pool.next,d.callbacks.ZPP_CbSetPair.zpp_pool.next=null,d.callbacks.ZPP_CbSetPair.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool;)a=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next,d.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next=null,d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CbSet.zpp_pool;)a=d.util.ZNPNode_ZPP_CbSet.zpp_pool.next,d.util.ZNPNode_ZPP_CbSet.zpp_pool.next=
null,d.util.ZNPNode_ZPP_CbSet.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Interactor.zpp_pool;)a=d.util.ZNPNode_ZPP_Interactor.zpp_pool.next,d.util.ZNPNode_ZPP_Interactor.zpp_pool.next=null,d.util.ZNPNode_ZPP_Interactor.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_BodyListener.zpp_pool;)a=d.util.ZNPNode_ZPP_BodyListener.zpp_pool.next,d.util.ZNPNode_ZPP_BodyListener.zpp_pool.next=null,d.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Arbiter.zpp_pool;)a=d.util.ZNPNode_ZPP_Arbiter.zpp_pool.next,
d.util.ZNPNode_ZPP_Arbiter.zpp_pool.next=null,d.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;)a=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next,d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next=null,d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_Body.zpp_pool;)a=d.util.ZPP_Set_ZPP_Body.zpp_pool.next,d.util.ZPP_Set_ZPP_Body.zpp_pool.next=null,d.util.ZPP_Set_ZPP_Body.zpp_pool=a;for(;null!=d.callbacks.ZPP_CbSet.zpp_pool;)a=
d.callbacks.ZPP_CbSet.zpp_pool.next,d.callbacks.ZPP_CbSet.zpp_pool.next=null,d.callbacks.ZPP_CbSet.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool;)a=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next,d.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next=null,d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;for(;null!=d.callbacks.ZPP_Callback.zpp_pool;)a=d.callbacks.ZPP_Callback.zpp_pool.next,d.callbacks.ZPP_Callback.zpp_pool.next=null,d.callbacks.ZPP_Callback.zpp_pool=a;for(;null!=d.geom.ZPP_GeomVert.zpp_pool;)a=
d.geom.ZPP_GeomVert.zpp_pool.next,d.geom.ZPP_GeomVert.zpp_pool.next=null,d.geom.ZPP_GeomVert.zpp_pool=a;for(;null!=d.geom.ZPP_GeomVertexIterator.zpp_pool;)a=d.geom.ZPP_GeomVertexIterator.zpp_pool.next,d.geom.ZPP_GeomVertexIterator.zpp_pool.next=null,d.geom.ZPP_GeomVertexIterator.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;)a=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next=null,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;for(;null!=d.geom.ZPP_Mat23.zpp_pool;)a=
d.geom.ZPP_Mat23.zpp_pool.next,d.geom.ZPP_Mat23.zpp_pool.next=null,d.geom.ZPP_Mat23.zpp_pool=a;for(;null!=d.geom.ZPP_CutVert.zpp_pool;)a=d.geom.ZPP_CutVert.zpp_pool.next,d.geom.ZPP_CutVert.zpp_pool.next=null,d.geom.ZPP_CutVert.zpp_pool=a;for(;null!=d.geom.ZPP_CutInt.zpp_pool;)a=d.geom.ZPP_CutInt.zpp_pool.next,d.geom.ZPP_CutInt.zpp_pool.next=null,d.geom.ZPP_CutInt.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CutInt.zpp_pool;)a=d.util.ZNPNode_ZPP_CutInt.zpp_pool.next,d.util.ZNPNode_ZPP_CutInt.zpp_pool.next=
null,d.util.ZNPNode_ZPP_CutInt.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_CutVert.zpp_pool;)a=d.util.ZNPNode_ZPP_CutVert.zpp_pool.next,d.util.ZNPNode_ZPP_CutVert.zpp_pool.next=null,d.util.ZNPNode_ZPP_CutVert.zpp_pool=a;for(;null!=d.geom.ZPP_Vec2.zpp_pool;)a=d.geom.ZPP_Vec2.zpp_pool.next,d.geom.ZPP_Vec2.zpp_pool.next=null,d.geom.ZPP_Vec2.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;)a=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next,d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next=
null,d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;for(;null!=d.geom.ZPP_PartitionVertex.zpp_pool;)a=d.geom.ZPP_PartitionVertex.zpp_pool.next,d.geom.ZPP_PartitionVertex.zpp_pool.next=null,d.geom.ZPP_PartitionVertex.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;)a=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next=null,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a;for(;null!=d.geom.ZPP_PartitionedPoly.zpp_pool;)a=d.geom.ZPP_PartitionedPoly.zpp_pool.next,
d.geom.ZPP_PartitionedPoly.zpp_pool.next=null,d.geom.ZPP_PartitionedPoly.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;)a=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next,d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next=null,d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;for(;null!=d.geom.ZPP_PartitionPair.zpp_pool;)a=d.geom.ZPP_PartitionPair.zpp_pool.next,d.geom.ZPP_PartitionPair.zpp_pool.next=null,d.geom.ZPP_PartitionPair.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;)a=
d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next=null,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_GeomVert.zpp_pool;)a=d.util.ZNPNode_ZPP_GeomVert.zpp_pool.next,d.util.ZNPNode_ZPP_GeomVert.zpp_pool.next=null,d.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;for(;null!=d.geom.ZPP_SimplifyV.zpp_pool;)a=d.geom.ZPP_SimplifyV.zpp_pool.next,d.geom.ZPP_SimplifyV.zpp_pool.next=null,d.geom.ZPP_SimplifyV.zpp_pool=a;for(;null!=d.geom.ZPP_SimplifyP.zpp_pool;)a=
d.geom.ZPP_SimplifyP.zpp_pool.next,d.geom.ZPP_SimplifyP.zpp_pool.next=null,d.geom.ZPP_SimplifyP.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool;)a=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next,d.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next=null,d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;for(;null!=d.geom.ZPP_AABB.zpp_pool;)a=d.geom.ZPP_AABB.zpp_pool.next,d.geom.ZPP_AABB.zpp_pool.next=null,d.geom.ZPP_AABB.zpp_pool=a;for(;null!=d.geom.ZPP_ToiEvent.zpp_pool;)a=d.geom.ZPP_ToiEvent.zpp_pool.next,d.geom.ZPP_ToiEvent.zpp_pool.next=
null,d.geom.ZPP_ToiEvent.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;)a=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next=null,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;for(;null!=d.geom.ZPP_SimpleVert.zpp_pool;)a=d.geom.ZPP_SimpleVert.zpp_pool.next,d.geom.ZPP_SimpleVert.zpp_pool.next=null,d.geom.ZPP_SimpleVert.zpp_pool=a;for(;null!=d.geom.ZPP_SimpleSeg.zpp_pool;)a=d.geom.ZPP_SimpleSeg.zpp_pool.next,d.geom.ZPP_SimpleSeg.zpp_pool.next=null,d.geom.ZPP_SimpleSeg.zpp_pool=
a;for(;null!=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;)a=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next=null,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a;for(;null!=d.geom.ZPP_MarchSpan.zpp_pool;)a=d.geom.ZPP_MarchSpan.zpp_pool.next,d.geom.ZPP_MarchSpan.zpp_pool.next=null,d.geom.ZPP_MarchSpan.zpp_pool=a;for(;null!=d.geom.ZPP_MarchPair.zpp_pool;)a=d.geom.ZPP_MarchPair.zpp_pool.next,d.geom.ZPP_MarchPair.zpp_pool.next=null,d.geom.ZPP_MarchPair.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;)a=
d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next=null,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;for(;null!=d.geom.ZPP_SimpleEvent.zpp_pool;)a=d.geom.ZPP_SimpleEvent.zpp_pool.next,d.geom.ZPP_SimpleEvent.zpp_pool.next=null,d.geom.ZPP_SimpleEvent.zpp_pool=a;for(;null!=d.util.Hashable2_Boolfalse.zpp_pool;)a=d.util.Hashable2_Boolfalse.zpp_pool.next,d.util.Hashable2_Boolfalse.zpp_pool.next=null,d.util.Hashable2_Boolfalse.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_SimpleVert.zpp_pool;)a=
d.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next,d.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next=null,d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;)a=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next,d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next=null,d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_AABBPair.zpp_pool;)a=d.util.ZNPNode_ZPP_AABBPair.zpp_pool.next,d.util.ZNPNode_ZPP_AABBPair.zpp_pool.next=null,d.util.ZNPNode_ZPP_AABBPair.zpp_pool=
a;for(;null!=d.shape.ZPP_Edge.zpp_pool;)a=d.shape.ZPP_Edge.zpp_pool.next,d.shape.ZPP_Edge.zpp_pool.next=null,d.shape.ZPP_Edge.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Edge.zpp_pool;)a=d.util.ZNPNode_ZPP_Edge.zpp_pool.next,d.util.ZNPNode_ZPP_Edge.zpp_pool.next=null,d.util.ZNPNode_ZPP_Edge.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Vec2.zpp_pool;)a=d.util.ZNPNode_ZPP_Vec2.zpp_pool.next,d.util.ZNPNode_ZPP_Vec2.zpp_pool.next=null,d.util.ZNPNode_ZPP_Vec2.zpp_pool=a;for(;null!=d.space.ZPP_SweepData.zpp_pool;)a=
d.space.ZPP_SweepData.zpp_pool.next,d.space.ZPP_SweepData.zpp_pool.next=null,d.space.ZPP_SweepData.zpp_pool=a;for(;null!=d.space.ZPP_AABBNode.zpp_pool;)a=d.space.ZPP_AABBNode.zpp_pool.next,d.space.ZPP_AABBNode.zpp_pool.next=null,d.space.ZPP_AABBNode.zpp_pool=a;for(;null!=d.space.ZPP_AABBPair.zpp_pool;)a=d.space.ZPP_AABBPair.zpp_pool.next,d.space.ZPP_AABBPair.zpp_pool.next=null,d.space.ZPP_AABBPair.zpp_pool=a;for(;null!=d.dynamics.ZPP_Contact.zpp_pool;)a=d.dynamics.ZPP_Contact.zpp_pool.next,d.dynamics.ZPP_Contact.zpp_pool.next=
null,d.dynamics.ZPP_Contact.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Component.zpp_pool;)a=d.util.ZNPNode_ZPP_Component.zpp_pool.next,d.util.ZNPNode_ZPP_Component.zpp_pool.next=null,d.util.ZNPNode_ZPP_Component.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_AABBNode.zpp_pool;)a=d.util.ZNPNode_ZPP_AABBNode.zpp_pool.next,d.util.ZNPNode_ZPP_AABBNode.zpp_pool.next=null,d.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;for(;null!=d.space.ZPP_Island.zpp_pool;)a=d.space.ZPP_Island.zpp_pool.next,d.space.ZPP_Island.zpp_pool.next=
null,d.space.ZPP_Island.zpp_pool=a;for(;null!=d.space.ZPP_Component.zpp_pool;)a=d.space.ZPP_Component.zpp_pool.next,d.space.ZPP_Component.zpp_pool.next=null,d.space.ZPP_Component.zpp_pool=a;for(;null!=d.space.ZPP_CallbackSet.zpp_pool;)a=d.space.ZPP_CallbackSet.zpp_pool.next,d.space.ZPP_CallbackSet.zpp_pool.next=null,d.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=d.util.ZPP_Set_ZPP_CbSet.zpp_pool;)a=d.util.ZPP_Set_ZPP_CbSet.zpp_pool.next,d.util.ZPP_Set_ZPP_CbSet.zpp_pool.next=null,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=
a;for(;null!=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;)a=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next,d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next=null,d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;)a=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next,d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next=null,d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;for(;null!=d.dynamics.ZPP_InteractionFilter.zpp_pool;)a=d.dynamics.ZPP_InteractionFilter.zpp_pool.next,
d.dynamics.ZPP_InteractionFilter.zpp_pool.next=null,d.dynamics.ZPP_InteractionFilter.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;)a=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next,d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next=null,d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool;)a=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next,d.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next=null,d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;for(;null!=d.util.ZNPNode_ZPP_Listener.zpp_pool;)a=
d.util.ZNPNode_ZPP_Listener.zpp_pool.next,d.util.ZNPNode_ZPP_Listener.zpp_pool.next=null,d.util.ZNPNode_ZPP_Listener.zpp_pool=a;for(;null!=d.dynamics.ZPP_SensorArbiter.zpp_pool;)a=d.dynamics.ZPP_SensorArbiter.zpp_pool.next,d.dynamics.ZPP_SensorArbiter.zpp_pool.next=null,d.dynamics.ZPP_SensorArbiter.zpp_pool=a;for(;null!=d.dynamics.ZPP_FluidArbiter.zpp_pool;)a=d.dynamics.ZPP_FluidArbiter.zpp_pool.next,d.dynamics.ZPP_FluidArbiter.zpp_pool.next=null,d.dynamics.ZPP_FluidArbiter.zpp_pool=a;for(;null!=
d.util.ZNPNode_ZPP_ToiEvent.zpp_pool;)a=d.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next,d.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next=null,d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;for(;null!=d.dynamics.ZPP_ColArbiter.zpp_pool;)a=d.dynamics.ZPP_ColArbiter.zpp_pool.next,d.dynamics.ZPP_ColArbiter.zpp_pool.next=null,d.dynamics.ZPP_ColArbiter.zpp_pool=a;for(;null!=d.util.ZNPNode_ConvexResult.zpp_pool;)a=d.util.ZNPNode_ConvexResult.zpp_pool.next,d.util.ZNPNode_ConvexResult.zpp_pool.next=null,d.util.ZNPNode_ConvexResult.zpp_pool=
a;for(;null!=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool;)a=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next,d.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next=null,d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;for(;null!=d.util.ZNPNode_RayResult.zpp_pool;)a=d.util.ZNPNode_RayResult.zpp_pool.next,d.util.ZNPNode_RayResult.zpp_pool.next=null,d.util.ZNPNode_RayResult.zpp_pool=a;for(;null!=d.util.ZPP_PubPool.poolGeomPoly;)a=d.util.ZPP_PubPool.poolGeomPoly.zpp_pool,d.util.ZPP_PubPool.poolGeomPoly.zpp_pool=null,d.util.ZPP_PubPool.poolGeomPoly=
a;for(;null!=d.util.ZPP_PubPool.poolVec2;)a=d.util.ZPP_PubPool.poolVec2.zpp_pool,d.util.ZPP_PubPool.poolVec2.zpp_pool=null,d.util.ZPP_PubPool.poolVec2=a;for(;null!=d.util.ZPP_PubPool.poolVec3;)a=d.util.ZPP_PubPool.poolVec3.zpp_pool,d.util.ZPP_PubPool.poolVec3.zpp_pool=null,d.util.ZPP_PubPool.poolVec3=a};f.util.Debug.createGraphic=function(a){var b=new e.display.Shape,c=b.get_graphics(),j=C["int"](16777215*Math.exp(-a.zpp_inner_i.id/1500));c.lineStyle(0.1,(0.7*((j&16711680)>>16)|0)<<16|(0.7*((j&65280)>>
8)|0)<<8|0.7*(j&255)|0,1);for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var g;a.zpp_critical=!1;g=a.zpp_inner.at(a.zpp_i++);if(g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){var i;i=g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?g.zpp_inner.circle.outer_zn:null;c.drawCircle(function(){null==i.zpp_inner.wrap_localCOM&&(i.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?i.zpp_inner.circle.setupLocalCOM():i.zpp_inner.polygon.setupLocalCOM());return i.zpp_inner.wrap_localCOM}(this).get_x(),
function(){null==i.zpp_inner.wrap_localCOM&&(i.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?i.zpp_inner.circle.setupLocalCOM():i.zpp_inner.polygon.setupLocalCOM());return i.zpp_inner.wrap_localCOM}(this).get_y(),i.zpp_inner_zn.radius)}else{j=g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_POLYGON?g.zpp_inner.polygon.outer_zn:null;c.moveTo(function(){null==g.zpp_inner.wrap_localCOM&&(g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?g.zpp_inner.circle.setupLocalCOM():g.zpp_inner.polygon.setupLocalCOM());
return g.zpp_inner.wrap_localCOM}(this).get_x(),function(){null==g.zpp_inner.wrap_localCOM&&(g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?g.zpp_inner.circle.setupLocalCOM():g.zpp_inner.polygon.setupLocalCOM());return g.zpp_inner.wrap_localCOM}(this).get_y());var f=0,n=void 0;null==j.zpp_inner_zn.wrap_gverts&&j.zpp_inner_zn.getgverts();n=j.zpp_inner_zn.wrap_gverts;for(n=n.get_length();f<n;){var o=f++,h=void 0;null==j.zpp_inner_zn.wrap_lverts&&j.zpp_inner_zn.getlverts();var h=j.zpp_inner_zn.wrap_lverts,
x=h.at(o);c.lineTo(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();return x.zpp_inner.y}(this))}f=void 0;null==j.zpp_inner_zn.wrap_lverts&&j.zpp_inner_zn.getlverts();var f=j.zpp_inner_zn.wrap_lverts,T=f.at(0);c.lineTo(function(){T.zpp_inner.validate();return T.zpp_inner.x}(this),function(){T.zpp_inner.validate();return T.zpp_inner.y}(this))}if(g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){var k;k=g.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
g.zpp_inner.circle.outer_zn:null;c.moveTo(function(){null==k.zpp_inner.wrap_localCOM&&(k.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.zpp_inner.circle.setupLocalCOM():k.zpp_inner.polygon.setupLocalCOM());return k.zpp_inner.wrap_localCOM}(this).get_x()+0.3*k.zpp_inner_zn.radius,function(){null==k.zpp_inner.wrap_localCOM&&(k.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.zpp_inner.circle.setupLocalCOM():k.zpp_inner.polygon.setupLocalCOM());return k.zpp_inner.wrap_localCOM}(this).get_y());
c.lineTo(function(){null==k.zpp_inner.wrap_localCOM&&(k.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.zpp_inner.circle.setupLocalCOM():k.zpp_inner.polygon.setupLocalCOM());return k.zpp_inner.wrap_localCOM}(this).get_x()+k.zpp_inner_zn.radius,function(){null==k.zpp_inner.wrap_localCOM&&(k.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.zpp_inner.circle.setupLocalCOM():k.zpp_inner.polygon.setupLocalCOM());return k.zpp_inner.wrap_localCOM}(this).get_y())}}return b};f.util.Debug.prototype=
{zpp_inner:null,drawCollisionArbiters:null,drawFluidArbiters:null,drawSensorArbiters:null,drawBodies:null,drawBodyDetail:null,drawShapeDetail:null,drawShapeAngleIndicators:null,drawConstraints:null,get_bgColour:function(){return this.zpp_inner.bg_col},set_bgColour:function(a){this.zpp_inner.d_shape.setbg(a);return this.zpp_inner.bg_col},colour:null,get_display:function(){return this.zpp_inner.d_shape.shape},cullingEnabled:null,get_transform:function(){null==this.zpp_inner.xform&&this.zpp_inner.setform();
return this.zpp_inner.xform.outer},set_transform:function(a){null==this.zpp_inner.xform&&this.zpp_inner.setform();this.zpp_inner.xform.outer.set(a);null==this.zpp_inner.xform&&this.zpp_inner.setform();return this.zpp_inner.xform.outer},clear:function(){},flush:function(){},draw:function(){},drawLine:function(){},drawCurve:function(){},drawCircle:function(){},drawAABB:function(){},drawFilledTriangle:function(){},drawFilledCircle:function(){},drawPolygon:function(){},drawFilledPolygon:function(){},
drawSpring:function(){},__class__:f.util.Debug,__properties__:{set_transform:"set_transform",get_transform:"get_transform",get_display:"get_display",set_bgColour:"set_bgColour",get_bgColour:"get_bgColour"}};f.util.ShapeDebug=function(a,b,c){null==c&&(c=3355443);this.thickness=0;this.zpp_inner_zn=null;f.util.Debug.call(this);this.zpp_inner_zn=new d.util.ZPP_ShapeDebug(a,b);this.zpp_inner_zn.outer_zn=this;this.zpp_inner=this.zpp_inner_zn;this.zpp_inner.outer=this;this.zpp_inner.d_shape.setbg(c);this.zpp_inner.bg_col;
this.thickness=0.1};l["nape.util.ShapeDebug"]=f.util.ShapeDebug;f.util.ShapeDebug.__name__=["nape","util","ShapeDebug"];f.util.ShapeDebug.__super__=f.util.Debug;f.util.ShapeDebug.prototype=z(f.util.Debug.prototype,{zpp_inner_zn:null,thickness:null,clear:function(){this.zpp_inner_zn.graphics.clear()},drawLine:function(a,b,c){var d=this.zpp_inner_zn.graphics;d.lineStyle(this.thickness,c&16777215,1);if(this.zpp_inner.xnull)(d.moveTo(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();
return a.zpp_inner.y}(this)),d.lineTo(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak)?(b.dispose(),!0):!1;else{var g=this.zpp_inner.xform.outer.transform(a);d.moveTo(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose();g=this.zpp_inner.xform.outer.transform(b);d.lineTo(function(){g.zpp_inner.validate();
return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();return g.zpp_inner.y}(this));g.dispose()}},drawCurve:function(a,b,c,d){var g=this.zpp_inner_zn.graphics;g.lineStyle(this.thickness,d&16777215,1);if(this.zpp_inner.xnull)(g.moveTo(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)),g.curveTo(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();return b.zpp_inner.y}(this),function(){c.zpp_inner.validate();
return c.zpp_inner.x}(this),function(){c.zpp_inner.validate();return c.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,c.zpp_inner.weak)?(c.dispose(),!0):!1;else{var i=this.zpp_inner.xform.outer.transform(a),e=this.zpp_inner.xform.outer.transform(b),f=this.zpp_inner.xform.outer.transform(c);g.moveTo(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));g.curveTo(function(){e.zpp_inner.validate();
return e.zpp_inner.x}(this),function(){e.zpp_inner.validate();return e.zpp_inner.y}(this),function(){f.zpp_inner.validate();return f.zpp_inner.x}(this),function(){f.zpp_inner.validate();return f.zpp_inner.y}(this));i.dispose();e.dispose();f.dispose()}},drawCircle:function(a,b,c){var d=this.zpp_inner_zn.graphics;d.lineStyle(this.thickness,c&16777215,1);if(this.zpp_inner.xnull)d.drawCircle(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),
b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var g=this.zpp_inner.xform.outer.transform(a);d.drawCircle(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();return g.zpp_inner.y}(this),b*this.zpp_inner.xdet);g.dispose()}},drawAABB:function(a,b){var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,b&16777215,1);if(this.zpp_inner.xnull)c.drawRect(function(){a.zpp_inner.validate();return a.zpp_inner.minx}(this),function(){a.zpp_inner.validate();return a.zpp_inner.miny}(this),
function(){a.zpp_inner.validate();return a.zpp_inner.width()}(this),function(){a.zpp_inner.validate();return a.zpp_inner.height()}(this));else{var d=this.zpp_inner.xform.outer.transform(a.zpp_inner.getmin()),g=f.geom.Vec2.get(function(){a.zpp_inner.validate();return a.zpp_inner.width()}(this),0,null),i=this.zpp_inner.xform.outer.transform(g,!0),e=f.geom.Vec2.get(0,function(){a.zpp_inner.validate();return a.zpp_inner.height()}(this),null),n=this.zpp_inner.xform.outer.transform(e,!0);c.moveTo(function(){d.zpp_inner.validate();
return d.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this));c.lineTo(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this)+function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this)+function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));c.lineTo(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this)+function(){i.zpp_inner.validate();return i.zpp_inner.x}(this)+function(){n.zpp_inner.validate();
return n.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this)+function(){i.zpp_inner.validate();return i.zpp_inner.y}(this)+function(){n.zpp_inner.validate();return n.zpp_inner.y}(this));c.lineTo(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this)+function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this)+function(){n.zpp_inner.validate();return n.zpp_inner.y}(this));c.lineTo(function(){d.zpp_inner.validate();
return d.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();g.dispose();i.dispose();e.dispose();n.dispose()}},drawFilledTriangle:function(a,b,c,d){var g=this.zpp_inner_zn.graphics;g.lineStyle(0,0,0);g.beginFill(d&16777215,1);if(this.zpp_inner.xnull)(g.moveTo(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this)),g.lineTo(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this),function(){b.zpp_inner.validate();
return b.zpp_inner.y}(this)),g.lineTo(function(){c.zpp_inner.validate();return c.zpp_inner.x}(this),function(){c.zpp_inner.validate();return c.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,c.zpp_inner.weak)?(c.dispose(),!0):!1;else{var i=this.zpp_inner.xform.outer.transform(a);g.moveTo(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));i.dispose();i=this.zpp_inner.xform.outer.transform(b);
g.lineTo(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));i.dispose();i=this.zpp_inner.xform.outer.transform(c);g.lineTo(function(){i.zpp_inner.validate();return i.zpp_inner.x}(this),function(){i.zpp_inner.validate();return i.zpp_inner.y}(this));i.dispose()}g.endFill()},drawFilledCircle:function(a,b,c){var d=this.zpp_inner_zn.graphics;d.lineStyle(0,0,0);d.beginFill(c&16777215,1);if(this.zpp_inner.xnull)d.drawCircle(function(){a.zpp_inner.validate();
return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var g=this.zpp_inner.xform.outer.transform(a);d.drawCircle(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this),function(){g.zpp_inner.validate();return g.zpp_inner.y}(this),b*this.zpp_inner.xdet);g.dispose()}d.endFill()},drawPolygon:function(a,b){var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,b&16777215,1);var d=null,g=!0;if(this.zpp_inner.xnull)if(a instanceof
Array&&null==a.__enum__)for(var i=0;i<a.length;){var e=a[i];++i;var n=e;g?(d=f.geom.Vec2.get(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();return n.zpp_inner.y}(this),!1),c.moveTo(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();return n.zpp_inner.y}(this))):c.lineTo(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();return n.zpp_inner.y}(this));g=!1}else if(D.Boot.__instanceof(a,
f.geom.Vec2List))for(i=a.iterator();i.hasNext();){var o;i.zpp_critical=!1;o=i.zpp_inner.at(i.zpp_i++);g?(d=f.geom.Vec2.get(function(){o.zpp_inner.validate();return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this),!1),c.moveTo(function(){o.zpp_inner.validate();return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this))):c.lineTo(function(){o.zpp_inner.validate();return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this));
g=!1}else{if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(i=a.zpp_inner.vertices,null!=i)){e=i;do{var h=f.geom.Vec2.get(e.x,e.y,null),e=e.next;g?(d=f.geom.Vec2.get(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();return h.zpp_inner.y}(this),!1),c.moveTo(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();return h.zpp_inner.y}(this))):c.lineTo(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();
return h.zpp_inner.y}(this));g=!1;h.dispose()}while(e!=i)}}else if(a instanceof Array&&null==a.__enum__)for(i=0;i<a.length;){e=a[i];++i;var x=this.zpp_inner.xform.outer.transform(e);g?(d=x,c.moveTo(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();return x.zpp_inner.y}(this))):c.lineTo(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();return x.zpp_inner.y}(this));g||x.dispose();g=!1}else if(D.Boot.__instanceof(a,
f.geom.Vec2List))for(i=a.iterator();i.hasNext();){i.zpp_critical=!1;var e=i.zpp_inner.at(i.zpp_i++),k=this.zpp_inner.xform.outer.transform(e);g?(d=k,c.moveTo(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this),function(){k.zpp_inner.validate();return k.zpp_inner.y}(this))):c.lineTo(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this),function(){k.zpp_inner.validate();return k.zpp_inner.y}(this));g||k.dispose();g=!1}else if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(i=a.zpp_inner.vertices,
null!=i)){e=i;do{var l=f.geom.Vec2.get(e.x,e.y,null),e=e.next,m=this.zpp_inner.xform.outer.transform(l);g?(d=m,c.moveTo(function(){m.zpp_inner.validate();return m.zpp_inner.x}(this),function(){m.zpp_inner.validate();return m.zpp_inner.y}(this))):c.lineTo(function(){m.zpp_inner.validate();return m.zpp_inner.x}(this),function(){m.zpp_inner.validate();return m.zpp_inner.y}(this));g||m.dispose();g=!1;l.dispose()}while(e!=i)}c.lineTo(function(){d.zpp_inner.validate();return d.zpp_inner.x}(this),function(){d.zpp_inner.validate();
return d.zpp_inner.y}(this));d.dispose();if(a instanceof Array&&null==a.__enum__)for(c=0;c<a.length;)g=a[c],g.zpp_inner.weak?(i=void 0,g.dispose(),g=i=!0):g=!1,g?a.splice(c,1):c++;else if(D.Boot.__instanceof(a,f.geom.Vec2List)){null!=a.zpp_inner._validate&&a.zpp_inner._validate();c=a.zpp_inner.inner;g=null;for(i=c.head;null!=i;)e=i.elt,e.outer.zpp_inner.weak?(i=c.erase(g),e.outer.zpp_inner.weak?(e.outer.dispose(),!0):!1):(g=i,i=i.next)}},drawFilledPolygon:function(a,b){var c=this.zpp_inner_zn.graphics;
c.beginFill(b&16777215,1);c.lineStyle(0,0,0);var d=null,g=!0;if(this.zpp_inner.xnull)if(a instanceof Array&&null==a.__enum__)for(var i=0;i<a.length;){var e=a[i];++i;var n=e;g?(d=f.geom.Vec2.get(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();return n.zpp_inner.y}(this),!1),c.moveTo(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),function(){n.zpp_inner.validate();return n.zpp_inner.y}(this))):c.lineTo(function(){n.zpp_inner.validate();return n.zpp_inner.x}(this),
function(){n.zpp_inner.validate();return n.zpp_inner.y}(this));g=!1}else if(D.Boot.__instanceof(a,f.geom.Vec2List))for(i=a.iterator();i.hasNext();){var o;i.zpp_critical=!1;o=i.zpp_inner.at(i.zpp_i++);g?(d=f.geom.Vec2.get(function(){o.zpp_inner.validate();return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this),!1),c.moveTo(function(){o.zpp_inner.validate();return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this))):c.lineTo(function(){o.zpp_inner.validate();
return o.zpp_inner.x}(this),function(){o.zpp_inner.validate();return o.zpp_inner.y}(this));g=!1}else{if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(i=a.zpp_inner.vertices,null!=i)){e=i;do{var h=f.geom.Vec2.get(e.x,e.y,null),e=e.next;g?(d=f.geom.Vec2.get(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();return h.zpp_inner.y}(this),!1),c.moveTo(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();return h.zpp_inner.y}(this))):
c.lineTo(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();return h.zpp_inner.y}(this));g=!1;h.dispose()}while(e!=i)}}else if(a instanceof Array&&null==a.__enum__)for(i=0;i<a.length;){e=a[i];++i;var x=this.zpp_inner.xform.outer.transform(e);g?(d=x,c.moveTo(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();return x.zpp_inner.y}(this))):c.lineTo(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();
return x.zpp_inner.y}(this));g||x.dispose();g=!1}else if(D.Boot.__instanceof(a,f.geom.Vec2List))for(i=a.iterator();i.hasNext();){i.zpp_critical=!1;var e=i.zpp_inner.at(i.zpp_i++),k=this.zpp_inner.xform.outer.transform(e);g?(d=k,c.moveTo(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this),function(){k.zpp_inner.validate();return k.zpp_inner.y}(this))):c.lineTo(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this),function(){k.zpp_inner.validate();return k.zpp_inner.y}(this));g||k.dispose();
g=!1}else if(D.Boot.__instanceof(a,f.geom.GeomPoly)&&(i=a.zpp_inner.vertices,null!=i)){e=i;do{var l=f.geom.Vec2.get(e.x,e.y,null),e=e.next,m=this.zpp_inner.xform.outer.transform(l);g?(d=m,c.moveTo(function(){m.zpp_inner.validate();return m.zpp_inner.x}(this),function(){m.zpp_inner.validate();return m.zpp_inner.y}(this))):c.lineTo(function(){m.zpp_inner.validate();return m.zpp_inner.x}(this),function(){m.zpp_inner.validate();return m.zpp_inner.y}(this));g||m.dispose();g=!1;l.dispose()}while(e!=i)}c.lineTo(function(){d.zpp_inner.validate();
return d.zpp_inner.x}(this),function(){d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();c.endFill();if(a instanceof Array&&null==a.__enum__)for(c=0;c<a.length;)g=a[c],g.zpp_inner.weak?(i=void 0,g.dispose(),g=i=!0):g=!1,g?a.splice(c,1):c++;else if(D.Boot.__instanceof(a,f.geom.Vec2List)){null!=a.zpp_inner._validate&&a.zpp_inner._validate();c=a.zpp_inner.inner;g=null;for(i=c.head;null!=i;)e=i.elt,e.outer.zpp_inner.weak?(i=c.erase(g),e.outer.zpp_inner.weak?(e.outer.dispose(),!0):!1):(g=
i,i=i.next)}},draw:function(a){this.zpp_inner.xnull?D.Boot.__instanceof(a,f.space.Space)?this.zpp_inner_zn.draw_space(D.Boot.__cast(a,f.space.Space).zpp_inner,null,1,!0):D.Boot.__instanceof(a,f.phys.Compound)?this.zpp_inner_zn.draw_compound(D.Boot.__cast(a,f.phys.Compound).zpp_inner,null,1,!0):D.Boot.__instanceof(a,f.phys.Body)?this.zpp_inner_zn.draw_body(D.Boot.__cast(a,f.phys.Body).zpp_inner,null,1,!0):D.Boot.__instanceof(a,f.shape.Shape)?this.zpp_inner_zn.draw_shape(D.Boot.__cast(a,f.shape.Shape).zpp_inner,
null,1,!0):D.Boot.__instanceof(a,f.constraint.Constraint)&&D.Boot.__cast(a,f.constraint.Constraint).zpp_inner.draw(this):D.Boot.__instanceof(a,f.space.Space)?this.zpp_inner_zn.draw_space(D.Boot.__cast(a,f.space.Space).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1):D.Boot.__instanceof(a,f.phys.Body)?this.zpp_inner_zn.draw_body(D.Boot.__cast(a,f.phys.Body).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1):D.Boot.__instanceof(a,f.shape.Shape)?this.zpp_inner_zn.draw_shape(D.Boot.__cast(a,
f.shape.Shape).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1):D.Boot.__instanceof(a,f.constraint.Constraint)&&D.Boot.__cast(a,f.constraint.Constraint).zpp_inner.draw(this)},drawSpring:function(a,b,c,d,g){null==g&&(g=3);null==d&&(d=3);if(0==d)this.drawLine(a,b,c);else{var i;b.zpp_inner.validate();i=b.zpp_inner.x;a.zpp_inner.validate();i-=a.zpp_inner.x;var e;b.zpp_inner.validate();e=b.zpp_inner.y;a.zpp_inner.validate();e-=a.zpp_inner.y;var n=1/(4*d);i*=n;e*=n;var o=n=0,n=i,o=e;if(0.1>n*n+o*
o)return;for(var h=1/Math.sqrt(n*n+o*o),x=n*h,n=-(o*h),g=2*g,n=n*g,o=x*g,k=f.geom.Vec2.get(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),!1),g=f.geom.Vec2.get(null,null,null),l=f.geom.Vec2.get(null,null,null),x=0;x<d;)x++,g.set_x(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this)+i+n),g.set_y(function(){k.zpp_inner.validate();return k.zpp_inner.y}(this)+e+o),l.set_x(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this)+
2*i),l.set_y(function(){k.zpp_inner.validate();return k.zpp_inner.y}(this)+2*e),this.drawCurve(k,g,l,c),k.set_x(function(){l.zpp_inner.validate();return l.zpp_inner.x}(this)),k.set_y(function(){l.zpp_inner.validate();return l.zpp_inner.y}(this)),g.set_x(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this)+i-n),g.set_y(function(){k.zpp_inner.validate();return k.zpp_inner.y}(this)+e-o),l.set_x(function(){k.zpp_inner.validate();return k.zpp_inner.x}(this)+2*i),l.set_y(function(){k.zpp_inner.validate();
return k.zpp_inner.y}(this)+2*e),this.drawCurve(k,g,l,c),k.set_x(function(){l.zpp_inner.validate();return l.zpp_inner.x}(this)),k.set_y(function(){l.zpp_inner.validate();return l.zpp_inner.y}(this));k.dispose();g.dispose();l.dispose()}a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1},__class__:f.util.ShapeDebug});e.AssetCache=function(){this.enabled=!0;this.bitmapData=new p.ds.StringMap;this.font=new p.ds.StringMap;this.sound=new p.ds.StringMap};l["openfl.AssetCache"]=e.AssetCache;
e.AssetCache.__name__=["openfl","AssetCache"];e.AssetCache.prototype={bitmapData:null,enabled:null,font:null,sound:null,clear:function(a){if(null==a)this.bitmapData=new p.ds.StringMap,this.font=new p.ds.StringMap,this.sound=new p.ds.StringMap;else{for(var b=this.bitmapData.keys();b.hasNext();){var c=b.next();O.startsWith(c,a)&&this.bitmapData.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),O.startsWith(c,a)&&this.font.remove(c);for(b=this.sound.keys();b.hasNext();)c=b.next(),O.startsWith(c,
a)&&this.sound.remove(c)}},__class__:e.AssetCache};e.Assets=function(){};l["openfl.Assets"]=e.Assets;e.Assets.__name__=["openfl","Assets"];e.Assets.addEventListener=function(a,b,c,d,g){null==g&&(g=!1);null==d&&(d=0);null==c&&(c=!1);e.Assets.initialize();e.Assets.dispatcher.addEventListener(a,b,c,d,g)};e.Assets.dispatchEvent=function(a){e.Assets.initialize();return e.Assets.dispatcher.dispatchEvent(a)};e.Assets.exists=function(a,b){e.Assets.initialize();null==b&&(b=e.AssetType.BINARY);var c=a.substring(0,
a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);c=e.Assets.getLibrary(c);return null!=c?c.exists(d,b):!1};e.Assets.getBitmapData=function(a,b){null==b&&(b=!0);e.Assets.initialize();if(b&&e.Assets.cache.enabled&&e.Assets.cache.bitmapData.exists(a)){var c=e.Assets.cache.bitmapData.get(a);if(e.Assets.isValidBitmapData(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,e.AssetType.IMAGE)){if(g.isLocal(d,
e.AssetType.IMAGE))return c=g.getBitmapData(d),b&&e.Assets.cache.enabled&&e.Assets.cache.bitmapData.set(a,c),c;p.Log.trace('[openfl.Assets] BitmapData asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:139,className:"openfl.Assets",methodName:"getBitmapData"})}else p.Log.trace('[openfl.Assets] There is no BitmapData asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:145,className:"openfl.Assets",methodName:"getBitmapData"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+
c+'"',{fileName:"Assets.hx",lineNumber:151,className:"openfl.Assets",methodName:"getBitmapData"});return null};e.Assets.getBytes=function(a){e.Assets.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=B.substr(a,c,null);var d=e.Assets.getLibrary(b);if(null!=d)if(d.exists(c,e.AssetType.BINARY)){if(d.isLocal(c,e.AssetType.BINARY))return d.getBytes(c);p.Log.trace('[openfl.Assets] String or ByteArray asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:188,
className:"openfl.Assets",methodName:"getBytes"})}else p.Log.trace('[openfl.Assets] There is no String or ByteArray asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:194,className:"openfl.Assets",methodName:"getBytes"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:200,className:"openfl.Assets",methodName:"getBytes"});return null};e.Assets.getFont=function(a,b){null==b&&(b=!0);e.Assets.initialize();if(b&&e.Assets.cache.enabled&&
e.Assets.cache.font.exists(a))return e.Assets.cache.font.get(a);var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,e.AssetType.FONT)){if(g.isLocal(d,e.AssetType.FONT))return c=g.getFont(d),b&&e.Assets.cache.enabled&&e.Assets.cache.font.set(a,c),c;p.Log.trace('[openfl.Assets] Font asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:251,className:"openfl.Assets",methodName:"getFont"})}else p.Log.trace('[openfl.Assets] There is no Font asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:257,className:"openfl.Assets",methodName:"getFont"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:263,className:"openfl.Assets",methodName:"getFont"});return null};e.Assets.getLibrary=function(a){if(null==a||""==a)a="default";return e.Assets.libraries.get(a)};e.Assets.getMovieClip=function(a){e.Assets.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=B.substr(a,c,null);var d=
e.Assets.getLibrary(b);if(null!=d)if(d.exists(c,e.AssetType.MOVIE_CLIP)){if(d.isLocal(c,e.AssetType.MOVIE_CLIP))return d.getMovieClip(c);p.Log.trace('[openfl.Assets] MovieClip asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:313,className:"openfl.Assets",methodName:"getMovieClip"})}else p.Log.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:319,className:"openfl.Assets",methodName:"getMovieClip"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+
b+'"',{fileName:"Assets.hx",lineNumber:325,className:"openfl.Assets",methodName:"getMovieClip"});return null};e.Assets.getMusic=function(a,b){null==b&&(b=!0);e.Assets.initialize();if(b&&e.Assets.cache.enabled&&e.Assets.cache.sound.exists(a)){var c=e.Assets.cache.sound.get(a);if(e.Assets.isValidSound(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,e.AssetType.MUSIC)){if(g.isLocal(d,e.AssetType.MUSIC))return c=
g.getMusic(d),b&&e.Assets.cache.enabled&&e.Assets.cache.sound.set(a,c),c;p.Log.trace('[openfl.Assets] Sound asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:382,className:"openfl.Assets",methodName:"getMusic"})}else p.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:388,className:"openfl.Assets",methodName:"getMusic"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",
lineNumber:394,className:"openfl.Assets",methodName:"getMusic"});return null};e.Assets.getPath=function(a){e.Assets.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=B.substr(a,c,null);var d=e.Assets.getLibrary(b);if(null!=d){if(d.exists(c,null))return d.getPath(c);p.Log.trace('[openfl.Assets] There is no asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:429,className:"openfl.Assets",methodName:"getPath"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+
b+'"',{fileName:"Assets.hx",lineNumber:435,className:"openfl.Assets",methodName:"getPath"});return null};e.Assets.getSound=function(a,b){null==b&&(b=!0);e.Assets.initialize();if(b&&e.Assets.cache.enabled&&e.Assets.cache.sound.exists(a)){var c=e.Assets.cache.sound.get(a);if(e.Assets.isValidSound(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,e.AssetType.SOUND)){if(g.isLocal(d,e.AssetType.SOUND))return c=
g.getSound(d),b&&e.Assets.cache.enabled&&e.Assets.cache.sound.set(a,c),c;p.Log.trace('[openfl.Assets] Sound asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:492,className:"openfl.Assets",methodName:"getSound"})}else p.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:498,className:"openfl.Assets",methodName:"getSound"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",
lineNumber:504,className:"openfl.Assets",methodName:"getSound"});return null};e.Assets.getText=function(a){e.Assets.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=B.substr(a,c,null);var d=e.Assets.getLibrary(b);if(null!=d)if(d.exists(c,e.AssetType.TEXT)){if(d.isLocal(c,e.AssetType.TEXT))return d.getText(c);p.Log.trace('[openfl.Assets] String asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:541,className:"openfl.Assets",methodName:"getText"})}else p.Log.trace('[openfl.Assets] There is no String asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:547,className:"openfl.Assets",methodName:"getText"});else p.Log.trace('[openfl.Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:553,className:"openfl.Assets",methodName:"getText"});return null};e.Assets.hasEventListener=function(a){e.Assets.initialize();return e.Assets.dispatcher.hasEventListener(a)};e.Assets.initialize=function(){e.Assets.initialized||(e.Assets.registerLibrary("default",new ha),e.Assets.initialized=!0)};e.Assets.isLocal=
function(a,b,c){null==c&&(c=!0);e.Assets.initialize();if(c&&e.Assets.cache.enabled&&((b==e.AssetType.IMAGE||null==b)&&e.Assets.cache.bitmapData.exists(a)||(b==e.AssetType.FONT||null==b)&&e.Assets.cache.font.exists(a)||(b==e.AssetType.SOUND||b==e.AssetType.MUSIC||null==b)&&e.Assets.cache.sound.exists(a)))return!0;var c=a.substring(0,a.indexOf(":")),d=a.indexOf(":")+1,a=B.substr(a,d,null),c=e.Assets.getLibrary(c);return null!=c?c.isLocal(a,b):!1};e.Assets.isValidBitmapData=function(a){return null!=
a.__sourceImage||null!=a.__sourceCanvas};e.Assets.isValidSound=function(){return!0};e.Assets.list=function(a){e.Assets.initialize();for(var b=[],c=e.Assets.libraries.iterator();c.hasNext();){var d=c.next().list(a);null!=d&&(b=b.concat(d))}return b};e.Assets.loadBitmapData=function(a,b,c){null==c&&(c=!0);e.Assets.initialize();if(c&&e.Assets.cache.enabled&&e.Assets.cache.bitmapData.exists(a)){var d=e.Assets.cache.bitmapData.get(a);if(e.Assets.isValidBitmapData(d)){b(d);return}}var d=a.substring(0,a.indexOf(":")),
g;g=a.indexOf(":")+1;g=B.substr(a,g,null);var i=e.Assets.getLibrary(d);if(null!=i){if(i.exists(g,e.AssetType.IMAGE)){c&&e.Assets.cache.enabled?i.loadBitmapData(g,function(c){e.Assets.cache.bitmapData.set(a,c);b(c)}):i.loadBitmapData(g,b);return}p.Log.trace('[openfl.Assets] There is no BitmapData asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:749,className:"openfl.Assets",methodName:"loadBitmapData"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",
lineNumber:755,className:"openfl.Assets",methodName:"loadBitmapData"});b(null)};e.Assets.loadBytes=function(a,b){e.Assets.initialize();var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g){if(g.exists(d,e.AssetType.BINARY)){g.loadBytes(d,b);return}p.Log.trace('[openfl.Assets] There is no String or ByteArray asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:785,className:"openfl.Assets",methodName:"loadBytes"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+
c+'"',{fileName:"Assets.hx",lineNumber:791,className:"openfl.Assets",methodName:"loadBytes"});b(null)};e.Assets.loadFont=function(a,b,c){null==c&&(c=!0);e.Assets.initialize();if(c&&e.Assets.cache.enabled&&e.Assets.cache.font.exists(a))b(e.Assets.cache.font.get(a));else{var d=a.substring(0,a.indexOf(":")),g;g=a.indexOf(":")+1;g=B.substr(a,g,null);var i=e.Assets.getLibrary(d);if(null!=i){if(i.exists(g,e.AssetType.FONT)){c&&e.Assets.cache.enabled?i.loadFont(g,function(c){e.Assets.cache.font.set(a,c);
b(c)}):i.loadFont(g,b);return}p.Log.trace('[openfl.Assets] There is no Font asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:842,className:"openfl.Assets",methodName:"loadFont"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:848,className:"openfl.Assets",methodName:"loadFont"});b(null)}};e.Assets.loadLibrary=function(a,b){e.Assets.initialize();var c=e.Assets.getText("libraries/"+a+".dat");null!=c&&""!=c?(c=new p.Unserializer(c),
c.setResolver({resolveEnum:e.Assets.resolveEnum,resolveClass:e.Assets.resolveClass}),c=c.unserialize(),e.Assets.libraries.set(a,c),c.eventCallback=e.Assets.library_onEvent,c.load(b)):p.Log.trace('[openfl.Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:879,className:"openfl.Assets",methodName:"loadLibrary"})};e.Assets.loadMusic=function(a,b,c){null==c&&(c=!0);e.Assets.initialize();if(c&&e.Assets.cache.enabled&&e.Assets.cache.sound.exists(a)){var d=e.Assets.cache.sound.get(a);
if(e.Assets.isValidSound(d)){b(d);return}}var d=a.substring(0,a.indexOf(":")),g;g=a.indexOf(":")+1;g=B.substr(a,g,null);var i=e.Assets.getLibrary(d);if(null!=i){if(i.exists(g,e.AssetType.MUSIC)){c&&e.Assets.cache.enabled?i.loadMusic(g,function(c){e.Assets.cache.sound.set(a,c);b(c)}):i.loadMusic(g,b);return}p.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:934,className:"openfl.Assets",methodName:"loadMusic"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+
d+'"',{fileName:"Assets.hx",lineNumber:940,className:"openfl.Assets",methodName:"loadMusic"});b(null)};e.Assets.loadMovieClip=function(a,b){e.Assets.initialize();var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g){if(g.exists(d,e.AssetType.MOVIE_CLIP)){g.loadMovieClip(d,b);return}p.Log.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:970,className:"openfl.Assets",methodName:"loadMovieClip"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+
c+'"',{fileName:"Assets.hx",lineNumber:976,className:"openfl.Assets",methodName:"loadMovieClip"});b(null)};e.Assets.loadSound=function(a,b,c){null==c&&(c=!0);e.Assets.initialize();if(c&&e.Assets.cache.enabled&&e.Assets.cache.sound.exists(a)){var d=e.Assets.cache.sound.get(a);if(e.Assets.isValidSound(d)){b(d);return}}var d=a.substring(0,a.indexOf(":")),g;g=a.indexOf(":")+1;g=B.substr(a,g,null);var i=e.Assets.getLibrary(d);if(null!=i){if(i.exists(g,e.AssetType.SOUND)){c&&e.Assets.cache.enabled?i.loadSound(g,
function(c){e.Assets.cache.sound.set(a,c);b(c)}):i.loadSound(g,b);return}p.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:1033,className:"openfl.Assets",methodName:"loadSound"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:1039,className:"openfl.Assets",methodName:"loadSound"});b(null)};e.Assets.loadText=function(a,b){e.Assets.initialize();var c=a.substring(0,a.indexOf(":")),
d;d=a.indexOf(":")+1;d=B.substr(a,d,null);var g=e.Assets.getLibrary(c);if(null!=g){if(g.exists(d,e.AssetType.TEXT)){g.loadText(d,b);return}p.Log.trace('[openfl.Assets] There is no String asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:1069,className:"openfl.Assets",methodName:"loadText"})}else p.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:1075,className:"openfl.Assets",methodName:"loadText"});b(null)};e.Assets.registerLibrary=
function(a,b){e.Assets.libraries.exists(a)&&e.Assets.unloadLibrary(a);null!=b&&(b.eventCallback=e.Assets.library_onEvent);e.Assets.libraries.set(a,b)};e.Assets.removeEventListener=function(a,b,c){null==c&&(c=!1);e.Assets.initialize();e.Assets.dispatcher.removeEventListener(a,b,c)};e.Assets.resolveClass=function(a){return R.resolveClass(a)};e.Assets.resolveEnum=function(a){return R.resolveEnum(a)};e.Assets.unloadLibrary=function(a){e.Assets.initialize();var b=e.Assets.libraries.get(a);null!=b&&(e.Assets.cache.clear(a+
":"),b.eventCallback=null);e.Assets.libraries.remove(a)};e.Assets.library_onEvent=function(a,b){"change"==b&&(e.Assets.cache.clear(),e.Assets.dispatchEvent(new e.events.Event(e.events.Event.CHANGE)))};e.AssetData=function(){};l["openfl.AssetData"]=e.AssetData;e.AssetData.__name__=["openfl","AssetData"];e.AssetData.prototype={id:null,path:null,type:null,__class__:e.AssetData};e.AssetType=l["openfl.AssetType"]={__ename__:["openfl","AssetType"],__constructs__:"BINARY FONT IMAGE MOVIE_CLIP MUSIC SOUND TEMPLATE TEXT".split(" ")};
e.AssetType.BINARY=["BINARY",0];e.AssetType.BINARY.toString=A;e.AssetType.BINARY.__enum__=e.AssetType;e.AssetType.FONT=["FONT",1];e.AssetType.FONT.toString=A;e.AssetType.FONT.__enum__=e.AssetType;e.AssetType.IMAGE=["IMAGE",2];e.AssetType.IMAGE.toString=A;e.AssetType.IMAGE.__enum__=e.AssetType;e.AssetType.MOVIE_CLIP=["MOVIE_CLIP",3];e.AssetType.MOVIE_CLIP.toString=A;e.AssetType.MOVIE_CLIP.__enum__=e.AssetType;e.AssetType.MUSIC=["MUSIC",4];e.AssetType.MUSIC.toString=A;e.AssetType.MUSIC.__enum__=e.AssetType;
e.AssetType.SOUND=["SOUND",5];e.AssetType.SOUND.toString=A;e.AssetType.SOUND.__enum__=e.AssetType;e.AssetType.TEMPLATE=["TEMPLATE",6];e.AssetType.TEMPLATE.toString=A;e.AssetType.TEMPLATE.__enum__=e.AssetType;e.AssetType.TEXT=["TEXT",7];e.AssetType.TEXT.toString=A;e.AssetType.TEXT.__enum__=e.AssetType;e.Lib=function(){};l["openfl.Lib"]=e.Lib;e.Lib.__name__=["openfl","Lib"];e.Lib.current=null;e.Lib.as=function(a,b){return D.Boot.__instanceof(a,b)?a:null};e.Lib.attach=function(){return new e.display.MovieClip};
e.Lib.create=function(a,b,c,d){null==b&&(b=0);null==c&&(c=0);for(var g=0,i=["ms","moz","webkit","o"],f=0;f<i.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[i[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[f]+"CancelAnimationFrame"]||window[i[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-g)),d=window.setTimeout(function(){a(b+c)},c);g=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;a=new e.display.Stage(b,c,a,d);null==e.Lib.current&&(e.Lib.current=new e.display.MovieClip,a.addChild(e.Lib.current))};e.Lib.getTimer=function(){return C["int"](1E3*(p.Timer.stamp()-e.Lib.__startTime))};e.Lib.getURL=function(a,b){null==b&&(b="_blank");window.open(a.url,b)};e.Lib.notImplemented=function(a){e.Lib.__sentWarnings.exists(a)||e.Lib.__sentWarnings.set(a,
!0)};e.Lib.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(a){a.preventDefault()},!1)};e.Lib.trace=function(a){p.Log.trace(a,{fileName:"Lib.hx",lineNumber:134,className:"openfl.Lib",methodName:"trace"})};e.Memory=function(){};l["openfl.Memory"]=e.Memory;e.Memory.__name__=["openfl","Memory"];e.Memory.gcRef=null;e.Memory.len=null;e.Memory._setPositionTemporarily=function(a,b){var c=e.Memory.gcRef.position;e.Memory.gcRef.position=a;var d=b();e.Memory.gcRef.position=
c;return d};e.Memory.getByte=function(a){return e.Memory.gcRef.__get(a)};e.Memory.getDouble=function(a){return e.Memory._setPositionTemporarily(a,function(){return e.Memory.gcRef.readDouble()})};e.Memory.getFloat=function(a){return e.Memory._setPositionTemporarily(a,function(){return e.Memory.gcRef.readFloat()})};e.Memory.getI32=function(a){return e.Memory._setPositionTemporarily(a,function(){return e.Memory.gcRef.readInt()})};e.Memory.getUI16=function(a){return e.Memory._setPositionTemporarily(a,
function(){return e.Memory.gcRef.readUnsignedShort()})};e.Memory.select=function(a){e.Memory.gcRef=a;e.Memory.len=null!=a?a.length:0};e.Memory.setByte=function(a,b){e.Memory.gcRef.__set(a,b)};e.Memory.setDouble=function(a,b){e.Memory._setPositionTemporarily(a,function(){e.Memory.gcRef.writeDouble(b)})};e.Memory.setFloat=function(a,b){e.Memory._setPositionTemporarily(a,function(){e.Memory.gcRef.writeFloat(b)})};e.Memory.setI16=function(a,b){e.Memory._setPositionTemporarily(a,function(){e.Memory.gcRef.writeUnsignedShort(b)})};
e.Memory.setI32=function(a,b){e.Memory._setPositionTemporarily(a,function(){e.Memory.gcRef.writeInt(b)})};e._Vector={};e._Vector.Vector_Impl_=function(){};l["openfl._Vector.Vector_Impl_"]=e._Vector.Vector_Impl_;e._Vector.Vector_Impl_.__name__=["openfl","_Vector","Vector_Impl_"];e._Vector.Vector_Impl_.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"};e._Vector.Vector_Impl_._new=function(a,b){null==b&&(b=!1);null==a&&(a=0);var c;c=new e.VectorData;
c.data=Array(a);c.length=a;c.fixed=b;return c};e._Vector.Vector_Impl_.concat=function(a,b){var c=new e.VectorData;c.length=null!=b?a.length+b.length:a.length;c.fixed=!1;c.data=Array(c.length);p.ds._Vector.Vector_Impl_.blit(a.data,0,c.data,0,a.length);null!=b&&p.ds._Vector.Vector_Impl_.blit(b.data,0,c.data,a.length,b.length);return c};e._Vector.Vector_Impl_.copy=function(a){var b=new e.VectorData;b.length=a.length;b.fixed=a.fixed;b.data=Array(a.length);p.ds._Vector.Vector_Impl_.blit(a.data,0,b.data,
0,a.length);return b};e._Vector.Vector_Impl_.iterator=function(a){return new e.VectorDataIterator(a)};e._Vector.Vector_Impl_.join=function(a,b){for(var c="",d=0,g=a.length;d<g;){var i=d++;0<i&&(c+=b);c+=C.string(a.data[i])}return c};e._Vector.Vector_Impl_.pop=function(a){return!a.fixed&&0<a.length?(a.length--,a.data[a.length]):null};e._Vector.Vector_Impl_.push=function(a,b){if(!a.fixed){a.length++;if(a.data.length<a.length){var c;c=Array(a.data.length+10);p.ds._Vector.Vector_Impl_.blit(a.data,0,c,
0,a.data.length);a.data=c}a.data[a.length-1]=b}return a.length};e._Vector.Vector_Impl_.reverse=function(a){var b;b=Array(a.length);for(var c=0,d=a.length;c<d;){var g=c++;b[a.length-1-g]=a.data[g]}a.data=b};e._Vector.Vector_Impl_.shift=function(a){if(!a.fixed&&0<a.length){var b=a.data[0];a.length--;p.ds._Vector.Vector_Impl_.blit(a.data,1,a.data,0,a.length);return b}return null};e._Vector.Vector_Impl_.unshift=function(a,b){if(!a.fixed){a.length++;if(a.data.length<a.length){var c;c=Array(a.length+10);
p.ds._Vector.Vector_Impl_.blit(a.data,0,c,1,a.data.length);a.data=c}else p.ds._Vector.Vector_Impl_.blit(a.data,0,a.data,1,a.length-1);a.data[0]=b}};e._Vector.Vector_Impl_.slice=function(a,b,c){null==c&&(c=0);null==b&&(b=0);0>b&&(b+=a.length);0>=c&&(c+=a.length);c>a.length&&(c=a.length);var d=c-b;if(0>=d||d>a.length)d=a.length;var g=new e.VectorData;g.length=c-b;g.fixed=!0;g.data=Array(d);p.ds._Vector.Vector_Impl_.blit(a.data,b,g.data,0,d);return g};e._Vector.Vector_Impl_.sort=function(a,b){var c=
p.ds._Vector.Vector_Impl_.toArray(a.data);c.sort(b);var d;d=Array(c.length);for(var g=0,i=c.length;g<i;){var e=g++;d[e]=c[e]}a.data=d};e._Vector.Vector_Impl_.splice=function(a,b,c){0>b&&(b+=a.length);b+c>a.length&&(c=a.length-b);0>c&&(c=0);var d=new e.VectorData;d.length=c;d.fixed=!1;d.data=Array(c);p.ds._Vector.Vector_Impl_.blit(a.data,b,d.data,0,c);0<c&&(a.length-=c,p.ds._Vector.Vector_Impl_.blit(a.data,b+c,a.data,b,a.length-b));return d};e._Vector.Vector_Impl_.toString=function(){return""};e._Vector.Vector_Impl_.indexOf=
function(a,b,c){null==c&&(c=0);for(var d=a.length;c<d;){var g=c++;if(a.data[g]==b)return g}return-1};e._Vector.Vector_Impl_.lastIndexOf=function(a,b,c){null==c&&(c=0);for(var d=a.length-1;d>=c;){if(a.data[d]==b)return d;d--}return-1};e._Vector.Vector_Impl_.ofArray=function(a){var b=new e.VectorData;b.length=a.length;b.fixed=!0;var c;c=Array(a.length);for(var d=0,g=a.length;d<g;){var i=d++;c[i]=a[i]}b.data=c;return b};e._Vector.Vector_Impl_.convert=function(a){return a};e._Vector.Vector_Impl_.arrayAccess=
function(a,b){return a.data[b]};e._Vector.Vector_Impl_.arrayWrite=function(a,b,c){b>=a.length&&!a.fixed&&(a.length=b+1);return a.data[b]=c};e._Vector.Vector_Impl_.fromArray=function(a){var b=new e.VectorData;b.length=a.length;b.fixed=!0;var c;c=Array(a.length);for(var d=0,g=a.length;d<g;){var i=d++;c[i]=a[i]}b.data=c;return b};e._Vector.Vector_Impl_.toArray=function(a){for(var b=[],c=0,d=a.data.length;c<d;){var g=c++;b.push(a.data[g])}return b};e._Vector.Vector_Impl_.fromHaxeVector=function(a){var b=
new e.VectorData;b.length=a.length;b.fixed=!0;b.data=a;return b};e._Vector.Vector_Impl_.toHaxeVector=function(a){return a.data};e._Vector.Vector_Impl_.fromVectorData=function(a){return a};e._Vector.Vector_Impl_.toVectorData=function(a){return a};e._Vector.Vector_Impl_.get_length=function(a){return a.length};e._Vector.Vector_Impl_.set_length=function(a,b){if(!a.fixed){if(b>a.length){var c;c=Array(b);p.ds._Vector.Vector_Impl_.blit(a.data,0,c,0,C["int"](Math.min(a.data.length,b)));a.data=c}a.length=
b}return b};e._Vector.Vector_Impl_.get_fixed=function(a){return a.fixed};e._Vector.Vector_Impl_.set_fixed=function(a,b){return a.fixed=b};e.VectorData=function(){this.length=0};l["openfl.VectorData"]=e.VectorData;e.VectorData.__name__=["openfl","VectorData"];e.VectorData.prototype={data:null,fixed:null,length:null,__class__:e.VectorData};e.VectorDataIterator=function(a){this.index=0;this.vectorData=a};l["openfl.VectorDataIterator"]=e.VectorDataIterator;e.VectorDataIterator.__name__=["openfl","VectorDataIterator"];
e.VectorDataIterator.prototype={index:null,vectorData:null,hasNext:function(){return this.index<this.vectorData.length},next:function(){var a=this.index++;return this.vectorData.data[a]},__class__:e.VectorDataIterator};e.display.Bitmap=function(a,b,c){null==c&&(c=!1);e.display.DisplayObjectContainer.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=e.display.PixelSnapping.AUTO)};l["openfl.display.Bitmap"]=e.display.Bitmap;e.display.Bitmap.__name__=["openfl",
"display","Bitmap"];e.display.Bitmap.__super__=e.display.DisplayObjectContainer;e.display.Bitmap.prototype=z(e.display.DisplayObjectContainer.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__canvas:null,__canvasContext:null,__image:null,__getBounds:function(a){if(null!=this.bitmapData){var b=new e.geom.Rectangle(0,0,this.bitmapData.width,this.bitmapData.height),b=b.transform(this.__worldTransform);a.__expand(b.x,b.y,b.width,b.height)}},__hitTest:function(a,b,c,d){if(!this.get_visible()||
null==this.bitmapData)return!1;a=this.globalToLocal(new e.geom.Point(a,b));return 0<a.x&&0<a.y&&a.x<=this.bitmapData.width&&a.y<=this.bitmapData.height?(null!=d&&d.push(this),!0):!1},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__valid){null!=this.__mask&&a.maskManager.pushMask(this.__mask);this.bitmapData.__syncImageData();b.globalAlpha=this.__worldAlpha;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,
c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);this.smoothing||(b.mozImageSmoothingEnabled=!1,b.webkitImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==this.get_scrollRect()?null!=this.bitmapData.__sourceImage?b.drawImage(this.bitmapData.__sourceImage,0,0):b.drawImage(this.bitmapData.__sourceCanvas,0,0):null!=this.bitmapData.__sourceImage?b.drawImage(this.bitmapData.__sourceImage,this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height,
this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height):b.drawImage(this.bitmapData.__sourceCanvas,this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height,this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height);this.smoothing||(b.mozImageSmoothingEnabled=!0,b.webkitImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0);null!=this.__mask&&a.maskManager.popMask()}}},
__renderDOM:function(a){if(null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__valid)null!=this.bitmapData.__sourceImage?this.__renderDOMImage(a):this.__renderDOMCanvas(a);else if(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas)a.element.removeChild(this.__canvas),this.__style=this.__canvas=null},__renderDOMCanvas:function(a){null!=this.__image&&(a.element.removeChild(this.__image),this.__image=
null);null==this.__canvas&&(this.__canvas=window.document.createElement("canvas"),this.__canvasContext=this.__canvas.getContext("2d"),this.smoothing||(this.__canvasContext.mozImageSmoothingEnabled=!1,this.__canvasContext.webkitImageSmoothingEnabled=!1,this.__canvasContext.imageSmoothingEnabled=!1),this.__initializeElement(this.__canvas,a));this.bitmapData.__syncImageData();this.__canvas.width=this.bitmapData.width;this.__canvas.height=this.bitmapData.height;this.__canvasContext.globalAlpha=this.__worldAlpha;
this.__canvasContext.drawImage(this.bitmapData.__sourceCanvas,0,0);this.__applyStyle(a,!0,!1,!0)},__renderDOMImage:function(a){null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__canvas=null);null==this.__image&&(this.__image=window.document.createElement("img"),this.__image.src=this.bitmapData.__sourceImage.src,this.__initializeElement(this.__image,a));this.__applyStyle(a,!0,!0,!0)},__renderMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},get_height:function(){return null!=
this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&(this.__transformDirty||(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++),this.set_scaleY(a/this.bitmapData.height)),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&(this.__transformDirty||(this.__transformDirty=
!0,e.display.DisplayObject.__worldTransformDirty++),this.set_scaleX(a/this.bitmapData.width)),a):0},__class__:e.display.Bitmap});e.display.BitmapData=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;0<a&&0<b&&(this.width=a,this.height=b,this.rect=new e.geom.Rectangle(0,0,a,b),this.__createCanvas(a,b),c||(d=-16777216|d&16777215),this.__fillRect(new e.geom.Rectangle(0,0,a,b),d))};l["openfl.display.BitmapData"]=e.display.BitmapData;e.display.BitmapData.__name__=["openfl","display",
"BitmapData"];e.display.BitmapData.__interfaces__=[e.display.IBitmapDrawable];e.display.BitmapData.__base64Encoder=null;e.display.BitmapData.fromBase64=function(a,b,c){var d=new e.display.BitmapData(0,0,!0);d.__loadFromBase64(a,b,c);return d};e.display.BitmapData.fromBytes=function(a,b,c){var d=new e.display.BitmapData(0,0,!0);d.__loadFromBytes(a,b,c);return d};e.display.BitmapData.fromFile=function(a,b,c){var d=new e.display.BitmapData(0,0,!0);d.__sourceImage=new Image;d.__sourceImage.onload=function(){d.width=
d.__sourceImage.width;d.height=d.__sourceImage.height;d.rect=new e.geom.Rectangle(0,0,d.__sourceImage.width,d.__sourceImage.height);d.__valid=!0;null!=b&&b(d)};d.__sourceImage.onerror=function(){d.__valid=!1;null!=c&&c()};d.__sourceImage.src=a;return d};e.display.BitmapData.fromImage=function(a,b){null==b&&(b=!0);var c=new e.display.BitmapData(0,0,b);c.__sourceImage=a;c.width=a.width;c.height=a.height;c.rect=new e.geom.Rectangle(0,0,a.width,a.height);c.__valid=!0;return c};e.display.BitmapData.fromCanvas=
function(a,b){null==b&&(b=!0);var c=new e.display.BitmapData(0,0,b);c.width=a.width;c.height=a.height;c.rect=new e.geom.Rectangle(0,0,a.width,a.height);c.__createCanvas(a.width,a.height);c.__sourceContext.drawImage(a,0,0);return c};e.display.BitmapData.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==e.display.BitmapData.__base64Encoder&&(e.display.BitmapData.__base64Encoder=new p.crypto.BaseCode(p.io.Bytes.ofString(e.display.BitmapData.__base64Chars)));
return e.display.BitmapData.__base64Encoder.encodeBytes(p.io.Bytes.ofData(a.byteView)).toString()+b};e.display.BitmapData.__flipPixel=function(a){return(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>24&255};e.display.BitmapData.__isJPG=function(a){a.position=0;return 255==a.readByte()&&216==a.readByte()};e.display.BitmapData.__isPNG=function(a){a.position=0;return 137==a.readByte()&&80==a.readByte()&&78==a.readByte()&&71==a.readByte()&&13==a.readByte()&&10==a.readByte()&&26==a.readByte()&&10==a.readByte()};
e.display.BitmapData.__isGIF=function(a){a.position=0;if(71==a.readByte()&&73==a.readByte()&&70==a.readByte()&&38==a.readByte()){var b=a.readByte();return(7==b||9==b)&&97==a.readByte()}return!1};e.display.BitmapData.__ucompare=function(a,b){var c,d;c=a>>24&255;d=b>>24&255;if(c!=d)return c>d?1:-1;c=a>>16&255;d=b>>16&255;if(c!=d)return c>d?1:-1;c=a>>8&255;d=b>>8&255;if(c!=d)return c>d?1:-1;c=a&255;d=b&255;return c!=d?c>d?1:-1:0};e.display.BitmapData.prototype={height:null,rect:null,transparent:null,
width:null,__glTexture:null,__worldTransform:null,__loading:null,__sourceCanvas:null,__sourceContext:null,__sourceImage:null,__sourceImageData:null,__sourceImageDataChanged:null,__valid:null,applyFilter:function(a,b,c,d){this.__valid&&(null!=a&&a.__valid)&&(this.__convertToCanvas(),this.__createImageData(),a.__convertToCanvas(),a.__createImageData(),d.__applyFilter(this.__sourceImageData,a.__sourceImageData,b,c),this.__sourceImageDataChanged=!0)},clone:function(){this.__syncImageData();return this.__valid?
null!=this.__sourceImage?e.display.BitmapData.fromImage(this.__sourceImage,this.transparent):e.display.BitmapData.fromCanvas(this.__sourceCanvas,this.transparent):new e.display.BitmapData(this.width,this.height,this.transparent)},colorTransform:function(a,b){a=this.__clipRect(a);if(this.__valid&&null!=a){this.__convertToCanvas();this.__createImageData();for(var c=this.__sourceImageData.data,d=4*this.width,g,i=a.y|0,e=a.height|0;i<e;)for(var f=i++,o=a.x|0,h=a.width|0;o<h;)g=o++,g=f*d+4*g,c[g]=c[g]*
b.redMultiplier+b.redOffset|0,c[g+1]=c[g+1]*b.greenMultiplier+b.greenOffset|0,c[g+2]=c[g+2]*b.blueMultiplier+b.blueOffset|0,c[g+3]=c[g+3]*b.alphaMultiplier+b.alphaOffset|0;this.__sourceImageDataChanged=!0}},copyChannel:function(a,b,c,d,g){b=this.__clipRect(b);if(this.__valid&&null!=b&&(8!=g||this.transparent))if(!(0>=b.width||0>=b.height)){b.x+b.width>a.width&&(b.width=a.width-b.x);b.y+b.height>a.height&&(b.height=a.height-b.y);var i=-1;if(8==g)i=3;else if(4==g)i=2;else if(2==g)i=1;else if(1==g)i=
0;else throw"Invalid destination BitmapDataChannel passed to BitmapData::copyChannel.";g=-1;if(8==d)g=3;else if(4==d)g=2;else if(2==d)g=1;else if(1==d)g=0;else throw"Invalid source BitmapDataChannel passed to BitmapData::copyChannel.";a.__convertToCanvas();a.__createImageData();var d=a.__sourceImageData.data,a=4*a.width|0,g=4*b.x+a*b.y+g|0,e=a-(4*b.width|0),f=4*(b.x+b.width)|0;this.__convertToCanvas();this.__createImageData();for(var o=this.__sourceImageData.data,h=4*this.width|0,i=4*c.x+h*c.y+i|
0,x=h-(4*b.width|0),c=4*(c.x+b.width)|0,b=b.width*b.height|0,k=0;k<b;)k++,o[i]=d[g],g+=4,i+=4,g%a>f&&(g+=e),i%h>c&&(i+=x);this.__sourceImageDataChanged=!0}},copyPixels:function(a,b,c,d,g,i){null==i&&(i=!1);if(this.__valid&&null!=a&&(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),!(0>=b.width||0>=b.height)))null!=d&&d.transparent&&(null==g&&(g=new e.geom.Point),a=this.clone(),a.copyChannel(d,new e.geom.Rectangle(g.x,g.y,b.width,b.height),new e.geom.Point(b.x,
b.y),8,8)),this.__syncImageData(),i||this.transparent&&a.transparent&&this.__sourceContext.clearRect(c.x,c.y,b.width,b.height),a.__syncImageData(),null!=a.__sourceImage?this.__sourceContext.drawImage(a.__sourceImage,b.x|0,b.y|0,b.width|0,b.height|0,c.x|0,c.y|0,b.width|0,b.height|0):null!=a.__sourceCanvas&&this.__sourceContext.drawImage(a.__sourceCanvas,b.x|0,b.y|0,b.width|0,b.height|0,c.x|0,c.y|0,b.width|0,b.height|0)},dispose:function(){this.__sourceContext=this.__sourceCanvas=this.__sourceImage=
null;this.height=this.width=0;this.rect=null;this.__valid=!1},draw:function(a,b,c,d,g,i){null==i&&(i=!1);this.__valid&&(this.__convertToCanvas(),this.__syncImageData(),c=new e.display.RenderSession,c.context=this.__sourceContext,c.roundPixels=!0,i||(this.__sourceContext.mozImageSmoothingEnabled=!1,this.__sourceContext.webkitImageSmoothingEnabled=!1,this.__sourceContext.imageSmoothingEnabled=!1),d=a.__worldTransform,a.__worldTransform=null!=b?b:new e.geom.Matrix,a.__updateChildren(!1),a.__renderCanvas(c),
a.__worldTransform=d,a.__updateChildren(!0),i||(this.__sourceContext.mozImageSmoothingEnabled=!0,this.__sourceContext.webkitImageSmoothingEnabled=!0,this.__sourceContext.imageSmoothingEnabled=!0),this.__sourceContext.setTransform(1,0,0,1,0,0))},encode:function(){e.Lib.notImplemented("BitmapData.encode");return null},fillRect:function(a,b){a=this.__clipRect(a);this.__valid&&null!=a&&(this.__convertToCanvas(),this.__syncImageData(),0==a.x&&0==a.y&&a.width==this.width&&a.height==this.height&&this.transparent&&
0==(b&-16777216)?this.__sourceCanvas.width=this.width:this.__fillRect(a,b))},floodFill:function(a,b,c){if(this.__valid){this.__convertToCanvas();this.__createImageData();var d=this.__sourceImageData.data,g=b*4*this.width+4*a,i=d[g],e=d[g+1],f=d[g+2],g=this.transparent?d[g+3]:255,o=(c&16711680)>>>16,h=(c&65280)>>>8,x=c&255,c=this.transparent?(c&-16777216)>>>24:255;if(!(i==o&&e==h&&f==x&&g==c)){var k=[0,-1,1,0],l=[-1,0,0,1],m=[];m.push(a);for(m.push(b);0<m.length;)for(var a=m.pop(),b=m.pop(),s=0;4>
s;){var p=s++,q=b+k[p],p=a+l[p];if(!(0>q||0>p||q>=this.width||p>=this.height)){var u=4*(p*this.width+q);d[u]==i&&(d[u+1]==e&&d[u+2]==f&&d[u+3]==g)&&(d[u]=o,d[u+1]=h,d[u+2]=x,d[u+3]=c,m.push(q),m.push(p))}}this.__sourceImageDataChanged=!0}}},generateFilterRect:function(a){return a.clone()},getColorBoundsRect:function(){return this.rect.clone()},getPixel:function(a,b){if(!this.__valid||0>a||0>b||a>=this.width||b>=this.height)return 0;this.__convertToCanvas();this.__createImageData();var c=4*b*this.width+
4*a;return this.__sourceImageData.data[c]<<16|this.__sourceImageData.data[c+1]<<8|this.__sourceImageData.data[c+2]},getPixel32:function(a,b){if(!this.__valid||0>a||0>b||a>=this.width||b>=this.height)return 0;this.__convertToCanvas();this.__createImageData();return this.__getInt32(4*b*this.width+4*a,this.__sourceImageData.data)},getPixels:function(a){if(!this.__valid)return null;this.__convertToCanvas();this.__createImageData();var b=new e.utils.ByteArray;if(null==a||a.equals(this.rect))b.set_length(this.__sourceImageData.data.length),
b.byteView.set(this.__sourceImageData.data);else{var c=this.__sourceImageData.data,d=4*this.width|0,g=4*a.x+d*a.y|0,i=d-(4*a.width|0),f=4*(a.x+a.width)|0,a=4*a.width*a.height|0;b.allocated<a?b.___resizeBuffer(b.allocated=C["int"](Math.max(a,2*b.allocated))):b.allocated>a&&b.___resizeBuffer(b.allocated=a);b.length=a;a;for(var n=0;n<a;){var o=n++;b.__set(o,c[g++]);g%d>f&&(g+=i)}}b.position=0;return b},getVector:function(a){for(var a=this.getPixels(a),b=e._Vector.Vector_Impl_._new(),c=0,d=a.length/4|
0;c<d;){c++;var g=a.readUnsignedInt();if(!b.fixed){b.length++;if(b.data.length<b.length){var i;i=Array(b.data.length+10);p.ds._Vector.Vector_Impl_.blit(b.data,0,i,0,b.data.length);b.data=i}b.data[b.length-1]=g}b.length}return b},histogram:function(a){for(var a=null!=a?a:new e.geom.Rectangle(0,0,this.width,this.height),a=this.getPixels(a),b=[],c=0;4>c;)c++,b.push(function(){for(var a=[],b=0;256>b;)b++,a.push(0);return a}(this));for(var c=0,d=a.length;c<d;){var g=c++;++b[g%4][a.readUnsignedByte()]}return b},
hitTest:function(){if(!this.__valid)return!1;e.Lib.notImplemented("BitmapData.hitTest");return!1},lock:function(){},noise:function(){this.__valid&&e.Lib.notImplemented("BitmapData.noise")},paletteMap:function(a,b,c,d,g,i){var a=new e.utils.ByteArray,f=b.width|0,n=b.height|0;a.set_length(4*f*n);a=this.getPixels(b);a.position=0;e.Memory.select(a);for(var o,h,x,k=0,l=n*f;k<l;)b=4*k++,o=e.Memory._setPositionTemporarily(b,function(){return e.Memory.gcRef.readInt()}),h=o>>8&255,x=o>>16&255,o=o>>24&255,
h=e.display.BitmapData.__flipPixel(-16777216|d[h]|g[x]|i[o]),e.Memory.setI32(b,h);a.position=0;c=new e.geom.Rectangle(c.x,c.y,f,n);this.setPixels(c,a);e.Memory.select(null)},perlinNoise:function(){e.Lib.notImplemented("BitmapData.perlinNoise")},scroll:function(){e.Lib.notImplemented("BitmapData.scroll")},setVector:function(a,b){var c=new e.utils.ByteArray;c.set_length(4*b.length);for(var d=0;d<b.length;){var g=b.data[d];++d;c.writeUnsignedInt(g)}c.position=0;this.setPixels(a,c)},setPixel:function(a,
b,c){if(this.__valid&&!(0>a||0>b||a>=this.width||b>=this.height))this.__convertToCanvas(),this.__createImageData(),a=4*b*this.width+4*a,this.__sourceImageData.data[a]=(c&16711680)>>>16,this.__sourceImageData.data[a+1]=(c&65280)>>>8,this.__sourceImageData.data[a+2]=c&255,this.transparent&&(this.__sourceImageData.data[a+3]=255),this.__sourceImageDataChanged=!0},setPixel32:function(a,b,c){if(this.__valid&&!(0>a||0>b||a>=this.width||b>=this.height))this.__convertToCanvas(),this.__createImageData(),a=
4*b*this.width+4*a,this.__sourceImageData.data[a]=(c&16711680)>>>16,this.__sourceImageData.data[a+1]=(c&65280)>>>8,this.__sourceImageData.data[a+2]=c&255,this.__sourceImageData.data[a+3]=this.transparent?(c&-16777216)>>>24:255,this.__sourceImageDataChanged=!0},setPixels:function(a,b){a=this.__clipRect(a);if(this.__valid&&null!=a){this.__convertToCanvas();var c=Math.round(4*a.width*a.height);if(0==a.x&&0==a.y&&a.width==this.width&&a.height==this.height)null==this.__sourceImageData&&(this.__sourceImageData=
this.__sourceContext.createImageData(this.width,this.height)),this.__sourceImageData.data.set(b.byteView);else{this.__createImageData();for(var d=Math.round(4*this.width*a.y+4*a.x),g=Math.round(4*(a.x+a.width)),i=this.__sourceImageData.data,e=0;e<c;)e++,d%(4*this.width)>g-1&&(d+=4*this.width-g),i[d]=b.readByte(),d++}this.__sourceImageDataChanged=!0}},threshold:function(a,b,c,d,g,i,f,n){null==n&&(n=!1);null==f&&(f=-1);null==i&&(i=0);if(a==this&&b.equals(this.rect)&&0==c.x&&0==c.y){b=0;g=(g&255)<<24|
(g>>8&255)<<16|(g>>16&255)<<8|g>>24&255;i=(i&255)<<24|(i>>8&255)<<16|(i>>16&255)<<8|i>>24&255;c=new e.utils.ByteArray;c.set_length(4*this.width*this.height);c=this.getPixels(this.rect);c.position=0;e.Memory.select(c);for(var n=g&f,o,h,x,k,l=0,m=this.height;l<m;){o=l++;o*=this.width;for(var s=0,p=this.width;s<p;)h=s++,h=4*(o+h),x=e.Memory._setPositionTemporarily(h,function(){return e.Memory.gcRef.readInt()}),x&=f,x=e.display.BitmapData.__ucompare(x,n),k=!1,"=="==d?k=0==x:"<"==d?k=-1==x:">"==d?k=1==
x:"!="==d?k=0!=x:"<="==d?k=0==x||-1==x:">="==d&&(k=0==x||1==x),k&&(e.Memory.setI32(h,i),b++)}c.position=0;this.setPixels(this.rect,c);e.Memory.select(null);return b}l=b.x|0;m=b.y|0;o=a.width|0;k=a.height|0;s=c.x|0;p=c.y|0;h=this.width-o-s;s=0>h?o+(this.width-o-s):o;p=0>h?k+(this.height-k-p):k;h=0;g=(g&255)<<24|(g>>8&255)<<16|(g>>16&255)<<8|g>>24&255;i=(i&255)<<24|(i>>8&255)<<16|(i>>16&255)<<8|i>>24&255;x=4*o*k;var q=0;n&&(q=4*o*k);q=x+q;k=new e.utils.ByteArray;k.allocated<q?k.___resizeBuffer(k.allocated=
C["int"](Math.max(q,2*k.allocated))):k.allocated>q&&k.___resizeBuffer(k.allocated=q);k.length=q;q;k.position=0;a=a.clone();q=a.getPixels(b);k.writeBytes(q);k.position=x;n&&k.writeBytes(q);k.position=0;e.Memory.select(k);for(var g=g&f,u,v,w=0;w<p;)for(var y=w++,r=0;r<s;)q=4*(r++ +l+(y+m)*o),u=e.Memory._setPositionTemporarily(q,function(){return e.Memory.gcRef.readInt()}),u&=f,u=e.display.BitmapData.__ucompare(u,g),v=!1,"=="==d?v=0==u:"<"==d?v=-1==u:">"==d?v=1==u:"!="==d?v=0!=u:"<="==d?v=0==u||-1==
u:">="==d&&(v=0==u||1==u),v?(e.Memory.setI32(q,i),h++):n&&e.Memory.setI32(q,e.Memory._setPositionTemporarily(x+q,function(){return e.Memory.gcRef.readInt()}));k.position=0;a.setPixels(b,k);this.copyPixels(a,a.rect,c);e.Memory.select(null);return h},unlock:function(){},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=
a.y+a.height-this.height,0>=a.height)?null:a},__convertToCanvas:function(){!this.__loading&&null!=this.__sourceImage&&(null==this.__sourceCanvas&&(this.__createCanvas(this.__sourceImage.width,this.__sourceImage.height),this.__sourceContext.drawImage(this.__sourceImage,0,0)),this.__sourceImage=null)},__createCanvas:function(a,b){null==this.__sourceCanvas&&(this.__sourceCanvas=window.document.createElement("canvas"),this.__sourceCanvas.width=a,this.__sourceCanvas.height=b,this.transparent?this.__sourceContext=
this.__sourceCanvas.getContext("2d"):(this.transparent||this.__sourceCanvas.setAttribute("moz-opaque","true"),this.__sourceContext=this.__sourceCanvas.getContext("2d",{alpha:!1})),this.__sourceContext.mozImageSmoothingEnabled=!1,this.__sourceContext.webkitImageSmoothingEnabled=!1,this.__sourceContext.imageSmoothingEnabled=!1,this.__valid=!0)},__createImageData:function(){null==this.__sourceImageData&&(this.__sourceImageData=this.__sourceContext.getImageData(0,0,this.width,this.height))},__fillRect:function(a,
b){this.__sourceContext.fillStyle="rgba("+((b&16711680)>>>16)+", "+((b&65280)>>>8)+", "+(b&255)+", "+(this.transparent?(b&-16777216)>>>24:255)/255+")";this.__sourceContext.fillRect(a.x,a.y,a.width,a.height)},__getInt32:function(a,b){return(this.transparent?b[a+3]:255)<<24|b[a]<<16|b[a+1]<<8|b[a+2]},__loadFromBase64:function(a,b,c){var d=this;this.__sourceImage=window.document.createElement("img");this.__sourceImage.addEventListener("load",function(a){null==d.__sourceImage&&(d.__sourceImage=a.target);
d.width=d.__sourceImage.width;d.height=d.__sourceImage.height;d.rect=new e.geom.Rectangle(0,0,d.width,d.height);d.__valid=!0;null!=c&&c(d)},!1);this.__sourceImage.src="data:"+b+";base64,"+a},__loadFromBytes:function(a,b,c){var d=this,g="";if(e.display.BitmapData.__isPNG(a))g="image/png";else if(e.display.BitmapData.__isJPG(a))g="image/jpeg";else if(e.display.BitmapData.__isGIF(a))g="image/gif";else throw new e.errors.IOError("BitmapData tried to read a PNG/JPG ByteArray, but found an invalid header.");
null!=b?this.__loadFromBase64(e.display.BitmapData.__base64Encode(a),g,function(){d.__convertToCanvas();d.__createImageData();for(var a=d.__sourceImageData.data,g=0,e=b.length;g<e;){var f=g++;a[4*f+3]=b.readUnsignedByte()}d.__sourceImageDataChanged=!0;null!=c&&c(d)}):this.__loadFromBase64(e.display.BitmapData.__base64Encode(a),g,c)},__renderCanvas:function(a){if(this.__valid){this.__syncImageData();var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new e.geom.Matrix);b.globalAlpha=
1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);null!=this.__sourceImage?b.drawImage(this.__sourceImage,0,0):b.drawImage(this.__sourceCanvas,0,0)}},__renderMask:function(){},__syncImageData:function(){this.__sourceImageDataChanged&&(this.__sourceContext.putImageData(this.__sourceImageData,0,0),this.__sourceImageData=null,this.__sourceImageDataChanged=!1)},__updateChildren:function(){},__class__:e.display.BitmapData};
e.display.BitmapDataChannel=function(){};l["openfl.display.BitmapDataChannel"]=e.display.BitmapDataChannel;e.display.BitmapDataChannel.__name__=["openfl","display","BitmapDataChannel"];e.display.BlendMode=l["openfl.display.BlendMode"]={__ename__:["openfl","display","BlendMode"],__constructs__:"ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")};e.display.BlendMode.ADD=["ADD",0];e.display.BlendMode.ADD.toString=A;e.display.BlendMode.ADD.__enum__=
e.display.BlendMode;e.display.BlendMode.ALPHA=["ALPHA",1];e.display.BlendMode.ALPHA.toString=A;e.display.BlendMode.ALPHA.__enum__=e.display.BlendMode;e.display.BlendMode.DARKEN=["DARKEN",2];e.display.BlendMode.DARKEN.toString=A;e.display.BlendMode.DARKEN.__enum__=e.display.BlendMode;e.display.BlendMode.DIFFERENCE=["DIFFERENCE",3];e.display.BlendMode.DIFFERENCE.toString=A;e.display.BlendMode.DIFFERENCE.__enum__=e.display.BlendMode;e.display.BlendMode.ERASE=["ERASE",4];e.display.BlendMode.ERASE.toString=
A;e.display.BlendMode.ERASE.__enum__=e.display.BlendMode;e.display.BlendMode.HARDLIGHT=["HARDLIGHT",5];e.display.BlendMode.HARDLIGHT.toString=A;e.display.BlendMode.HARDLIGHT.__enum__=e.display.BlendMode;e.display.BlendMode.INVERT=["INVERT",6];e.display.BlendMode.INVERT.toString=A;e.display.BlendMode.INVERT.__enum__=e.display.BlendMode;e.display.BlendMode.LAYER=["LAYER",7];e.display.BlendMode.LAYER.toString=A;e.display.BlendMode.LAYER.__enum__=e.display.BlendMode;e.display.BlendMode.LIGHTEN=["LIGHTEN",
8];e.display.BlendMode.LIGHTEN.toString=A;e.display.BlendMode.LIGHTEN.__enum__=e.display.BlendMode;e.display.BlendMode.MULTIPLY=["MULTIPLY",9];e.display.BlendMode.MULTIPLY.toString=A;e.display.BlendMode.MULTIPLY.__enum__=e.display.BlendMode;e.display.BlendMode.NORMAL=["NORMAL",10];e.display.BlendMode.NORMAL.toString=A;e.display.BlendMode.NORMAL.__enum__=e.display.BlendMode;e.display.BlendMode.OVERLAY=["OVERLAY",11];e.display.BlendMode.OVERLAY.toString=A;e.display.BlendMode.OVERLAY.__enum__=e.display.BlendMode;
e.display.BlendMode.SCREEN=["SCREEN",12];e.display.BlendMode.SCREEN.toString=A;e.display.BlendMode.SCREEN.__enum__=e.display.BlendMode;e.display.BlendMode.SUBTRACT=["SUBTRACT",13];e.display.BlendMode.SUBTRACT.toString=A;e.display.BlendMode.SUBTRACT.__enum__=e.display.BlendMode;e.display._CapsStyle={};e.display._CapsStyle.CapsStyle_Impl_=function(){};l["openfl.display._CapsStyle.CapsStyle_Impl_"]=e.display._CapsStyle.CapsStyle_Impl_;e.display._CapsStyle.CapsStyle_Impl_.__name__=["openfl","display",
"_CapsStyle","CapsStyle_Impl_"];e.display.FrameLabel=function(a,b){e.events.EventDispatcher.call(this);this.__name=a;this.__frame=b};l["openfl.display.FrameLabel"]=e.display.FrameLabel;e.display.FrameLabel.__name__=["openfl","display","FrameLabel"];e.display.FrameLabel.__super__=e.events.EventDispatcher;e.display.FrameLabel.prototype=z(e.events.EventDispatcher.prototype,{frame:null,name:null,__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},
__class__:e.display.FrameLabel,__properties__:{get_name:"get_name",get_frame:"get_frame"}});e.display.GradientType=l["openfl.display.GradientType"]={__ename__:["openfl","display","GradientType"],__constructs__:["RADIAL","LINEAR"]};e.display.GradientType.RADIAL=["RADIAL",0];e.display.GradientType.RADIAL.toString=A;e.display.GradientType.RADIAL.__enum__=e.display.GradientType;e.display.GradientType.LINEAR=["LINEAR",1];e.display.GradientType.LINEAR.toString=A;e.display.GradientType.LINEAR.__enum__=e.display.GradientType;
e.display.Graphics=function(){this.__commands=[];this.renderY=this.renderX=this.__positionY=this.__positionX=this.__halfStrokeWidth=0;this.renderWidth=e.Lib.current.stage.stageWidth;this.renderHeight=e.Lib.current.stage.stageHeight};l["openfl.display.Graphics"]=e.display.Graphics;e.display.Graphics.__name__=["openfl","display","Graphics"];e.display.Graphics.prototype={__bounds:null,__canvas:null,__commands:null,__context:null,__dirty:null,__halfStrokeWidth:null,__hasFill:null,__hasStroke:null,__inPath:null,
__inversePendingMatrix:null,__pattern:null,__pendingMatrix:null,__positionX:null,__positionY:null,__setFill:null,__visible:null,renderX:null,renderY:null,renderWidth:null,renderHeight:null,beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.push(e.display.DrawCommand.BeginBitmapFill(a,b,c,d));this.__visible=!0},beginFill:function(a,b){null==b&&(b=1);this.__commands.push(e.display.DrawCommand.BeginFill(a&16777215,b));0<b&&(this.__visible=!0)},beginGradientFill:function(){e.Lib.notImplemented("Graphics.beginGradientFill")},
clear:function(){this.__commands=[];this.__halfStrokeWidth=0;null!=this.__bounds&&(this.__dirty=!0,this.__bounds=null);this.__visible=!1},curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-this.__halfStrokeWidth,this.__positionY-this.__halfStrokeWidth);this.__inflateBounds(this.__positionX+this.__halfStrokeWidth,this.__positionY+this.__halfStrokeWidth);this.__inflateBounds(a,b);this.__positionX=c;this.__positionY=d;this.__inflateBounds(this.__positionX-this.__halfStrokeWidth,this.__positionY-
this.__halfStrokeWidth);this.__inflateBounds(this.__positionX+this.__halfStrokeWidth,this.__positionY+this.__halfStrokeWidth);this.__commands.push(e.display.DrawCommand.CurveTo(a,b,c,d));this.__dirty=!0},drawCircle:function(a,b,c){0>=c||(this.__inflateBounds(a-c-this.__halfStrokeWidth,b-c-this.__halfStrokeWidth),this.__inflateBounds(a+c+this.__halfStrokeWidth,b+c+this.__halfStrokeWidth),this.__commands.push(e.display.DrawCommand.DrawCircle(a,b,c)),this.__dirty=!0)},drawEllipse:function(a,b,c,d){0>=
c||0>=d||(this.__inflateBounds(a-this.__halfStrokeWidth,b-this.__halfStrokeWidth),this.__inflateBounds(a+c+this.__halfStrokeWidth,b+d+this.__halfStrokeWidth),this.__commands.push(e.display.DrawCommand.DrawEllipse(a,b,c,d)),this.__dirty=!0)},drawGraphicsData:function(){e.Lib.notImplemented("Graphics.drawGraphicsData")},drawPath:function(){e.Lib.notImplemented("Graphics.drawPath")},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__halfStrokeWidth,b-this.__halfStrokeWidth),this.__inflateBounds(a+
c+this.__halfStrokeWidth,b+d+this.__halfStrokeWidth),this.__commands.push(e.display.DrawCommand.DrawRect(a,b,c,d)),this.__dirty=!0)},drawRoundRect:function(){e.Lib.notImplemented("Graphics.drawRoundRect")},drawRoundRectComplex:function(){e.Lib.notImplemented("Graphics.drawRoundRectComplex")},drawTiles:function(a,b,c,d,g){null==g&&(g=-1);null==d&&(d=0);null==c&&(c=!1);this.__inflateBounds(this.renderX,this.renderY);this.__inflateBounds(this.renderWidth,this.renderHeight);this.__commands.push(e.display.DrawCommand.DrawTiles(a,
b,c,d,g));this.__visible=this.__dirty=!0},drawTriangles:function(){e.Lib.notImplemented("Graphics.drawTriangles")},endFill:function(){this.__commands.push(e.display.DrawCommand.EndFill)},lineBitmapStyle:function(){e.Lib.notImplemented("Graphics.lineBitmapStyle")},lineGradientStyle:function(){e.Lib.notImplemented("Graphics.lineGradientStyle")},lineStyle:function(a,b,c,d,g,i,f,n){this.__halfStrokeWidth=null!=a?a/2:0;this.__commands.push(e.display.DrawCommand.LineStyle(a,b,c,d,g,i,f,n));null!=a&&(this.__visible=
!0)},lineTo:function(a,b){this.__inflateBounds(this.__positionX-this.__halfStrokeWidth,this.__positionY-this.__halfStrokeWidth);this.__inflateBounds(this.__positionX+this.__halfStrokeWidth,this.__positionY+this.__halfStrokeWidth);this.__positionX=a;this.__positionY=b;this.__inflateBounds(this.__positionX-this.__halfStrokeWidth,this.__positionY-this.__halfStrokeWidth);this.__inflateBounds(this.__positionX+this.__halfStrokeWidth,this.__positionY+this.__halfStrokeWidth);this.__commands.push(e.display.DrawCommand.LineTo(a,
b));this.__dirty=!0},moveTo:function(a,b){this.__commands.push(e.display.DrawCommand.MoveTo(a,b));this.__positionX=a;this.__positionY=b},__beginPath:function(){this.__inPath||(this.__context.beginPath(),this.__inPath=!0)},__beginPatternFill:function(a,b){this.__setFill||null==a||(null==this.__pattern&&(this.__pattern=null!=a.__sourceImage?this.__context.createPattern(a.__sourceImage,b?"repeat":"no-repeat"):this.__context.createPattern(a.__sourceCanvas,b?"repeat":"no-repeat")),this.__context.fillStyle=
this.__pattern,this.__setFill=!0)},__closePath:function(a){this.__inPath&&(this.__hasFill&&(this.__context.translate(-this.__bounds.x,-this.__bounds.y),null!=this.__pendingMatrix?(this.__context.transform(this.__pendingMatrix.a,this.__pendingMatrix.b,this.__pendingMatrix.c,this.__pendingMatrix.d,this.__pendingMatrix.tx,this.__pendingMatrix.ty),this.__context.fill(),this.__context.transform(this.__inversePendingMatrix.a,this.__inversePendingMatrix.b,this.__inversePendingMatrix.c,this.__inversePendingMatrix.d,
this.__inversePendingMatrix.tx,this.__inversePendingMatrix.ty)):this.__context.fill(),this.__context.translate(this.__bounds.x,this.__bounds.y)),this.__context.closePath(),this.__hasStroke&&this.__context.stroke());this.__inPath=!1;a&&(this.__hasStroke=this.__hasFill=!1,this.__inversePendingMatrix=this.__pendingMatrix=null)},__getBounds:function(a,b){if(null!=this.__bounds){var c=this.__bounds.clone().transform(b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;
c=this.__bounds.clone().transform(d);return a>c.x&&b>c.y&&a<=c.get_right()&&b<=c.get_bottom()},__inflateBounds:function(a,b){if(null==this.__bounds)this.__bounds=new e.geom.Rectangle(a,b,0,0);else if(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height)this.__bounds.height=b-this.__bounds.y},
__render:function(){if(this.__dirty){this.__inPath=this.__hasStroke=this.__hasFill=!1;this.__positionY=this.__positionX=0;if(!this.__visible||0==this.__commands.length||null==this.__bounds||0==this.__bounds.width||0==this.__bounds.height)this.__context=this.__canvas=null;else{null==this.__canvas&&(this.__canvas=window.document.createElement("canvas"),this.__context=this.__canvas.getContext("2d"));this.__canvas.width=Math.ceil(this.__bounds.width);this.__canvas.height=Math.ceil(this.__bounds.height);
for(var a=this.__bounds.x,b=this.__bounds.y,c=null,d=!1,g=0,i=this.__commands;g<i.length;){var f=i[g];++g;switch(f[1]){case 0:var n=f[4],o=f[3],f=f[2];this.__closePath(!1);if(f!=c||n!=d)c=f,d=n,this.__pattern=null,this.__setFill=!1,f.__syncImageData();null!=o?(this.__pendingMatrix=o,this.__inversePendingMatrix=new e.geom.Matrix(o.a,o.b,o.c,o.d,o.tx,o.ty),this.__inversePendingMatrix.invert()):this.__inversePendingMatrix=this.__pendingMatrix=null;this.__hasFill=!0;break;case 1:c=f[3];f=f[2];this.__closePath(!1);
this.__context.fillStyle=1==c?"#"+O.hex(f,6):"rgba("+((f&16711680)>>>16)+", "+((f&65280)>>>8)+", "+(f&255)+", "+c+")";c=null;this.__hasFill=this.__setFill=!0;break;case 2:var n=f[5],o=f[4],h=f[3],f=f[2];this.__beginPatternFill(c,d);this.__beginPath();this.__context.quadraticCurveTo(f-a,h-b,o-a,n-b);this.__positionX=o;this.__positionY=n;break;case 3:n=f[4];o=f[3];f=f[2];this.__beginPatternFill(c,d);this.__beginPath();this.__context.moveTo(f-a+n,o-b);this.__context.arc(f-a,o-b,n,0,2*Math.PI,!0);break;
case 4:var o=f[5],x=f[4],n=f[3],f=f[2],f=f-a,n=n-b,h=0.5522848*(x/2),k=0.5522848*(o/2),l=f+x,m=n+o,x=f+x/2,o=n+o/2;this.__beginPatternFill(c,d);this.__beginPath();this.__context.moveTo(f,o);this.__context.bezierCurveTo(f,o-k,x-h,n,x,n);this.__context.bezierCurveTo(x+h,n,l,o-k,l,o);this.__context.bezierCurveTo(l,o+k,x+h,m,x,m);this.__context.bezierCurveTo(x-h,m,f,o+k,f,o);break;case 5:n=f[5];o=f[4];h=f[3];f=f[2];k=!1;if(null!=c){var s=l=0,p=x=0,m=!0;null!=this.__pendingMatrix?0!=this.__pendingMatrix.b||
0!=this.__pendingMatrix.c?m=!1:(x=this.__inversePendingMatrix.transformPoint(new e.geom.Point(f,h)),s=this.__inversePendingMatrix.transformPoint(new e.geom.Point(f+o,h+n)),l=x.y,p=x.x,x=s.y,s=s.x):(l=h,p=f,x=h+n,s=f+o);m&&(0<=l&&0<=p&&s<=c.width&&x<=c.height)&&(k=!0,null!=c.__sourceImage?this.__context.drawImage(c.__sourceImage,p,l,s-p,x-l,f,h,o,n):this.__context.drawImage(c.__sourceCanvas,p,l,s-p,x-l,f,h,o,n))}k||(this.__beginPatternFill(c,d),this.__beginPath(),this.__context.rect(f-a,h-b,o,n));
break;case 6:var q=f[6],l=f[5],n=f[3],f=f[2];this.__closePath(!1);var o=0<(l&1),h=0<(l&2),k=0<(l&16),u=0<(l&4),l=0<(l&8);k&&(h=o=!1);var s=p=x=m=0,v=3;o&&(m=v,v++);h&&(x=v,v++);k&&(s=v,v+=4);u&&(v+=3);l&&(p=v,v++);u=n.length;0<=q&&u>q&&(u=q);var q=0,w=null,y=null,r=-1,z;f.__bitmap.__syncImageData();for(z=null!=f.__bitmap.__sourceImage?f.__bitmap.__sourceImage:f.__bitmap.__sourceCanvas;q<u;){var t=n[q+2]|0;t!=r&&(w=f.__tileRects[t],y=f.__centerPoints[t],r=t);null!=w&&(0<w.width&&0<w.height&&null!=
y)&&(this.__context.save(),this.__context.translate(n[q],n[q+1]),h&&this.__context.rotate(n[q+x]),t=1,o&&(t=n[q+m]),k&&this.__context.transform(n[q+s],n[q+s+1],n[q+s+2],n[q+s+3],0,0),l&&(this.__context.globalAlpha=n[q+p]),this.__context.drawImage(z,w.x,w.y,w.width,w.height,-y.x*t,-y.y*t,w.width*t,w.height*t),this.__context.restore());q+=v}break;case 7:this.__closePath(!0);break;case 8:n=f[9];o=f[8];h=f[7];k=f[3];f=f[2];this.__closePath(!1);null==f?this.__hasStroke=!1:(this.__context.lineWidth=f,this.__context.lineJoin=
o,this.__context.lineCap=h,this.__context.miterLimit=n,this.__context.strokeStyle="#"+O.hex(k,6),this.__hasStroke=!0);break;case 9:n=f[3];f=f[2];this.__beginPatternFill(c,d);this.__beginPath();this.__context.lineTo(f-a,n-b);this.__positionX=f;this.__positionY=n;break;case 10:n=f[3],f=f[2],this.__beginPath(),this.__context.moveTo(f-a,n-b),this.__positionX=f,this.__positionY=n}}}this.__dirty=!1;this.__closePath(!1)}},__renderMask:function(a){if(0!=this.__commands.length)for(var a=a.context,b=0,c=this.__commands;b<
c.length;){var d=c[b];++b;switch(d[1]){case 2:a.quadraticCurveTo(d[2],d[3],d[4],d[5]);break;case 3:a.arc(d[2]-0,d[3]-0,d[4],0,2*Math.PI,!0);break;case 4:var g=d[5],i=d[4],e=d[3],d=d[2],d=d-0,e=e-0,f=0.5522848*(i/2),o=0.5522848*(g/2),h=d+i,x=e+g,i=d+i/2,g=e+g/2;a.moveTo(d,g);a.bezierCurveTo(d,g-o,i-f,e,i,e);a.bezierCurveTo(i+f,e,h,g-o,h,g);a.bezierCurveTo(h,g+o,i+f,x,i,x);a.bezierCurveTo(i-f,x,d,g+o,d,g);break;case 5:a.rect(d[2]-0,d[3]-0,d[4],d[5]);break;case 9:a.lineTo(d[2]-0,d[3]-0);break;case 10:a.moveTo(d[2]-
0,d[3]-0)}}},__class__:e.display.Graphics};e.display.DrawCommand=l["openfl.display.DrawCommand"]={__ename__:["openfl","display","DrawCommand"],__constructs__:"BeginBitmapFill BeginFill CurveTo DrawCircle DrawEllipse DrawRect DrawTiles EndFill LineStyle LineTo MoveTo".split(" ")};e.display.DrawCommand.BeginBitmapFill=function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.BeginFill=function(a,b){var c=["BeginFill",1,a,b];c.__enum__=
e.display.DrawCommand;c.toString=A;return c};e.display.DrawCommand.CurveTo=function(a,b,c,d){a=["CurveTo",2,a,b,c,d];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.DrawCircle=function(a,b,c){a=["DrawCircle",3,a,b,c];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.DrawEllipse=function(a,b,c,d){a=["DrawEllipse",4,a,b,c,d];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.DrawRect=function(a,b,c,d){a=["DrawRect",
5,a,b,c,d];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.DrawTiles=function(a,b,c,d,g){a=["DrawTiles",6,a,b,c,d,g];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.EndFill=["EndFill",7];e.display.DrawCommand.EndFill.toString=A;e.display.DrawCommand.EndFill.__enum__=e.display.DrawCommand;e.display.DrawCommand.LineStyle=function(a,b,c,d,g,i,f,n){a=["LineStyle",8,a,b,c,d,g,i,f,n];a.__enum__=e.display.DrawCommand;a.toString=A;return a};e.display.DrawCommand.LineTo=
function(a,b){var c=["LineTo",9,a,b];c.__enum__=e.display.DrawCommand;c.toString=A;return c};e.display.DrawCommand.MoveTo=function(a,b){var c=["MoveTo",10,a,b];c.__enum__=e.display.DrawCommand;c.toString=A;return c};e.display.GraphicsPathWinding=l["openfl.display.GraphicsPathWinding"]={__ename__:["openfl","display","GraphicsPathWinding"],__constructs__:["EVEN_ODD","NON_ZERO"]};e.display.GraphicsPathWinding.EVEN_ODD=["EVEN_ODD",0];e.display.GraphicsPathWinding.EVEN_ODD.toString=A;e.display.GraphicsPathWinding.EVEN_ODD.__enum__=
e.display.GraphicsPathWinding;e.display.GraphicsPathWinding.NON_ZERO=["NON_ZERO",1];e.display.GraphicsPathWinding.NON_ZERO.toString=A;e.display.GraphicsPathWinding.NON_ZERO.__enum__=e.display.GraphicsPathWinding;e.display.IGraphicsData=function(){};l["openfl.display.IGraphicsData"]=e.display.IGraphicsData;e.display.IGraphicsData.__name__=["openfl","display","IGraphicsData"];e.display.IGraphicsData.prototype={__graphicsDataType:null,__class__:e.display.IGraphicsData};e.display.GraphicsDataType=l["openfl.display.GraphicsDataType"]=
{__ename__:["openfl","display","GraphicsDataType"],__constructs__:"STROKE SOLID GRADIENT PATH BITMAP END".split(" ")};e.display.GraphicsDataType.STROKE=["STROKE",0];e.display.GraphicsDataType.STROKE.toString=A;e.display.GraphicsDataType.STROKE.__enum__=e.display.GraphicsDataType;e.display.GraphicsDataType.SOLID=["SOLID",1];e.display.GraphicsDataType.SOLID.toString=A;e.display.GraphicsDataType.SOLID.__enum__=e.display.GraphicsDataType;e.display.GraphicsDataType.GRADIENT=["GRADIENT",2];e.display.GraphicsDataType.GRADIENT.toString=
A;e.display.GraphicsDataType.GRADIENT.__enum__=e.display.GraphicsDataType;e.display.GraphicsDataType.PATH=["PATH",3];e.display.GraphicsDataType.PATH.toString=A;e.display.GraphicsDataType.PATH.__enum__=e.display.GraphicsDataType;e.display.GraphicsDataType.BITMAP=["BITMAP",4];e.display.GraphicsDataType.BITMAP.toString=A;e.display.GraphicsDataType.BITMAP.__enum__=e.display.GraphicsDataType;e.display.GraphicsDataType.END=["END",5];e.display.GraphicsDataType.END.toString=A;e.display.GraphicsDataType.END.__enum__=
e.display.GraphicsDataType;e.display.InterpolationMethod=l["openfl.display.InterpolationMethod"]={__ename__:["openfl","display","InterpolationMethod"],__constructs__:["RGB","LINEAR_RGB"]};e.display.InterpolationMethod.RGB=["RGB",0];e.display.InterpolationMethod.RGB.toString=A;e.display.InterpolationMethod.RGB.__enum__=e.display.InterpolationMethod;e.display.InterpolationMethod.LINEAR_RGB=["LINEAR_RGB",1];e.display.InterpolationMethod.LINEAR_RGB.toString=A;e.display.InterpolationMethod.LINEAR_RGB.__enum__=
e.display.InterpolationMethod;e.display._JointStyle={};e.display._JointStyle.JointStyle_Impl_=function(){};l["openfl.display._JointStyle.JointStyle_Impl_"]=e.display._JointStyle.JointStyle_Impl_;e.display._JointStyle.JointStyle_Impl_.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];e.display.LineScaleMode=l["openfl.display.LineScaleMode"]={__ename__:["openfl","display","LineScaleMode"],__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};e.display.LineScaleMode.HORIZONTAL=["HORIZONTAL",
0];e.display.LineScaleMode.HORIZONTAL.toString=A;e.display.LineScaleMode.HORIZONTAL.__enum__=e.display.LineScaleMode;e.display.LineScaleMode.NONE=["NONE",1];e.display.LineScaleMode.NONE.toString=A;e.display.LineScaleMode.NONE.__enum__=e.display.LineScaleMode;e.display.LineScaleMode.NORMAL=["NORMAL",2];e.display.LineScaleMode.NORMAL.toString=A;e.display.LineScaleMode.NORMAL.__enum__=e.display.LineScaleMode;e.display.LineScaleMode.VERTICAL=["VERTICAL",3];e.display.LineScaleMode.VERTICAL.toString=A;
e.display.LineScaleMode.VERTICAL.__enum__=e.display.LineScaleMode;e.display.Loader=function(){e.display.Sprite.call(this);this.contentLoaderInfo=e.display.LoaderInfo.create(this)};l["openfl.display.Loader"]=e.display.Loader;e.display.Loader.__name__=["openfl","display","Loader"];e.display.Loader.__super__=e.display.Sprite;e.display.Loader.prototype=z(e.display.Sprite.prototype,{content:null,contentLoaderInfo:null,mImage:null,mShape:null,load:function(a){var b="",c=a.url.split(".");0<c.length&&(b=
c[c.length-1].toLowerCase());this.contentLoaderInfo.url=a.url;if(null==a.contentType&&""!=a.contentType)switch(b){case "swf":this.contentLoaderInfo.contentType="application/x-shockwave-flash";break;case "jpg":case "jpeg":this.contentLoaderInfo.contentType="image/jpeg";break;case "png":this.contentLoaderInfo.contentType="image/png";break;case "gif":this.contentLoaderInfo.contentType="image/gif";break;default:this.contentLoaderInfo.contentType="application/x-www-form-urlencoded"}else this.contentLoaderInfo.contentType=
a.contentType;e.display.BitmapData.fromFile(a.url,w(this,this.BitmapData_onLoad),w(this,this.BitmapData_onError))},loadBytes:function(a){e.display.BitmapData.fromBytes(a,null,w(this,this.BitmapData_onLoad))},unload:function(){if(0<this.get_numChildren()){for(;0<this.get_numChildren();)this.removeChildAt(0);this.content=null;this.contentLoaderInfo.url=null;this.contentLoaderInfo.contentType=null;this.contentLoaderInfo.content=null;this.contentLoaderInfo.bytesLoaded=0;this.contentLoaderInfo.bytesTotal=
0;this.contentLoaderInfo.width=0;this.contentLoaderInfo.height=0;var a=new e.events.Event(e.events.Event.UNLOAD);a.currentTarget=this;this.dispatchEvent(a)}},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=new e.display.Bitmap(a);this.content=this.contentLoaderInfo.content;this.addChild(this.contentLoaderInfo.content);a=new e.events.Event(e.events.Event.COMPLETE);a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},BitmapData_onError:function(){var a=
new e.events.IOErrorEvent(e.events.IOErrorEvent.IO_ERROR);a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:e.display.Loader});e.display.LoaderInfo=function(){e.events.EventDispatcher.call(this);this.applicationDomain=e.system.ApplicationDomain.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};l["openfl.display.LoaderInfo"]=e.display.LoaderInfo;e.display.LoaderInfo.__name__=["openfl",
"display","LoaderInfo"];e.display.LoaderInfo.create=function(a){var b=new e.display.LoaderInfo;null!=a?b.loader=a:b.url="";return b};e.display.LoaderInfo.__super__=e.events.EventDispatcher;e.display.LoaderInfo.prototype=z(e.events.EventDispatcher.prototype,{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,
url:null,width:null,__class__:e.display.LoaderInfo});e.display.MovieClip=function(){e.display.Sprite.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0;this.loaderInfo=e.display.LoaderInfo.create(null)};l["openfl.display.MovieClip"]=e.display.MovieClip;e.display.MovieClip.__name__=["openfl","display","MovieClip"];e.display.MovieClip.__super__=e.display.Sprite;e.display.MovieClip.prototype=z(e.display.Sprite.prototype,{currentFrame:null,currentFrameLabel:null,
currentLabel:null,currentLabels:null,enabled:null,framesLoaded:null,totalFrames:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__totalFrames:null,gotoAndPlay:function(){},gotoAndStop:function(){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},
get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:e.display.MovieClip,__properties__:z(e.display.Sprite.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});e.display.PixelSnapping=l["openfl.display.PixelSnapping"]={__ename__:["openfl",
"display","PixelSnapping"],__constructs__:["NEVER","AUTO","ALWAYS"]};e.display.PixelSnapping.NEVER=["NEVER",0];e.display.PixelSnapping.NEVER.toString=A;e.display.PixelSnapping.NEVER.__enum__=e.display.PixelSnapping;e.display.PixelSnapping.AUTO=["AUTO",1];e.display.PixelSnapping.AUTO.toString=A;e.display.PixelSnapping.AUTO.__enum__=e.display.PixelSnapping;e.display.PixelSnapping.ALWAYS=["ALWAYS",2];e.display.PixelSnapping.ALWAYS.toString=A;e.display.PixelSnapping.ALWAYS.__enum__=e.display.PixelSnapping;
e.display.Shape=function(){e.display.DisplayObject.call(this)};l["openfl.display.Shape"]=e.display.Shape;e.display.Shape.__name__=["openfl","display","Shape"];e.display.Shape.__super__=e.display.DisplayObject;e.display.Shape.prototype=z(e.display.DisplayObject.prototype,{graphics:null,__canvas:null,__canvasContext:null,__graphics:null,__getBounds:function(a){null!=this.__graphics&&this.__graphics.__getBounds(a,this.__worldTransform)},__hitTest:function(a,b,c,d,g){return this.get_visible()&&null!=
this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__worldTransform)?(g||d.push(this),!0):!1},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&null!=this.__graphics&&(this.__graphics.__render(),null!=this.__graphics.__canvas)){var b=a.context;b.globalAlpha=this.__worldAlpha;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);null==this.get_scrollRect()?b.drawImage(this.__graphics.__canvas,this.__graphics.__bounds.x,
this.__graphics.__bounds.y):b.drawImage(this.__graphics.__canvas,this.get_scrollRect().x-this.__graphics.__bounds.x,this.get_scrollRect().y-this.__graphics.__bounds.y,this.get_scrollRect().width,this.get_scrollRect().height,this.__graphics.__bounds.x+this.get_scrollRect().x,this.__graphics.__bounds.y+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height)}},__renderDOM:function(a){if(null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.__graphics){if(this.__graphics.__dirty||
this.__worldAlphaChanged||null==this.__canvas&&null!=this.__graphics.__canvas)this.__graphics.__render(),null!=this.__graphics.__canvas?(null==this.__canvas&&(this.__canvas=window.document.createElement("canvas"),this.__canvasContext=this.__canvas.getContext("2d"),this.__initializeElement(this.__canvas,a)),this.__canvas.width=this.__graphics.__canvas.width,this.__canvas.height=this.__graphics.__canvas.height,this.__canvasContext.globalAlpha=this.__worldAlpha,this.__canvasContext.drawImage(this.__graphics.__canvas,
0,0)):null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null);if(null!=this.__canvas){if(this.__worldTransformChanged){var b=new e.geom.Matrix;b.translate(this.__graphics.__bounds.x,this.__graphics.__bounds.y);b=b.mult(this.__worldTransform);this.__style.setProperty(a.transformProperty,a.roundPixels?"matrix3d("+b.a+", "+b.b+", 0, 0, "+b.c+", "+b.d+", 0, 0, 0, 0, 1, 0, "+(b.tx|0)+", "+(b.ty|0)+", 0, 1)":"matrix3d("+b.a+", "+b.b+", 0, 0, "+b.c+", "+b.d+", 0, 0, 0, 0, 1, 0, "+
b.tx+", "+b.ty+", 0, 1)",null)}this.__applyStyle(a,!1,!1,!0)}}else null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null)},get_graphics:function(){null==this.__graphics&&(this.__graphics=new e.display.Graphics);return this.__graphics},__class__:e.display.Shape,__properties__:z(e.display.DisplayObject.prototype.__properties__,{get_graphics:"get_graphics"})});e.display.SpreadMethod=l["openfl.display.SpreadMethod"]={__ename__:["openfl","display","SpreadMethod"],__constructs__:["REPEAT",
"REFLECT","PAD"]};e.display.SpreadMethod.REPEAT=["REPEAT",0];e.display.SpreadMethod.REPEAT.toString=A;e.display.SpreadMethod.REPEAT.__enum__=e.display.SpreadMethod;e.display.SpreadMethod.REFLECT=["REFLECT",1];e.display.SpreadMethod.REFLECT.toString=A;e.display.SpreadMethod.REFLECT.__enum__=e.display.SpreadMethod;e.display.SpreadMethod.PAD=["PAD",2];e.display.SpreadMethod.PAD.toString=A;e.display.SpreadMethod.PAD.__enum__=e.display.SpreadMethod;e.display.Stage=function(a,b,c,d){this.__mouseX=this.__mouseY=
0;e.display.Sprite.call(this);this.__element=c;null==d?(this.__transparent=!0,this.set_color(0)):this.set_color(d);this.set_name(null);this.__mouseY=this.__mouseX=0;this.__initializeGL()||this.__initializeCanvas();this.__originalWidth=a;this.__originalHeight=b;0==a&&0==b&&(null!=c?(a=c.clientWidth,b=c.clientHeight):(a=window.innerWidth,b=window.innerHeight),this.__fullscreen=!0);this.stageWidth=a;this.stageHeight=b;null!=this.__canvas?(this.__canvas.width=a,this.__canvas.height=b):(this.__div.style.width=
a+"px",this.__div.style.height=b+"px");this.__resize();window.addEventListener("resize",w(this,this.window_onResize));window.addEventListener("focus",w(this,this.window_onFocus));window.addEventListener("blur",w(this,this.window_onBlur));null!=c&&(null!=this.__canvas?c!=this.__canvas&&c.appendChild(this.__canvas):c.appendChild(this.__div));this.stage=this;this.align=e.display.StageAlign.TOP_LEFT;this.allowsFullScreen=!1;this.set_displayState(e.display.StageDisplayState.NORMAL);this.frameRate=60;this.quality=
"high";this.scaleMode=e.display.StageScaleMode.NO_SCALE;this.__clearBeforeRender=this.stageFocusRect=!0;this.__stack=[];for(var g=["keydown","keyup"],d=["touchstart","touchmove","touchend"],c=["mousedown","mousemove","mouseup","dblclick","mousewheel"],a=["focus","blur"],b=null!=this.__canvas?this.__canvas:this.__div,i=0;i<g.length;){var f=g[i];++i;window.addEventListener(f,w(this,this.window_onKey),!1)}for(g=0;g<d.length;)i=d[g],++g,b.addEventListener(i,w(this,this.element_onTouch),!0);for(d=0;d<
c.length;)g=c[d],++d,b.addEventListener(g,w(this,this.element_onMouse),!0);for(c=0;c<a.length;)d=a[c],++c,b.addEventListener(d,w(this,this.element_onFocus),!0);window.requestAnimationFrame(w(this,this.__render))};l["openfl.display.Stage"]=e.display.Stage;e.display.Stage.__name__=["openfl","display","Stage"];e.display.Stage.__super__=e.display.Sprite;e.display.Stage.prototype=z(e.display.Sprite.prototype,{align:null,allowsFullScreen:null,displayState:null,frameRate:null,quality:null,stageFocusRect:null,
scaleMode:null,stageHeight:null,stageWidth:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__context:null,__cursor:null,__cursorHidden:null,__dirty:null,__div:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__element:null,__focus:null,__fullscreen:null,__gl:null,__glContextID:null,__glContextLost:null,__glOptions:null,__invalidated:null,__mouseX:null,__mouseY:null,__originalWidth:null,__originalHeight:null,__renderSession:null,__stack:null,
__transparent:null,__wasDirty:null,globalToLocal:function(a){return a},invalidate:function(){this.__invalidated=!0},localToGlobal:function(a){return a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=
this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=1,a.target.__broadcast(a,!1);else{a.eventPhase=0;a.target=b[b.length-1];for(var d=0,g=c-1;d<g;){var i=d++;b[i].__broadcast(a,!1);if(a.__isCancelled)return}a.eventPhase=1;a.target.__broadcast(a,!1);if(!a.__isCancelled&&a.bubbles){a.eventPhase=2;for(c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCancelled)break;c--}}}},__getInteractive:function(a){a.push(this)},
__initializeCanvas:function(){this.__canvas=D.Boot.__instanceof(this.__element,HTMLCanvasElement)?this.__element:window.document.createElement("canvas");this.__transparent?this.__context=this.__canvas.getContext("2d"):(this.__canvas.setAttribute("moz-opaque","true"),this.__context=this.__canvas.getContext("2d",{alpha:!1}));var a=this.__canvas.style;a.setProperty("-webkit-transform","translateZ(0)",null);a.setProperty("transform","translateZ(0)",null);this.__renderSession=new e.display.RenderSession;
this.__renderSession.context=this.__context;this.__renderSession.roundPixels=!0},__initializeDOM:function(){this.__div=window.document.createElement("div");var a=this.__div.style;this.__transparent||(a.backgroundColor=this.__colorString);a.setProperty("-webkit-transform","translate3D(0,0,0)",null);a.setProperty("transform","translate3D(0,0,0)",null);a.position="relative";a.overflow="hidden";a.setProperty("-webkit-user-select","none",null);a.setProperty("-moz-user-select","none",null);a.setProperty("-ms-user-select",
"none",null);a.setProperty("-o-user-select","none",null);window.document.addEventListener("dragstart",function(a){if(a.target.nodeName.toLowerCase()=="img"){a.preventDefault();return false}return true},!1);this.__renderSession=new e.display.RenderSession;this.__renderSession.element=this.__div;this.__renderSession.roundPixels=!0;a=window.getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(RegExp("("+
a+")","i"));a[0].toUpperCase();a.substr(1);this.__renderSession.vendorPrefix=a;this.__renderSession.transformProperty="webkit"==a?"-webkit-transform":"transform";this.__renderSession.transformOriginProperty="webkit"==a?"-webkit-transform-origin":"transform-origin"},__initializeGL:function(){return!1},__render:function(){this.__broadcast(new e.events.Event(e.events.Event.ENTER_FRAME),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new e.events.Event(e.events.Event.RENDER),!0));this.__renderable=
!0;this.__update(!1,!0);if(null!=this.__canvas){if(!this.__fullscreen||this.__element!=this.__canvas){if(this.stageWidth!=this.__canvas.width||this.stageHeight!=this.__canvas.height)this.__canvas.width=this.stageWidth,this.__canvas.height=this.stageHeight}else this.stageWidth=this.__canvas.width,this.stageHeight=this.__canvas.height;null!=this.__gl?this.__glContextLost||(this.__gl.viewport(0,0,this.stageWidth,this.stageHeight),this.__gl.bindFramebuffer(36160,null),this.__transparent?this.__gl.clearColor(0,
0,0,0):this.__gl.clearColor(this.__colorSplit[0],this.__colorSplit[1],this.__colorSplit[2],1),this.__gl.clear(16384),this.__renderGL(this.__renderSession)):(this.__context.setTransform(1,0,0,1,0,0),this.__context.globalAlpha=1,!this.__transparent&&this.__clearBeforeRender?(this.__context.fillStyle=this.__colorString,this.__context.fillRect(0,0,this.stageWidth,this.stageHeight)):this.__transparent&&this.__clearBeforeRender&&this.__context.clearRect(0,0,this.stageWidth,this.stageHeight),this.__renderCanvas(this.__renderSession))}else this.__renderSession.z=
1,this.__renderDOM(this.__renderSession);window.requestAnimationFrame(w(this,this.__render))},__resize:function(){if(null!=this.__element&&(null==this.__div||null!=this.__div&&this.__fullscreen))if(this.__fullscreen)this.stageWidth=this.__element.clientWidth,this.stageHeight=this.__element.clientHeight,null!=this.__canvas?this.__element!=this.__canvas&&(this.__canvas.width=this.stageWidth,this.__canvas.height=this.stageHeight):(this.__div.style.width=this.stageWidth+"px",this.__div.style.height=this.stageHeight+
"px");else{var a=Math.min(this.__element.clientWidth/this.__originalWidth,this.__element.clientHeight/this.__originalHeight);null!=this.__canvas?this.__element!=this.__canvas&&(this.__canvas.style.width=this.__originalWidth*a+"px",this.__canvas.style.height=this.__originalHeight*a+"px",this.__canvas.style.marginLeft=(this.__element.clientWidth-this.__originalWidth*a)/2+"px",this.__canvas.style.marginTop=(this.__element.clientHeight-this.__originalHeight*a)/2+"px"):(this.__div.style.width=this.__originalWidth*
a+"px",this.__div.style.height=this.__originalHeight*a+"px",this.__div.style.marginLeft=(this.__element.clientWidth-this.__originalWidth*a)/2+"px",this.__div.style.marginTop=(this.__element.clientHeight-this.__originalHeight*a)/2+"px")}},__setCursor:function(a){this.__cursor!=a&&(this.__cursor=a,this.__cursorHidden||((null!=this.__canvas?this.__canvas:this.__div).style.cursor=a))},__setCursorHidden:function(a){this.__cursorHidden!=a&&(this.__cursorHidden=a,(null!=this.__canvas?this.__canvas:this.__div).style.cursor=
a?"none":this.__cursor)},__startDrag:function(a,b,c){this.__dragBounds=null==c?null:c.clone();this.__dragObject=a;null!=this.__dragObject&&(b?(this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2):(a=new e.geom.Point(this.get_mouseX(),this.get_mouseY()),b=this.__dragObject.parent,null!=b&&(a=b.globalToLocal(a)),this.__dragOffsetX=this.__dragObject.get_x()-a.x,this.__dragOffsetY=this.__dragObject.get_y()-a.y))},__stopDrag:function(){this.__dragObject=
this.__dragBounds=null},__update:function(a,b){if(a)0<e.display.DisplayObject.__worldTransformDirty&&(e.display.Sprite.prototype.__update.call(this,!0,b),b&&(e.display.DisplayObject.__worldTransformDirty=0,this.__dirty=!0));else if(0<e.display.DisplayObject.__worldTransformDirty||this.__dirty||0<e.display.DisplayObject.__worldRenderDirty)e.display.Sprite.prototype.__update.call(this,!1,b),b&&(e.display.DisplayObject.__worldTransformDirty=0,e.display.DisplayObject.__worldRenderDirty=0,this.__dirty=
!1)},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},canvas_onContextLost:function(){this.__glContextLost=!0},canvas_onContextRestored:function(){this.__glContextLost=!1},element_onFocus:function(){},element_onTouch:function(a){a.preventDefault();var b;b=null!=this.__canvas?this.__canvas.getBoundingClientRect():this.__div.getBoundingClientRect();var c=a.changedTouches[0];b=new e.geom.Point((c.pageX-b.left)*(this.stageWidth/b.width),(c.pageY-b.top)*(this.stageHeight/
b.height));this.__mouseX=b.x;this.__mouseY=b.y;this.__stack=[];var d=null,g=null;switch(a.type){case "touchstart":d="touchBegin";g=e.events.MouseEvent.MOUSE_DOWN;break;case "touchmove":d="touchMove";g=e.events.MouseEvent.MOUSE_MOVE;break;case "touchend":d="touchEnd",g=e.events.MouseEvent.MOUSE_UP}if(this.__hitTest(this.get_mouseX(),this.get_mouseY(),!1,this.__stack,!0)){var i=this.__stack[this.__stack.length-1],f=i.globalToLocal(b),n=e.events.TouchEvent.__create(d,a,c,f,i);n.touchPointID=c.identifier;
n.isPrimaryTouchPoint=!0;a=e.events.MouseEvent.__create(g,a,f,i);a.buttonDown="touchEnd"!=d;this.__fireEvent(n,this.__stack);this.__fireEvent(a,this.__stack)}else n=e.events.TouchEvent.__create(d,a,c,b,this),n.touchPointID=c.identifier,n.isPrimaryTouchPoint=!0,a=e.events.MouseEvent.__create(g,a,b,this),a.buttonDown="touchEnd"!=d,this.__fireEvent(n,[this]),this.__fireEvent(a,[this]);"touchMove"==d&&null!=this.__dragObject&&this.__drag(b)},element_onMouse:function(a){var b;null!=this.__canvas?(b=this.__canvas.getBoundingClientRect(),
this.__mouseX=(a.clientX-b.left)*(this.stageWidth/b.width),this.__mouseY=(a.clientY-b.top)*(this.stageHeight/b.height)):(b=this.__div.getBoundingClientRect(),this.__mouseX=a.clientX-b.left,this.__mouseY=a.clientY-b.top);this.__stack=[];switch(a.type){case "mousedown":b=e.events.MouseEvent.MOUSE_DOWN;break;case "mouseup":b=e.events.MouseEvent.MOUSE_UP;break;case "mousemove":b=e.events.MouseEvent.MOUSE_MOVE;break;case "dblclick":b=e.events.MouseEvent.DOUBLE_CLICK;break;case "mousewheel":b=e.events.MouseEvent.MOUSE_WHEEL;
break;default:b=null}if(this.__hitTest(this.get_mouseX(),this.get_mouseY(),!1,this.__stack,!0)){var c=this.__stack[this.__stack.length-1];this.__setCursor(c.buttonMode?"pointer":"default");this.__fireEvent(e.events.MouseEvent.__create(b,a,c.globalToLocal(new e.geom.Point(this.get_mouseX(),this.get_mouseY())),c),this.__stack);b==e.events.MouseEvent.MOUSE_UP&&this.__fireEvent(e.events.MouseEvent.__create(e.events.MouseEvent.CLICK,a,c.globalToLocal(new e.geom.Point(this.get_mouseX(),this.get_mouseY())),
c),this.__stack)}else this.__setCursor(this.buttonMode?"pointer":"default"),this.__fireEvent(e.events.MouseEvent.__create(b,a,new e.geom.Point(this.get_mouseX(),this.get_mouseY()),this),[this]),b==e.events.MouseEvent.MOUSE_UP&&this.__fireEvent(e.events.MouseEvent.__create(e.events.MouseEvent.CLICK,a,new e.geom.Point(this.get_mouseX(),this.get_mouseY()),this),[this]);null!=this.__dragObject&&this.__drag(new e.geom.Point(this.get_mouseX(),this.get_mouseY()))},window_onKey:function(a){var b;b=null!=
a.keyCode?a.keyCode:a.which;b=e.ui.Keyboard.__convertMozillaCode(b);var c;c=D.Boot.__cast(null!=a.location?a.location:a.keyLocation,Jc);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);0<d.length&&(d.reverse(),this.__fireEvent(new e.events.KeyboardEvent("keydown"==a.type?e.events.KeyboardEvent.KEY_DOWN:e.events.KeyboardEvent.KEY_UP,!0,!1,a.charCode,b,c,a.ctrlKey,a.altKey,a.shiftKey),d))},window_onResize:function(){this.__resize();var a=new e.events.Event(e.events.Event.RESIZE);
this.__broadcast(a,!1)},window_onFocus:function(){var a=new e.events.Event(e.events.Event.ACTIVATE);this.__broadcast(a,!0)},window_onBlur:function(){var a=new e.events.Event(e.events.Event.DEACTIVATE);this.__broadcast(a,!0)},get_color:function(){return this.__color},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+O.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){if(null!=
this.__focus){var b=new e.events.FocusEvent(e.events.FocusEvent.FOCUS_OUT,!0,!1,a,!1,0);this.__stack=[];this.__focus.__getInteractive(this.__stack);this.__stack.reverse();this.__fireEvent(b,this.__stack)}null!=a&&(b=new e.events.FocusEvent(e.events.FocusEvent.FOCUS_IN,!0,!1,this.__focus,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack));this.__focus=a}return this.__focus},set_displayState:function(a){switch(a[1]){case 0:document.exitFullscreen?
document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();break;case 1:case 2:var b=this.__element;b.requestFullscreen?b.requestFullscreen():b.msRequestFullscreen?b.msRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()}return this.displayState=a},__class__:e.display.Stage,__properties__:z(e.display.Sprite.prototype.__properties__,
{set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",set_color:"set_color",get_color:"get_color"})});e.display.RenderSession=function(){this.maskManager=new e.display.MaskManager(this)};l["openfl.display.RenderSession"]=e.display.RenderSession;e.display.RenderSession.__name__=["openfl","display","RenderSession"];e.display.RenderSession.prototype={context:null,element:null,gl:null,maskManager:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,vendorPrefix:null,
z:null,__class__:e.display.RenderSession};e.display.MaskManager=function(a){this.renderSession=a};l["openfl.display.MaskManager"]=e.display.MaskManager;e.display.MaskManager.__name__=["openfl","display","MaskManager"];e.display.MaskManager.prototype={renderSession:null,pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__worldTransform;null==c&&(c=new e.geom.Matrix);b.setTransform(c.a,c.c,c.b,c.d,c.tx,c.ty);b.beginPath();a.__renderMask(this.renderSession);b.clip()},pushRect:function(a,
b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.c,b.b,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},__class__:e.display.MaskManager};e.display.StageAlign=l["openfl.display.StageAlign"]={__ename__:["openfl","display","StageAlign"],__constructs__:"TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")};e.display.StageAlign.TOP_RIGHT=["TOP_RIGHT",0];e.display.StageAlign.TOP_RIGHT.toString=
A;e.display.StageAlign.TOP_RIGHT.__enum__=e.display.StageAlign;e.display.StageAlign.TOP_LEFT=["TOP_LEFT",1];e.display.StageAlign.TOP_LEFT.toString=A;e.display.StageAlign.TOP_LEFT.__enum__=e.display.StageAlign;e.display.StageAlign.TOP=["TOP",2];e.display.StageAlign.TOP.toString=A;e.display.StageAlign.TOP.__enum__=e.display.StageAlign;e.display.StageAlign.RIGHT=["RIGHT",3];e.display.StageAlign.RIGHT.toString=A;e.display.StageAlign.RIGHT.__enum__=e.display.StageAlign;e.display.StageAlign.LEFT=["LEFT",
4];e.display.StageAlign.LEFT.toString=A;e.display.StageAlign.LEFT.__enum__=e.display.StageAlign;e.display.StageAlign.BOTTOM_RIGHT=["BOTTOM_RIGHT",5];e.display.StageAlign.BOTTOM_RIGHT.toString=A;e.display.StageAlign.BOTTOM_RIGHT.__enum__=e.display.StageAlign;e.display.StageAlign.BOTTOM_LEFT=["BOTTOM_LEFT",6];e.display.StageAlign.BOTTOM_LEFT.toString=A;e.display.StageAlign.BOTTOM_LEFT.__enum__=e.display.StageAlign;e.display.StageAlign.BOTTOM=["BOTTOM",7];e.display.StageAlign.BOTTOM.toString=A;e.display.StageAlign.BOTTOM.__enum__=
e.display.StageAlign;e.display.StageDisplayState=l["openfl.display.StageDisplayState"]={__ename__:["openfl","display","StageDisplayState"],__constructs__:["NORMAL","FULL_SCREEN","FULL_SCREEN_INTERACTIVE"]};e.display.StageDisplayState.NORMAL=["NORMAL",0];e.display.StageDisplayState.NORMAL.toString=A;e.display.StageDisplayState.NORMAL.__enum__=e.display.StageDisplayState;e.display.StageDisplayState.FULL_SCREEN=["FULL_SCREEN",1];e.display.StageDisplayState.FULL_SCREEN.toString=A;e.display.StageDisplayState.FULL_SCREEN.__enum__=
e.display.StageDisplayState;e.display.StageDisplayState.FULL_SCREEN_INTERACTIVE=["FULL_SCREEN_INTERACTIVE",2];e.display.StageDisplayState.FULL_SCREEN_INTERACTIVE.toString=A;e.display.StageDisplayState.FULL_SCREEN_INTERACTIVE.__enum__=e.display.StageDisplayState;e.display._StageQuality={};e.display._StageQuality.StageQuality_Impl_=function(){};l["openfl.display._StageQuality.StageQuality_Impl_"]=e.display._StageQuality.StageQuality_Impl_;e.display._StageQuality.StageQuality_Impl_.__name__=["openfl",
"display","_StageQuality","StageQuality_Impl_"];e.display.StageScaleMode=l["openfl.display.StageScaleMode"]={__ename__:["openfl","display","StageScaleMode"],__constructs__:["SHOW_ALL","NO_SCALE","NO_BORDER","EXACT_FIT"]};e.display.StageScaleMode.SHOW_ALL=["SHOW_ALL",0];e.display.StageScaleMode.SHOW_ALL.toString=A;e.display.StageScaleMode.SHOW_ALL.__enum__=e.display.StageScaleMode;e.display.StageScaleMode.NO_SCALE=["NO_SCALE",1];e.display.StageScaleMode.NO_SCALE.toString=A;e.display.StageScaleMode.NO_SCALE.__enum__=
e.display.StageScaleMode;e.display.StageScaleMode.NO_BORDER=["NO_BORDER",2];e.display.StageScaleMode.NO_BORDER.toString=A;e.display.StageScaleMode.NO_BORDER.__enum__=e.display.StageScaleMode;e.display.StageScaleMode.EXACT_FIT=["EXACT_FIT",3];e.display.StageScaleMode.EXACT_FIT.toString=A;e.display.StageScaleMode.EXACT_FIT.__enum__=e.display.StageScaleMode;e.display.TriangleCulling=l["openfl.display.TriangleCulling"]={__ename__:["openfl","display","TriangleCulling"],__constructs__:["NEGATIVE","NONE",
"POSITIVE"]};e.display.TriangleCulling.NEGATIVE=["NEGATIVE",0];e.display.TriangleCulling.NEGATIVE.toString=A;e.display.TriangleCulling.NEGATIVE.__enum__=e.display.TriangleCulling;e.display.TriangleCulling.NONE=["NONE",1];e.display.TriangleCulling.NONE.toString=A;e.display.TriangleCulling.NONE.__enum__=e.display.TriangleCulling;e.display.TriangleCulling.POSITIVE=["POSITIVE",2];e.display.TriangleCulling.POSITIVE.toString=A;e.display.TriangleCulling.POSITIVE.__enum__=e.display.TriangleCulling;e.errors=
{};e.errors.Error=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};l["openfl.errors.Error"]=e.errors.Error;e.errors.Error.__name__=["openfl","errors","Error"];e.errors.Error.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return p.CallStack.toString(p.CallStack.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:e.errors.Error};e.errors.ArgumentError=function(a){null==a&&(a="");e.errors.Error.call(this,
a)};l["openfl.errors.ArgumentError"]=e.errors.ArgumentError;e.errors.ArgumentError.__name__=["openfl","errors","ArgumentError"];e.errors.ArgumentError.__super__=e.errors.Error;e.errors.ArgumentError.prototype=z(e.errors.Error.prototype,{__class__:e.errors.ArgumentError});e.errors.IOError=function(a){null==a&&(a="");e.errors.Error.call(this,a)};l["openfl.errors.IOError"]=e.errors.IOError;e.errors.IOError.__name__=["openfl","errors","IOError"];e.errors.IOError.__super__=e.errors.Error;e.errors.IOError.prototype=
z(e.errors.Error.prototype,{__class__:e.errors.IOError});e.errors.RangeError=function(a){null==a&&(a="");e.errors.Error.call(this,a,0)};l["openfl.errors.RangeError"]=e.errors.RangeError;e.errors.RangeError.__name__=["openfl","errors","RangeError"];e.errors.RangeError.__super__=e.errors.Error;e.errors.RangeError.prototype=z(e.errors.Error.prototype,{__class__:e.errors.RangeError});e.errors.TypeError=function(a){null==a&&(a="");e.errors.Error.call(this,a,0)};l["openfl.errors.TypeError"]=e.errors.TypeError;
e.errors.TypeError.__name__=["openfl","errors","TypeError"];e.errors.TypeError.__super__=e.errors.Error;e.errors.TypeError.prototype=z(e.errors.Error.prototype,{__class__:e.errors.TypeError});e.events.TextEvent=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c);this.text=d};l["openfl.events.TextEvent"]=e.events.TextEvent;e.events.TextEvent.__name__=["openfl","events","TextEvent"];e.events.TextEvent.__super__=e.events.Event;e.events.TextEvent.prototype=
z(e.events.Event.prototype,{text:null,__class__:e.events.TextEvent});e.events.ErrorEvent=function(a,b,c,d,g){null==g&&(g=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);e.events.TextEvent.call(this,a,b,c);this.text=d;this.errorID=g};l["openfl.events.ErrorEvent"]=e.events.ErrorEvent;e.events.ErrorEvent.__name__=["openfl","events","ErrorEvent"];e.events.ErrorEvent.__super__=e.events.TextEvent;e.events.ErrorEvent.prototype=z(e.events.TextEvent.prototype,{errorID:null,__class__:e.events.ErrorEvent});
e.events._EventDispatcher={};e.events._EventDispatcher.Listener=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};l["openfl.events._EventDispatcher.Listener"]=e.events._EventDispatcher.Listener;e.events._EventDispatcher.Listener.__name__=["openfl","events","_EventDispatcher","Listener"];e.events._EventDispatcher.Listener.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return this.callback==a&&this.useCapture==b},__class__:e.events._EventDispatcher.Listener};
e.events._EventPhase={};e.events._EventPhase.EventPhase_Impl_=function(){};l["openfl.events._EventPhase.EventPhase_Impl_"]=e.events._EventPhase.EventPhase_Impl_;e.events._EventPhase.EventPhase_Impl_.__name__=["openfl","events","_EventPhase","EventPhase_Impl_"];e.events.FocusEvent=function(a,b,c,d,g,i){null==i&&(i=0);null==g&&(g=!1);null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c);this.keyCode=i;this.shiftKey=null==g?!1:g;this.relatedObject=d};l["openfl.events.FocusEvent"]=e.events.FocusEvent;
e.events.FocusEvent.__name__=["openfl","events","FocusEvent"];e.events.FocusEvent.__super__=e.events.Event;e.events.FocusEvent.prototype=z(e.events.Event.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var a=new e.events.FocusEvent(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},__class__:e.events.FocusEvent});e.events.HTTPStatusEvent=function(a,
b,c,d){null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;e.events.Event.call(this,a,b,c)};l["openfl.events.HTTPStatusEvent"]=e.events.HTTPStatusEvent;e.events.HTTPStatusEvent.__name__=["openfl","events","HTTPStatusEvent"];e.events.HTTPStatusEvent.__super__=e.events.Event;e.events.HTTPStatusEvent.prototype=z(e.events.Event.prototype,{responseHeaders:null,responseURL:null,status:null,__class__:e.events.HTTPStatusEvent});e.events.IOErrorEvent=function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=
"");null==c&&(c=!1);null==b&&(b=!0);e.events.ErrorEvent.call(this,a,b,c,d,g)};l["openfl.events.IOErrorEvent"]=e.events.IOErrorEvent;e.events.IOErrorEvent.__name__=["openfl","events","IOErrorEvent"];e.events.IOErrorEvent.__super__=e.events.ErrorEvent;e.events.IOErrorEvent.prototype=z(e.events.ErrorEvent.prototype,{clone:function(){return new e.events.IOErrorEvent(this.type,this.bubbles,this.cancelable,this.text,this.errorID)},toString:function(){return"[IOErrorEvent type="+this.type+" bubbles="+C.string(this.bubbles)+
" cancelable="+C.string(this.cancelable)+" text="+this.text+" errorID="+this.errorID+"]"},__class__:e.events.IOErrorEvent});e.events.KeyboardEvent=function(a,b,c,d,g,i,f,n,o,h,x){null==x&&(x=!1);null==h&&(h=!1);null==o&&(o=!1);null==n&&(n=!1);null==f&&(f=!1);null==g&&(g=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c);this.charCode=d;this.keyCode=g;this.keyLocation=null!=i?i:0;this.ctrlKey=f;this.altKey=n;this.shiftKey=o;this.controlKey=h;this.commandKey=x};l["openfl.events.KeyboardEvent"]=
e.events.KeyboardEvent;e.events.KeyboardEvent.__name__=["openfl","events","KeyboardEvent"];e.events.KeyboardEvent.__super__=e.events.Event;e.events.KeyboardEvent.prototype=z(e.events.Event.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,__class__:e.events.KeyboardEvent});e.events.MouseEvent=function(a,b,c,d,g,i,f,n,o,h,x,k,l){null==l&&(l=0);null==k&&(k=!1);null==x&&(x=0);null==h&&(h=!1);null==o&&(o=!1);null==n&&(n=!1);null==
f&&(f=!1);null==g&&(g=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);e.events.Event.call(this,a,b,c);this.shiftKey=o;this.altKey=n;this.ctrlKey=f;this.bubbles=b;this.relatedObject=i;this.delta=x;this.localX=d;this.localY=g;this.buttonDown=h;this.commandKey=k;this.clickCount=l};l["openfl.events.MouseEvent"]=e.events.MouseEvent;e.events.MouseEvent.__name__=["openfl","events","MouseEvent"];e.events.MouseEvent.__buttonDown=null;e.events.MouseEvent.__create=function(a,b,c,d){var g=2;a==e.events.MouseEvent.MOUSE_WHEEL&&
(b.wheelDelta?g=b.wheelDelta/120|0:b.detail&&-b.detail|0);a==e.events.MouseEvent.MOUSE_DOWN?e.events.MouseEvent.__buttonDown=!0:a==e.events.MouseEvent.MOUSE_UP&&(e.events.MouseEvent.__buttonDown=!1);a=new e.events.MouseEvent(a,!0,!1,c.x,c.y,null,b.ctrlKey,b.altKey,b.shiftKey,e.events.MouseEvent.__buttonDown,g);a.stageX=e.Lib.current.stage.get_mouseX();a.stageY=e.Lib.current.stage.get_mouseY();a.target=d;return a};e.events.MouseEvent.__super__=e.events.Event;e.events.MouseEvent.prototype=z(e.events.Event.prototype,
{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,updateAfterEvent:function(){},__class__:e.events.MouseEvent});e.events.ProgressEvent=function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=g};l["openfl.events.ProgressEvent"]=e.events.ProgressEvent;e.events.ProgressEvent.__name__=["openfl",
"events","ProgressEvent"];e.events.ProgressEvent.__super__=e.events.Event;e.events.ProgressEvent.prototype=z(e.events.Event.prototype,{bytesLoaded:null,bytesTotal:null,__class__:e.events.ProgressEvent});e.events.SecurityErrorEvent=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);e.events.ErrorEvent.call(this,a,b,c);this.text=d};l["openfl.events.SecurityErrorEvent"]=e.events.SecurityErrorEvent;e.events.SecurityErrorEvent.__name__=["openfl","events","SecurityErrorEvent"];e.events.SecurityErrorEvent.__super__=
e.events.ErrorEvent;e.events.SecurityErrorEvent.prototype=z(e.events.ErrorEvent.prototype,{__class__:e.events.SecurityErrorEvent});e.events.TimerEvent=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);e.events.Event.call(this,a,b,c)};l["openfl.events.TimerEvent"]=e.events.TimerEvent;e.events.TimerEvent.__name__=["openfl","events","TimerEvent"];e.events.TimerEvent.__super__=e.events.Event;e.events.TimerEvent.prototype=z(e.events.Event.prototype,{updateAfterEvent:function(){},__class__:e.events.TimerEvent});
e.events.TouchEvent=function(a,b,c,d,g,i,f,n,o,h,x,k,l,m){null==m&&(m=!1);null==l&&(l=0);null==k&&(k=!1);null==x&&(x=!1);null==h&&(h=!1);null==o&&(o=!1);null==f&&(f=1);null==i&&(i=1);null==g&&(g=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);e.events.Event.call(this,a,b,c);this.shiftKey=x;this.altKey=h;this.ctrlKey=o;this.bubbles=b;this.relatedObject=n;this.delta=l;this.localX=d;this.localY=g;this.sizeX=i;this.sizeY=f;this.buttonDown=k;this.commandKey=m;this.pressure=1;this.touchPointID=0;this.isPrimaryTouchPoint=
!0};l["openfl.events.TouchEvent"]=e.events.TouchEvent;e.events.TouchEvent.__name__=["openfl","events","TouchEvent"];e.events.TouchEvent.__create=function(a,b,c,d,g){a=new e.events.TouchEvent(a,!0,!1,d.x,d.y,null,null,null,b.ctrlKey,b.altKey,b.shiftKey,!1,0,null,0);a.stageX=e.Lib.current.stage.get_mouseX();a.stageY=e.Lib.current.stage.get_mouseY();a.target=g;return a};e.events.TouchEvent.__super__=e.events.Event;e.events.TouchEvent.prototype=z(e.events.Event.prototype,{altKey:null,buttonDown:null,
commandKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,updateAfterEvent:function(){},__class__:e.events.TouchEvent});e.external={};e.external.ExternalInterface=function(){};l["openfl.external.ExternalInterface"]=e.external.ExternalInterface;e.external.ExternalInterface.__name__=["openfl","external","ExternalInterface"];e.external.ExternalInterface.objectID=
null;e.external.ExternalInterface.addCallback=function(a,b){null!=e.Lib.current.stage.__element&&(e.Lib.current.stage.__element[a]=b)};e.external.ExternalInterface.call=function(a,b,c,d,g,i){var e=null,e=a.split(".").slice(0,-1).join(".");0<e.length&&(a+=".bind("+e+")");return e=null==b?eval(a)():null==c?eval(a)(b):null==d?eval(a)(b,c):null==g?eval(a)(b,c,d):null==i?eval(a)(b,c,d,g):eval(a)(b,c,d,g,i)};e.filters={};e.filters.BitmapFilter=function(){};l["openfl.filters.BitmapFilter"]=e.filters.BitmapFilter;
e.filters.BitmapFilter.__name__=["openfl","filters","BitmapFilter"];e.filters.BitmapFilter.prototype={clone:function(){return new e.filters.BitmapFilter},__applyFilter:function(){},__class__:e.filters.BitmapFilter};e.geom={};e.geom.ColorTransform=function(a,b,c,d,g,i,e,f){null==f&&(f=0);null==e&&(e=0);null==i&&(i=0);null==g&&(g=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=g;this.greenOffset=
i;this.blueOffset=e;this.alphaOffset=f};l["openfl.geom.ColorTransform"]=e.geom.ColorTransform;e.geom.ColorTransform.__name__=["openfl","geom","ColorTransform"];e.geom.ColorTransform.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(a){this.redMultiplier+=a.redMultiplier;this.greenMultiplier+=a.greenMultiplier;this.blueMultiplier+=a.blueMultiplier;this.alphaMultiplier+=a.alphaMultiplier},
get_color:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},set_color:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255;this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0;return this.get_color()},__class__:e.geom.ColorTransform,__properties__:{set_color:"set_color",get_color:"get_color"}};e.geom.Matrix=function(a,b,c,d,g,i){null==i&&(i=0);null==g&&(g=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=
a;this.b=b;this.c=c;this.d=d;this.tx=g;this.ty=i};l["openfl.geom.Matrix"]=e.geom.Matrix;e.geom.Matrix.__name__=["openfl","geom","Matrix"];e.geom.Matrix.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new e.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*
a.d+a.ty;this.tx=b},copyColumnFrom:function(a,b){if(2<a)throw"Column "+a+" out of bounds (2)";0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(a,b){if(2<a)throw"Column "+a+" out of bounds (2)";0==a?(b.x=this.a,b.y=this.c,b.z=0):1==a?(b.x=this.b,b.y=this.d,b.z=0):(b.x=this.tx,b.y=this.ty,b.z=1)},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},copyRowFrom:function(a,b){if(2<a)throw"Row "+a+" out of bounds (2)";
0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyRowTo:function(a,b){if(2<a)throw"Row "+a+" out of bounds (2)";0==a?(b.x=this.a,b.y=this.b,b.z=this.tx):1==a?(b.x=this.c,b.y=this.d,b.z=this.ty):(b.x=0,b.y=0,b.z=1)},createBox:function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);this.a=a;this.d=b;this.b=c;this.tx=d;this.ty=g},createGradientBox:function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);this.a=a/1638.4;this.d=b/1638.4;if(0!=c){var i=
Math.cos(c),c=Math.sin(c);this.b=c*this.d;this.c=-c*this.a;this.a*=i;this.d*=i}else this.c=this.b=0;this.tx=d+a/2;this.ty=g+b/2},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c&&this.d==a.d},deltaTransformPoint:function(a){return new e.geom.Point(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=
this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},mult:function(a){var b=new e.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty);b.concat(a);return b},rotate:function(a){var b=Math.cos(a),a=Math.sin(a),c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=
this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setRotation:function(a,b){null==b&&(b=1);this.a=Math.cos(a)*b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a},setTo:function(a,b,c,d,g,i){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=g;this.ty=i},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+
", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(a){return new e.geom.Point(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){var c=new e.geom.Matrix;c.tx=a;c.ty=b;this.concat(c)},
__cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.tx=Math.round(10*this.tx)/10;this.ty=Math.round(10*this.ty)/10},__transformX:function(a){return a.x*this.a+a.y*this.c+this.tx},__transformY:function(a){return a.x*this.b+a.y*this.d+this.ty},__translateTransformed:function(a){this.tx=a.x*this.a+a.y*this.c+this.tx;this.ty=a.x*this.b+a.y*this.d+this.ty},__class__:e.geom.Matrix};e.geom.Point=
function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};l["openfl.geom.Point"]=e.geom.Point;e.geom.Point.__name__=["openfl","geom","Point"];e.geom.Point.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};e.geom.Point.interpolate=function(a,b,c){return new e.geom.Point(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};e.geom.Point.polar=function(a,b){return new e.geom.Point(a*Math.cos(b),a*Math.sin(b))};e.geom.Point.prototype={length:null,x:null,y:null,add:function(a){return new e.geom.Point(a.x+
this.x,a.y+this.y)},clone:function(){return new e.geom.Point(this.x,this.y)},equals:function(a){return null!=a&&a.x==this.x&&a.y==this.y},normalize:function(a){0==this.x&&0==this.y||(a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a)},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new e.geom.Point(this.x-a.x,this.y-a.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:e.geom.Point,__properties__:{get_length:"get_length"}};
e.geom.Rectangle=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};l["openfl.geom.Rectangle"]=e.geom.Rectangle;e.geom.Rectangle.__name__=["openfl","geom","Rectangle"];e.geom.Rectangle.prototype={height:null,width:null,x:null,y:null,clone:function(){return new e.geom.Rectangle(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,
a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()&&a.get_bottom()<this.get_bottom():a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()&&a.get_bottom()<=this.get_bottom()},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=
2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},intersection:function(a){var b;b=this.x<a.x?a.x:this.x;var c;c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new e.geom.Rectangle;var d;d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new e.geom.Rectangle:new e.geom.Rectangle(b,d,c-b,a-d)},intersects:function(a){var b;b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=
b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>b},isEmpty:function(){return 0>=this.width||0>=this.height},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},transform:function(a){var b=a.a*this.x+a.c*this.y,c=b,d=a.b*this.x+a.d*this.y,g=b,i=a.a*(this.x+this.width)+a.c*
this.y,f=a.b*(this.x+this.width)+a.d*this.y;i<b&&(b=i);f<d&&(d=f);i>c&&(c=i);f>g&&(g=f);i=a.a*(this.x+this.width)+a.c*(this.y+this.height);f=a.b*(this.x+this.width)+a.d*(this.y+this.height);i<b&&(b=i);f<d&&(d=f);i>c&&(c=i);f>g&&(g=f);i=a.a*this.x+a.c*(this.y+this.height);f=a.b*this.x+a.d*(this.y+this.height);i<b&&(b=i);f<d&&(d=f);i>c&&(c=i);f>g&&(g=f);return new e.geom.Rectangle(b+a.tx,d+a.ty,c-b,g-d)},union:function(a){if(0==this.width||0==this.height)return a.clone();if(0==a.width||0==a.height)return this.clone();
var b;b=this.x>a.x?a.x:this.x;var c;c=this.get_right()<a.get_right()?a.get_right():this.get_right();var d;d=this.y>a.y?a.y:this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new e.geom.Rectangle(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(!(0==this.width&&0==this.height)&&(this.get_right(),this.get_bottom(),this.x<a&&(this.x=a),this.y<b&&(this.y=b),this.get_right()>a+c&&(this.width=a+c-this.x),this.get_bottom()>b+d))this.height=b+d-this.y},__expand:function(a,b,c,
d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var g=this.get_right(),i=this.get_bottom();this.x>a&&(this.x=a);this.y>b&&(this.y=b);g<a+c&&(this.width=a+c-this.x);i<b+d&&(this.height=b+d-this.y)}},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_bottomRight:function(){return new e.geom.Point(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;
return a.clone()},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_size:function(){return new e.geom.Point(this.width,this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_topLeft:function(){return new e.geom.Point(this.x,this.y)},
set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},__class__:e.geom.Rectangle,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};e.geom.Transform=function(a){this.colorTransform=new e.geom.ColorTransform;
this.concatenatedColorTransform=new e.geom.ColorTransform;this.concatenatedMatrix=new e.geom.Matrix;this.pixelBounds=new e.geom.Rectangle;this.__displayObject=a;this.__matrix=new e.geom.Matrix};l["openfl.geom.Transform"]=e.geom.Transform;e.geom.Transform.__name__=["openfl","geom","Transform"];e.geom.Transform.prototype={colorTransform:null,concatenatedColorTransform:null,concatenatedMatrix:null,pixelBounds:null,__displayObject:null,__matrix:null,get_matrix:function(){return null!=this.__matrix?(this.__matrix.identity(),
this.__matrix.scale(this.__displayObject.get_scaleX(),this.__displayObject.get_scaleY()),this.__matrix.rotate(this.__displayObject.get_rotation()*(Math.PI/180)),this.__matrix.translate(this.__displayObject.get_x(),this.__displayObject.get_y()),this.__matrix.clone()):null},set_matrix:function(a){if(null==a)return this.__matrix=null;null!=this.__displayObject&&(this.__displayObject.set_x(a.tx),this.__displayObject.set_y(a.ty),this.__displayObject.set_scaleX(Math.sqrt(a.a*a.a+a.b*a.b)),this.__displayObject.set_scaleY(Math.sqrt(a.c*
a.c+a.d*a.d)),this.__displayObject.set_rotation(Math.atan2(a.b,a.a)*(180/Math.PI)));return a},__class__:e.geom.Transform,__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix"}};e.geom.Vector3D=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};l["openfl.geom.Vector3D"]=e.geom.Vector3D;e.geom.Vector3D.__name__=["openfl","geom","Vector3D"];e.geom.Vector3D.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"};
e.geom.Vector3D.X_AXIS=null;e.geom.Vector3D.Y_AXIS=null;e.geom.Vector3D.Z_AXIS=null;e.geom.Vector3D.angleBetween=function(a,b){var c=new e.geom.Vector3D(a.x,a.y,a.z,a.w);c.normalize();var d=new e.geom.Vector3D(b.x,b.y,b.z,b.w);d.normalize();return Math.acos(c.x*d.x+c.y*d.y+c.z*d.z)};e.geom.Vector3D.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y,g=b.z-a.z;return Math.sqrt(c*c+d*d+g*g)};e.geom.Vector3D.get_X_AXIS=function(){return new e.geom.Vector3D(1,0,0)};e.geom.Vector3D.get_Y_AXIS=function(){return new e.geom.Vector3D(0,
1,0)};e.geom.Vector3D.get_Z_AXIS=function(){return new e.geom.Vector3D(0,0,1)};e.geom.Vector3D.prototype={length:null,lengthSquared:null,w:null,x:null,y:null,z:null,add:function(a){return new e.geom.Vector3D(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new e.geom.Vector3D(this.x,this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new e.geom.Vector3D(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)},decrementBy:function(a){this.x-=
a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},equals:function(a,b){null==b&&(b=!1);return this.x==a.x&&this.y==a.y&&this.z==a.z&&(!b||this.w==a.w)},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,b,c){null==c&&(c=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b&&(!c||Math.abs(this.w-a.w)<b)},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},normalize:function(){var a=Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z);0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},subtract:function(a){return new e.geom.Vector3D(this.x-a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},__class__:e.geom.Vector3D,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};e.media={};e.media.ID3Info=function(){};l["openfl.media.ID3Info"]=e.media.ID3Info;e.media.ID3Info.__name__=["openfl","media","ID3Info"];e.media.ID3Info.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:e.media.ID3Info};e.media.Sound=function(a,b){e.events.EventDispatcher.call(this,this);this.bytesTotal=this.bytesLoaded=
0;this.id3=null;this.isBuffering=!1;this.length=0;this.url=null;null!=a&&this.load(a,b)};l["openfl.media.Sound"]=e.media.Sound;e.media.Sound.__name__=["openfl","media","Sound"];e.media.Sound.__super__=e.events.EventDispatcher;e.media.Sound.prototype=z(e.events.EventDispatcher.prototype,{bytesLoaded:null,bytesTotal:null,id3:null,isBuffering:null,length:null,url:null,__buffer:null,__sound:null,__soundID:null,close:function(){e.media.Sound.__registeredSounds.exists(this.__soundID)&&createjs.Sound.removeSound(this.__soundID)},
load:function(a){this.url=a.url;this.__soundID=p.io.Path.withoutExtension(a.url);e.media.Sound.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new e.events.Event(e.events.Event.COMPLETE)):(e.media.Sound.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",w(this,this.SoundJS_onFileLoad)),createjs.Sound.registerSound(this.url,this.__soundID))},loadCompressedDataFromByteArray:function(){e.Lib.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(){e.Lib.notImplemented("Sound.loadPCMFromByteArray")},
play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);null==c&&(c=new e.media.SoundTransform(1,0));a=createjs.Sound.play(this.__soundID,"any",0,a|0,b,c.volume,c.pan);return new e.media.SoundChannel(a)},get_id3:function(){return new e.media.ID3Info},SoundJS_onFileLoad:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",w(this,this.SoundJS_onFileLoad)),this.dispatchEvent(new e.events.Event(e.events.Event.COMPLETE)))},__class__:e.media.Sound,__properties__:{get_id3:"get_id3"}});
e.media.SoundChannel=function(a){e.events.EventDispatcher.call(this,this);this.__soundInstance=a;this.__soundInstance.addEventListener("complete",w(this,this.soundInstance_onComplete))};l["openfl.media.SoundChannel"]=e.media.SoundChannel;e.media.SoundChannel.__name__=["openfl","media","SoundChannel"];e.media.SoundChannel.__super__=e.events.EventDispatcher;e.media.SoundChannel.prototype=z(e.events.EventDispatcher.prototype,{leftPeak:null,rightPeak:null,__soundInstance:null,stop:function(){this.__soundInstance.stop()},
__dispose:function(){this.__soundInstance.stop();this.__soundInstance=null},get_position:function(){return this.__soundInstance.getPosition()},set_position:function(a){this.__soundInstance.setPosition(a|0);return this.__soundInstance.getPosition()},get_soundTransform:function(){return new e.media.SoundTransform(this.__soundInstance.getVolume(),this.__soundInstance.getPan())},set_soundTransform:function(a){this.__soundInstance.setVolume(a.volume);this.__soundInstance.setPan(a.pan);return a},soundInstance_onComplete:function(){this.dispatchEvent(new e.events.Event(e.events.Event.SOUND_COMPLETE))},
__class__:e.media.SoundChannel,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});e.media.SoundLoaderContext=function(a,b){null==b&&(b=!1);null==a&&(a=0);this.bufferTime=a;this.checkPolicyFile=b};l["openfl.media.SoundLoaderContext"]=e.media.SoundLoaderContext;e.media.SoundLoaderContext.__name__=["openfl","media","SoundLoaderContext"];e.media.SoundLoaderContext.prototype={bufferTime:null,checkPolicyFile:null,
__class__:e.media.SoundLoaderContext};e.media.SoundTransform=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};l["openfl.media.SoundTransform"]=e.media.SoundTransform;e.media.SoundTransform.__name__=["openfl","media","SoundTransform"];e.media.SoundTransform.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,__class__:e.media.SoundTransform};e.net={};e.net.SharedObject=
function(){e.events.EventDispatcher.call(this)};l["openfl.net.SharedObject"]=e.net.SharedObject;e.net.SharedObject.__name__=["openfl","net","SharedObject"];e.net.SharedObject.getLocal=function(a,b){null==b&&(b=window.location.href);var c=new e.net.SharedObject;c.__key=b+":"+a;var d=null;try{d=e.net.SharedObject.__getLocalStorage().getItem(c.__key)}catch(g){}c.data={};null!=d&&""!=d&&(d=new p.Unserializer(d),d.setResolver({resolveEnum:R.resolveEnum,resolveClass:e.net.SharedObject.resolveClass}),c.data=
d.unserialize());null==c.data&&(c.data={});return c};e.net.SharedObject.__getLocalStorage=function(){var a=D.Browser.getLocalStorage();if(null==a)throw new e.errors.Error("SharedObject not supported");return a};e.net.SharedObject.resolveClass=function(a){return null!=a?R.resolveClass(O.replace(O.replace(a,"jeash.","flash."),"browser.","flash.")):null};e.net.SharedObject.__super__=e.events.EventDispatcher;e.net.SharedObject.prototype=z(e.events.EventDispatcher.prototype,{data:null,__key:null,clear:function(){this.data=
{};try{e.net.SharedObject.__getLocalStorage().removeItem(this.__key)}catch(a){}this.flush()},flush:function(){var a=p.Serializer.run(this.data);try{e.net.SharedObject.__getLocalStorage().removeItem(this.__key),e.net.SharedObject.__getLocalStorage().setItem(this.__key,a)}catch(b){return e.net.SharedObjectFlushStatus.PENDING}return e.net.SharedObjectFlushStatus.FLUSHED},setProperty:function(a,b){null!=this.data&&(this.data[a]=b)},get_size:function(){var a=p.Serializer.run(this.data);return p.io.Bytes.ofString(a).length},
__class__:e.net.SharedObject,__properties__:{get_size:"get_size"}});e.net.SharedObjectFlushStatus=l["openfl.net.SharedObjectFlushStatus"]={__ename__:["openfl","net","SharedObjectFlushStatus"],__constructs__:["FLUSHED","PENDING"]};e.net.SharedObjectFlushStatus.FLUSHED=["FLUSHED",0];e.net.SharedObjectFlushStatus.FLUSHED.toString=A;e.net.SharedObjectFlushStatus.FLUSHED.__enum__=e.net.SharedObjectFlushStatus;e.net.SharedObjectFlushStatus.PENDING=["PENDING",1];e.net.SharedObjectFlushStatus.PENDING.toString=
A;e.net.SharedObjectFlushStatus.PENDING.__enum__=e.net.SharedObjectFlushStatus;e.net.URLLoader=function(a){e.events.EventDispatcher.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(e.net.URLLoaderDataFormat.TEXT);null!=a&&this.load(a)};l["openfl.net.URLLoader"]=e.net.URLLoader;e.net.URLLoader.__name__=["openfl","net","URLLoader"];e.net.URLLoader.__super__=e.events.EventDispatcher;e.net.URLLoader.prototype=z(e.events.EventDispatcher.prototype,{bytesLoaded:null,bytesTotal:null,data:null,
dataFormat:null,close:function(){},getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",w(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");
else if(12029==c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var g=new XMLHttpRequest;this.registerEvents(g);var i="";if(D.Boot.__instanceof(c,e.utils.ByteArray))switch(this.dataFormat[1]){case 0:i=c.data.buffer;
break;default:i=c.readUTFBytes(c.length)}else if(D.Boot.__instanceof(c,e.net.URLVariables))for(var f=0,n=u.fields(c);f<n.length;){var o=n[f];++f;0!=i.length&&(i+="&");i+=encodeURIComponent(o)+"="+O.urlEncode(u.field(c,o))}else null!=c&&(i=c.toString());try{if("GET"==b&&null!=i&&""!=i){var h=1>=a.split("?").length;g.open(b,a+(h?"?":"&")+C.string(i),!0);i=""}else g.open(b,a,!0)}catch(x){this.onError(x.toString());return}switch(this.dataFormat[1]){case 0:g.responseType="arraybuffer"}for(a=0;a<d.length;)b=
d[a],++a,g.setRequestHeader(b.name,b.value);g.send(i);this.onOpen();this.getData=function(){return null!=g.response?g.response:g.responseText}},onData:function(){var a=this.getData();switch(this.dataFormat[1]){case 0:this.data=e.utils.ByteArray.__ofBuffer(a);break;default:this.data=C.string(a)}a=new e.events.Event(e.events.Event.COMPLETE);a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new e.events.IOErrorEvent(e.events.IOErrorEvent.IO_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},
onOpen:function(){var a=new e.events.Event(e.events.Event.OPEN);a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new e.events.ProgressEvent(e.events.ProgressEvent.PROGRESS);b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new e.events.SecurityErrorEvent(e.events.SecurityErrorEvent.SECURITY_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new e.events.HTTPStatusEvent(e.events.HTTPStatusEvent.HTTP_STATUS,
!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){return this.dataFormat=a==e.net.URLLoaderDataFormat.BINARY&&!u.hasField(window,"ArrayBuffer")?e.net.URLLoaderDataFormat.TEXT:a},__class__:e.net.URLLoader,__properties__:{set_dataFormat:"set_dataFormat"}});e.net.URLLoaderDataFormat=l["openfl.net.URLLoaderDataFormat"]={__ename__:["openfl","net","URLLoaderDataFormat"],__constructs__:["BINARY","TEXT","VARIABLES"]};e.net.URLLoaderDataFormat.BINARY=["BINARY",0];e.net.URLLoaderDataFormat.BINARY.toString=
A;e.net.URLLoaderDataFormat.BINARY.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.TEXT=["TEXT",1];e.net.URLLoaderDataFormat.TEXT.toString=A;e.net.URLLoaderDataFormat.TEXT.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.VARIABLES=["VARIABLES",2];e.net.URLLoaderDataFormat.VARIABLES.toString=A;e.net.URLLoaderDataFormat.VARIABLES.__enum__=e.net.URLLoaderDataFormat;e.net.URLRequest=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=e.net.URLRequestMethod.GET;
this.contentType=null};l["openfl.net.URLRequest"]=e.net.URLRequest;e.net.URLRequest.__name__=["openfl","net","URLRequest"];e.net.URLRequest.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,userAgent:null,formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if(this.method==e.net.URLRequestMethod.GET||null==this.data)return a;if("string"==typeof this.data||D.Boot.__instanceof(this.data,e.utils.ByteArray))a=a.slice(),a.push(new e.net.URLRequestHeader("Content-Type",
null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:e.net.URLRequest};e.net.URLRequestHeader=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};l["openfl.net.URLRequestHeader"]=e.net.URLRequestHeader;e.net.URLRequestHeader.__name__=["openfl","net","URLRequestHeader"];e.net.URLRequestHeader.prototype={name:null,value:null,__class__:e.net.URLRequestHeader};e.net.URLRequestMethod=function(){};l["openfl.net.URLRequestMethod"]=e.net.URLRequestMethod;
e.net.URLRequestMethod.__name__=["openfl","net","URLRequestMethod"];e.net.URLVariables=function(a){null!=a&&this.decode(a)};l["openfl.net.URLVariables"]=e.net.URLVariables;e.net.URLVariables.__name__=["openfl","net","URLVariables"];e.net.URLVariables.prototype={decode:function(a){for(var b=u.fields(this),c=0;c<b.length;){var d=b[c];++c;u.deleteField(this,d)}a=a.split(";").join("&").split("&");for(b=0;b<a.length;)c=a[b],++b,d=c.indexOf("="),0<d?u.setField(this,O.urlDecode(B.substr(c,0,d)),O.urlDecode(B.substr(c,
d+1,null))):0!=d&&u.setField(this,decodeURIComponent(c.split("+").join(" ")),"")},toString:function(){for(var a=[],b=u.fields(this),c=0;c<b.length;){var d=b[c];++c;a.push(encodeURIComponent(d)+"="+O.urlEncode(u.field(this,d)))}return a.join("&")},__class__:e.net.URLVariables};e.system={};e.system.ApplicationDomain=function(a){this.parentDomain=null!=a?a:e.system.ApplicationDomain.currentDomain};l["openfl.system.ApplicationDomain"]=e.system.ApplicationDomain;e.system.ApplicationDomain.__name__=["openfl",
"system","ApplicationDomain"];e.system.ApplicationDomain.prototype={parentDomain:null,getDefinition:function(a){return R.resolveClass(a)},hasDefinition:function(a){return null!=R.resolveClass(a)},__class__:e.system.ApplicationDomain};e.system.Capabilities=function(){};l["openfl.system.Capabilities"]=e.system.Capabilities;e.system.Capabilities.__name__=["openfl","system","Capabilities"];e.system.Capabilities.__properties__={get_language:"get_language",get_screenResolutionY:"get_screenResolutionY",
get_screenResolutionX:"get_screenResolutionX",get_screenDPI:"get_screenDPI",get_pixelAspectRatio:"get_pixelAspectRatio"};e.system.Capabilities.pixelAspectRatio=null;e.system.Capabilities.screenDPI=null;e.system.Capabilities.screenResolutionX=null;e.system.Capabilities.screenResolutionY=null;e.system.Capabilities.language=null;e.system.Capabilities.get_pixelAspectRatio=function(){return 1};e.system.Capabilities.get_screenDPI=function(){if(0<e.system.Capabilities.screenDPI)return e.system.Capabilities.screenDPI;
var a=window.document.getElementsByTagName("body")[0],b=window.document.createElement("div");b.style.width=b.style.height="1in";b.style.padding=b.style.margin="0px";b.style.position="absolute";b.style.top="-100%";a.appendChild(b);e.system.Capabilities.screenDPI=b.offsetWidth;a.removeChild(b);return e.system.Capabilities.screenDPI};e.system.Capabilities.get_screenResolutionX=function(){return window.screen.width};e.system.Capabilities.get_screenResolutionY=function(){return window.screen.height};e.system.Capabilities.get_language=
function(){return navigator.language};e.system.LoaderContext=function(a,b,c){null==a&&(a=!1);this.checkPolicyFile=a;this.securityDomain=c;this.applicationDomain=b;this.allowLoadBytesCodeExecution=this.allowCodeImport=!0};l["openfl.system.LoaderContext"]=e.system.LoaderContext;e.system.LoaderContext.__name__=["openfl","system","LoaderContext"];e.system.LoaderContext.prototype={allowCodeImport:null,allowLoadBytesCodeExecution:null,applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:e.system.LoaderContext};
e.system.SecurityDomain=function(){};l["openfl.system.SecurityDomain"]=e.system.SecurityDomain;e.system.SecurityDomain.__name__=["openfl","system","SecurityDomain"];e.system.SecurityDomain.prototype={__class__:e.system.SecurityDomain};e.system.System=function(){};l["openfl.system.System"]=e.system.System;e.system.System.__name__=["openfl","system","System"];e.system.System.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"};e.system.System.totalMemory=null;e.system.System.vmVersion=
null;e.system.System.exit=function(){throw"System.exit is currently not supported for HTML5";};e.system.System.gc=function(){};e.system.System.pause=function(){throw"System.pause is currently not supported for HTML5";};e.system.System.resume=function(){throw"System.resume is currently not supported for HTML5";};e.system.System.setClipboard=function(){throw"System.setClipboard is currently not supported for HTML5";};e.system.System.get_totalMemory=function(){return 0};e.system.System.get_vmVersion=
function(){return"1.0.0"};e.text={};e.text._AntiAliasType={};e.text._AntiAliasType.AntiAliasType_Impl_=function(){};l["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=e.text._AntiAliasType.AntiAliasType_Impl_;e.text._AntiAliasType.AntiAliasType_Impl_.__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"];e.text.Font=function(){};l["openfl.text.Font"]=e.text.Font;e.text.Font.__name__=["openfl","text","Font"];e.text.Font.enumerateFonts=function(){return[]};e.text.Font.registerFont=function(){};
e.text.Font.prototype={fontName:null,fontStyle:null,fontType:null,__class__:e.text.Font};e.text.FontStyle=l["openfl.text.FontStyle"]={__ename__:["openfl","text","FontStyle"],__constructs__:["REGULAR","ITALIC","BOLD_ITALIC","BOLD"]};e.text.FontStyle.REGULAR=["REGULAR",0];e.text.FontStyle.REGULAR.toString=A;e.text.FontStyle.REGULAR.__enum__=e.text.FontStyle;e.text.FontStyle.ITALIC=["ITALIC",1];e.text.FontStyle.ITALIC.toString=A;e.text.FontStyle.ITALIC.__enum__=e.text.FontStyle;e.text.FontStyle.BOLD_ITALIC=
["BOLD_ITALIC",2];e.text.FontStyle.BOLD_ITALIC.toString=A;e.text.FontStyle.BOLD_ITALIC.__enum__=e.text.FontStyle;e.text.FontStyle.BOLD=["BOLD",3];e.text.FontStyle.BOLD.toString=A;e.text.FontStyle.BOLD.__enum__=e.text.FontStyle;e.text.FontType=l["openfl.text.FontType"]={__ename__:["openfl","text","FontType"],__constructs__:["DEVICE","EMBEDDED","EMBEDDED_CFF"]};e.text.FontType.DEVICE=["DEVICE",0];e.text.FontType.DEVICE.toString=A;e.text.FontType.DEVICE.__enum__=e.text.FontType;e.text.FontType.EMBEDDED=
["EMBEDDED",1];e.text.FontType.EMBEDDED.toString=A;e.text.FontType.EMBEDDED.__enum__=e.text.FontType;e.text.FontType.EMBEDDED_CFF=["EMBEDDED_CFF",2];e.text.FontType.EMBEDDED_CFF.toString=A;e.text.FontType.EMBEDDED_CFF.__enum__=e.text.FontType;e.text.GridFitType=l["openfl.text.GridFitType"]={__ename__:["openfl","text","GridFitType"],__constructs__:["NONE","PIXEL","SUBPIXEL"]};e.text.GridFitType.NONE=["NONE",0];e.text.GridFitType.NONE.toString=A;e.text.GridFitType.NONE.__enum__=e.text.GridFitType;e.text.GridFitType.PIXEL=
["PIXEL",1];e.text.GridFitType.PIXEL.toString=A;e.text.GridFitType.PIXEL.__enum__=e.text.GridFitType;e.text.GridFitType.SUBPIXEL=["SUBPIXEL",2];e.text.GridFitType.SUBPIXEL.toString=A;e.text.GridFitType.SUBPIXEL.__enum__=e.text.GridFitType;e.text.TextField=function(){e.display.InteractiveObject.call(this);this.__height=this.__width=100;this.__text="";this.set_type(e.text.TextFieldType.DYNAMIC);this.set_autoSize(e.text.TextFieldAutoSize.NONE);this.embedFonts=this.displayAsPassword=!1;this.selectable=
!0;this.set_borderColor(0);this.set_border(!1);this.set_backgroundColor(16777215);this.set_background(!1);this.gridFitType=e.text.GridFitType.PIXEL;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.set_wordWrap(!1);null==e.text.TextField.__defaultTextFormat&&(e.text.TextField.__defaultTextFormat=new e.text.TextFormat("Times New Roman",12,0,!1,!1,!1,"","",e.text.TextFormatAlign.LEFT,0,0,0,0),e.text.TextField.__defaultTextFormat.blockIndent=0,e.text.TextField.__defaultTextFormat.bullet=
!1,e.text.TextField.__defaultTextFormat.letterSpacing=0,e.text.TextField.__defaultTextFormat.kerning=!1);this.__textFormat=e.text.TextField.__defaultTextFormat.clone()};l["openfl.text.TextField"]=e.text.TextField;e.text.TextField.__name__=["openfl","text","TextField"];e.text.TextField.__defaultTextFormat=null;e.text.TextField.__super__=e.display.InteractiveObject;e.text.TextField.prototype=z(e.display.InteractiveObject.prototype,{antiAliasType:null,autoSize:null,background:null,backgroundColor:null,
border:null,borderColor:null,bottomScrollV:null,caretIndex:null,caretPos:null,displayAsPassword:null,embedFonts:null,gridFitType:null,length:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,selectionBeginIndex:null,selectionEndIndex:null,sharpness:null,textHeight:null,textWidth:null,type:null,wordWrap:null,__canvas:null,__context:null,__dirty:null,__div:null,__height:null,__isHTML:null,__measuredHeight:null,__measuredWidth:null,
__ranges:null,__text:null,__textFormat:null,__width:null,appendText:function(a){this.set_text(this.get_text()+a)},getCharBoundaries:function(){e.Lib.notImplemented("TextField.getCharBoundaries");return null},getCharIndexAtPoint:function(){e.Lib.notImplemented("TextField.getCharIndexAtPoint");return 0},getLineIndexAtPoint:function(){e.Lib.notImplemented("TextField.getLineIndexAtPoint");return 0},getLineMetrics:function(){e.Lib.notImplemented("TextField.getLineMetrics");return null},getLineOffset:function(){e.Lib.notImplemented("TextField.getLineOffset");
return 0},getLineText:function(){e.Lib.notImplemented("TextField.getLineText");return""},getTextFormat:function(){return this.__textFormat.clone()},setSelection:function(){e.Lib.notImplemented("TextField.setSelection")},setTextFormat:function(a){null!=a.font&&(this.__textFormat.font=a.font);null!=a.size&&(this.__textFormat.size=a.size);null!=a.color&&(this.__textFormat.color=a.color);null!=a.bold&&(this.__textFormat.bold=a.bold);null!=a.italic&&(this.__textFormat.italic=a.italic);null!=a.underline&&
(this.__textFormat.underline=a.underline);null!=a.url&&(this.__textFormat.url=a.url);null!=a.target&&(this.__textFormat.target=a.target);null!=a.align&&(this.__textFormat.align=a.align);null!=a.leftMargin&&(this.__textFormat.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.__textFormat.rightMargin=a.rightMargin);null!=a.indent&&(this.__textFormat.indent=a.indent);null!=a.leading&&(this.__textFormat.leading=a.leading);null!=a.blockIndent&&(this.__textFormat.blockIndent=a.blockIndent);null!=a.bullet&&
(this.__textFormat.bullet=a.bullet);null!=a.kerning&&(this.__textFormat.kerning=a.kerning);null!=a.letterSpacing&&(this.__textFormat.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.__textFormat.tabStops=a.tabStops);this.__dirty=!0},__getBounds:function(a){var b=new e.geom.Rectangle(0,0,this.__width,this.__height);b.transform(this.__worldTransform);a.__expand(b.x,b.y,b.width,b.height)},__getFont:function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=
a.size+"px";b+="/"+(a.size+a.leading+4)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a=a.font}return b+("'"+a)+"'"},__hitTest:function(a,b,c,d,g){if(!this.get_visible()||g&&!this.mouseEnabled)return!1;a=this.globalToLocal(new e.geom.Point(a,b));return 0<a.x&&0<a.y&&a.x<=this.__width&&a.y<=this.__height?(null!=d&&d.push(this),!0):!1},__measureText:function(){if(null==this.__ranges)return this.__context.font=this.__getFont(this.__textFormat),
[this.__context.measureText(this.__text).width];for(var a=[],b=0,c=this.__ranges;b<c.length;){var d=c[b];++b;this.__context.font=this.__getFont(d.format);a.push(this.__context.measureText(this.get_text().substring(d.start,d.end)).width)}return a},__measureTextWithDOM:function(){var a=this.__div;null==this.__div&&(a=window.document.createElement("div"),a.innerHTML=this.__text,a.style.setProperty("font",this.__getFont(this.__textFormat),null),a.style.position="absolute",a.style.top="110%",window.document.body.appendChild(a));
this.__measuredWidth=a.clientWidth;null==this.__div&&(a.style.width=C.string(this.__width)+"px");this.__measuredHeight=a.clientHeight;null==this.__div&&window.document.body.removeChild(a)},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){if(this.__dirty){if((null==this.__text||""==this.__text)&&!this.background&&!this.border||(0>=this.get_width()||0>=this.get_height())&&this.autoSize!=e.text.TextFieldAutoSize.LEFT)this.__context=this.__canvas=null;else if(null==this.__canvas&&
(this.__canvas=window.document.createElement("canvas"),this.__context=this.__canvas.getContext("2d")),null!=this.__text&&""!=this.__text){for(var b=this.__measureText(),c=0,d=0;d<b.length;){var g=b[d];++d;c+=g}this.autoSize==e.text.TextFieldAutoSize.LEFT&&(this.__width=c+4);this.__canvas.width=Math.ceil(this.__width);this.__canvas.height=Math.ceil(this.__height);if(this.border||this.background)if(this.__context.rect(0.5,0.5,this.__width-1,this.__height-1),this.background&&(this.__context.fillStyle=
"#"+O.hex(this.backgroundColor,6),this.__context.fill()),this.border)this.__context.lineWidth=1,this.__context.strokeStyle="#"+O.hex(this.borderColor,6),this.__context.stroke();if(null==this.__ranges)this.__renderText(this.get_text(),this.__textFormat,0);else for(var g=d=0,i=this.__ranges.length;g<i;){var f=g++,c=this.__ranges[f];this.__renderText(this.get_text().substring(c.start,c.end),c.format,d);d+=b[f]}}else if(this.autoSize==e.text.TextFieldAutoSize.LEFT&&(this.__width=4),this.__canvas.width=
Math.ceil(this.__width),this.__canvas.height=Math.ceil(this.__height),this.border||this.background)if(this.border?this.__context.rect(0.5,0.5,this.__width-1,this.__height-1):this.__context.rect(0,0,this.__width,this.__height),this.background&&(this.__context.fillStyle="#"+O.hex(this.backgroundColor,6),this.__context.fill()),this.border)this.__context.lineWidth=1,this.__context.lineCap="square",this.__context.strokeStyle="#"+O.hex(this.borderColor,6),this.__context.stroke();this.__dirty=!1}null!=this.__canvas&&
(b=a.context,b.globalAlpha=this.__worldAlpha,c=this.__worldTransform,a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),null==this.get_scrollRect()?b.drawImage(this.__canvas,0,0):b.drawImage(this.__canvas,this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height,this.get_scrollRect().x,this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height))}},__renderDOM:function(a){if(null!=
this.stage&&this.__worldVisible&&this.__renderable){if(this.__dirty||null==this.__div)if(""!=this.__text||this.background||this.border){null==this.__div&&(this.__div=window.document.createElement("div"),this.__initializeElement(this.__div,a),this.__style.setProperty("cursor","inherit",null));this.__div.innerHTML=this.__text;this.background?this.__style.setProperty("background-color","#"+O.hex(this.backgroundColor,6),null):this.__style.removeProperty("background-color");this.border?this.__style.setProperty("border",
"solid 1px #"+O.hex(this.borderColor,6),null):this.__style.removeProperty("border");this.__style.setProperty("font",this.__getFont(this.__textFormat),null);this.__style.setProperty("color","#"+O.hex(this.__textFormat.color,6),null);this.autoSize!=e.text.TextFieldAutoSize.NONE?this.__style.setProperty("width","auto",null):this.__style.setProperty("width",this.__width+"px",null);this.__style.setProperty("height",this.__height+"px",null);switch(this.__textFormat.align[1]){case 3:this.__style.setProperty("text-align",
"center",null);break;case 1:this.__style.setProperty("text-align","right",null);break;default:this.__style.setProperty("text-align","left",null)}this.__dirty=!1}else null!=this.__div&&(a.element.removeChild(this.__div),this.__div=null);null!=this.__div&&this.__applyStyle(a,!0,!0,!1)}else null!=this.__div&&(a.element.removeChild(this.__div),this.__style=this.__div=null)},__renderText:function(a,b,c){this.__context.font=this.__getFont(b);this.__context.textBaseline="top";this.__context.fillStyle="#"+
O.hex(b.color,6);for(var a=a.split("\n"),d=0,g=0;g<a.length;){var i=a[g];++g;switch(b.align[1]){case 3:this.__context.textAlign="center";this.__context.fillText(i,this.__width/2,2+d,this.__width-4);break;case 1:this.__context.textAlign="end";this.__context.fillText(i,this.__width-2,2+d,this.__width-4);break;default:this.__context.textAlign="start",this.__context.fillText(i,2+c,2+d,this.__width-4)}d+=this.get_textHeight()}},set_autoSize:function(a){a!=this.autoSize&&(this.__dirty=!0);return this.autoSize=
a},set_background:function(a){a!=this.background&&(this.__dirty=!0);return this.background=a},set_backgroundColor:function(a){a!=this.backgroundColor&&(this.__dirty=!0);return this.backgroundColor=a},set_border:function(a){a!=this.border&&(this.__dirty=!0);return this.border=a},set_borderColor:function(a){a!=this.borderColor&&(this.__dirty=!0);return this.borderColor=a},get_bottomScrollV:function(){return this.get_numLines()},get_caretPos:function(){return 0},get_defaultTextFormat:function(){return this.__textFormat.clone()},
set_defaultTextFormat:function(a){this.__textFormat.__merge(a);return a},get_height:function(){return this.__height*this.get_scaleY()},set_height:function(a){if(1!=this.get_scaleY()||a!=this.__height)this.__transformDirty||(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++),this.__dirty=!0;this.set_scaleY(1);return this.__height=a},get_htmlText:function(){return this.__text},set_htmlText:function(a){if(!this.__isHTML||this.__text!=a)this.__dirty=!0;this.__ranges=null;this.__isHTML=
!0;if(null==this.__div){var a=(new ia("<br>","g")).replace(a,"\n"),a=(new ia("<br/>","g")).replace(a,"\n"),b=a.split("<font");if(1==b.length)a=(new ia("<.*?>","g")).replace(a,"");else{a="";this.__ranges=[];for(var c=0;c<b.length;){var d=b[c];++c;if(""!=d){var g=d.indexOf("</font>");if(-1<g){var i=d.indexOf(">")+1,f=g,n=this.__textFormat.clone(),o=d.indexOf("face="),h=d.indexOf("color="),x=d.indexOf("size=");if(-1<o&&o<i){var k=d.indexOf('"',o);n.font=B.substr(d,o+6,k)}-1<h&&h<i&&(n.color=C.parseInt("0x"+
B.substr(d,h+8,6)));-1<x&&x<i&&(n.size=C.parseInt(function(){var a=d.indexOf('"',x);return B.substr(d,x+6,a)}(this)));i=d.substring(i,f);i=(new ia("<.*?>","g")).replace(i,"");this.__ranges.push(new e.text.TextFormatRange(n,a.length,a.length+i.length));a+=i;g+7<d.length&&(i=B.substr(d,g+7,null),this.__ranges.push(new e.text.TextFormatRange(this.__textFormat,a.length,a.length+i.length)),a+=i)}else this.__ranges.push(new e.text.TextFormatRange(this.__textFormat,a.length,a.length+d.length)),a+=d}}}}return this.__text=
a},get_maxScrollH:function(){return 0},get_maxScrollV:function(){return 1},get_numLines:function(){if(""!=this.get_text()&&null!=this.get_text()){var a=this.get_text().split("\n").length;this.__isHTML&&(a+=this.get_text().split("<br>").length-1);return a}return 1},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__dirty=!0;this.__ranges=null;this.__isHTML=!1;return this.__text=a},get_textColor:function(){return this.__textFormat.color},set_textColor:function(a){a!=
this.__textFormat.color&&(this.__dirty=!0);if(null!=this.__ranges)for(var b=0,c=this.__ranges;b<c.length;){var d=c[b];++b;d.format.color=a}return this.__textFormat.color=a},get_textWidth:function(){if(null!=this.__canvas){for(var a=this.__measureText(),b=0,c=0;c<a.length;){var d=a[c];++c;b+=d}return b}if(null!=this.__div)return this.__div.clientWidth;this.__measureTextWithDOM();return this.__measuredWidth},get_textHeight:function(){if(null!=this.__canvas)return 1.185*this.__textFormat.size;if(null!=
this.__div)return this.__div.clientHeight;this.__measureTextWithDOM();return this.__measuredHeight+0.185*this.__textFormat.size},set_type:function(a){return this.type=a},get_width:function(){return this.autoSize==e.text.TextFieldAutoSize.LEFT?(this.get_textWidth()+4)*this.get_scaleX():this.__width*this.get_scaleX()},set_width:function(a){if(1!=this.get_scaleX()||this.__width!=a)this.__transformDirty||(this.__transformDirty=!0,e.display.DisplayObject.__worldTransformDirty++),this.__dirty=!0;this.set_scaleX(1);
return this.__width=a},get_wordWrap:function(){return this.wordWrap},set_wordWrap:function(a){return this.wordWrap=a},__class__:e.text.TextField,__properties__:z(e.display.InteractiveObject.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",get_numLines:"get_numLines",get_maxScrollV:"get_maxScrollV",
get_maxScrollH:"get_maxScrollH",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretPos:"get_caretPos",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",set_border:"set_border",set_backgroundColor:"set_backgroundColor",set_background:"set_background",set_autoSize:"set_autoSize"})});e.text.TextFormatRange=function(a,b,c){this.format=a;this.start=b;this.end=c};l["openfl.text.TextFormatRange"]=
e.text.TextFormatRange;e.text.TextFormatRange.__name__=["openfl","text","TextFormatRange"];e.text.TextFormatRange.prototype={end:null,format:null,start:null,__class__:e.text.TextFormatRange};e.text.TextFieldAutoSize=l["openfl.text.TextFieldAutoSize"]={__ename__:["openfl","text","TextFieldAutoSize"],__constructs__:["CENTER","LEFT","NONE","RIGHT"]};e.text.TextFieldAutoSize.CENTER=["CENTER",0];e.text.TextFieldAutoSize.CENTER.toString=A;e.text.TextFieldAutoSize.CENTER.__enum__=e.text.TextFieldAutoSize;
e.text.TextFieldAutoSize.LEFT=["LEFT",1];e.text.TextFieldAutoSize.LEFT.toString=A;e.text.TextFieldAutoSize.LEFT.__enum__=e.text.TextFieldAutoSize;e.text.TextFieldAutoSize.NONE=["NONE",2];e.text.TextFieldAutoSize.NONE.toString=A;e.text.TextFieldAutoSize.NONE.__enum__=e.text.TextFieldAutoSize;e.text.TextFieldAutoSize.RIGHT=["RIGHT",3];e.text.TextFieldAutoSize.RIGHT.toString=A;e.text.TextFieldAutoSize.RIGHT.__enum__=e.text.TextFieldAutoSize;e.text.TextFieldType=l["openfl.text.TextFieldType"]={__ename__:["openfl",
"text","TextFieldType"],__constructs__:["DYNAMIC","INPUT"]};e.text.TextFieldType.DYNAMIC=["DYNAMIC",0];e.text.TextFieldType.DYNAMIC.toString=A;e.text.TextFieldType.DYNAMIC.__enum__=e.text.TextFieldType;e.text.TextFieldType.INPUT=["INPUT",1];e.text.TextFieldType.INPUT.toString=A;e.text.TextFieldType.INPUT.__enum__=e.text.TextFieldType;e.text.TextFormat=function(a,b,c,d,g,i,e,f,o,h,x,k,l){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=g;this.underline=i;this.url=e;this.target=f;this.align=
o;this.leftMargin=h;this.rightMargin=x;this.indent=k;this.leading=l};l["openfl.text.TextFormat"]=e.text.TextFormat;e.text.TextFormat.__name__=["openfl","text","TextFormat"];e.text.TextFormat.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,clone:function(){var a=new e.text.TextFormat(this.font,this.size,this.color,
this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=
a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&
(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:e.text.TextFormat};e.text.TextFormatAlign=l["openfl.text.TextFormatAlign"]={__ename__:["openfl","text","TextFormatAlign"],__constructs__:["LEFT","RIGHT","JUSTIFY","CENTER"]};e.text.TextFormatAlign.LEFT=["LEFT",0];e.text.TextFormatAlign.LEFT.toString=A;e.text.TextFormatAlign.LEFT.__enum__=e.text.TextFormatAlign;e.text.TextFormatAlign.RIGHT=["RIGHT",1];e.text.TextFormatAlign.RIGHT.toString=A;e.text.TextFormatAlign.RIGHT.__enum__=
e.text.TextFormatAlign;e.text.TextFormatAlign.JUSTIFY=["JUSTIFY",2];e.text.TextFormatAlign.JUSTIFY.toString=A;e.text.TextFormatAlign.JUSTIFY.__enum__=e.text.TextFormatAlign;e.text.TextFormatAlign.CENTER=["CENTER",3];e.text.TextFormatAlign.CENTER.toString=A;e.text.TextFormatAlign.CENTER.__enum__=e.text.TextFormatAlign;e.text.TextLineMetrics=function(a,b,c,d,g,i){this.x=a;this.width=b;this.height=c;this.ascent=d;this.descent=g;this.leading=i};l["openfl.text.TextLineMetrics"]=e.text.TextLineMetrics;
e.text.TextLineMetrics.__name__=["openfl","text","TextLineMetrics"];e.text.TextLineMetrics.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,__class__:e.text.TextLineMetrics};e.ui={};e.ui._KeyLocation={};e.ui._KeyLocation.KeyLocation_Impl_=function(){};l["openfl.ui._KeyLocation.KeyLocation_Impl_"]=e.ui._KeyLocation.KeyLocation_Impl_;e.ui._KeyLocation.KeyLocation_Impl_.__name__=["openfl","ui","_KeyLocation","KeyLocation_Impl_"];e.ui.Keyboard=function(){};l["openfl.ui.Keyboard"]=
e.ui.Keyboard;e.ui.Keyboard.__name__=["openfl","ui","Keyboard"];e.ui.Keyboard.capsLock=null;e.ui.Keyboard.numLock=null;e.ui.Keyboard.isAccessible=function(){return!1};e.ui.Keyboard.__convertMozillaCode=function(a){switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 14:return 13;case 16:return 16;case 17:return 17;case 20:return 20;case 27:return 27;case 32:return 32;case 33:return 33;case 34:return 34;case 35:return 35;case 36:return 36;case 37:return 37;case 39:return 39;case 38:return 38;
case 40:return 40;case 45:return 45;case 46:return 46;case 144:return 144;default:return a}};e.ui.Keyboard.__convertWebkitCode=function(a){switch(a.toLowerCase()){case "backspace":return 8;case "tab":return 9;case "enter":return 13;case "shift":return 16;case "control":return 17;case "capslock":return 20;case "escape":return 27;case "space":return 32;case "pageup":return 33;case "pagedown":return 34;case "end":return 35;case "home":return 36;case "left":return 37;case "right":return 39;case "up":return 38;
case "down":return 40;case "insert":return 45;case "delete":return 46;case "numlock":return 144;case "break":return 19}if(0==a.indexOf("U+"))return C.parseInt("0x"+B.substr(a,3,null));throw"Unrecognized key code: "+a;};e.ui.Mouse=function(){};l["openfl.ui.Mouse"]=e.ui.Mouse;e.ui.Mouse.__name__=["openfl","ui","Mouse"];e.ui.Mouse.hide=function(){e.Lib.current.stage.__setCursorHidden(!0)};e.ui.Mouse.show=function(){e.Lib.current.stage.__setCursorHidden(!1)};e.utils={};e.utils.ByteArray=function(){this.littleEndian=
!1;this.length=this.position=this.allocated=0;this.___resizeBuffer(this.allocated)};l["openfl.utils.ByteArray"]=e.utils.ByteArray;e.utils.ByteArray.__name__=["openfl","utils","ByteArray"];e.utils.ByteArray.fromBytes=function(a){var b=new e.utils.ByteArray;b.byteView=new Uint8Array(a.b);b.set_length(b.byteView.length);b.allocated=b.length;return b};e.utils.ByteArray.__ofBuffer=function(a){var b=new e.utils.ByteArray;b.set_length(b.allocated=a.byteLength);b.data=new DataView(a);b.byteView=new Uint8Array(a);
return b};e.utils.ByteArray.prototype={bytesAvailable:null,length:null,objectEncoding:null,position:null,allocated:null,byteView:null,data:null,littleEndian:null,clear:function(){0>this.allocated?this.___resizeBuffer(this.allocated=C["int"](Math.max(0,2*this.allocated))):0<this.allocated&&this.___resizeBuffer(this.allocated=0);this.length=0;0;this.position=0},readBoolean:function(){return 0!=this.readByte()},readByte:function(){return this.data.getInt8(this.position++)},readBytes:function(a,b,c){null==
c&&(c=0);null==b&&(b=0);if(0>b||0>c)throw new e.errors.IOError("Read error - Out of bounds");0==c&&(c=this.length-this.position);var d=b+c;a.length<d&&(a.allocated<d?a.___resizeBuffer(a.allocated=C["int"](Math.max(d,2*a.allocated))):a.allocated>d&&a.___resizeBuffer(a.allocated=d),a.length=d,d);a.byteView.set(this.byteView.subarray(this.position,this.position+c),b);a.position=b;this.position+=c;a.position+c>a.length&&a.set_length(a.position+c)},readDouble:function(){var a=this.data.getFloat64(this.position,
this.littleEndian);this.position+=8;return a},readFloat:function(){var a=this.data.getFloat32(this.position,this.littleEndian);this.position+=4;return a},readFullBytes:function(a,b,c){this.length<c&&(this.allocated<c?this.___resizeBuffer(this.allocated=C["int"](Math.max(c,2*this.allocated))):this.allocated>c&&this.___resizeBuffer(this.allocated=c),this.length=c,c);for(var d=b,b=b+c;d<b;)c=d++,this.data.setInt8(this.position++,a.b[c])},readInt:function(){var a=this.data.getInt32(this.position,this.littleEndian);
this.position+=4;return a},readMultiByte:function(a){return this.readUTFBytes(a)},readShort:function(){var a=this.data.getInt16(this.position,this.littleEndian);this.position+=2;return a},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUnsignedInt:function(){var a=this.data.getUint32(this.position,this.littleEndian);this.position+=4;return a},readUnsignedShort:function(){var a=this.data.getUint16(this.position,this.littleEndian);this.position+=2;return a},readUTF:function(){var a=
this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){for(var b="",a=this.position+a;this.position<a;){var c=this.data,d=c.getUint8(this.position++);if(128>d){if(0==d)break;b+=String.fromCharCode(d)}else if(224>d)b+=String.fromCharCode((d&63)<<6|c.getUint8(this.position++)&127);else if(240>d)var g=c.getUint8(this.position++),b=b+String.fromCharCode((d&31)<<12|(g&127)<<6|c.getUint8(this.position++)&127);else var g=c.getUint8(this.position++),i=c.getUint8(this.position++),b=
b+String.fromCharCode((d&15)<<18|(g&127)<<12|i<<6&127|c.getUint8(this.position++)&127)}return b},toString:function(){var a=this.position;this.position=0;var b=this.readUTFBytes(this.length);this.position=a;return b},writeBoolean:function(a){this.writeByte(a?1:0)},writeByte:function(a){var b=this.position+1;this.length<b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setInt8(this.position,
a);this.position+=1},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);if(0>b||0>c)throw new e.errors.IOError("Write error - Out of bounds");0==c&&(c=a.length);var d=this.position+c;this.length<d&&(this.allocated<d?this.___resizeBuffer(this.allocated=C["int"](Math.max(d,2*this.allocated))):this.allocated>d&&this.___resizeBuffer(this.allocated=d),this.length=d,d);this.byteView.set(a.byteView.subarray(b,b+c),this.position);this.position+=c},writeDouble:function(a){var b=this.position+8;this.length<
b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setFloat64(this.position,a,this.littleEndian);this.position+=8},writeFloat:function(a){var b=this.position+4;this.length<b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setFloat32(this.position,
a,this.littleEndian);this.position+=4},writeInt:function(a){var b=this.position+4;this.length<b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setInt32(this.position,a,this.littleEndian);this.position+=4},writeShort:function(a){var b=this.position+2;this.length<b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>
b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setInt16(this.position,a,this.littleEndian);this.position+=2},writeUnsignedInt:function(a){var b=this.position+4;this.length<b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setUint32(this.position,a,this.littleEndian);this.position+=4},writeUnsignedShort:function(a){var b=this.position+2;this.length<
b&&(this.allocated<b?this.___resizeBuffer(this.allocated=C["int"](Math.max(b,2*this.allocated))):this.allocated>b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setUint16(this.position,a,this.littleEndian);this.position+=2},writeUTF:function(a){this.writeUnsignedShort(this._getUTFBytesCount(a));this.writeUTFBytes(a)},writeUTFBytes:function(a){for(var b=0,c=a.length;b<c;){var d=b++,d=a.charCodeAt(d);127>=d?this.writeByte(d):(2047>=d?this.writeByte(192|d>>6):(65535>=d?this.writeByte(224|
d>>12):(this.writeByte(240|d>>18),this.writeByte(128|d>>12&63)),this.writeByte(128|d>>6&63)),this.writeByte(128|d&63))}},__fromBytes:function(a){this.byteView=new Uint8Array(a.b);this.set_length(this.byteView.length);this.allocated=this.length},__get:function(a){return this.data.getInt8(a)},_getUTFBytesCount:function(a){for(var b=0,c=0,d=a.length;c<d;)var g=c++,g=a.charCodeAt(g),b=127>=g?b+1:2047>=g?b+2:65535>=g?b+3:b+4;return b},___resizeBuffer:function(a){var b=this.byteView,c=new Uint8Array(a);
null!=b&&(b.length<=a?c.set(b):c.set(b.subarray(0,a)));this.byteView=c;this.data=new DataView(c.buffer)},__getBuffer:function(){return this.data.buffer},__set:function(a,b){this.data.setUint8(a,b)},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.littleEndian?"littleEndian":"bigEndian"},set_endian:function(a){this.littleEndian="littleEndian"==a;return a},set_length:function(a){this.allocated<a?this.___resizeBuffer(this.allocated=C["int"](Math.max(a,
2*this.allocated))):this.allocated>a&&this.___resizeBuffer(this.allocated=a);return this.length=a},__class__:e.utils.ByteArray,__properties__:{set_length:"set_length",set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};e.utils.Endian=function(){};l["openfl.utils.Endian"]=e.utils.Endian;e.utils.Endian.__name__=["openfl","utils","Endian"];e.utils.Timer=function(a,b){null==b&&(b=0);e.events.EventDispatcher.call(this);this.running=!1;this.set_delay(a);this.set_repeatCount(b);
this.currentCount=0};l["openfl.utils.Timer"]=e.utils.Timer;e.utils.Timer.__name__=["openfl","utils","Timer"];e.utils.Timer.__super__=e.events.EventDispatcher;e.utils.Timer.prototype=z(e.events.EventDispatcher.prototype,{currentCount:null,delay:null,repeatCount:null,running:null,timerId:null,reset:function(){this.stop();this.currentCount=0},start:function(){this.running||(this.running=!0,this.timerId=window.setInterval(w(this,this.__onInterval),this.delay|0))},stop:function(){null!=this.timerId&&(window.clearInterval(this.timerId),
this.timerId=null);this.running=!1},__onInterval:function(){this.currentCount++;0<this.repeatCount&&this.currentCount>=this.repeatCount?(this.stop(),this.dispatchEvent(new e.events.TimerEvent("timer")),this.dispatchEvent(new e.events.TimerEvent("timerComplete"))):this.dispatchEvent(new e.events.TimerEvent("timer"))},set_delay:function(a){if(a!=this.delay){var b=this.running;this.running&&this.stop();this.delay=a;b&&this.start()}return a},set_repeatCount:function(a){this.running&&(0!=a&&a<=this.currentCount)&&
this.stop();return this.repeatCount=a},__class__:e.utils.Timer,__properties__:{set_repeatCount:"set_repeatCount",set_delay:"set_delay"}});var Ga,M,Ha;Ga=function(a){this.Hide=!0;e.display.Sprite.call(this);D.Boot.__instanceof(a,t.Menu)&&(this.ParentMenu=a);D.Boot.__instanceof(a,t.LevelBuilder)&&(this.ParentLevelBuilder=a);this.AllPanels=new p.ds.StringMap;this.InitBlackFon()};l["panels.BasePanel"]=Ga;Ga.__name__=["panels","BasePanel"];Ga.__super__=e.display.Sprite;Ga.prototype=z(e.display.Sprite.prototype,
{AllPanels:null,BlackFon:null,Hide:null,ParentLevelBuilder:null,ParentMenu:null,InitBlackFon:function(){this.BlackFon=new e.display.Sprite;this.BlackFon.get_graphics().beginFill(0);this.BlackFon.get_graphics().drawRect(0,0,F.scalingF(720),F.scalingF(480));this.BlackFon.set_alpha(0);this.BlackFon.set_y(F.scalingF(-480));this.BlackFon.set_name("Hide");this.addChild(this.BlackFon)},Init:function(a){if(null==this.AllPanels.get(a)){var b=R.createInstance(R.resolveClass("panels."+a),[]);b.ParentBasePanel=
this;b.Create();b.set_name(a);this.addChild(b);this.AllPanels.set(a,b)}},show:function(a){this.AllPanels.get(a).Show()},hide:function(a){this.AllPanels.get(a).Hide()},MouseDown:function(a){for(var b=this.AllPanels.iterator();b.hasNext();)b.next().MouseDown(a)},MouseUp:function(){for(var a=this.AllPanels.iterator();a.hasNext();)a.next().MouseUp()},PauseGame:function(){null!=this.ParentLevelBuilder&&this.ParentLevelBuilder.pauseGame()},ResumeGame:function(){null!=this.ParentLevelBuilder&&this.ParentLevelBuilder.resumeGame()},
Free:function(){for(var a=this.AllPanels.iterator();a.hasNext();){var b=a.next();b.Free();h.alagatar.Tools.clearLayer(b)}this.BlackFon=this.ParentMenu=this.ParentLevelBuilder=this.AllPanels=null},__class__:Ga});M=function(){this.HideY=-240;this.HideX=360;this.ShowY=200;this.ShowX=360;this.ShowFonAlpha=0.7;this.TimeShow=this.TimeHide=this.TimeShowFon=this.TimeHideFon=0.5;this.Active=!1;e.display.Sprite.call(this)};l["panels.BasicPanel"]=M;M.__name__=["panels","BasicPanel"];M.__super__=e.display.Sprite;
M.prototype=z(e.display.Sprite.prototype,{ParentBasePanel:null,Active:null,TimeShow:null,TimeHide:null,TimeShowFon:null,TimeHideFon:null,ShowFonAlpha:null,ShowX:null,ShowY:null,HideX:null,HideY:null,Create:function(){},Show:function(){!1!=this.ParentBasePanel.Hide&&(this.ParentBasePanel.Hide=!1,this.ParentBasePanel.BlackFon.set_y(0),m.Actuate.tween(this.ParentBasePanel.BlackFon,this.TimeShowFon,{alpha:this.ShowFonAlpha}).ease(m.easing.Linear.get_easeNone()))},Hide:function(){!0!=this.ParentBasePanel.Hide&&
(this.ParentBasePanel.Hide=!0,m.Actuate.tween(this.ParentBasePanel.BlackFon,this.TimeHideFon,{alpha:0}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.HideComplete)))},HideComplete:function(){this.ParentBasePanel.BlackFon.set_y(F.scalingF(-480))},MouseDown:function(a){"Hide"==a.get_name()&&!0==this.Active&&this.Hide()},MouseUp:function(){},FromOutside:function(){},Free:function(){this.ParentBasePanel=null},__class__:M});Q=function(){this.list="ScenesList";M.call(this)};l["panels.ClearData"]=
Q;Q.__name__=["panels","ClearData"];Q.__super__=M;Q.prototype=z(M.prototype,{list:null,base:null,textField:null,Create:function(){this.HideX=-120;this.HideY=235;this.ShowX=100;this.ShowY=235;this.set_x(this.HideX);this.set_y(this.HideY);this.Active=!0;this.base=new h.jdtiles.jda.TileContainer(this.ParentBasePanel.ParentMenu.sceneList);this.base.set_x(this.HideX);this.base.set_y(this.HideY);this.ParentBasePanel.ParentMenu.sceneList.addChild(this.base);this.base.addChild(this.ParentBasePanel.ParentMenu.addTSprite("Tutorial"));
this.textField=h.alagatar.Tools.addText(F.getText("clearsaves"),16,6190739);this.textField.set_width(200);this.textField.set_height(100);this.textField.set_x(-85);this.textField.set_y(-65);this.addChild(this.textField);var a;a=new h.Button(this.ParentBasePanel.ParentMenu.sceneList,this.base);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("No");a.EndFunctionVoid=w(this,this.Hide);a.setPosition(90,0);this.addChild(a);a=new h.Button(this.ParentBasePanel.ParentMenu.sceneList,this.base);a.initSetFrame("BtnFonNormal",
"BtnFonActive");a.initScale("Yes");a.EndFunctionVoid=w(this,this.Clear);a.setPosition(30,0);this.addChild(a);this.set_alpha(0);this.base.alpha=0},Show:function(){this.set_alpha(1);this.base.alpha=1;h.sound.SoundManager.getInstance().PlayEffect("ShowConfirmMenu");m.Actuate.tween(this,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.base,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());M.prototype.Show.call(this);this.Active=
!0},Hide:function(){!0!=this.ParentBasePanel.Hide&&(m.Actuate.tween(this,this.TimeHide,{x:this.HideX,y:this.HideY}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.base,this.TimeHide,{x:this.HideX,y:this.HideY}).ease(m.easing.Linear.get_easeNone()),M.prototype.Hide.call(this),this.Active=!1)},HideComplete:function(){M.prototype.HideComplete.call(this);this.set_alpha(0);this.base.alpha=0},Clear:function(){this.ParentBasePanel.ParentMenu.clear();h.alagatar.DataManager.getInstance().clearSaves();
this.Hide()},Free:function(){M.prototype.Free.call(this);this.base=null},__class__:Q});Q=function(){M.call(this)};l["panels.Credits"]=Q;Q.__name__=["panels","Credits"];Q.__super__=M;Q.prototype=z(M.prototype,{base:null,Create:function(){this.HideX=360;this.HideY=-240;this.ShowX=360;this.ShowY=240;this.TimeShow=0.35;this.base=new h.jdtiles.jda.TileContainer(this.ParentBasePanel.ParentMenu.sceneList);this.base.set_x(this.HideX);this.base.set_y(this.HideY);this.ParentBasePanel.ParentMenu.sceneList.addChild(this.base);
this.base.addChild(this.ParentBasePanel.ParentMenu.addTSprite("panelCredits"));var a;a=new h.Button(this.ParentBasePanel.ParentMenu.sceneList,this.base);a.initSetFrame("BtnFonNormalBig","BtnFonActiveBig");a.initScale("No",2);a.EndFunctionVoid=w(this,this.Hide);a.setPosition(177,-137);a.spriteFon.set_scaleX(a.spriteFon.set_scaleY(0.8));this.addChild(a);this.set_alpha(0);this.base.alpha=0},Show:function(){this.set_alpha(1);this.base.alpha=1;m.Actuate.tween(this,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());
m.Actuate.tween(this.base,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());M.prototype.Show.call(this);this.Active=!0},Hide:function(){!0!=this.ParentBasePanel.Hide&&(m.Actuate.tween(this,this.TimeHide,{x:this.HideX,y:this.HideY}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.base,this.TimeHide,{x:this.HideX,y:this.HideY}).ease(m.easing.Linear.get_easeNone()),M.prototype.Hide.call(this),this.Active=!1,this.ParentBasePanel.ParentMenu.setBtnActive(!0))},HideComplete:function(){M.prototype.HideComplete.call(this);
this.set_alpha(0);this.base.alpha=0},Free:function(){M.prototype.Free.call(this);this.base=null},__class__:Q});Q=function(){M.call(this)};l["panels.Lose"]=Q;Q.__name__=["panels","Lose"];Q.__super__=M;Q.prototype=z(M.prototype,{btnLayer:null,Label:null,baseDown:null,baseUp:null,Create:function(){h.sound.SoundManager.getInstance().PlayEffect("fail");this.set_x(this.HideX);this.set_y(this.HideY);this.baseDown=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.baseDown.set_x(this.HideX);
this.baseDown.set_y(this.HideY+10);t.LevelBuilder.getInstance().lbList.addChild(this.baseDown);this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("win2",5,23,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",-95,2,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",103,2,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-95,17,h.jdtiles.jda.AnchorPoint.UC));
this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",103,17,h.jdtiles.jda.AnchorPoint.UC));this.baseUp=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.baseUp.set_x(this.HideX);this.baseUp.set_y(this.HideY);t.LevelBuilder.getInstance().lbList.addChild(this.baseUp);this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("ResultWindow",0,-15));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("lentaVictory",10,-110));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("loseHero"));
this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-95,96,h.jdtiles.jda.AnchorPoint.UC));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",103,96,h.jdtiles.jda.AnchorPoint.UC));var a;this.btnLayer=new e.display.Sprite;this.addChild(this.btnLayer);this.Label=h.alagatar.Tools.addText(F.getText("lose"),30,15987699);this.Label.set_width(220);this.Label.set_x(250);this.Label.set_y(this.HideY-140);this.Label.mouseEnabled=!1;t.LevelBuilder.getInstance().lbList.view.addChild(this.Label);
a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Exit");a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.exitGame));a.setPosition(-73,61);this.btnLayer.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Award");a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.showAward));a.setPosition(5,
61);this.btnLayer.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Restart",2,2);a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.restartGame));a.setPosition(80,61);this.btnLayer.addChild(a);this.ParentBasePanel.BlackFon.set_name("Disable");this.ParentBasePanel.PauseGame();this.Show()},Show:function(){h.sound.SoundManager.getInstance().PlayEffect("lose"+h.alagatar.Tools.randTo(1,2));
m.Actuate.tween(this,this.TimeShow,{y:this.ShowY}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.Complete));m.Actuate.tween(this.Label,this.TimeShow,{y:this.ShowY-140}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.baseDown,this.TimeShow,{y:this.ShowY}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.baseUp,this.TimeShow,{y:this.ShowY}).ease(m.easing.Linear.get_easeNone());M.prototype.Show.call(this)},Complete:function(){m.Actuate.tween(this.baseDown,1,{y:this.ShowY+
105}).ease(m.easing.Bounce.get_easeOut());m.Actuate.tween(this.btnLayer,1,{y:105}).ease(m.easing.Bounce.get_easeOut())},Free:function(){M.prototype.Free.call(this);this.btnLayer=this.Label=this.baseUp=this.baseDown=null},__class__:Q});Q=function(){M.call(this)};l["panels.Pause"]=Q;Q.__name__=["panels","Pause"];Q.__super__=M;Q.prototype=z(M.prototype,{btnPause:null,btnRestart:null,base:null,leftChain:null,rightChain:null,score:null,angleRad:null,scoreField:null,text:null,Create:function(){this.ShowX=
86;this.ShowY=240;this.HideX=-95;this.HideY=240;this.set_x(this.HideX);this.set_y(this.HideY);this.angleRad=h.alagatar.Tools.toRad(60);this.base=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.base.set_x(this.HideX);this.base.set_y(this.HideY);t.LevelBuilder.getInstance().lbList.addChild(this.base);this.base.addChild(t.LevelBuilder.getInstance().addTSprite("PauseMenu",-7,-21));this.base.addChild(t.LevelBuilder.getInstance().addTSprite("podButtonPanel",56,-6));this.leftChain=
new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.leftChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",0,7));this.leftChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",0,33));this.leftChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",0,-3));this.leftChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",0,21));this.leftChain.set_rotationRad(this.angleRad);this.leftChain.set_x(-60);this.leftChain.set_y(110);this.base.addChild(this.leftChain);
this.rightChain=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.rightChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",0,7));this.rightChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",0,33));this.rightChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",0,-3));this.rightChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",0,21));this.rightChain.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",0,47));this.rightChain.set_rotationRad(this.angleRad);
this.rightChain.set_x(40);this.rightChain.set_y(110);this.base.addChild(this.rightChain);this.base.name="base";this.leftChain.name="left";this.rightChain.name="right";this.text=h.alagatar.Tools.addText(F.getText("level")+this.ParentBasePanel.ParentLevelBuilder.currentLevel,24,2759961);this.text.set_width(100);this.text.set_x(this.HideX-55);this.text.set_y(95);t.LevelBuilder.getInstance().lbList.view.addChild(this.text);this.score=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);
this.score.set_x(360);this.score.set_y(-25);t.LevelBuilder.getInstance().lbList.addChild(this.score);this.score.addChild(t.LevelBuilder.getInstance().addTSprite("panelHealthVictory"));this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",-110,-36));this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",110,-36));this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-110,-23));this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",110,-23));
this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-110,-48));this.score.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",110,-48));var a=C["int"](h.alagatar.DataManager.getInstance().getData("score"+this.ParentBasePanel.ParentLevelBuilder.currentLevel));this.scoreField=h.alagatar.Tools.addText(F.getText("score")+a,24,2759961);this.scoreField.set_width(300);this.scoreField.set_height(100);this.scoreField.set_x(210);this.scoreField.set_y(-25);t.LevelBuilder.getInstance().lbList.view.addChild(this.scoreField);
a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.base);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Restart",2,2);a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.restartGame));a.setPosition(-19,-73);this.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.base);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Exit");a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.exitGame));a.setPosition(-19,
-6);this.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.base);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initMusSoun("Music");a.setPosition(-19,62);this.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.base);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Play",4,2);a.EndFunctionVoid=w(this,this.Hide);a.setPosition(57,-7);this.addChild(a);this.set_alpha(0);this.base.alpha=0;this.score.alpha=0},Show:function(){h.sound.SoundManager.getInstance().PlayEffect("pause_show");
this.ParentBasePanel.PauseGame();this.Active=!0;this.set_alpha(1);this.base.alpha=1;this.score.alpha=1;m.Actuate.tween(this.base,this.TimeShow,{x:this.ShowX}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.score,1,{y:50}).ease(m.easing.Bounce.get_easeOut());m.Actuate.tween(this.scoreField,1,{y:40}).ease(m.easing.Bounce.get_easeOut());m.Actuate.tween(this.text,this.TimeShow,{x:this.ShowX-55}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this,this.TimeShow,{x:this.ShowX}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,
this.complete));M.prototype.Show.call(this)},complete:function(){m.Actuate.tween(this.leftChain,2,{rotation:0.01}).ease(m.easing.Elastic.get_easeOut());m.Actuate.tween(this.rightChain,3,{rotation:0.01}).ease(m.easing.Elastic.get_easeOut())},Hide:function(){m.Actuate.tween(this.base,this.TimeHide,{x:this.HideX}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.leftChain,2,{rotationRad:-this.angleRad});m.Actuate.tween(this.rightChain,2,{rotationRad:-this.angleRad});m.Actuate.tween(this.score,
this.TimeHide,{y:-25}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.scoreField,this.TimeHide,{y:-25}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.text,this.TimeHide,{x:this.HideX-55}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this,this.TimeHide,{x:this.HideX}).ease(m.easing.Linear.get_easeNone());M.prototype.Hide.call(this);this.Active=!1},HideComplete:function(){m.Actuate.stop(this.leftChain);m.Actuate.stop(this.rightChain);this.leftChain.set_rotationRad(this.angleRad);
this.rightChain.set_rotationRad(this.angleRad);this.ParentBasePanel.ResumeGame();this.set_alpha(0);this.base.alpha=0;this.score.alpha=0;M.prototype.HideComplete.call(this)},Free:function(){M.prototype.Free.call(this);this.btnRestart=this.btnPause=this.rightChain=this.leftChain=this.base=this.score=this.scoreField=this.text=null},__class__:Q});Q=function(){this.labeloffX=-145;this.ready=!1;M.call(this);this.list=[]};l["panels.ShowAwards"]=Q;Q.__name__=["panels","ShowAwards"];Q.__super__=M;Q.prototype=
z(M.prototype,{list:null,ready:null,base:null,indexIco:null,textField:null,labeloffX:null,Create:function(){t.LevelBuilder.getInstance().panelShowAwards=this;this.HideX=-150;this.HideY=55;this.ShowX=110;this.ShowY=55;this.base=new h.jdtiles.jda.TileSprite(t.LevelBuilder.getInstance().lbList,"awardShow");this.base.set_x(this.HideX);this.base.set_y(this.HideY);this.base.alpha=0;t.LevelBuilder.getInstance().lbList.addChild(this.base);this.textField=h.alagatar.Tools.addText(F.getText("showAward"),20,
16773041);this.textField.set_width(200);this.textField.set_height(100);this.textField.set_x(this.HideX+this.labeloffX);this.textField.set_y(this.HideY-50);this.textField.set_rotation(4.5);t.LevelBuilder.getInstance().lbList.view.addChild(this.textField);h.alagatar.DataManager.getInstance().addEventListener(h.alagatar.DataManager.OwnAchieve,w(this,this.push))},push:function(){0==C.parseFloat(h.alagatar.DataManager.getInstance().getData("showFirstAward"))&&h.alagatar.DataManager.getInstance().saveData("showFirstAward",
1);this.list.push(this.indexIco);this.ready=!0;this.Update()},Update:function(){if(!(!1==this.ready||0==this.list.length)&&0==this.base.alpha)this.ready=!1,t.LevelBuilder.getInstance().lbList.setChildIndex(this.base,t.LevelBuilder.getInstance().lbList.get_numChildren()-1),this.Show()},Show:function(){this.base.alpha=1;h.sound.SoundManager.getInstance().PlayEffect("Achievement");m.Actuate.tween(this.base,this.TimeShow,{x:this.ShowX}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.Complete));
m.Actuate.tween(this.textField,this.TimeShow,{x:this.ShowX+this.labeloffX}).ease(m.easing.Linear.get_easeNone())},Complete:function(){m.Actuate.tween(this,3,{alpha:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.Hide))},Hide:function(){m.Actuate.tween(this.base,this.TimeHide,{x:this.HideX}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.HideComplete));m.Actuate.tween(this.textField,this.TimeHide,{x:this.HideX+this.labeloffX}).ease(m.easing.Linear.get_easeNone())},HideComplete:function(){null!=
this.base&&(this.base.alpha=0,this.list.shift(),this.ready=!0)},Free:function(){M.prototype.Free.call(this);this.textField=null;m.Actuate.stop(this.base,null,!1,!1);h.alagatar.DataManager.getInstance().removeEventListener(h.alagatar.DataManager.OwnAchieve,w(this,this.push));this.base=null;this.list=[];this.list=null},__class__:Q});Ha=function(){this.qsy=87;this.qsx=-74;this.hsy=87;this.hsx=-74;this.closeCounter=0;this.closeCheck=!1;this.pauseTime=50;this.rotationTimer=this.runTimer=0;this.startY=
387;this.startX=218;this.pauseTimer=this.handStep=this.completeMoves=this.tweenCounts=0;this.pause=!1;this.speed=3;this.countHold=0;this.updateThis=this.hold=!1;M.call(this)};l["panels.Tutorial"]=Ha;Ha.__name__=["panels","Tutorial"];Ha.__super__=M;Ha.prototype=z(M.prototype,{hand:null,textField:null,updateThis:null,hold:null,countHold:null,velocity:null,target:null,speed:null,pause:null,pauseTimer:null,handStep:null,completeMoves:null,tweenCounts:null,startX:null,startY:null,rotationTimer:null,helpType:null,
runTimer:null,pauseTime:null,closeCheck:null,closeCounter:null,Create:function(){this.mouseEnabled=this.mouseChildren=!1;this.ShowFonAlpha=0.4;F.getInstance().panelTutorial=this;this.hand=new h.jdtiles.jda.TileSprite(t.LevelBuilder.getInstance().lbList,"hand");t.LevelBuilder.getInstance().lbList.addChild(this.hand);this.hand.set_scaleX(this.hand.set_scaleY(0.6));this.hand.set_offsetX(-5);this.hand.set_offsetY(-40);this.hand.alpha=0;this.textField=h.alagatar.Tools.addText("",30,15987699);this.textField.set_width(720);
this.textField.set_height(200);this.textField.set_x(0);this.textField.set_y(10);this.textField.set_alpha(0);this.addChild(this.textField)},hsx:null,hsy:null,qsx:null,qsy:null,showInfo:function(a){this.ParentBasePanel.PauseGame();this.Show();this.updateThis=this.closeCheck=!0;this.helpType=a;this.hand.alpha=1;this.hand.set_x(this.startX+this.hsx);this.hand.set_y(this.startY+this.hsy);this.setMoveParams(this.qsx,this.qsy);this.textField.set_alpha(1);this.textField.set_text(F.getText("tutorial"+a))},
MouseDown:function(a){!1!=this.Active&&(3==this.helpType?this.hold=!0:((null==a||"Hide"==a.get_name())&&this.Hide(),t.LevelBuilder.getInstance().playTouchAnim(this.get_mouseX(),this.get_mouseY())))},MouseUp:function(){!1!=this.Active&&3==this.helpType&&(this.hold=!1,this.countHold=0)},Hide:function(){M.prototype.Hide.call(this);this.hand.alpha=0;this.updateThis=!1;this.textField.set_alpha(0);this.Active=!1;t.LevelBuilder.getInstance().tutorialOpen=!1},HideComplete:function(){3==this.helpType?(F.getInstance().canRun=
!0,y.Game.getInstance().hero.speedUp=!0,h.alagatar.DataManager.getInstance().saveData("canRun",!0)):y.Game.getInstance().hero.mouseUp();this.ParentBasePanel.ResumeGame();M.prototype.HideComplete.call(this)},update:function(){!0==this.closeCheck&&(this.closeCounter++,30==this.closeCounter&&(this.Active=!0,this.closeCheck=!1,this.closeCounter=0));!0==this.hold&&(this.countHold++,10==this.countHold&&(this.countHold=0,this.hold=!1,this.Hide()));if(!0==this.pause)this.pauseTimer++,this.pauseTimer>this.pauseTime&&
(this.pauseTimer=0,this.pause=!1,this.setMoveParams(this.qsx,this.qsy),this.handStep=0);else{if(0==this.handStep){var a=this.hand;a.set_x(a.get_x()+this.velocity.x);a=this.hand;a.set_y(a.get_y()+this.velocity.y);5>h.alagatar.Tools.calcDistOfDots(this.hand.get_x(),this.hand.get_y(),this.target.x,this.target.y)&&(this.hand.set_x(this.target.x),this.hand.set_y(this.target.y),this.handStep=1,this.hand.set_rotation(0),this.completeMoves++,2==this.completeMoves&&(this.pause=!0,this.completeMoves=0))}1==
this.handStep&&(17>this.rotationTimer?(this.rotationTimer++,a=this.hand,a.set_rotation(a.get_rotation()+1)):3==this.helpType?this.handMoveRun():this.handMoveStand())}},handMoveWalk:function(){this.rotationTimer=0;this.setMoveParams(this.hsx,this.hsy);this.handStep=0;t.LevelBuilder.getInstance().playTouchAnim(this.startX-37,this.startY+55)},handMoveRun:function(){0==this.runTimer&&t.LevelBuilder.getInstance().playTouchAnim(this.startX-37,this.startY+55);this.runTimer++;90<this.runTimer&&(t.LevelBuilder.getInstance().touch.play(),
this.runTimer=this.rotationTimer=0,this.setMoveParams(this.hsx,this.hsy),this.handStep=0)},handMoveStand:function(){this.handStep=this.rotationTimer=0;this.setMoveParams(this.hsx,this.hsy);t.LevelBuilder.getInstance().playTouchAnim(this.startX-37,this.startY+55)},setMoveParams:function(a,b){this.target=new e.geom.Point(this.startX+a,this.startY+b);this.velocity=new e.geom.Point(this.target.x-this.hand.get_x(),this.target.y-this.hand.get_y());this.velocity.normalize(this.speed)},Free:function(){M.prototype.Free.call(this);
this.textField=this.hand=null},__class__:Ha});Q=function(){this.moneyCost=100;this.healthCost=1E3;this.starsCollected=0;this.time=2;this.index=1;this.targetScore=0;M.call(this)};l["panels.Win"]=Q;Q.__name__=["panels","Win"];Q.__super__=M;Q.prototype=z(M.prototype,{btnLayer:null,labelLayer:null,Label:null,targetScore:null,starShkala:null,baseDown:null,baseUp:null,index:null,time:null,persentMoney:null,starsCollected:null,healthCost:null,moneyCost:null,anim:null,perStarsColl:null,Create:function(){this.ParentBasePanel.BlackFon.set_name("Disable");
this.ParentBasePanel.PauseGame();this.set_x(this.HideX);this.set_y(this.HideY);this.moneyCost*=y.Game.getInstance().collectedMoney;this.healthCost*=y.Game.getInstance().hero.health;this.targetScore=this.moneyCost+this.healthCost;this.persentMoney=h.alagatar.Tools.toPercent(y.Game.getInstance().collectedMoney,y.Game.getInstance().maxMoney);this.baseDown=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.baseDown.set_x(this.HideX);this.baseDown.set_y(this.HideY+10);t.LevelBuilder.getInstance().lbList.addChild(this.baseDown);
this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("win2",5,23,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",-95,2,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain2",103,2,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-95,17,h.jdtiles.jda.AnchorPoint.UC));this.baseDown.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",
103,17,h.jdtiles.jda.AnchorPoint.UC));this.baseUp=new h.jdtiles.jda.TileContainer(t.LevelBuilder.getInstance().lbList);this.baseUp.set_x(this.HideX);this.baseUp.set_y(this.HideY);t.LevelBuilder.getInstance().lbList.addChild(this.baseUp);this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("ResultWindow",0,-15));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("panelHealthVictory",2,85));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("moneyVictory",-55,-3,null,0.7,
0.7));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("fullHealthVictory",-55,37));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("lentaVictory",10,-110));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",-95,96,h.jdtiles.jda.AnchorPoint.UC));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("chain1",103,96,h.jdtiles.jda.AnchorPoint.UC));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("podShkala",10,-55));var a;this.btnLayer=new e.display.Sprite;
this.addChild(this.btnLayer);this.labelLayer=new e.display.Sprite;this.labelLayer.set_x(this.HideX);this.labelLayer.set_y(this.HideY-10);t.LevelBuilder.getInstance().lbList.view.addChild(this.labelLayer);this.starShkala=new h.jdtiles.jda.TileSprite(t.LevelBuilder.getInstance().lbList,"starShkala");this.starShkala.set_x(-85);this.starShkala.set_y(-54);this.starShkala.set_scaleX(0.01);this.baseUp.addChild(this.starShkala);this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("moneyVictory",-90,
-55));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("podShkala3",-37,-33));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("podShkala3",18,-33));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("podShkala3",73,-33));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starEmpty",-37,-55));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starEmpty",18,-55));this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starEmpty",73,-55));
this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("podShkala2",105,-55));this.anim=new h.jdtiles.jda.TileClip(t.LevelBuilder.getInstance().lbList,"showStar");this.anim.alpha=0;this.anim.set_y(-57);this.anim.loop=!1;this.anim.onComplete=w(this,this.hideAnim);this.baseUp.addChild(this.anim);this.Label=h.alagatar.Tools.addText(F.getText("levelcomplete"),30,15987699);this.Label.set_width(220);this.Label.set_x(-105);this.Label.set_y(-140);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);
this.Label=h.alagatar.Tools.addText(""+y.Game.getInstance().maxMoney,20,16775923);this.Label.set_width(100);this.Label.set_x(-140);this.Label.set_y(-35);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);this.Label=h.alagatar.Tools.addText("x"+y.Game.getInstance().collectedMoney,20,3022877);this.Label.set_width(100);this.Label.set_x(-72);this.Label.set_y(-6);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);this.Label=h.alagatar.Tools.addText(""+this.moneyCost,27,3022877);
this.Label.set_width(100);this.Label.set_x(0);this.Label.set_y(-11);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);this.Label=h.alagatar.Tools.addText("x"+y.Game.getInstance().hero.health,20,3022877);this.Label.set_width(100);this.Label.set_x(-72);this.Label.set_y(34);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);this.Label=h.alagatar.Tools.addText(""+this.healthCost,27,3022877);this.Label.set_width(100);this.Label.set_x(0);this.Label.set_y(29);this.Label.mouseEnabled=
!1;this.labelLayer.addChild(this.Label);this.Label=h.alagatar.Tools.addText(F.getText("score")+"0",30,16771031);this.Label.set_width(220);this.Label.set_x(-110);this.Label.set_y(70);this.Label.mouseEnabled=!1;this.labelLayer.addChild(this.Label);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Exit");a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.exitGame));a.setPosition(-73,61);this.btnLayer.addChild(a);
a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Restart",2,2);a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.restartGame));a.setPosition(5,61);this.btnLayer.addChild(a);a=new h.Button(this.ParentBasePanel.ParentLevelBuilder.lbList,this.baseDown);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Next",2);a.EndFunctionVoid=(V=this.ParentBasePanel.ParentLevelBuilder,w(V,V.nextLevel));
a.setPosition(80,61);this.btnLayer.addChild(a);50<=this.persentMoney&&(this.starsCollected=1);75<=this.persentMoney&&(this.starsCollected=2);100==this.persentMoney&&(this.starsCollected=3);a=C["int"](this.starsCollected-C["int"](h.alagatar.DataManager.getInstance().getData("stars"+this.ParentBasePanel.ParentLevelBuilder.currentLevel)));0>a&&(a=0);for(var b=0;b<a;)b++,h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.allStars);7==t.LevelBuilder.getInstance().currentLevel&&y.Game.getInstance().maxHealth==
y.Game.getInstance().hero.health?h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.level7):26==t.LevelBuilder.getInstance().currentLevel&&y.Game.getInstance().maxHealth==y.Game.getInstance().hero.health&&h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.level26);h.alagatar.DataManager.getInstance().saveBigger("score"+this.ParentBasePanel.ParentLevelBuilder.currentLevel,this.targetScore);h.alagatar.DataManager.getInstance().saveBigger("stars"+this.ParentBasePanel.ParentLevelBuilder.currentLevel,
this.starsCollected);h.alagatar.DataManager.getInstance().saveBigger("Levels",this.ParentBasePanel.ParentLevelBuilder.currentLevel+1);a=F.getInstance().currentWorld;b=t.LevelBuilder.getInstance().currentLevel;0==C["int"](h.alagatar.DataManager.getInstance().getData("healthWorld"+a))&&(0==a&&9==b?(h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.newHealth4),h.alagatar.DataManager.getInstance().saveBigger("Health",y.Game.getInstance().maxHealth+1),h.alagatar.DataManager.getInstance().saveData("healthWorld"+
a,1)):1==a&&18==b?(h.alagatar.DataManager.getInstance().saveAchives(h.alagatar.DataManager.newHealth5),h.alagatar.DataManager.getInstance().saveBigger("Health",y.Game.getInstance().maxHealth+1),h.alagatar.DataManager.getInstance().saveData("healthWorld"+a,1)):2==a&&27==b&&(h.alagatar.DataManager.getInstance().saveBigger("Health",y.Game.getInstance().maxHealth+1),h.alagatar.DataManager.getInstance().saveData("healthWorld"+a,1)));h.sound.SoundManager.getInstance().PlayEffect("victory"+h.alagatar.Tools.randTo(1,
2));this.perStarsColl=0.0086*this.persentMoney;0==this.starsCollected?this.perStarsColl=h.alagatar.Tools.clamp(this.perStarsColl,0.01,0.26):1==this.starsCollected?this.perStarsColl=h.alagatar.Tools.clamp(this.perStarsColl,0.01,0.55):2==this.starsCollected?this.perStarsColl=h.alagatar.Tools.clamp(this.perStarsColl,0.01,0.85):3==this.starsCollected&&(this.perStarsColl=1.1);this.Show()},Show:function(){m.Actuate.tween(this,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,
this.Complete));m.Actuate.tween(this.labelLayer,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.baseDown,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.baseUp,this.TimeShow,{x:this.ShowX,y:this.ShowY}).ease(m.easing.Linear.get_easeNone());M.prototype.Show.call(this)},Complete:function(){m.Actuate.update(this,this.time,[0],[this.targetScore]).ease(m.easing.Linear.get_easeNone());m.Actuate.tween(this.baseDown,
1,{y:this.ShowY+105}).ease(m.easing.Bounce.get_easeOut());m.Actuate.tween(this.btnLayer,1,{y:105}).ease(m.easing.Bounce.get_easeOut())},apply:function(a,b){var c=Math.round(b);this.Label.set_text(F.getText("score")+c);c=h.alagatar.Tools.toPercent(c,this.targetScore);c=h.alagatar.Tools.fromPercent(c,this.perStarsColl);this.starShkala.set_x(-(100-100*c));this.starShkala.set_scaleX(c);1==this.index&&1<=this.starsCollected&&0.28<=c?(h.sound.SoundManager.getInstance().PlayEffect("star1"),this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starFull",
-37,-57,null,0.7,0.7)),this.baseUp.setChildIndex(this.anim,this.baseUp.get_numChildren()-1),this.anim.alpha=1,this.anim.set_x(-37),this.anim.play(),this.index=2):2==this.index&&2<=this.starsCollected&&0.57<=c?(h.sound.SoundManager.getInstance().PlayEffect("star2"),this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starFull",18,-57,null,0.7,0.7)),this.baseUp.setChildIndex(this.anim,this.baseUp.get_numChildren()-1),this.anim.alpha=1,this.anim.set_x(18),this.anim.play(),this.index=3):3==this.index&&
(3<=this.starsCollected&&0.86<=c)&&(h.sound.SoundManager.getInstance().PlayEffect("star3"),this.baseUp.addChild(t.LevelBuilder.getInstance().addTSprite("starFull",73,-57,null,0.7,0.7)),this.baseUp.setChildIndex(this.anim,this.baseUp.get_numChildren()-1),this.anim.alpha=1,this.anim.set_x(73),this.anim.play(),this.index=4)},hideAnim:function(){this.anim.alpha=0},Free:function(){M.prototype.Free.call(this);this.baseDown=this.starShkala=this.Label=this.btnLayer=this.labelLayer=this.anim=null},__class__:Q});
var t={BasicScene:function(){e.display.Sprite.call(this)}};l["scenes.BasicScene"]=t.BasicScene;t.BasicScene.__name__=["scenes","BasicScene"];t.BasicScene.__super__=e.display.Sprite;t.BasicScene.prototype=z(e.display.Sprite.prototype,{init:function(){},MouseDown:function(){},MouseUp:function(){},keyDown:function(){},keyUp:function(){},start:function(){},update:function(){},free:function(){},__class__:t.BasicScene});t.Awards=function(a){null==a&&(a=0);this.currentLevel=0;this.list="ScenesList";t.BasicScene.call(this);
this.currentLevel=a|0};l["scenes.Awards"]=t.Awards;t.Awards.__name__=["scenes","Awards"];t.Awards.__super__=t.BasicScene;t.Awards.prototype=z(t.BasicScene.prototype,{list:null,sceneList:null,renderList:null,currentLevel:null,init:function(){var a=new e.display.Bitmap(h.jdtiles.Tile.getInstance().getBitmapData("AwardMenu"));this.addChild(a);this.renderList=h.jdtiles.Tile.getInstance().getTileLayer("ScenesList2","ScenesList2");this.addChild(this.renderList.view);1==G.currentVersion?(a=new h.jdtiles.jda.TileClip(this.renderList,
"fire"),a.play(),a.set_x(50),a.set_y(400),this.renderList.addChild(a),a=new h.jdtiles.jda.TileClip(this.renderList,"fire"),a.play(),a.set_x(670),a.set_y(400),this.renderList.addChild(a),this.renderList.addChild(this.addTSprite(this.renderList,"torch",50,500)),this.renderList.addChild(this.addTSprite(this.renderList,"torch",670,500))):(a=new h.jdtiles.jda.TileClip(this.renderList,"fire"),a.play(),a.set_x(50),a.set_y(400),this.renderList.addChild(a),a=new h.jdtiles.jda.TileClip(this.renderList,"fire"),
a.play(),a.set_x(610),a.set_y(420),a.set_scaleX(a.set_scaleY(0.6)),this.renderList.addChild(a),a=new h.jdtiles.jda.TileClip(this.renderList,"fire"),a.play(),a.set_x(715),a.set_y(410),a.set_scaleX(a.set_scaleY(0.8)),this.renderList.addChild(a),this.renderList.addChild(this.addTSprite(this.renderList,"torch",46,460)),this.renderList.addChild(this.addTSprite(this.renderList,"torch",610,455,null,0.8,0.8)),this.renderList.addChild(this.addTSprite(this.renderList,"torch",715,455,null,0.8,0.8)));this.sceneList=
h.jdtiles.Tile.getInstance().getTileLayer(this.list,this.list);this.addChild(this.sceneList.view);this.sceneList.addChild(this.addTSprite(this.sceneList,"panelBtnLevelSelect",-2,240,h.jdtiles.jda.AnchorPoint.CL));this.sceneList.addChild(this.addTSprite(this.sceneList,"podButtonPanel",47,216));this.sceneList.addChild(this.addTSprite(this.sceneList,"chain2",30,365,h.jdtiles.jda.AnchorPoint.UC));this.sceneList.addChild(this.addTSprite(this.sceneList,"chain1",30,355,h.jdtiles.jda.AnchorPoint.UC));this.sceneList.addChild(this.addTSprite(this.sceneList,
"chain1",30,379,h.jdtiles.jda.AnchorPoint.UC));a=new h.Button(this.sceneList);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Exit");a.EndFunction=w(this,this.exit);a.setPosition(48,215);this.addChild(a);this.create();this.sceneList.render()},addTSprite:function(a,b,c,d,g,i,e,f){null==f&&(f=0);null==e&&(e=1);null==i&&(i=1);null==d&&(d=0);null==c&&(c=0);a=new h.jdtiles.jda.TileSprite(a,b);a.set_x(c);a.set_y(d);a.set_scaleX(i);a.set_scaleY(e);a.set_rotation(f);null!=g&&a.set_anchor(g);return a},
create:function(){for(var a,b=100,c=240,d=0;10>d;){var g=d++;0<g&&0!=g%2&&(c+=251);0<g&&0==g%2&&(c=240,b+=85);a=h.alagatar.Tools.addText(F.getText("award"+g),14,16777215);a.set_width(200);a.set_height(100);a.set_x(c-135);0==g||1==g||6==g||7==g||8==g?a.set_y(b-25):a.set_y(b-20);this.addChild(a);if(!0==h.alagatar.DataManager.getInstance().getData("Award"+g)){a=new h.jdtiles.jda.TileClip(this.renderList,"AwardComplete");a.set_x(c+70);a.set_y(b-7);this.renderList.addChild(a);var i=h.alagatar.DataManager.getInstance().getData("AwardOpened"+
g);!1==i||null==i?(h.alagatar.DataManager.getInstance().saveData("AwardOpened"+g,!0),a.loop=!1,a.play()):a.set_currentFrame(a.get_totalFrames()-1)}}},exit:function(){0!=this.currentLevel?F.getInstance().showScene(S.LevelBuilder,this.currentLevel):F.getInstance().showScene(S.Levels)},start:function(){},free:function(){this.renderList=this.sceneList=null},__class__:t.Awards});t.Comix=function(){this.timeShow=1;this.countShow=0;this.list="ScenesList2";t.BasicScene.call(this)};l["scenes.Comix"]=t.Comix;
t.Comix.__name__=["scenes","Comix"];t.Comix.__super__=t.BasicScene;t.Comix.prototype=z(t.BasicScene.prototype,{list:null,sceneList:null,btn:null,comix1:null,comix2:null,comix3:null,comix4:null,comix5:null,comix6:null,countShow:null,timeShow:null,init:function(){this.get_graphics().beginFill(0,1);this.get_graphics().drawRect(0,0,720,480);this.get_graphics().endFill();this.sceneList=h.jdtiles.Tile.getInstance().getTileLayer(this.list,this.list);this.addChild(this.sceneList.view);this.comix1=new h.jdtiles.jda.TileSprite(this.sceneList,
"comix1");this.comix1.set_x(110);this.comix1.set_y(150);this.sceneList.addChild(this.comix1);this.comix2=new h.jdtiles.jda.TileSprite(this.sceneList,"comix2");this.comix2.set_x(358);this.comix2.set_y(1==G.currentVersion?155:150);this.sceneList.addChild(this.comix2);this.comix3=new h.jdtiles.jda.TileSprite(this.sceneList,"comix3");this.comix3.set_x(605);this.comix3.set_y(1==G.currentVersion?122:108);this.sceneList.addChild(this.comix3);this.comix4=new h.jdtiles.jda.TileSprite(this.sceneList,"comix4");
this.comix4.set_x(1==G.currentVersion?194:198);this.comix4.set_y(374);this.sceneList.addChild(this.comix4);this.comix5=new h.jdtiles.jda.TileSprite(this.sceneList,"comix5");this.comix5.set_x(1==G.currentVersion?514:527);this.comix5.set_y(1==G.currentVersion?375:374);this.sceneList.addChild(this.comix5);this.comix6=new h.jdtiles.jda.TileSprite(this.sceneList,"comix6");this.comix6.set_x(1==G.currentVersion?603:610);this.comix6.set_y(1==G.currentVersion?250:245);this.sceneList.addChild(this.comix6);
this.btn=new h.Button(this.sceneList);this.btn.initSetFrame("BtnFonNormal","BtnFonActive");this.btn.initScale("PlaySmall");this.btn.EndFunction=w(this,this.exit);1==G.currentVersion?this.btn.setPosition(668,250):this.btn.setPosition(670,245);var a=this.btn.spriteIcon;a.set_x(a.get_x()+4);a=this.btn.spriteIcon;a.set_y(a.get_y()+2);this.addChild(this.btn)},exit:function(){F.getInstance().canRun=!1;h.alagatar.DataManager.getInstance().saveData("played",!0);h.alagatar.DataManager.getInstance().saveData("canRun",
!1);h.alagatar.DataManager.getInstance().saveData("showFirstAward",0);h.alagatar.DataManager.getInstance().saveBigger("Levels",1);h.alagatar.DataManager.getInstance().saveBigger("Worlds",1);h.alagatar.DataManager.getInstance().saveBigger("Health",3);F.getInstance().showScene(S.LevelBuilder,1)},start:function(){this.pulseButtonUp()},pulseButtonUp:function(){null!=this.btn&&(m.Actuate.tween(this.btn.spriteFon,0.5,{scaleX:1.5,scaleY:1.5}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btn.spriteIcon,
0.5,{scaleX:1.5,scaleY:1.5}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.pulseButtonDown)))},pulseButtonDown:function(){null!=this.btn&&(m.Actuate.tween(this.btn.spriteFon,0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btn.spriteIcon,0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.pulseButtonUp)))},free:function(){m.Actuate.stop(this.btn.spriteFon,null,!1,!1);m.Actuate.stop(this.btn.spriteIcon,null,!1,!1);this.comix6=
this.comix5=this.comix4=this.comix3=this.comix2=this.comix1=this.btn=this.sceneList=null},__class__:t.Comix});t.Final=function(){this.list="ScenesList2";t.BasicScene.call(this)};l["scenes.Final"]=t.Final;t.Final.__name__=["scenes","Final"];t.Final.__super__=t.BasicScene;t.Final.prototype=z(t.BasicScene.prototype,{list:null,sceneList:null,btn:null,init:function(){this.get_graphics().beginFill(0,1);this.get_graphics().drawRect(0,0,720,480);this.get_graphics().endFill();h.sound.SoundManager.getInstance().PlayEffect("victory_all_game");
this.sceneList=h.jdtiles.Tile.getInstance().getTileLayer(this.list,this.list);this.addChild(this.sceneList.view);var a;a=new h.jdtiles.jda.TileSprite(this.sceneList,"final1");a.set_x(1==G.currentVersion?220:265);a.set_y(1==G.currentVersion?135:115);this.sceneList.addChild(a);a=new h.jdtiles.jda.TileSprite(this.sceneList,"final2");a.set_x(1==G.currentVersion?555:590);a.set_y(1==G.currentVersion?135:115);this.sceneList.addChild(a);a=new h.jdtiles.jda.TileSprite(this.sceneList,"final3");a.set_x(1==G.currentVersion?
248:175);a.set_y(1==G.currentVersion?355:330);this.sceneList.addChild(a);a=new h.jdtiles.jda.TileSprite(this.sceneList,"final4");a.set_x(1==G.currentVersion?578:495);a.set_y(1==G.currentVersion?355:330);this.sceneList.addChild(a);this.btn=new h.Button(this.sceneList);this.btn.initSetFrame("BtnFonNormal","BtnFonActive");this.btn.initScale("Play",4,2);this.btn.EndFunction=w(this,this.exit);this.btn.setPosition(685,1==G.currentVersion?240:220);this.addChild(this.btn);this.sceneList.render()},exit:function(){F.getInstance().showScene(S.Levels)},
start:function(){this.pulseButtonUp()},pulseButtonUp:function(){null!=this.btn&&(m.Actuate.tween(this.btn.spriteFon,0.5,{scaleX:1.5,scaleY:1.5}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btn.spriteIcon,0.5,{scaleX:1.5,scaleY:1.5}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.pulseButtonDown)))},pulseButtonDown:function(){null!=this.btn&&(m.Actuate.tween(this.btn.spriteFon,0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btn.spriteIcon,
0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.pulseButtonUp)))},free:function(){m.Actuate.stop(this.btn.spriteFon,null,!1,!1);m.Actuate.stop(this.btn.spriteIcon,null,!1,!1);this.btn=this.sceneList=null},__class__:t.Final});t.LevelBuilder=function(a){null==a&&(a=0);this.resultWin="";this.tutorialOpen=!1;if(null!=t.LevelBuilder.instance)throw"Error: Allready inited. Use getInstance() instead;";t.BasicScene.call(this);t.LevelBuilder.instance=this;this.currentLevel=
a|0;a=Math.floor(this.currentLevel/9);0==this.currentLevel%9&&(a-=1);F.getInstance().currentWorld=a;if(1==G.currentVersion&&2<=this.currentLevel||2==G.currentVersion&&3<=this.currentLevel)F.getInstance().canRun=!0};l["scenes.LevelBuilder"]=t.LevelBuilder;t.LevelBuilder.__name__=["scenes","LevelBuilder"];t.LevelBuilder.instance=null;t.LevelBuilder.getInstance=function(){return null==t.LevelBuilder.instance?new t.LevelBuilder:t.LevelBuilder.instance};t.LevelBuilder.__super__=t.BasicScene;t.LevelBuilder.prototype=
z(t.BasicScene.prototype,{currentLevel:null,PanelBase:null,tutorialOpen:null,btnPause:null,btnClick:null,tutorial:null,lbList:null,heroDamage:null,game:null,graphicSideBorder:null,touch:null,moneyField:null,health:null,hideInPause:null,panelShowAwards:null,resultWin:null,init:function(){h.alagatar.DataManager.getInstance().saveData("lastLevelPlayed",this.currentLevel);e.external.ExternalInterface.call("HTML5API_levelStarted");G.rotateEvent=w(this,this.rotateEvent);this.health=[];this.hideInPause=
[];this.game=new y.Game;this.addChild(this.game);this.lbList=h.jdtiles.Tile.getInstance().getTileLayer("lbList","BitmapList");this.initSideBorder();this.createHeroDamage();this.game.init();this.initHealth();this.initMenu()},hideAnim:function(a){a.alpha=0},initSideBorder:function(){this.graphicSideBorder=new h.jdtiles.jda.TileContainer(this.lbList);this.lbList.addChild(this.graphicSideBorder);for(var a=-2,b=0;6>b;)b++,this.graphicSideBorder.addChild(this.addTSprite("sideBorder",-2,a,h.jdtiles.jda.AnchorPoint.UL)),
this.graphicSideBorder.addChild(this.addTSprite("sideBorder",721,a,h.jdtiles.jda.AnchorPoint.UR,-1)),a+=160},createHeroDamage:function(){this.heroDamage=new h.jdtiles.jda.TileContainer(this.lbList);this.lbList.addChild(this.heroDamage);this.heroDamage.addChild(this.addTSprite("HeroDamage",0,0,h.jdtiles.jda.AnchorPoint.UL));this.heroDamage.addChild(this.addTSprite("HeroDamage",720,0,h.jdtiles.jda.AnchorPoint.UR,-1));this.heroDamage.addChild(this.addTSprite("HeroDamage",720,480,h.jdtiles.jda.AnchorPoint.DR,
-1,-1));this.heroDamage.addChild(this.addTSprite("HeroDamage",0,480,h.jdtiles.jda.AnchorPoint.DL,1,-1));this.heroDamage.alpha=0},initHealth:function(){for(var a=115,b,c=0,d=this.game.maxHealth;c<d;)c++,b=this.addTSprite("HealthFull",a,20),this.lbList.addChild(b),this.health.push(b),a+=25},addTSprite:function(a,b,c,d,g,i){null==i&&(i=1);null==g&&(g=1);null==c&&(c=0);null==b&&(b=0);a=new h.jdtiles.jda.TileSprite(this.lbList,a);a.set_x(b);a.set_y(c);a.set_scaleX(g);a.set_scaleY(i);null!=d&&a.set_anchor(d);
return a},start:function(){F.getInstance().active=!0;h.jdtiles.Tile.getInstance().update()},initMenu:function(){this.touch=new h.jdtiles.jda.TileClip(this.lbList,"touch");this.touch.loop=!1;this.touch.alpha=0;this.touch.onComplete=w(this,this.hideAnim);this.lbList.addChild(this.touch);var a=new h.jdtiles.jda.TileSprite(this.lbList,"PanelMoney");a.set_x(570);a.set_y(20);this.lbList.addChild(a);this.hideInPause.push(a);this.PanelBase=new Ga(this);this.PanelBase.Init("Pause");this.PanelBase.Init("ShowAwards");
this.addChild(this.PanelBase);this.btnPause=new h.Button(this.lbList);this.btnPause.initSetFrame("pauseNormal","pauseActive");this.btnPause.set_name("Pause");this.btnPause.EndFunctionVoid=w(this,this.PauseResume);this.btnPause.setPosition(115,445);this.addChild(this.btnPause);this.btnClick=new h.Button(this.lbList);this.btnClick.initSetFrame("btnClickNormal","btnClickActive");this.btnClick.setPosition(180,445);this.btnClick.spriteFon.name="ClickBtn";this.btnClick.set_name("Hide");this.addChild(this.btnClick);
this.hideInPause.push(this.btnPause.spriteFon);this.hideInPause.push(this.btnClick.spriteFon);this.addChild(this.lbList.view);this.moneyField=h.alagatar.Tools.addText("0/"+this.game.maxMoney,17);this.moneyField.set_width(100);this.moneyField.set_x(530);this.moneyField.set_y(11);this.addChild(this.moneyField)},showTutorial:function(a){this.tutorialOpen=!0;this.resultWin="Tutorial";this.PanelBase.Init("Tutorial");D.Boot.__cast(this.PanelBase.AllPanels.get("Tutorial"),Ha).showInfo(a)},showDamage:function(a){null==
a&&(a=!1);if(!0==a)this.health[this.game.hero.health].set_tile("HealthEmpty"),m.Actuate.tween(this.heroDamage,0.3,{alpha:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.showDamage));else m.Actuate.tween(this.heroDamage,0.3,{alpha:0.01}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.checkLose))},checkLose:function(){0==this.game.hero.health&&this.CompleteFail(!1)},update:function(){this.panelShowAwards.Update();this.game.update()},moveSideBorders:function(a){this.graphicSideBorder.set_y(a/
2.4)},CompleteFail:function(a){null==a&&(a=!0);F.getInstance().active=!1;F.getInstance().active=!1;!0==a?(e.external.ExternalInterface.call("HTML5API_levelEnded"),this.resultWin="Win",this.PanelBase.Init("Win")):(this.resultWin="Lose",this.PanelBase.Init("Lose"))},MouseDown:function(a){a=a.target;this.PanelBase.MouseDown(a);!1==F.getInstance().active||"Pause"==a.get_name()||(this.playTouchAnim(this.get_mouseX(),this.get_mouseY()),this.game.mouseDown())},playTouchAnim:function(a,b){this.touch.gotoAndStop(0);
this.touch.alpha=1;this.touch.set_x(a);this.touch.set_y(b);this.touch.play()},MouseUp:function(a){a=a.target;this.PanelBase.MouseUp();!1==F.getInstance().active||"Pause"==a.get_name()||this.game.mouseUp()},keyDown:function(){!1==F.getInstance().active?"Win"==this.resultWin?this.nextLevel():"Lose"==this.resultWin?this.restartGame():"Pause"==this.resultWin?this.PanelBase.hide("Pause"):"Tutorial"==this.resultWin&&F.getInstance().panelTutorial.MouseDown(null):this.game.mouseDown()},keyUp:function(){!1==
F.getInstance().active?"Tutorial"==this.resultWin&&F.getInstance().panelTutorial.MouseUp():this.game.mouseUp()},rotateEvent:function(){this.resultWin="Pause";this.PanelBase.show("Pause")},PauseResume:function(){!0==F.getInstance().active?(this.resultWin="Pause",this.PanelBase.show("Pause")):this.PanelBase.hide("Pause")},pauseGame:function(){h.sound.SoundManager.getInstance().StopMusic(1);h.sound.SoundManager.getInstance().StopMusic(2);for(var a=0,b=this.health;a<b.length;){var c=b[a];++a;c.alpha=
0}a=0;for(b=this.hideInPause;a<b.length;)c=b[a],++a,!0==this.tutorialOpen&&"ClickBtn"==c.name||(c.alpha=0);this.moneyField.set_alpha(0);this.game.renderList1.update=!1;this.game.renderList2.update=!1;F.getInstance().active=!1;m.Actuate.pauseAll();this.btnPause.set_x(-100);!1==this.tutorialOpen&&this.btnClick.set_x(-820);this.PanelBase.hide("ShowAwards")},resumeGame:function(){this.game.hero.get_currentState()==k.HeroState.walk&&h.sound.SoundManager.getInstance().PlayMusic("steps",!1,1);0!=this.game.amountLift&&
0!=this.game.movingLift&&h.sound.SoundManager.getInstance().PlayMusic("lift",!1,2);for(var a=0,b=this.health;a<b.length;){var c=b[a];++a;c.alpha=1}a=0;for(b=this.hideInPause;a<b.length;)c=b[a],++a,c.alpha=1;this.moneyField.set_alpha(1);this.game.renderList1.update=!0;this.game.renderList2.update=!0;F.getInstance().active=!0;m.Actuate.resumeAll();this.btnPause.set_x(115);this.btnClick.set_x(180)},restartGame:function(){this.stopGame();F.getInstance().showScene(S.LevelBuilder,this.currentLevel)},exitGame:function(){this.stopGame();
F.getInstance().showScene(S.Levels)},showAward:function(){this.stopGame();F.getInstance().showScene(S.Awards)},nextLevel:function(){this.stopGame();if(!0==G.getInstance().getDomain())F.getInstance().showScene(S.Menu);else{var a=this.currentLevel+1|0;if(27<a)F.getInstance().showScene(S.Final);else{var b=Math.floor(a/9),c=C.parseFloat(h.alagatar.DataManager.getInstance().getData("Worlds"));0==a%9&&(b-=1);b>F.getInstance().currentWorld&&b==c?(F.getInstance().currentWorld=b,F.getInstance().showScene(S.Levels)):
1==C.parseFloat(h.alagatar.DataManager.getInstance().getData("showFirstAward"))?(h.alagatar.DataManager.getInstance().saveData("showFirstAward",2),F.getInstance().showScene(S.Awards,a)):F.getInstance().showScene(S.LevelBuilder,a)}}},prevLevel:function(){this.stopGame();var a=this.currentLevel-1;0==a&&(a=27);F.getInstance().showScene(S.LevelBuilder,a)},stopGame:function(){t.LevelBuilder.instance=null;m.Actuate.reset()},free:function(){G.rotateEvent=null;this.hideInPause=[];this.hideInPause=null;this.health=
[];this.lbList=this.moneyField=this.health=null;this.game.free();this.heroDamage=this.graphicSideBorder=this.touch=this.game=null;h.sound.SoundManager.getInstance().Reset();null!=this.PanelBase&&this.PanelBase.Free();this.PanelBase=this.btnClick=this.btnPause=this.tutorial=this.panelShowAwards=null},__class__:t.LevelBuilder});t.Levels=function(){this.btnName=0;this.starsOpen2world=40;this.starsOpen1world=20;this.maxStars=81;this.coefBorder=4;this.nowMoving=!1;this.layersOffsetX=125;this.notChangeWorld=
6;this.startWorldY=240;this.startWorldX=360;this.offsetWorldX=800;this.currentWorld=0;this.maxWorld=3;this.updateMouse=!1;this.btnLockScale=0.02;this.list="ScenesList";t.BasicScene.call(this)};l["scenes.Levels"]=t.Levels;t.Levels.__name__=["scenes","Levels"];t.Levels.__super__=t.BasicScene;t.Levels.prototype=z(t.BasicScene.prototype,{movingContainer:null,staticLayer:null,renderLayer:null,upperLayer:null,list:null,btnLock:null,btnLockScale:null,updateMouse:null,maxWorld:null,currentWorld:null,offsetWorldX:null,
startWorldX:null,startWorldY:null,notChangeWorld:null,layersOffsetX:null,nowMoving:null,startMouse:null,lastWorldX:null,mouseOffset:null,coefBorder:null,pointCurrentWorld:null,starsCollected:null,maxStars:null,starsOpen1world:null,starsOpen2world:null,btnName:null,openWorldAnim:null,init:function(){this.starsCollected=C.parseFloat(h.alagatar.DataManager.getInstance().calc("stars",1,27));this.movingContainer=new e.display.Sprite;this.addChild(this.movingContainer);this.staticLayer=h.jdtiles.Tile.getInstance().getTileLayer("StaticList",
this.list);this.staticLayer.update=!1;this.staticLayer.mouseEnabled(!0);this.staticLayer.setRenderBorders(2565);this.staticLayer.view.set_x(-485);this.movingContainer.addChild(this.staticLayer.view);this.renderLayer=h.jdtiles.Tile.getInstance().getTileLayer("RenderList",this.list);this.renderLayer.update=!1;this.renderLayer.mouseEnabled(!0);this.renderLayer.setRenderBorders(2565);this.renderLayer.view.set_x(-485);this.movingContainer.addChild(this.renderLayer.view);this.upperLayer=h.jdtiles.Tile.getInstance().getTileLayer("UppderList",
this.list);this.upperLayer.update=!1;this.addChild(this.upperLayer.view);for(var a=0,b=1,c=0;6>c;)c++,this.staticLayer.addChild(this.addTSprite(this.staticLayer,"stat_background",a,0,h.jdtiles.jda.AnchorPoint.UL,b)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"stat_background",a,210,h.jdtiles.jda.AnchorPoint.UL,b)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"stat_background",a,420,h.jdtiles.jda.AnchorPoint.UL,b)),a+=483,b*=-1;this.createWorlds();this.upperLayer.addChild(this.addTSprite(this.upperLayer,
"levelPoint",360,458));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"panelBtnLevelSelect",-2,240,h.jdtiles.jda.AnchorPoint.CL));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"podButtonPanel",47,216));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"podButtonPanel",47,290));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"podShkala",630,450,null,0.6));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"panelTotalScore",115,450));this.upperLayer.addChild(this.addTSprite(this.upperLayer,
"podShkala2",580,450,null,-1));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"starFull",685,447));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"chain2",30,365,h.jdtiles.jda.AnchorPoint.UC));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"chain2",30,391,h.jdtiles.jda.AnchorPoint.UC));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"chain1",30,355,h.jdtiles.jda.AnchorPoint.UC));this.upperLayer.addChild(this.addTSprite(this.upperLayer,"chain1",30,379,h.jdtiles.jda.AnchorPoint.UC));
this.pointCurrentWorld=this.addTSprite(this.upperLayer,"currentWorld",0,457);this.upperLayer.addChild(this.pointCurrentWorld);a=h.alagatar.Tools.addText(this.starsCollected+"/"+this.maxStars,24,16772804);a.set_width(100);a.set_x(573);a.set_y(439);this.addChild(a);a=h.alagatar.Tools.addText(F.getText("totalscore"),16,16772804);a.set_width(100);a.set_x(23);a.set_y(442);this.addChild(a);a=h.alagatar.Tools.addText(""+C.string(h.alagatar.DataManager.getInstance().calc("score",1,27)),20,7616789);a.set_width(100);
a.set_x(115);a.set_y(441);this.addChild(a);a=new h.Button(this.upperLayer);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Exit");a.EndFunction=w(this,this.exit);a.setPosition(48,215);this.addChild(a);a=new h.Button(this.upperLayer);a.initSetFrame("BtnFonNormal","BtnFonActive");a.initScale("Award");a.EndFunction=w(this,this.showAwards);a.setPosition(48,288);this.addChild(a);this.currentWorld=F.getInstance().currentWorld;this.changeWorld(!1);F.getInstance().active=!0;this.openWorldAnim=
new h.effects.ShotConfetti(this.renderLayer);this.openWorldAnim.init(-90);this.renderLayer.addChild(this.openWorldAnim)},addTSprite:function(a,b,c,d,g,i,e,f,o){null==o&&(o="new");null==f&&(f=0);null==e&&(e=1);null==i&&(i=1);null==d&&(d=0);null==c&&(c=0);a=new h.jdtiles.jda.TileSprite(a,b);a.set_x(c);a.set_y(d);a.set_scaleX(i);a.set_scaleY(e);a.set_rotation(f);a.name=o;null!=g&&a.set_anchor(g);return a},createWorlds:function(){for(var a=this.startWorldX+this.layersOffsetX,b,c=h.alagatar.DataManager.getInstance().getData("Worlds"),
d=0,g=this.maxWorld;d<g;){var i=d++;this.staticLayer.addChild(this.addTSprite(this.staticLayer,"worldFon",a,222));0==i?1==G.currentVersion?(this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag1",a,-40,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag2",a+200,-10,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag2",a-310,-15,h.jdtiles.jda.AnchorPoint.UC,1,1,-16)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,
"flag3",a+290,-10,h.jdtiles.jda.AnchorPoint.UC,1,1,3)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag3",a-240,-10,h.jdtiles.jda.AnchorPoint.UC))):2==G.currentVersion&&(this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag1",a-10,-40,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag2",a+200,-10,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag2",a-310,-15,h.jdtiles.jda.AnchorPoint.UC,
1,1,-16)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag3",a+290,-20,h.jdtiles.jda.AnchorPoint.UC,1,1,3)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag3",a-240,-20,h.jdtiles.jda.AnchorPoint.UC))):1==i?1==G.currentVersion?(this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag7",a+325,-5,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag7",a-265,-20,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,
"flag9",a+380,-20,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag9",a-350,-20,h.jdtiles.jda.AnchorPoint.UC,-1,0.8)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag8",a+200,-10,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag8",a-190,-15,h.jdtiles.jda.AnchorPoint.UC,-0.8,0.8))):2==G.currentVersion&&(this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag7",a+310,-5,h.jdtiles.jda.AnchorPoint.UC)),
this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag7",a-265,-20,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag9",a-350,-20,h.jdtiles.jda.AnchorPoint.UC,-1,0.8)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag8",a+200,-20,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag8",a-180,-15,h.jdtiles.jda.AnchorPoint.UC,-0.8,0.8))):2==i&&(1==G.currentVersion?(this.staticLayer.addChild(this.addTSprite(this.staticLayer,
"flag4",a-200,-50,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag4",a+237,-5,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag6",a-315,-15,h.jdtiles.jda.AnchorPoint.UC,1,1,-4)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag5",a+110,-10,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag6",a+340,-10,h.jdtiles.jda.AnchorPoint.UC,1,1,4))):2==G.currentVersion&&
(this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag4",a-200,-50,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag4",a+215,-5,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag6",a-315,-25,h.jdtiles.jda.AnchorPoint.UC,1,1,-4)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag5",a+110,-10,h.jdtiles.jda.AnchorPoint.UC)),this.staticLayer.addChild(this.addTSprite(this.staticLayer,"flag6",
a+340,-20,h.jdtiles.jda.AnchorPoint.UC,1,1,4))));if(i<c)this.createButtons(i);else{this.renderLayer.addChild(this.addTSprite(this.renderLayer,"leftDoorClose",a+8,235,h.jdtiles.jda.AnchorPoint.CR,1,1,0,""+i));this.renderLayer.addChild(this.addTSprite(this.renderLayer,"leftDoorClose",a-10,235,h.jdtiles.jda.AnchorPoint.CL,-1,1,0,""+i));var e=0;b=h.alagatar.Tools.addText("",24,16777215);1==i?(e=h.alagatar.Tools.toPercent(this.starsCollected,this.starsOpen1world)/100,b.set_text(""+this.starsOpen1world)):
2==i&&(e=h.alagatar.Tools.toPercent(this.starsCollected,this.starsOpen2world)/100,b.set_text(""+this.starsOpen2world));e=h.alagatar.Tools.clamp(e,0.01,1);1==e?(this.btnLock=new h.Button(this.renderLayer),this.btnLock.initOneFrame("lockWorldOpen"),this.btnLock.EndFunction=w(this,this.setDrawOpenDoors),this.btnLock.setPosition(a,260),this.btnLock.set_name(""+i),this.btnLock.setDrawGraphics(-125,-130,250,250),this.renderLayer.view.addChild(this.btnLock)):(this.renderLayer.addChild(this.addTSprite(this.renderLayer,
"podShkala",a-13,124,null,1,1,0)),this.renderLayer.addChild(this.addTSprite(this.renderLayer,"starShkala",a-3-(100-100*e),125,h.jdtiles.jda.AnchorPoint.CC,e,1,0)),this.renderLayer.addChild(this.addTSprite(this.renderLayer,"starFull",a-110,120,null,1,1,0)),this.renderLayer.addChild(this.addTSprite(this.renderLayer,"keyShkala",a+115,125,null,1,1,0)),b.set_width(100),b.set_x(a-55),b.set_y(113),this.renderLayer.view.addChild(b),this.renderLayer.addChild(this.addTSprite(this.renderLayer,"lockWorld",a,
260)))}a+=this.offsetWorldX}},setDrawOpenDoors:function(a){for(var b=0,c=this.renderLayer.children;b<c.length;){var d=c[b];++b;a.get_name()==d.name&&(d.alpha=0)}h.sound.SoundManager.getInstance().PlayEffect("open_word");h.alagatar.DataManager.getInstance().saveBigger("Worlds",C.parseFloat(a.get_name())+1);this.createButtons(C.parseFloat(a.get_name()));a.spriteFon.alpha=0;a.set_alpha(0);a.mouseChildren=!1;a.mouseEnabled=!1;this.renderLayer.setChildIndex(this.openWorldAnim,this.renderLayer.get_numChildren()-
1);this.openWorldAnim.shoot(this.startWorldX+this.layersOffsetX+this.offsetWorldX*this.currentWorld,240);this.renderLayer.update=!0},createButtons:function(a){for(var b=h.alagatar.DataManager.getInstance().getData("Levels"),a=this.startWorldX+this.layersOffsetX+this.offsetWorldX*a,c,d,g=0,i=0,e=0,f=0,o=0;9>o;){e=o++;c=new h.Button(this.renderLayer);this.btnName++;0<e&&0!=e%3&&(g+=90);0<e&&0==e%3&&(g=0,i+=80);e=a+(g-90);f=240+(i-80)-5;if(this.btnName<=b){c.initSetFrame("LevelUp","LevelDown");c.EndFunction=
w(this,this.startLevel);d=h.alagatar.Tools.addText(""+this.btnName,22,16771038);d.set_width(50);d.set_height(50);d.set_x(-25);d.set_y(-10);c.ScaleDown.x=1;c.ScaleDown.y=1;c.addChild(d);d=C["int"](h.alagatar.DataManager.getInstance().getData("stars"+this.btnName));for(var k=0;k<d;){var x=k++;0==x?this.renderLayer.addChild(this.addTSprite(this.renderLayer,"levelBtnstarFull",e-20,f-24,null,1,1,-22)):2==x?this.renderLayer.addChild(this.addTSprite(this.renderLayer,"levelBtnstarFull",e+17,f-25,null,1,1,
22)):1==x&&this.renderLayer.addChild(this.addTSprite(this.renderLayer,"levelBtnstarFull",e-2,f-30))}}else c.initScale("LevelClose");c.numLevel=this.btnName;c.setPosition(e,f);this.renderLayer.view.addChild(c)}this.renderLayer.addChild(this.addTSprite(this.renderLayer,"leftDoorOpen",a-135,240,h.jdtiles.jda.AnchorPoint.CR));this.renderLayer.addChild(this.addTSprite(this.renderLayer,"leftDoorOpen",a+125,240,h.jdtiles.jda.AnchorPoint.CL,-1))},prevWorld:function(){0!=this.currentWorld&&this.mouseOffset<
-this.notChangeWorld&&this.currentWorld--;this.changeWorld()},nextWorld:function(){this.currentWorld!=this.maxWorld-1&&this.mouseOffset>this.notChangeWorld&&this.currentWorld++;this.changeWorld()},changeWorld:function(a){null==a&&(a=!0);m.Actuate.stop(this.movingContainer);var b=Math.abs(this.offsetWorldX-Math.abs(this.mouseOffset))/1E3;!0==a?(this.nowMoving=!0,m.Actuate.tween(this.movingContainer,h.alagatar.Tools.clamp(b,0.1,0.5),{x:this.startWorldX-this.offsetWorldX*this.currentWorld}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,
this.setPoints))):(this.movingContainer.set_x(this.startWorldX-this.offsetWorldX*this.currentWorld),this.setPoints())},setPoints:function(){this.nowMoving=!1;this.pointCurrentWorld.set_x(316+44*this.currentWorld);this.upperLayer.render()},MouseDown:function(){!0!=this.nowMoving&&(this.updateMouse=!0,this.startMouse=this.get_mouseX(),this.lastWorldX=this.movingContainer.get_x(),this.mouseOffset=0)},update:function(){if(!1!=this.updateMouse){this.mouseOffset=(this.startMouse-this.get_mouseX())/1.5;
if(0<this.mouseOffset&&this.currentWorld==this.maxWorld-1||0>this.mouseOffset&&0==this.currentWorld)this.mouseOffset/=this.coefBorder;m.Actuate.tween(this.movingContainer,0.1,{x:this.lastWorldX-this.mouseOffset}).ease(m.easing.Linear.get_easeNone());if(0>this.get_mouseX()||720<this.get_mouseX())this.MouseUp(null),F.getInstance().breakBtn()}},MouseUp:function(){this.updateMouse=!1;Math.abs(this.mouseOffset)>this.notChangeWorld&&(F.getInstance().dontPressButton=!0);0<this.mouseOffset?this.nextWorld():
0>this.mouseOffset&&this.prevWorld();this.mouseOffset=0},startLevel:function(a){this.setCurrentWorld();F.getInstance().showScene(S.LevelBuilder,a.numLevel)},exit:function(){this.setCurrentWorld();F.getInstance().showScene(S.Menu)},showAwards:function(){this.setCurrentWorld();F.getInstance().showScene(S.Awards)},setCurrentWorld:function(){F.getInstance().currentWorld=this.currentWorld},start:function(){this.staticLayer.render();this.renderLayer.render();this.upperLayer.render()},free:function(){this.openWorldAnim=
null;F.getInstance().active=!1;m.Actuate.stop(this.movingContainer,null,!1,!1);this.pointCurrentWorld=this.btnLock=this.upperLayer=this.renderLayer=this.staticLayer=this.movingContainer=null},__class__:t.Levels});t.Menu=function(){this.list="ScenesList";t.BasicScene.call(this)};l["scenes.Menu"]=t.Menu;t.Menu.__name__=["scenes","Menu"];t.Menu.__super__=t.BasicScene;t.Menu.prototype=z(t.BasicScene.prototype,{list:null,sceneList:null,panelBase:null,btnPlay:null,btnClear:null,btnMusic:null,offsetYVersionPlay:null,
offsetYVersionMoreSound:null,btns:null,init:function(){this.btns=[];var a=new e.display.Bitmap(h.jdtiles.Tile.getInstance().getBitmapData("MainMenu"));this.addChild(a);this.panelBase=new Ga(this);this.addChild(this.panelBase);this.sceneList=h.jdtiles.Tile.getInstance().getTileLayer(this.list,this.list);this.addChild(this.sceneList.view);this.offsetYVersionPlay=1==G.currentVersion?0:45;this.offsetYVersionMoreSound=1==G.currentVersion?0:35;!1==G.getInstance().getDomain()?this.createMenu():(this.btnPlay=
new h.Button(this.sceneList),this.btnPlay.initSetFrame("BtnFonNormalBig","BtnFonActiveBig"),this.btnPlay.initScale("credits"),this.btnPlay.EndFunctionVoid=w(this,this.showCredits),this.btnPlay.setPosition(360,220+this.offsetYVersionPlay),this.addChild(this.btnPlay),this.btns.push(this.btnPlay));this.pulseButtonUp();this.panelBase.Init("Credits")},createMenu:function(){var a;this.btnPlay=new h.Button(this.sceneList);this.btnPlay.initSetFrame("BtnFonNormalBig","BtnFonActiveBig");this.btnPlay.initScale("Play",
4,2);this.btnPlay.EndFunction=w(this,this.startGame);this.btnPlay.setPosition(360,220+this.offsetYVersionPlay);this.addChild(this.btnPlay);this.btns.push(this.btnPlay);a=new h.Button(this.sceneList);a.initSetFrame("BtnFonNormalBig","BtnFonActiveBig");a.initScale("credits");a.EndFunctionVoid=w(this,this.showCredits);a.setPosition(280,307+this.offsetYVersionMoreSound);a.spriteFon.set_scaleX(a.spriteFon.set_scaleY(0.8));this.addChild(a);this.btns.push(a);this.btnMusic=new h.Button(this.sceneList);this.btnMusic.initSetFrame("BtnFonNormalBig",
"BtnFonActiveBig");this.btnMusic.initMusSoun("Music");this.btnMusic.setPosition(440,307+this.offsetYVersionMoreSound);this.btnMusic.spriteFon.set_scaleX(this.btnMusic.spriteFon.set_scaleY(0.8));this.addChild(this.btnMusic);this.btns.push(this.btnMusic);this.sceneList.render()},pulseButtonUp:function(){null!=this.btnPlay&&(m.Actuate.tween(this.btnPlay.spriteFon,0.5,{scaleX:1.2,scaleY:1.2}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btnPlay.spriteIcon,0.5,{scaleX:1.2,scaleY:1.2}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,
this.pulseButtonDown)))},pulseButtonDown:function(){null!=this.btnPlay&&(m.Actuate.tween(this.btnPlay.spriteFon,0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()),m.Actuate.tween(this.btnPlay.spriteIcon,0.5,{scaleX:1,scaleY:1}).ease(m.easing.Linear.get_easeNone()).onComplete(w(this,this.pulseButtonUp)))},addTSprite:function(a,b,c,d,g,i,e){null==e&&(e=0);null==i&&(i=1);null==g&&(g=1);null==c&&(c=0);null==b&&(b=0);a=new h.jdtiles.jda.TileSprite(this.sceneList,a);a.set_x(b);a.set_y(c);a.set_scaleX(g);
a.set_scaleY(i);a.set_rotation(e);null!=d&&a.set_anchor(d);return a},showPanel:function(){this.panelBase.show("ClearData")},showCredits:function(){this.setBtnActive(!1);this.panelBase.show("Credits")},setBtnActive:function(a){for(var b=0,c=this.btns;b<c.length;){var d=c[b];++b;d.mouseChildren=a;d.mouseEnabled=a}},MouseUp:function(a){null!=this.panelBase&&this.panelBase.MouseDown(a.target)},startMoreGames:function(){},clear:function(){!1==this.btnMusic.MusSounOn&&this.btnMusic.Complete();this.btnClear.set_alpha(0);
this.btnClear.spriteFon.alpha=0;this.btnClear.spriteIcon.alpha=0;this.btnClear.set_x(-100);F.getInstance().currentWorld=0},startGame:function(){F.getInstance().showScene(S.Levels)},free:function(){this.btns=[];this.sceneList=this.btns=null;null!=this.panelBase&&this.panelBase.Free();this.panelBase=null;m.Actuate.stop(this.btnPlay.spriteFon,null,!1,!1);m.Actuate.stop(this.btnPlay.spriteIcon,null,!1,!1);this.btnClear=this.btnMusic=this.btnPlay=null},__class__:t.Menu});var U={TJSON:function(){}};l["tjson.TJSON"]=
U.TJSON;U.TJSON.__name__=["tjson","TJSON"];U.TJSON.parse=function(a,b,c){null==b&&(b="JSON Data");return(new U.TJSONParser(a,b,c)).doParse()};U.TJSON.encode=function(a,b,c){null==c&&(c=!0);return(new U.TJSONEncoder(c)).doEncode(a,b)};U.TJSONParser=function(a,b,c){null==b&&(b="JSON Data");this.json=a;this.fileName=b;this.currentLine=1;this.lastSymbolQuoted=!1;this.pos=0;this.floatRegex=new ia("^-?[0-9]*\\.[0-9]+$","");this.intRegex=new ia("^-?[0-9]+$","");this.strProcessor=null==c?w(this,this.defaultStringProcessor):
c;this.cache=[]};l["tjson.TJSONParser"]=U.TJSONParser;U.TJSONParser.__name__=["tjson","TJSONParser"];U.TJSONParser.prototype={pos:null,json:null,lastSymbolQuoted:null,fileName:null,currentLine:null,cache:null,floatRegex:null,intRegex:null,strProcessor:null,doParse:function(){try{var a=this.getNextSymbol();if("{"==a)return this.doObject();if("["==a)return this.doArray()}catch(b){if(D.Boot.__instanceof(b,String))throw this.fileName+" on line "+this.currentLine+": "+b;throw b;}return null},doObject:function(){var a=
{},b="",c;for(this.cache.push(a);this.pos<this.json.length;)if(c=this.getNextSymbol(),","!=c||this.lastSymbolQuoted){if("}"==c&&!this.lastSymbolQuoted)return a;b=this.getNextSymbol();if(":"!=b)throw"Expected ':' but got '"+b+"' instead.";b=this.getNextSymbol();if("_hxcls"==c){a=R.resolveClass(b);if(null==a)throw"Invalid class name - "+b;a=R.createEmptyInstance(a);this.cache.pop();this.cache.push(a)}else b="{"==b&&!this.lastSymbolQuoted?this.doObject():"["==b&&!this.lastSymbolQuoted?this.doArray():
this.convertSymbolToProperType(b),a[c]=b}throw"Unexpected end of file. Expected '}'";},doArray:function(){for(var a=[],b;this.pos<this.json.length;)if(b=this.getNextSymbol(),","!=b||this.lastSymbolQuoted){if("]"==b&&!this.lastSymbolQuoted)return a;b="{"==b&&!this.lastSymbolQuoted?this.doObject():"["==b&&!this.lastSymbolQuoted?this.doArray():this.convertSymbolToProperType(b);a.push(b)}throw"Unexpected end of file. Expected ']'";},convertSymbolToProperType:function(a){return this.lastSymbolQuoted?O.startsWith(a,
U.TJSON.OBJECT_REFERENCE_PREFIX)?(a=C.parseInt(B.substr(a,U.TJSON.OBJECT_REFERENCE_PREFIX.length,null)),this.cache[a]):a:this.looksLikeFloat(a)?C.parseFloat(a):this.looksLikeInt(a)?C.parseInt(a):"true"==a.toLowerCase()?!0:"false"==a.toLowerCase()?!1:"null"==a.toLowerCase()?null:a},looksLikeFloat:function(a){return this.floatRegex.match(a)},looksLikeInt:function(a){return this.intRegex.match(a)},getNextSymbol:function(){this.lastSymbolQuoted=!1;for(var a="",b=!1,c="",d="",g=!1,i=!1,e=!1,f=!1;this.pos<
this.json.length;)if(a=this.json.charAt(this.pos++),"\n"==a&&!i&&this.currentLine++,e){if("\n"==a||"\r"==a)e=!1,this.pos++}else if(f)"*"==a&&"/"==this.json.charAt(this.pos)&&(f=!1,this.pos++);else if(b){if(g){g=!1;if("'"==a||'"'==a){d+=a;continue}if("t"==a){d+="\t";continue}if("n"==a){d+="\n";continue}if("\\"==a){d+="\\";continue}if("r"==a){d+="\r";continue}if("/"==a){d+="/";continue}if("u"==a){for(var o=a=0;4>o;){o++;if(this.pos>=this.json.length)throw"Unfinished UTF8 character";var h;h=this.pos++;
h=B.cca(this.json,h);a<<=4;if(48<=h&&57>=h)a+=h-48;else if(65<=h&&70>=h)a+=10+h-65;else if(97<=h&&102>=h)a+=10+h-95;else throw"Not a hex digit";}o=new p.Utf8;o.__b+=String.fromCharCode(a);d+=o.__b;continue}throw"Invalid escape sequence '\\"+a+"'";}if("\\"==a)g=!0;else{if(a==c)return d;d+=a}}else{if("/"==a)if(o=this.json.charAt(this.pos),"/"==o){e=!0;this.pos++;continue}else if("*"==o){f=!0;this.pos++;continue}if(i){if(" "==a||"\n"==a||"\r"==a||"\t"==a||","==a||":"==a||"}"==a||"]"==a)return this.pos--,
d;d+=a}else if(!(" "==a||"\t"==a||"\n"==a||"\r"==a)){if("{"==a||"}"==a||"["==a||"]"==a||","==a||":"==a)return a;"'"==a||'"'==a?(b=!0,c=a,this.lastSymbolQuoted=!0):(i=!0,d=a)}}if(b)throw"Unexpected end of data. Expected ( "+c+" )";return d},defaultStringProcessor:function(a){return a},__class__:U.TJSONParser};U.TJSONEncoder=function(a){null==a&&(a=!0);if(this.uCache=a)this.cache=[]};l["tjson.TJSONEncoder"]=U.TJSONEncoder;U.TJSONEncoder.__name__=["tjson","TJSONEncoder"];U.TJSONEncoder.prototype={cache:null,
uCache:null,doEncode:function(a,b){if(!u.isObject(a))throw"Provided object is not an object.";var c;c=D.Boot.__instanceof(b,U.EncodeStyle)?b:"fancy"==b?new U.FancyStyle:new U.SimpleStyle;var d=new na;a instanceof Array&&null==a.__enum__||D.Boot.__instanceof(a,oa)?d.add(this.encodeIterable(a,c,0)):D.Boot.__instanceof(a,p.ds.StringMap)?d.add(this.encodeMap(a,c,0)):(this.cacheEncode(a),d.add(this.encodeObject(a,c,0)));return d.b},encodeObject:function(a,b,c){var d=new na;d.add(b.beginObject(c));var g=
0,i;i=R.getClass(a);i=null!=i?R.getInstanceFields(i):u.fields(a);var e=R["typeof"](a);switch(e[1]){case 6:e=e[2],0<g++?d.add(b.entrySeperator(c)):d.add(b.firstEntry(c)),d.add('"_hxcls"'+b.keyValueSeperator(c)),d.add(this.encodeValue(R.getClassName(e),b,c))}for(e=0;e<i.length;){var f=i[e];++e;var o=u.field(a,f),o=this.encodeValue(o,b,c);null!=o&&(0<g++?d.add(b.entrySeperator(c)):d.add(b.firstEntry(c)),d.add('"'+f+'"'+b.keyValueSeperator(c)+o))}d.add(b.endObject(c));return d.b},encodeMap:function(a,
b,c){var d=new na;d.add(b.beginObject(c));for(var g=0,i=a.keys();i.hasNext();){var e=i.next();0<g++?d.add(b.entrySeperator(c)):d.add(b.firstEntry(c));var f=a.get(e);d.add('"'+e+'"'+b.keyValueSeperator(c));d.add(this.encodeValue(f,b,c))}d.add(b.endObject(c));return d.b},encodeIterable:function(a,b,c){var d=new na;d.add(b.beginArray(c));for(var g=0,a=Wc(a)();a.hasNext();){var i=a.next();0<g++?d.add(b.entrySeperator(c)):d.add(b.firstEntry(c));d.add(this.encodeValue(i,b,c))}d.add(b.endArray(c));return d.b},
cacheEncode:function(a){if(!this.uCache)return null;for(var b=0,c=this.cache.length;b<c;){var d=b++;if(this.cache[d]==a)return'"'+U.TJSON.OBJECT_REFERENCE_PREFIX+d+'"'}this.cache.push(a);return null},encodeValue:function(a,b,c){if((a|0)===a||"number"==typeof a)return a;if(a instanceof Array&&null==a.__enum__||D.Boot.__instanceof(a,oa)||D.Boot.__instanceof(a,oa))return this.encodeIterable(a,b,c+1);if(D.Boot.__instanceof(a,p.ds.StringMap))return this.encodeMap(a,b,c+1);if("string"==typeof a)return'"'+
O.replace(O.replace(O.replace(O.replace(C.string(a),"\\","\\\\"),"\n","\\n"),"\r","\\r"),'"','\\"')+'"';if("boolean"==typeof a)return a;if(u.isObject(a)){var d=this.cacheEncode(a);return null!=d?d:this.encodeObject(a,b,c+1)}return null==a?"null":null},__class__:U.TJSONEncoder};U.EncodeStyle=function(){};l["tjson.EncodeStyle"]=U.EncodeStyle;U.EncodeStyle.__name__=["tjson","EncodeStyle"];U.EncodeStyle.prototype={beginObject:null,endObject:null,beginArray:null,endArray:null,firstEntry:null,entrySeperator:null,
keyValueSeperator:null,__class__:U.EncodeStyle};U.SimpleStyle=function(){};l["tjson.SimpleStyle"]=U.SimpleStyle;U.SimpleStyle.__name__=["tjson","SimpleStyle"];U.SimpleStyle.__interfaces__=[U.EncodeStyle];U.SimpleStyle.prototype={beginObject:function(){return"{"},endObject:function(){return"}"},beginArray:function(){return"["},endArray:function(){return"]"},firstEntry:function(){return""},entrySeperator:function(){return","},keyValueSeperator:function(){return":"},__class__:U.SimpleStyle};U.FancyStyle=
function(a){null==a&&(a="    ");this.tab=a;this.charTimesNCache=[""]};l["tjson.FancyStyle"]=U.FancyStyle;U.FancyStyle.__name__=["tjson","FancyStyle"];U.FancyStyle.__interfaces__=[U.EncodeStyle];U.FancyStyle.prototype={tab:null,beginObject:function(){return"{\n"},endObject:function(a){return"\n"+this.charTimesN(a)+"}"},beginArray:function(){return"[\n"},endArray:function(a){return"\n"+this.charTimesN(a)+"]"},firstEntry:function(a){return this.charTimesN(a+1)+" "},entrySeperator:function(a){return"\n"+
this.charTimesN(a+1)+","},keyValueSeperator:function(){return" : "},charTimesNCache:null,charTimesN:function(a){return a<this.charTimesNCache.length?this.charTimesNCache[a]:this.charTimesNCache[a]=this.charTimesN(a-1)+this.tab},__class__:U.FancyStyle};var d={ZPP_Const:function(){}};l["zpp_nape.ZPP_Const"]=d.ZPP_Const;d.ZPP_Const.__name__=["zpp_nape","ZPP_Const"];d.ZPP_Const.POSINF=function(){return Math.POSITIVE_INFINITY};d.ZPP_Const.NEGINF=function(){return Math.NEGATIVE_INFINITY};d.ZPP_ID=function(){};
l["zpp_nape.ZPP_ID"]=d.ZPP_ID;d.ZPP_ID.__name__=["zpp_nape","ZPP_ID"];d.ZPP_ID.Constraint=function(){return d.ZPP_ID._Constraint++};d.ZPP_ID.Interactor=function(){return d.ZPP_ID._Interactor++};d.ZPP_ID.CbType=function(){return d.ZPP_ID._CbType++};d.ZPP_ID.CbSet=function(){return d.ZPP_ID._CbSet++};d.ZPP_ID.Listener=function(){return d.ZPP_ID._Listener++};d.ZPP_ID.ZPP_SimpleVert=function(){return d.ZPP_ID._ZPP_SimpleVert++};d.ZPP_ID.ZPP_SimpleSeg=function(){return d.ZPP_ID._ZPP_SimpleSeg++};d.ZPP_ID.Space=
function(){return d.ZPP_ID._Space++};d.ZPP_ID.InteractionGroup=function(){return d.ZPP_ID._InteractionGroup++};d.callbacks={};d.callbacks.ZPP_Callback=function(){this.body=this.constraint=null;this.pre_swapped=!1;this.int1=this.int2=this.set=this.wrap_arbiters=this.pre_arbiter=null;this.length=0;this.next=this.prev=null;this.index=0;this.listener=this.space=null;this.event=0;this.outer_body=this.outer_con=this.outer_int=null;this.length=0};l["zpp_nape.callbacks.ZPP_Callback"]=d.callbacks.ZPP_Callback;
d.callbacks.ZPP_Callback.__name__=["zpp_nape","callbacks","ZPP_Callback"];d.callbacks.ZPP_Callback.prototype={outer_body:null,outer_con:null,outer_int:null,wrapper_body:function(){null==this.outer_body&&(this.outer_body=new f.callbacks.BodyCallback,this.outer_body.zpp_inner=this);return this.outer_body},wrapper_con:function(){null==this.outer_con&&(this.outer_con=new f.callbacks.ConstraintCallback,this.outer_con.zpp_inner=this);return this.outer_con},wrapper_int:function(){null==this.outer_int&&(this.outer_int=
new f.callbacks.InteractionCallback,this.outer_int.zpp_inner=this);null==this.wrap_arbiters?this.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=null;return this.outer_int},event:null,listener:null,space:null,index:null,next:null,prev:null,length:null,push:function(a){null!=this.prev?this.prev.next=a:this.next=a;a.prev=this.prev;a.next=null;this.prev=a;
this.length++},push_rev:function(a){null!=this.next?this.next.prev=a:this.prev=a;a.next=this.next;a.prev=null;this.next=a;this.length++},pop:function(){var a=this.next;this.next=a.next;null==this.next?this.prev=null:this.next.prev=null;this.length--;return a},pop_rev:function(){var a=this.prev;this.prev=a.prev;null==this.prev?this.next=null:this.prev.next=null;this.length--;return a},empty:function(){return null==this.next},clear:function(){for(;!this.empty();)this.pop()},splice:function(a){var b=
a.next;null==a.prev?(this.next=a.next,null!=this.next?this.next.prev=null:this.prev=null):(a.prev.next=a.next,null!=a.next?a.next.prev=a.prev:this.prev=a.prev);this.length--;return b},rotateL:function(){this.push(this.pop())},rotateR:function(){this.push_rev(this.pop_rev())},cycleNext:function(a){return null==a.next?this.next:a.next},cyclePrev:function(a){return null==a.prev?this.prev:a.prev},at:function(a){for(var b=this.next;0!=a--;)b=b.next;return b},rev_at:function(a){for(var b=this.prev;0!=a--;)b=
b.prev;return b},free:function(){this.listener=this.constraint=this.body=this.int1=this.int2=null;null!=this.wrap_arbiters&&(this.wrap_arbiters.zpp_inner.inner=null);this.set=null},alloc:function(){},int1:null,int2:null,set:null,wrap_arbiters:null,pre_arbiter:null,pre_swapped:null,genarbs:function(){null==this.wrap_arbiters?this.wrap_arbiters=d.util.ZPP_ArbiterList.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=
null},body:null,constraint:null,__class__:d.callbacks.ZPP_Callback};d.callbacks.ZPP_CbSet=function(){this.interactors=this.wrap_interactors=this.constraints=this.wrap_constraints=null;this.zip_conlisteners=!1;this.conlisteners=null;this.zip_bodylisteners=!1;this.bodylisteners=null;this.zip_listeners=!1;this.manager=this.cbpairs=this.listeners=null;this.id=0;this.next=null;this.count=0;this.cbTypes=null;this.cbTypes=new d.util.ZNPList_ZPP_CbType;this.listeners=new d.util.ZNPList_ZPP_InteractionListener;
this.zip_listeners=!0;this.bodylisteners=new d.util.ZNPList_ZPP_BodyListener;this.zip_bodylisteners=!0;this.conlisteners=new d.util.ZNPList_ZPP_ConstraintListener;this.zip_conlisteners=!0;this.constraints=new d.util.ZNPList_ZPP_Constraint;this.interactors=new d.util.ZNPList_ZPP_Interactor;this.id=d.ZPP_ID.CbSet();this.cbpairs=new d.util.ZNPList_ZPP_CbSetPair};l["zpp_nape.callbacks.ZPP_CbSet"]=d.callbacks.ZPP_CbSet;d.callbacks.ZPP_CbSet.__name__=["zpp_nape","callbacks","ZPP_CbSet"];d.callbacks.ZPP_CbSet.setlt=
function(a,b){for(var c=a.cbTypes.head,d=b.cbTypes.head;null!=c&&null!=d;){var g=c.elt,i=d.elt;if(g.id<i.id)return!0;if(i.id<g.id)return!1;c=c.next;d=d.next}return null!=d&&null==c};d.callbacks.ZPP_CbSet.get=function(a){var b;null==d.callbacks.ZPP_CbSet.zpp_pool?b=new d.callbacks.ZPP_CbSet:(b=d.callbacks.ZPP_CbSet.zpp_pool,d.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;for(var c=null,a=a.head;null!=a;){var j=a.elt,c=b.cbTypes.insert(c,j);j.cbsets.add(b);a=a.next}return b};d.callbacks.ZPP_CbSet.compatible=
function(a,b,c){return a.options1.compatible(b.cbTypes)&&a.options2.compatible(c.cbTypes)||a.options2.compatible(b.cbTypes)&&a.options1.compatible(c.cbTypes)};d.callbacks.ZPP_CbSet.empty_intersection=function(a,b){return a.manager.pair(a,b).empty_intersection()};d.callbacks.ZPP_CbSet.single_intersection=function(a,b,c){return a.manager.pair(a,b).single_intersection(c)};d.callbacks.ZPP_CbSet.find_all=function(a,b,c,d){a.manager.pair(a,b).forall(c,d)};d.callbacks.ZPP_CbSet.prototype={cbTypes:null,count:null,
next:null,id:null,manager:null,cbpairs:null,increment:function(){this.count++},decrement:function(){return 0==--this.count},invalidate_pairs:function(){for(var a=this.cbpairs.head;null!=a;)a.elt.zip_listeners=!0,a=a.next},listeners:null,zip_listeners:null,invalidate_listeners:function(){this.zip_listeners=!0;this.invalidate_pairs()},validate_listeners:function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners())},realvalidate_listeners:function(){this.listeners.clear();for(var a=
this.cbTypes.head;null!=a;){for(var b=null,c=this.listeners.head,j=a.elt.listeners.head;null!=j;){var g=j.elt;null!=c&&c.elt==g?(j=j.next,b=c,c=c.next):null==c||d.callbacks.ZPP_Listener.setlt(g,c.elt)?(g.space==this.manager.space&&(b=this.listeners.inlined_insert(b,g)),j=j.next):(b=c,c=c.next)}a=a.next}},bodylisteners:null,zip_bodylisteners:null,invalidate_bodylisteners:function(){this.zip_bodylisteners=!0},validate_bodylisteners:function(){this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners())},
realvalidate_bodylisteners:function(){this.bodylisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,c=this.bodylisteners.head,j=a.elt.bodylisteners.head;null!=j;){var g=j.elt;null!=c&&c.elt==g?(j=j.next,b=c,c=c.next):null==c||d.callbacks.ZPP_Listener.setlt(g,c.elt)?(!g.options.excluded(this.cbTypes)&&g.space==this.manager.space&&(b=this.bodylisteners.inlined_insert(b,g)),j=j.next):(b=c,c=c.next)}a=a.next}},conlisteners:null,zip_conlisteners:null,invalidate_conlisteners:function(){this.zip_conlisteners=
!0},validate_conlisteners:function(){this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},realvalidate_conlisteners:function(){this.conlisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,c=this.conlisteners.head,j=a.elt.conlisteners.head;null!=j;){var g=j.elt;null!=c&&c.elt==g?(j=j.next,b=c,c=c.next):null==c||d.callbacks.ZPP_Listener.setlt(g,c.elt)?(!g.options.excluded(this.cbTypes)&&g.space==this.manager.space&&(b=this.conlisteners.inlined_insert(b,
g)),j=j.next):(b=c,c=c.next)}a=a.next}},validate:function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners());this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners());this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},interactors:null,wrap_interactors:null,constraints:null,wrap_constraints:null,addConstraint:function(a){this.constraints.add(a)},addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},
remInteractor:function(a){this.interactors.remove(a)},free:function(){this.listeners.clear();this.zip_listeners=!0;this.bodylisteners.clear();this.zip_bodylisteners=!0;this.conlisteners.clear();for(this.zip_conlisteners=!0;null!=this.cbTypes.head;)this.cbTypes.pop_unsafe().cbsets.remove(this)},alloc:function(){},__class__:d.callbacks.ZPP_CbSet};d.callbacks.ZPP_CbSetPair=function(){this.listeners=null;this.zip_listeners=!1;this.a=this.b=this.next=null;this.listeners=new d.util.ZNPList_ZPP_InteractionListener};
l["zpp_nape.callbacks.ZPP_CbSetPair"]=d.callbacks.ZPP_CbSetPair;d.callbacks.ZPP_CbSetPair.__name__=["zpp_nape","callbacks","ZPP_CbSetPair"];d.callbacks.ZPP_CbSetPair.get=function(a,b){var c;null==d.callbacks.ZPP_CbSetPair.zpp_pool?c=new d.callbacks.ZPP_CbSetPair:(c=d.callbacks.ZPP_CbSetPair.zpp_pool,d.callbacks.ZPP_CbSetPair.zpp_pool=c.next,c.next=null);c.zip_listeners=!0;d.callbacks.ZPP_CbSet.setlt(a,b)?(c.a=a,c.b=b):(c.a=b,c.b=a);return c};d.callbacks.ZPP_CbSetPair.setlt=function(a,b){return d.callbacks.ZPP_CbSet.setlt(a.a,
b.a)||a.a==b.a&&d.callbacks.ZPP_CbSet.setlt(a.b,b.b)};d.callbacks.ZPP_CbSetPair.prototype={a:null,b:null,next:null,free:function(){this.a=this.b=null;this.listeners.clear()},alloc:function(){this.zip_listeners=!0},compatible:function(a){return a.options1.compatible(this.a.cbTypes)&&a.options2.compatible(this.b.cbTypes)||a.options2.compatible(this.a.cbTypes)&&a.options1.compatible(this.b.cbTypes)},zip_listeners:null,listeners:null,invalidate:function(){this.zip_listeners=!0},validate:function(){this.zip_listeners&&
(this.zip_listeners=!1,this.__validate())},__validate:function(){this.listeners.clear();for(var a=this.a.listeners.head,b=this.b.listeners.head;null!=a&&null!=b;){var c=a.elt,d=b.elt;c==d?((c.options1.compatible(this.a.cbTypes)&&c.options2.compatible(this.b.cbTypes)||c.options2.compatible(this.a.cbTypes)&&c.options1.compatible(this.b.cbTypes))&&this.listeners.add(c),a=a.next,b=b.next):c.precedence>d.precedence||c.precedence==d.precedence&&c.id>d.id?a=a.next:b=b.next}},empty_intersection:function(){return null==
this.listeners.head},single_intersection:function(a){var b=this.listeners.head;return null!=b&&b.elt==a&&null==b.next},forall:function(a,b){for(var c=this.listeners.head;null!=c;){var d=c.elt;d.event==a&&b(d);c=c.next}},__class__:d.callbacks.ZPP_CbSetPair};d.util={};d.util.ZNPList_ZPP_InteractionListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=d.util.ZNPList_ZPP_InteractionListener;d.util.ZNPList_ZPP_InteractionListener.__name__=
["zpp_nape","util","ZNPList_ZPP_InteractionListener"];d.util.ZNPList_ZPP_InteractionListener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_InteractionListener.zpp_pool?b=new d.util.ZNPNode_ZPP_InteractionListener:(b=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool,d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_InteractionListener.zpp_pool?c=new d.util.ZNPNode_ZPP_InteractionListener:(c=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool,d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=
this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool;d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},
remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&
(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_InteractionListener.zpp_pool;d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_InteractionListener};d.util.ZNPList_ZPP_BodyListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_BodyListener"]=d.util.ZNPList_ZPP_BodyListener;d.util.ZNPList_ZPP_BodyListener.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];d.util.ZNPList_ZPP_BodyListener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,
length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_BodyListener.zpp_pool?b=new d.util.ZNPNode_ZPP_BodyListener:(b=d.util.ZNPNode_ZPP_BodyListener.zpp_pool,d.util.ZNPNode_ZPP_BodyListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_BodyListener.zpp_pool?c=new d.util.ZNPNode_ZPP_BodyListener:(c=d.util.ZNPNode_ZPP_BodyListener.zpp_pool,d.util.ZNPNode_ZPP_BodyListener.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=
d.util.ZNPNode_ZPP_BodyListener.zpp_pool;d.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_BodyListener.zpp_pool;d.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_BodyListener};d.util.ZNPList_ZPP_ConstraintListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=
d.util.ZNPList_ZPP_ConstraintListener;d.util.ZNPList_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"];d.util.ZNPList_ZPP_ConstraintListener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?b=new d.util.ZNPNode_ZPP_ConstraintListener:
(b=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?c=new d.util.ZNPNode_ZPP_ConstraintListener:(c=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,
d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_ConstraintListener};d.util.ZNPList_ZPP_Constraint=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Constraint"]=d.util.ZNPList_ZPP_Constraint;d.util.ZNPList_ZPP_Constraint.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];d.util.ZNPList_ZPP_Constraint.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Constraint.zpp_pool?b=new d.util.ZNPNode_ZPP_Constraint:(b=d.util.ZNPNode_ZPP_Constraint.zpp_pool,d.util.ZNPNode_ZPP_Constraint.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=
a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Constraint.zpp_pool?c=new d.util.ZNPNode_ZPP_Constraint:(c=d.util.ZNPNode_ZPP_Constraint.zpp_pool,d.util.ZNPNode_ZPP_Constraint.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;
a.elt=null;a.next=d.util.ZNPNode_ZPP_Constraint.zpp_pool;d.util.ZNPNode_ZPP_Constraint.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Constraint.zpp_pool;d.util.ZNPNode_ZPP_Constraint.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Constraint};d.util.ZNPList_ZPP_Interactor=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Interactor"]=
d.util.ZNPList_ZPP_Interactor;d.util.ZNPList_ZPP_Interactor.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"];d.util.ZNPList_ZPP_Interactor.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Interactor.zpp_pool?b=new d.util.ZNPNode_ZPP_Interactor:(b=d.util.ZNPNode_ZPP_Interactor.zpp_pool,d.util.ZNPNode_ZPP_Interactor.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Interactor.zpp_pool?c=new d.util.ZNPNode_ZPP_Interactor:(c=d.util.ZNPNode_ZPP_Interactor.zpp_pool,d.util.ZNPNode_ZPP_Interactor.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=
a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Interactor.zpp_pool;d.util.ZNPNode_ZPP_Interactor.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=
c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Interactor.zpp_pool;d.util.ZNPNode_ZPP_Interactor.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;
b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Interactor};d.util.ZNPList_ZPP_CbSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CbSet"]=d.util.ZNPList_ZPP_CbSet;d.util.ZNPList_ZPP_CbSet.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];d.util.ZNPList_ZPP_CbSet.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_CbSet.zpp_pool?b=new d.util.ZNPNode_ZPP_CbSet:(b=d.util.ZNPNode_ZPP_CbSet.zpp_pool,d.util.ZNPNode_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CbSet.zpp_pool?c=new d.util.ZNPNode_ZPP_CbSet:
(c=d.util.ZNPNode_ZPP_CbSet.zpp_pool,d.util.ZNPNode_ZPP_CbSet.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbSet.zpp_pool;d.util.ZNPNode_ZPP_CbSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbSet.zpp_pool;d.util.ZNPNode_ZPP_CbSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=
!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CbSet};d.callbacks.ZPP_CbType=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=this.userData=null;this.id=d.ZPP_ID.CbType();this.listeners=new d.util.ZNPList_ZPP_InteractionListener;this.bodylisteners=new d.util.ZNPList_ZPP_BodyListener;this.conlisteners=new d.util.ZNPList_ZPP_ConstraintListener;this.constraints=
new d.util.ZNPList_ZPP_Constraint;this.interactors=new d.util.ZNPList_ZPP_Interactor;this.cbsets=new d.util.ZNPList_ZPP_CbSet};l["zpp_nape.callbacks.ZPP_CbType"]=d.callbacks.ZPP_CbType;d.callbacks.ZPP_CbType.__name__=["zpp_nape","callbacks","ZPP_CbType"];d.callbacks.ZPP_CbType.setlt=function(a,b){return a.id<b.id};d.callbacks.ZPP_CbType.prototype={outer:null,userData:null,id:null,cbsets:null,interactors:null,wrap_interactors:null,constraints:null,wrap_constraints:null,addConstraint:function(a){this.constraints.add(a)},
addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},remInteractor:function(a){this.interactors.remove(a)},listeners:null,addint:function(a){for(var b=null,c=this.listeners.head;null!=c;){var d=c.elt;if(a.precedence>d.precedence||a.precedence==d.precedence&&a.id>d.id)break;b=c;c=c.next}this.listeners.inlined_insert(b,a);this.invalidateint()},removeint:function(a){this.listeners.remove(a);this.invalidateint()},invalidateint:function(){for(var a=this.cbsets.head;null!=
a;){var b=a.elt;b.zip_listeners=!0;b.invalidate_pairs();a=a.next}},bodylisteners:null,addbody:function(a){for(var b=null,c=this.bodylisteners.head;null!=c;){var d=c.elt;if(a.precedence>d.precedence||a.precedence==d.precedence&&a.id>d.id)break;b=c;c=c.next}this.bodylisteners.inlined_insert(b,a);this.invalidatebody()},removebody:function(a){this.bodylisteners.remove(a);this.invalidatebody()},invalidatebody:function(){for(var a=this.cbsets.head;null!=a;)a.elt.zip_bodylisteners=!0,a=a.next},conlisteners:null,
addconstraint:function(a){for(var b=null,c=this.conlisteners.head;null!=c;){var d=c.elt;if(a.precedence>d.precedence||a.precedence==d.precedence&&a.id>d.id)break;b=c;c=c.next}this.conlisteners.inlined_insert(b,a);this.invalidateconstraint()},removeconstraint:function(a){this.conlisteners.remove(a);this.invalidateconstraint()},invalidateconstraint:function(){for(var a=this.cbsets.head;null!=a;)a.elt.zip_conlisteners=!0,a=a.next},__class__:d.callbacks.ZPP_CbType};d.util.ZPP_Flags=function(){};l["zpp_nape.util.ZPP_Flags"]=
d.util.ZPP_Flags;d.util.ZPP_Flags.__name__=["zpp_nape","util","ZPP_Flags"];d.util.ZPP_Flags.GravMassMode_DEFAULT=null;d.util.ZPP_Flags.GravMassMode_FIXED=null;d.util.ZPP_Flags.GravMassMode_SCALED=null;d.util.ZPP_Flags.InertiaMode_DEFAULT=null;d.util.ZPP_Flags.InertiaMode_FIXED=null;d.util.ZPP_Flags.MassMode_DEFAULT=null;d.util.ZPP_Flags.MassMode_FIXED=null;d.util.ZPP_Flags.BodyType_STATIC=null;d.util.ZPP_Flags.BodyType_DYNAMIC=null;d.util.ZPP_Flags.BodyType_KINEMATIC=null;d.util.ZPP_Flags.ListenerType_BODY=
null;d.util.ZPP_Flags.ListenerType_CONSTRAINT=null;d.util.ZPP_Flags.PreFlag_ACCEPT=null;d.util.ZPP_Flags.ListenerType_INTERACTION=null;d.util.ZPP_Flags.PreFlag_IGNORE=null;d.util.ZPP_Flags.ListenerType_PRE=null;d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=null;d.util.ZPP_Flags.PreFlag_IGNORE_ONCE=null;d.util.ZPP_Flags.CbEvent_BEGIN=null;d.util.ZPP_Flags.CbEvent_ONGOING=null;d.util.ZPP_Flags.InteractionType_COLLISION=null;d.util.ZPP_Flags.CbEvent_END=null;d.util.ZPP_Flags.InteractionType_SENSOR=null;d.util.ZPP_Flags.CbEvent_WAKE=
null;d.util.ZPP_Flags.InteractionType_FLUID=null;d.util.ZPP_Flags.CbEvent_SLEEP=null;d.util.ZPP_Flags.InteractionType_ANY=null;d.util.ZPP_Flags.CbEvent_BREAK=null;d.util.ZPP_Flags.CbEvent_PRE=null;d.util.ZPP_Flags.Winding_UNDEFINED=null;d.util.ZPP_Flags.Winding_CLOCKWISE=null;d.util.ZPP_Flags.Winding_ANTICLOCKWISE=null;d.util.ZPP_Flags.ValidationResult_VALID=null;d.util.ZPP_Flags.ValidationResult_DEGENERATE=null;d.util.ZPP_Flags.ValidationResult_CONCAVE=null;d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=
null;d.util.ZPP_Flags.ShapeType_CIRCLE=null;d.util.ZPP_Flags.ShapeType_POLYGON=null;d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=null;d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=null;d.util.ZPP_Flags.ArbiterType_COLLISION=null;d.util.ZPP_Flags.ArbiterType_SENSOR=null;d.util.ZPP_Flags.ArbiterType_FLUID=null;d.callbacks.ZPP_Listener=function(){this.body=this.constraint=this.interaction=this.space=null;this.id=this.type=this.event=this.precedence=0;this.outer=null;this.id=d.ZPP_ID.Listener()};l["zpp_nape.callbacks.ZPP_Listener"]=
d.callbacks.ZPP_Listener;d.callbacks.ZPP_Listener.__name__=["zpp_nape","callbacks","ZPP_Listener"];d.callbacks.ZPP_Listener.setlt=function(a,b){return a.precedence>b.precedence||a.precedence==b.precedence&&a.id>b.id};d.callbacks.ZPP_Listener.prototype={outer:null,id:null,type:null,event:null,precedence:null,body:null,constraint:null,interaction:null,space:null,swapEvent:function(){},invalidate_precedence:function(){},addedToSpace:function(){},removedFromSpace:function(){},__class__:d.callbacks.ZPP_Listener};
d.callbacks.ZPP_BodyListener=function(a,b,c){this.outer_zn=this.options=this.handler=null;d.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=c;this.body=this;this.type=d.util.ZPP_Flags.id_ListenerType_BODY;this.options=a.zpp_inner};l["zpp_nape.callbacks.ZPP_BodyListener"]=d.callbacks.ZPP_BodyListener;d.callbacks.ZPP_BodyListener.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];d.callbacks.ZPP_BodyListener.__super__=d.callbacks.ZPP_Listener;d.callbacks.ZPP_BodyListener.prototype=z(d.callbacks.ZPP_Listener.prototype,
{outer_zn:null,options:null,handler:null,addedToSpace:function(){this.options.handler=w(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addbody(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=a;){var b=a.elt;b.bodylisteners.remove(this);b.invalidatebody();a=a.next}this.options.handler=null},cbtype_change:function(a,b,c){this.removedFromSpace();this.options.effect_change(a,b,c);this.addedToSpace()},invalidate_precedence:function(){null!=
this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:d.callbacks.ZPP_BodyListener});d.callbacks.ZPP_ConstraintListener=function(a,b,c){this.outer_zn=this.options=this.handler=null;d.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=c;this.constraint=this;this.type=d.util.ZPP_Flags.id_ListenerType_CONSTRAINT;this.options=a.zpp_inner};l["zpp_nape.callbacks.ZPP_ConstraintListener"]=d.callbacks.ZPP_ConstraintListener;
d.callbacks.ZPP_ConstraintListener.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];d.callbacks.ZPP_ConstraintListener.__super__=d.callbacks.ZPP_Listener;d.callbacks.ZPP_ConstraintListener.prototype=z(d.callbacks.ZPP_Listener.prototype,{outer_zn:null,options:null,handler:null,addedToSpace:function(){this.options.handler=w(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addconstraint(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=
a;){var b=a.elt;b.conlisteners.remove(this);b.invalidateconstraint();a=a.next}this.options.handler=null},cbtype_change:function(a,b,c){this.removedFromSpace();this.options.effect_change(a,b,c);this.addedToSpace()},invalidate_precedence:function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:d.callbacks.ZPP_ConstraintListener});d.util.ZNPList_ZPP_CbType=function(){this.length=0;this.modified=
this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CbType"]=d.util.ZNPList_ZPP_CbType;d.util.ZNPList_ZPP_CbType.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"];d.util.ZNPList_ZPP_CbType.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_CbType.zpp_pool?b=new d.util.ZNPNode_ZPP_CbType:
(b=d.util.ZNPNode_ZPP_CbType.zpp_pool,d.util.ZNPNode_ZPP_CbType.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CbType.zpp_pool?c=new d.util.ZNPNode_ZPP_CbType:(c=d.util.ZNPNode_ZPP_CbType.zpp_pool,d.util.ZNPNode_ZPP_CbType.zpp_pool=c.next,c.next=null);null;
c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbType.zpp_pool;d.util.ZNPNode_ZPP_CbType.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},
remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&
(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbType.zpp_pool;d.util.ZNPNode_ZPP_CbType.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=
null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},
at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CbType};d.callbacks.ZPP_InteractionListener=function(a,b,c,j){this.handlerp=null;this.allowSleepingCallbacks=this.pure=!1;this.options1=this.options2=this.handleri=null;this.itype=0;this.outer_zni=this.outer_znp=null;d.callbacks.ZPP_Listener.call(this);this.type=j;this.interaction=this;this.event=c;this.options1=a.zpp_inner;this.options2=b.zpp_inner;this.allowSleepingCallbacks=!1};l["zpp_nape.callbacks.ZPP_InteractionListener"]=
d.callbacks.ZPP_InteractionListener;d.callbacks.ZPP_InteractionListener.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];d.callbacks.ZPP_InteractionListener.__super__=d.callbacks.ZPP_Listener;d.callbacks.ZPP_InteractionListener.prototype=z(d.callbacks.ZPP_Listener.prototype,{outer_zni:null,outer_znp:null,itype:null,options1:null,options2:null,handleri:null,allowSleepingCallbacks:null,pure:null,handlerp:null,setInteractionType:function(a){this.itype=a},wake:function(){this.with_union(function(a){for(a=
a.interactors.head;null!=a;)a.elt.wake(),a=a.next})},CbSetset:function(a,b,c){for(var j=d.callbacks.ZPP_InteractionListener.UCbSet,g=d.callbacks.ZPP_InteractionListener.VCbSet,i=d.callbacks.ZPP_InteractionListener.WCbSet,a=a.head,e=b.head;null!=a&&null!=e;){var f=a.elt,o=e.elt;f==o?(i.inlined_add(f),a=a.next,e=e.next):d.callbacks.ZPP_CbSet.setlt(f,o)?(j.inlined_add(f),a=a.next):(g.inlined_add(o),e=e.next)}for(;null!=a;)j.inlined_add(a.elt),a=a.next;for(;null!=e;)g.inlined_add(e.elt),e=e.next;for(;null!=
j.head;){a=j.pop_unsafe();for(e=b.head;null!=e;)c(a,e.elt),e=e.next}for(;null!=g.head;){b=g.pop_unsafe();for(j=i.head;null!=j;)c(b,j.elt),j=j.next}for(;null!=i.head;){g=i.pop_unsafe();c(g,g);for(b=i.head;null!=b;)c(g,b.elt),b=b.next}},CbTypeset:function(a,b,c){for(var j=d.callbacks.ZPP_InteractionListener.UCbType,g=d.callbacks.ZPP_InteractionListener.VCbType,i=d.callbacks.ZPP_InteractionListener.WCbType,a=a.head,e=b.head;null!=a&&null!=e;){var f=a.elt,o=e.elt;f==o?(i.inlined_add(f),a=a.next,e=e.next):
f.id<o.id?(j.inlined_add(f),a=a.next):(g.inlined_add(o),e=e.next)}for(;null!=a;)j.inlined_add(a.elt),a=a.next;for(;null!=e;)g.inlined_add(e.elt),e=e.next;for(;null!=j.head;){a=j.pop_unsafe();for(e=b.head;null!=e;)c(a,e.elt),e=e.next}for(;null!=g.head;){b=g.pop_unsafe();for(j=i.head;null!=j;)c(b,j.elt),j=j.next}for(;null!=i.head;){g=i.pop_unsafe();c(g,g);for(b=i.head;null!=b;)c(g,b.elt),b=b.next}},with_uniquesets:function(a){var b=this,c;null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?c=new d.util.ZPP_Set_ZPP_CbSetPair:
(c=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=c.next,c.next=null);null;c.lt=d.callbacks.ZPP_CbSetPair.setlt;this.CbTypeset(this.options1.includes,this.options2.includes,function(a,j){b.CbSetset(a.cbsets,j.cbsets,function(a,j){a.validate();j.validate();d.callbacks.ZPP_CbSet.single_intersection(a,j,b)&&c.try_insert(d.callbacks.ZPP_CbSetPair.get(a,j))})});c.clear_with(function(c){a?b.space.freshListenerType(c.a,c.b):b.space.nullListenerType(c.a,c.b);c.a=c.b=null;c.listeners.clear();
c.next=d.callbacks.ZPP_CbSetPair.zpp_pool;d.callbacks.ZPP_CbSetPair.zpp_pool=c});var j=c;j.data=null;j.lt=null;j.swapped=null;j.next=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=j},with_union:function(a){for(var b=this.options1.includes.head,c=this.options2.includes.head;null!=b&&null!=c;){var d=b.elt,g=c.elt;d==g?(a(d),b=b.next,c=c.next):d.id<g.id?(a(d),b=b.next):(a(g),c=c.next)}for(;null!=b;)a(b.elt),b=b.next;for(;null!=c;)a(c.elt),c=c.next},addedToSpace:function(){var a=
this,b=this.type==d.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(c){c.addint(a);if(b)for(c=c.interactors.head;null!=c;)c.elt.wake(),c=c.next});this.options1.handler=w(this,this.cbtype_change1);this.options2.handler=w(this,this.cbtype_change2);this.with_uniquesets(!0)},removedFromSpace:function(){var a=this;this.with_uniquesets(!1);var b=this.type==d.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(c){c.listeners.remove(a);c.invalidateint();if(b)for(c=c.interactors.head;null!=
c;)c.elt.wake(),c=c.next});this.options1.handler=null;this.options2.handler=null},invalidate_precedence:function(){var a=this;if(null!=this.space){var b=this.type==d.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(c){c.listeners.remove(a);c.invalidateint();c.addint(a);if(b)for(c=c.interactors.head;null!=c;)c.elt.wake(),c=c.next})}},cbtype_change1:function(a,b,c){this.cbtype_change(this.options1,a,b,c)},cbtype_change2:function(a,b,c){this.cbtype_change(this.options2,a,b,c)},cbtype_change:function(a,
b,c,d){this.removedFromSpace();a.effect_change(b,c,d);this.addedToSpace();null},swapEvent:function(a){this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:d.callbacks.ZPP_InteractionListener});d.callbacks.ZPP_OptionType=function(){this.outer=this.handler=this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=null;this.includes=new d.util.ZNPList_ZPP_CbType;this.excludes=new d.util.ZNPList_ZPP_CbType};l["zpp_nape.callbacks.ZPP_OptionType"]=d.callbacks.ZPP_OptionType;d.callbacks.ZPP_OptionType.__name__=
["zpp_nape","callbacks","ZPP_OptionType"];d.callbacks.ZPP_OptionType.argument=function(a){return null==a?new f.callbacks.OptionType:D.Boot.__instanceof(a,f.callbacks.OptionType)?a:(new f.callbacks.OptionType).including(a)};d.callbacks.ZPP_OptionType.prototype={outer:null,handler:null,includes:null,excludes:null,wrap_includes:null,wrap_excludes:null,setup_includes:function(){this.wrap_includes=d.util.ZPP_CbTypeList.get(this.includes,!0)},setup_excludes:function(){this.wrap_excludes=d.util.ZPP_CbTypeList.get(this.excludes,
!0)},excluded:function(a){return this.nonemptyintersection(a,this.excludes)},included:function(a){return this.nonemptyintersection(a,this.includes)},compatible:function(a){return this.nonemptyintersection(a,this.includes)&&!this.nonemptyintersection(a,this.excludes)},nonemptyintersection:function(a,b){for(var c=!1,d=a.head,g=b.head;null!=g&&null!=d;){var i=g.elt,e=d.elt;if(i==e){c=!0;break}else i.id<e.id?g=g.next:d=d.next}return c},effect_change:function(a,b,c){if(b)if(c){b=null;for(c=this.includes.head;null!=
c&&!(a.id<c.elt.id);)b=c,c=c.next;this.includes.inlined_insert(b,a)}else this.includes.remove(a);else if(c){b=null;for(c=this.excludes.head;null!=c&&!(a.id<c.elt.id);)b=c,c=c.next;this.excludes.inlined_insert(b,a)}else this.excludes.remove(a)},append_type:function(a,b){a==this.includes?this.includes.has(b)||(this.excludes.has(b)?null!=this.handler?this.handler(b,!1,!1):this.effect_change(b,!1,!1):null!=this.handler?this.handler(b,!0,!0):this.effect_change(b,!0,!0)):this.excludes.has(b)||(this.includes.has(b)?
null!=this.handler?this.handler(b,!0,!1):this.effect_change(b,!0,!1):null!=this.handler?this.handler(b,!1,!0):this.effect_change(b,!1,!0))},set:function(a){if(a!=this){for(;null!=this.includes.head;)this.append_type(this.excludes,this.includes.head.elt);for(;null!=this.excludes.head;)this.append_type(this.includes,this.excludes.head.elt);for(var b=a.excludes.head;null!=b;)this.append_type(this.excludes,b.elt),b=b.next;for(a=a.includes.head;null!=a;)this.append_type(this.includes,a.elt),a=a.next}return this},
append:function(a,b){if(D.Boot.__instanceof(b,f.callbacks.CbType))this.append_type(a,b.zpp_inner);else if(D.Boot.__instanceof(b,f.callbacks.CbTypeList)){var c;b.zpp_inner.valmod();for(c=f.callbacks.CbTypeIterator.get(b);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);this.append_type(a,d.zpp_inner)}}else if(b instanceof Array&&null==b.__enum__)for(c=0;c<b.length;)d=b[c],++c,this.append_type(a,d.zpp_inner)},__class__:d.callbacks.ZPP_OptionType};d.constraint={};d.constraint.ZPP_Constraint=
function(){this.pre_dt=0;this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.ignore=this.__velocity=!1;this.component=null;this.breakUnderForce=this.breakUnderError=this.removeOnBreak=!1;this.frequency=this.damping=this.maxForce=this.maxError=0;this.active=this.stiff=!1;this.userData=this.compound=this.space=null;this.id=0;this.outer=null;this.__velocity=!1;this.id=d.ZPP_ID.Constraint();this.active=this.stiff=!0;this.ignore=!1;this.frequency=10;this.damping=1;this.maxError=this.maxForce=Math.POSITIVE_INFINITY;
this.breakUnderForce=!1;this.removeOnBreak=!0;this.pre_dt=-1;this.cbTypes=new d.util.ZNPList_ZPP_CbType};l["zpp_nape.constraint.ZPP_Constraint"]=d.constraint.ZPP_Constraint;d.constraint.ZPP_Constraint.__name__=["zpp_nape","constraint","ZPP_Constraint"];d.constraint.ZPP_Constraint.prototype={outer:null,clear:function(){},id:null,userData:null,compound:null,space:null,active:null,stiff:null,frequency:null,damping:null,maxForce:null,maxError:null,breakUnderForce:null,breakUnderError:null,removeOnBreak:null,
component:null,ignore:null,__velocity:null,immutable_midstep:function(){},cbTypes:null,cbSet:null,wrap_cbTypes:null,setupcbTypes:function(){this.wrap_cbTypes=d.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=w(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=w(this,this.wrap_cbTypes_subber);this.wrap_cbTypes.zpp_inner.dontremove=!0},wrap_cbTypes_subber:function(a){a=a.zpp_inner;if(this.cbTypes.has(a)&&(null!=this.space&&(this.dealloc_cbSet(),a.constraints.remove(this)),
this.cbTypes.remove(a),null!=this.space))this.alloc_cbSet(),this.wake()},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},insert_cbtype:function(a){if(!this.cbTypes.has(a)){null!=this.space&&(this.dealloc_cbSet(),a.constraints.add(this));for(var b=null,c=this.cbTypes.head;null!=c&&!(a.id<c.elt.id);)b=c,c=c.next;this.cbTypes.inlined_insert(b,a);null!=this.space&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){if(null!=(this.cbSet=this.space.cbsets.get(this.cbTypes)))this.cbSet.count++,
this.cbSet.constraints.add(this)},dealloc_cbSet:function(){if(null!=this.cbSet){this.cbSet.constraints.remove(this);if(0==--this.cbSet.count){this.space.cbsets.remove(this.cbSet);var a=this.cbSet;a.free();a.next=d.callbacks.ZPP_CbSet.zpp_pool;d.callbacks.ZPP_CbSet.zpp_pool=a}this.cbSet=null}},activate:function(){null!=this.space&&this.activeInSpace()},deactivate:function(){null!=this.space&&this.inactiveOrOutSpace()},addedToSpace:function(){this.active&&this.activeInSpace();this.activeBodies();for(var a=
this.cbTypes.head;null!=a;)a.elt.constraints.add(this),a=a.next},removedFromSpace:function(){this.active&&this.inactiveOrOutSpace();this.inactiveBodies();for(var a=this.cbTypes.head;null!=a;)a.elt.constraints.remove(this),a=a.next},activeInSpace:function(){this.alloc_cbSet();null==d.space.ZPP_Component.zpp_pool?this.component=new d.space.ZPP_Component:(this.component=d.space.ZPP_Component.zpp_pool,d.space.ZPP_Component.zpp_pool=this.component.next,this.component.next=null);null;this.component.isBody=
!1;this.component.constraint=this},inactiveOrOutSpace:function(){this.dealloc_cbSet();var a=this.component;a.body=null;a.constraint=null;null;a.next=d.space.ZPP_Component.zpp_pool;d.space.ZPP_Component.zpp_pool=a;this.component=null},activeBodies:function(){},inactiveBodies:function(){},clearcache:function(){},validate:function(){},wake_connected:function(){},forest:function(){},pair_exists:function(){return!1},broken:function(){},warmStart:function(){},pre_dt:null,preStep:function(){return!1},applyImpulseVel:function(){return!1},
applyImpulsePos:function(){return!1},wake:function(){null!=this.space&&this.space.wake_constraint(this)},draw:function(){},copy:function(){return null},copyto:function(a){var b=this.outer;null==b.zpp_inner.wrap_cbTypes&&b.zpp_inner.setupcbTypes();for(var c=b.zpp_inner.wrap_cbTypes.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);var g=void 0;null==a.zpp_inner.wrap_cbTypes&&a.zpp_inner.setupcbTypes();g=a.zpp_inner.wrap_cbTypes;g.add(d)}a.zpp_inner.removeOnBreak=b.zpp_inner.removeOnBreak;
a.zpp_inner.removeOnBreak;a.set_breakUnderError(b.zpp_inner.breakUnderError);a.set_breakUnderForce(b.zpp_inner.breakUnderForce);a.set_maxError(b.zpp_inner.maxError);a.set_maxForce(b.zpp_inner.maxForce);a.set_damping(b.zpp_inner.damping);a.set_frequency(b.zpp_inner.frequency);a.set_stiff(b.zpp_inner.stiff);a.set_ignore(b.zpp_inner.ignore);a.set_active(b.zpp_inner.active)},__class__:d.constraint.ZPP_Constraint};d.constraint.ZPP_AngleJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=
this.bias=0;this.b1=this.b2=null;this.scale=0;this.slack=this.equal=!1;this.ratio=this.jointMin=this.jointMax=0;this.outer_zn=null;d.constraint.ZPP_Constraint.call(this);this.ratio=1;this.jAcc=0;this.slack=!1;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1};l["zpp_nape.constraint.ZPP_AngleJoint"]=d.constraint.ZPP_AngleJoint;d.constraint.ZPP_AngleJoint.__name__=["zpp_nape","constraint","ZPP_AngleJoint"];d.constraint.ZPP_AngleJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_AngleJoint.prototype=
z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,jointMin:null,jointMax:null,slack:null,equal:null,scale:null,is_slack:function(){var a,b=this.ratio*this.b2.rot-this.b1.rot;this.equal?(b-=this.jointMax,a=!1,this.scale=1):b<this.jointMin?(b=this.jointMin-b,this.scale=-1,a=!1):b>this.jointMax?(b-=this.jointMax,this.scale=1,a=!1):(b=this.scale=0,a=!0);b;return a},bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(0,0,-this.scale*this.jAcc):f.geom.Vec3.get(0,0,this.ratio*
this.scale*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,b2:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var c=new f.constraint.AngleJoint(null,null,this.jointMin,this.jointMax,this.ratio);
this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}return c},
validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: AngleJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: AngleJoint must have jointMin <= jointMax";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=
a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,
a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1;this.slack=!1},preStep:function(a){-1==this.pre_dt&&
(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;var c;c=this.ratio*this.b2.rot-this.b1.rot;this.equal?(c-=this.jointMax,this.slack=!1,this.scale=1):c<this.jointMin?(c=this.jointMin-c,this.scale=-1,this.slack=!1):c>this.jointMax?(c-=this.jointMax,this.scale=1,this.slack=!1):(c=this.scale=0,this.slack=!0);if(!this.slack){this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=
this.bias=0;else{if(this.breakUnderError&&c*c>this.maxError*this.maxError)return!0;var d;d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));var g=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=g;this.kMass*=g;this.bias=-c*d;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){this.slack||(this.b1.angvel-=this.scale*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.ratio*
this.scale*this.b2.iinertia*this.jAcc)},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-this.scale*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&(this.jAcc>this.jMax||this.jAcc<-this.jMax))return!0;this.stiff||(this.jAcc>this.jMax?this.jAcc=this.jMax:this.jAcc<-this.jMax&&(this.jAcc=-this.jMax));a=this.jAcc-b;this.b1.angvel-=
this.scale*this.b1.iinertia*a;this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b;a=this.ratio*this.b2.rot-this.b1.rot;this.equal?(a-=this.jointMax,b=!1,this.scale=1):a<this.jointMin?(a=this.jointMin-a,this.scale=-1,b=!1):a>this.jointMax?(a-=this.jointMax,this.scale=1,b=!1):(a=this.scale=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;b=-(0.5*a)*this.kMass;if(this.equal||0>b)this.b1.delta_rot(-this.scale*b*this.b1.iinertia),
this.b2.delta_rot(this.ratio*this.scale*b*this.b2.iinertia)}return!1},draw:function(a){var b=this.outer_zn,c=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var j=b.zpp_inner_zn.ratio*(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMin,g=b.zpp_inner_zn.ratio*(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMax;if(j>g)var i=j,j=g,g=i;if((null==
b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>j){var i=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,e=g,i=i<e?i:e;d.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),j,i,10+(j-j)*c,10+(i-j)*c,16776960)}else if(!this.stiff&&(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<j)d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),
(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,j,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-j)*c,10+(j-j)*c,16776960);if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<g)i=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,e=j,i=i>e?i:e,d.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),i,g,10+(i-j)*c,10+(g-j)*c,65535);else if(!this.stiff&&(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>g)d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,g,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-j)*c,10+(g-j)*c,65535);d.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,
10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-j)*c,255)}if((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world()){j=(this.jointMin+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/b.zpp_inner_zn.ratio;g=(this.jointMax+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/b.zpp_inner_zn.ratio;j>g&&(i=j,j=g,g=i);if((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>
j)i=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,e=g,i=i<e?i:e,d.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),j,i,10+(j-j)*c,10+(i-j)*c,16776960);else if(!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<j)d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,
j,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-j)*c,10+(j-j)*c,16776960);if((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<g)i=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,e=j,i=i>e?i:e,d.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),i,g,10+(i-j)*c,10+(g-j)*c,65535);else if(!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>g)d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,
(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,g,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-j)*c,10+(g-j)*c,65535);d.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-j)*c,16711680)}},
__class__:d.constraint.ZPP_AngleJoint});d.constraint.ZPP_AngleDraw=function(){};l["zpp_nape.constraint.ZPP_AngleDraw"]=d.constraint.ZPP_AngleDraw;d.constraint.ZPP_AngleDraw.__name__=["zpp_nape","constraint","ZPP_AngleDraw"];d.constraint.ZPP_AngleDraw.indicator=function(a,b,c,d,g){c=f.geom.Vec2.get(Math.cos(c),Math.sin(c),null);a.drawFilledCircle(b.add(c.mul(d,!0),!0),2,g);c.dispose()};d.constraint.ZPP_AngleDraw.drawSpiralSpring=function(a,b,c,j,g,i,e,n){null==n&&(n=4);if(c>j)var o=c,c=j,j=o,o=g,g=
i,i=o;if(c!=j){var i=i-g,j=j-c,o=2*Math.PI*i/j,o=0>o?-o:o,h;h=Math.ceil(3*(j/d.constraint.ZPP_AngleDraw.maxarc));var x=4*n;h=h>x?h:x;var x=j/h,k=1/h,l=Math.cos(c),m=Math.sin(c),s;s=g+0*i+0.75*o*Math.sin(0*2*n*Math.PI);var p=f.geom.Vec2.get(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+s*l,function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)+s*m,null),q=i+1.5*n*o*Math.PI*Math.cos(0*2*n*Math.PI),u=q*l-s*j*m,l=q*m+s*j*l;s=f.geom.Vec2.get(null,null,null);for(var q=f.geom.Vec2.get(null,
null,null),v=0;v<h;){var w=v++,c=c+x,y=Math.cos(c),m=Math.sin(c),r;r=g+i*(w+1)*k+0.75*o*Math.sin(2*n*Math.PI*(w+1)*k);s.setxy(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+r*y,function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)+r*m);var z=i+1.5*n*o*Math.PI*Math.cos(2*n*Math.PI*(w+1)*k),w=z*y-r*j*m;r=z*m+r*j*y;z=u*r-l*w;if(z*z<f.Config.epsilon||0>=u*w+l*r||0.999<u*w+l*r)a.drawLine(p,s,e);else{var t=void 0;s.zpp_inner.validate();var t=s.zpp_inner.x,A=void 0;p.zpp_inner.validate();
A=p.zpp_inner.x;t=(t-A)*r;A=void 0;p.zpp_inner.validate();var A=p.zpp_inner.y,B=void 0;s.zpp_inner.validate();B=s.zpp_inner.y;z=(t+(A-B)*w)/z;0>=z?a.drawLine(p,s,e):(q.set_x(function(){p.zpp_inner.validate();return p.zpp_inner.x}(this)+u*z),q.set_y(function(){p.zpp_inner.validate();return p.zpp_inner.y}(this)+l*z),a.drawCurve(p,q,s,e))}l=y;u=w;l=r;p.set(s)}p.dispose();s.dispose();q.dispose()}};d.constraint.ZPP_AngleDraw.drawSpiral=function(a,b,c,j,g,i,e){if(c>j)var n=c,c=j,j=n,n=g,g=i,i=n;if(c!=j){for(var i=
i-g,j=j-c,n=Math.ceil(j/d.constraint.ZPP_AngleDraw.maxarc),o=i/n,h=j/n,x=Math.cos(c),k=Math.sin(c),l=f.geom.Vec2.get(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+g*x,function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)+g*k,null),m=i*x-g*j*k,x=i*k+g*j*x,s=f.geom.Vec2.get(null,null,null),p=f.geom.Vec2.get(null,null,null),q=0;q<n;){q++;var g=g+o,c=c+h,u=Math.cos(c),k=Math.sin(c);s.setxy(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+g*u,function(){b.zpp_inner.validate();
return b.zpp_inner.y}(this)+g*k);var v=i*u-g*j*k,w=i*k+g*j*u,y=m*w-x*v;if(y*y<f.Config.epsilon)a.drawLine(l,s,e);else{var r=void 0;s.zpp_inner.validate();var r=s.zpp_inner.x,z=void 0;l.zpp_inner.validate();z=l.zpp_inner.x;r=(r-z)*w;z=void 0;l.zpp_inner.validate();var z=l.zpp_inner.y,t=void 0;s.zpp_inner.validate();t=s.zpp_inner.y;y=(r+(z-t)*v)/y;0>=y?a.drawLine(l,s,e):(p.set_x(function(){l.zpp_inner.validate();return l.zpp_inner.x}(this)+m*y),p.set_y(function(){l.zpp_inner.validate();return l.zpp_inner.y}(this)+
x*y),a.drawCurve(l,p,s,e))}x=u;m=v;x=w;l.set(s)}l.dispose();s.dispose();p.dispose()}};d.constraint.ZPP_CopyHelper=function(){this.bc=this.cb=null;this.id=0};l["zpp_nape.constraint.ZPP_CopyHelper"]=d.constraint.ZPP_CopyHelper;d.constraint.ZPP_CopyHelper.__name__=["zpp_nape","constraint","ZPP_CopyHelper"];d.constraint.ZPP_CopyHelper.dict=function(a,b){var c=new d.constraint.ZPP_CopyHelper;c.id=a;c.bc=b;return c};d.constraint.ZPP_CopyHelper.todo=function(a,b){var c=new d.constraint.ZPP_CopyHelper;c.id=
a;c.cb=b;return c};d.constraint.ZPP_CopyHelper.prototype={id:null,bc:null,cb:null,__class__:d.constraint.ZPP_CopyHelper};d.constraint.ZPP_DistanceJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.nx=this.ny=this.cx1=this.cx2=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.outer_zn=
null;d.constraint.ZPP_Constraint.call(this);this.jAcc=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=0};l["zpp_nape.constraint.ZPP_DistanceJoint"]=d.constraint.ZPP_DistanceJoint;d.constraint.ZPP_DistanceJoint.__name__=["zpp_nape","constraint","ZPP_DistanceJoint"];d.constraint.ZPP_DistanceJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_DistanceJoint.prototype=z(d.constraint.ZPP_Constraint.prototype,
{outer_zn:null,jointMin:null,jointMax:null,slack:null,equal:null,is_slack:function(){var a;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var b=a=0;a=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);b=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);b=a*a+b*b;b<f.Config.epsilon?
(b=0,a=!0):(b=Math.sqrt(b),this.equal?(b-=this.jointMax,a=!1):b<this.jointMin?(b=this.jointMin-b,a=!1):b>this.jointMax?(b-=this.jointMax,a=!1):(b=0,a=!0));b;return a},nx:null,ny:null,cx1:null,cx2:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAcc*this.nx,-this.jAcc*this.ny,-this.cx1*this.jAcc):f.geom.Vec3.get(this.jAcc*this.nx,this.jAcc*this.ny,this.cx2*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=
this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=
f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=w(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=w(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=
f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=w(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=w(this,this.invalidate_a2)},wrap_a2:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var c=new f.constraint.DistanceJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.jointMin,this.jointMax);this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=
a[g];++g;if(i.id==this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2)throw"Error: DistanceJoint cannot be simulated null bodies";
if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";
},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=
this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;
else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;this.a1relx=this.b1.axisy*
this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var c;this.nx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.ny=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);c=this.nx*this.nx+this.ny*this.ny;if(c<f.Config.epsilon)c=this.ny=this.nx=0,this.slack=!0;else{c=Math.sqrt(c);var d=1/c;this.nx*=
d;this.ny*=d;this.equal?(c-=this.jointMax,this.slack=!1):c<this.jointMin?(c=this.jointMin-c,this.nx=-this.nx,this.ny=-this.ny,this.slack=!1):c>this.jointMax?(c-=this.jointMax,this.slack=!1):(c=this.ny=this.nx=0,this.slack=!0)}if(!this.slack){this.cx1=this.ny*this.a1relx-this.nx*this.a1rely;this.cx2=this.ny*this.a2relx-this.nx*this.a2rely;this.kMass=this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=
this.bias=0;else{if(this.breakUnderError&&c*c>this.maxError*this.maxError)return!0;var g;g=2*Math.PI*this.frequency;this.gamma=1/(a*g*(2*this.damping+g*a));d=1/(1+this.gamma);g=a*g*g*this.gamma;this.gamma*=d;this.kMass*=d;this.bias=-c*g;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.nx*a;this.b1.vely-=this.ny*a;
a=this.b2.imass*this.jAcc;this.b2.velx+=this.nx*a;this.b2.vely+=this.ny*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.nx*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.ny*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1))-this.jAcc*this.gamma,
b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-b;b=this.b1.imass*a;this.b1.velx-=this.nx*b;this.b1.vely-=this.ny*b;b=this.b2.imass*a;this.b2.velx+=this.nx*b;this.b2.vely+=this.ny*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b,c=0,d=0,c=this.b1.axisy*this.a1localx-this.b1.axisx*
this.a1localy,d=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,g=0,i=0,g=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,i=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,n=0,e=this.b2.posx+g-(this.b1.posx+c),n=this.b2.posy+i-(this.b1.posy+d);a=e*e+n*n;a<f.Config.epsilon?(a=n=e=0,b=!0):(a=Math.sqrt(a),b=1/a,e*=b,n*=b,this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,e=-e,n=-n,b=!1):a>this.jointMax?(a-=this.jointMax,b=!1):(a=n=e=0,b=!0));if(!b){if(this.breakUnderError&&
a*a>this.maxError*this.maxError)return!0;if(a*a<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;a*=0.5;if(6<a*a&&(b=this.b1.smass+this.b2.smass,b>f.Config.epsilon&&(b=-a*(0.75/b),this.equal||0>b)))a=b*this.b1.imass,this.b1.posx-=e*a,this.b1.posy-=n*a,a=b*this.b2.imass,this.b2.posx+=e*a,this.b2.posy+=n*a,e=this.b2.posx+g-(this.b1.posx+c),n=this.b2.posy+i-(this.b1.posy+d),a=e*e+n*n,a<f.Config.epsilon?a=n=e=0:(a=Math.sqrt(a),b=1/a,e*=b,n*=b,this.equal?a-=this.jointMax:a<this.jointMin?
(a=this.jointMin-a,e=-e,n=-n):a>this.jointMax?a-=this.jointMax:a=n=e=0),a*=0.5;c=n*c-e*d;g=n*g-e*i;i=this.b1.smass+this.b2.smass+c*c*this.b1.sinertia+g*g*this.b2.sinertia;0!=i&&(i=1/i);b=-a*i;if(this.equal||0>b)i=this.b1.imass*b,this.b1.posx-=e*i,this.b1.posy-=n*i,i=this.b2.imass*b,this.b2.posx+=e*i,this.b2.posy+=n*i,this.b1.delta_rot(-c*this.b1.iinertia*b),this.b2.delta_rot(g*this.b2.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,c=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(){null==
b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),d=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),g=d.sub(c),i=Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();
return g.zpp_inner.y}(this));if(0!=i){g.muleq(1/i);var e=c.add(d).muleq(0.5),f=e.sub(g.mul(0.5*this.jointMin,!0)),o=e.add(g.mul(0.5*this.jointMin,!0)),h=e.sub(g.mul(0.5*this.jointMax,!0)),x=e.add(g.mul(0.5*this.jointMax,!0));a.drawLine(f,o,16776960);a.drawLine(h,f,65535);a.drawLine(x,o,65535);this.stiff||(i>this.jointMax?(a.drawSpring(h,c,65535),a.drawSpring(x,d,65535)):i<this.jointMin&&(a.drawSpring(f,c,16776960),a.drawSpring(o,d,16776960)));e.dispose();f.dispose();o.dispose();h.dispose();x.dispose()}a.drawFilledCircle(c,
2,255);a.drawFilledCircle(d,2,16711680);c.dispose();d.dispose();g.dispose()},__class__:d.constraint.ZPP_DistanceJoint});d.constraint.ZPP_LineJoint=function(){this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.biasx=this.biasy=0;this.wrap_n=null;this.nlocalx=this.nlocaly=this.nrelx=this.nrely=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=null;this.dot1=this.dot2=this.cx1=this.cx2=this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.equal=!1;
this.scale=this.jointMin=this.jointMax=0;this.outer_zn=null;d.constraint.ZPP_Constraint.call(this);this.jAccy=this.jAccx=this.nrely=this.nrelx=this.nlocaly=this.nlocalx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.jMax=Math.POSITIVE_INFINITY;this.jointMin=Math.NEGATIVE_INFINITY;this.jointMax=Math.POSITIVE_INFINITY;this.stepped=!1};l["zpp_nape.constraint.ZPP_LineJoint"]=d.constraint.ZPP_LineJoint;d.constraint.ZPP_LineJoint.__name__=
["zpp_nape","constraint","ZPP_LineJoint"];d.constraint.ZPP_LineJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_LineJoint.prototype=z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,scale:null,jointMin:null,jointMax:null,equal:null,dot1:null,dot2:null,cx1:null,cx2:null,bodyImpulse:function(a){if(this.stepped){var b=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,c=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy;return a==this.b1?f.geom.Vec3.get(-b,-c,this.scale*this.cx1*
c-this.dot1*b):f.geom.Vec3.get(b,c,this.scale*this.cx1*c-this.dot1*b)}return f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=
this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=w(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=w(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;
this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=w(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=w(this,this.invalidate_a2)},wrap_a2:null,zip_n:null,nlocalx:null,nlocaly:null,nrelx:null,nrely:null,validate_n:function(){this.wrap_n.zpp_inner.x=
this.nlocalx;this.wrap_n.zpp_inner.y=this.nlocaly},invalidate_n:function(a){this.immutable_midstep("Constraint::n");this.nlocalx=a.x;this.nlocaly=a.y;this.zip_n=!0;this.wake()},setup_n:function(){this.wrap_n=f.geom.Vec2.get(this.nlocalx,this.nlocaly,null);this.wrap_n.zpp_inner._inuse=!0;this.wrap_n.zpp_inner._validate=w(this,this.validate_n);this.wrap_n.zpp_inner._invalidate=w(this,this.invalidate_n)},wrap_n:null,validate_norm:function(){if(this.zip_n){this.zip_n=!1;var a=1/Math.sqrt(this.nlocalx*
this.nlocalx+this.nlocaly*this.nlocaly);this.nlocalx*=a;this.nlocaly*=a}},kMassa:null,kMassb:null,kMassc:null,jAccx:null,jAccy:null,jMax:null,gamma:null,biasx:null,biasy:null,stepped:null,copy:function(a,b){var c=new f.constraint.LineJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_direction(),this.jointMin,this.jointMax);this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=
j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";
if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";if(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly<f.Config.epsilon)throw"Error: DistanceJoint direction must be non-degenerate";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";
},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=
this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;
else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.equal=this.jointMin==this.jointMax;this.stepped=!0;this.validate_norm();
this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.nrelx=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly;this.nrely=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var c=0,d=0,g=0,i=0,c=this.b2.posx+this.a2relx-this.b1.posx-this.a1relx,d=this.b2.posy+this.a2rely-
this.b1.posy-this.a1rely,g=d*this.nrelx-c*this.nrely,i=this.nrelx*c+this.nrely*d;this.equal?(i-=this.jointMin,this.scale=1):i>this.jointMax?(i-=this.jointMax,this.scale=1):i<this.jointMin?(i=this.jointMin-i,this.scale=-1):this.scale=i=0;var e=0,f=0,e=c+this.a1relx,f=d+this.a1rely;this.dot1=this.nrelx*e+this.nrely*f;this.cx1=f*this.nrelx-e*this.nrely;this.dot2=this.nrelx*this.a2relx+this.nrely*this.a2rely;this.cx2=this.a2rely*this.nrelx-this.a2relx*this.nrely;this.kMassa=this.b1.smass+this.b2.smass+
this.dot1*this.dot1*this.b1.sinertia+this.dot2*this.dot2*this.b2.sinertia;this.kMassb=-this.scale*(this.dot1*this.cx1*this.b1.sinertia+this.dot2*this.cx2*this.b2.sinertia);this.kMassc=this.scale*this.scale*(this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia);c=this.kMassa*this.kMassc-this.kMassb*this.kMassb;c!=c?(this.kMassa=this.kMassb=this.kMassc=0,c=3):0==c?(c=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,c|=1),0!=this.kMassc?this.kMassc=
1/this.kMassc:(this.kMassc=0,c|=2),this.kMassb=0):(c=1/c,d=this.kMassc*c,this.kMassc=this.kMassa*c,this.kMassa=d,this.kMassb*=-c,c=0);0!=(c&1)&&(this.jAccx=0);0!=(c&2)&&(this.jAccy=0);if(this.stiff)this.biasy=this.biasx=this.gamma=0;else{if(this.breakUnderError&&g*g+i*i>this.maxError*this.maxError)return!0;d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));c=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=c;this.kMassa*=c;this.kMassb*=c;this.kMassc*=c;this.biasx=g;this.biasy=i;g=-d;
this.biasx*=g;this.biasy*=g;g=this.maxError;i=this.biasx*this.biasx+this.biasy*this.biasy;i>g*g&&(g*=1/Math.sqrt(i),this.biasx*=g,this.biasy*=g)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,b=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy,c=this.b1.imass;this.b1.velx-=a*c;this.b1.vely-=b*c;c=this.b2.imass;this.b2.velx+=a*c;this.b2.vely+=b*c;this.b1.angvel+=(this.scale*this.cx1*this.jAccy-this.dot1*
this.jAccx)*this.b1.iinertia;this.b2.angvel+=(this.dot2*this.jAccx-this.scale*this.cx2*this.jAccy)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,c=0,d=0,c=this.b2.velx-this.b1.velx,d=this.b2.vely-this.b1.vely,c=c+(this.b2.kinvelx-this.b1.kinvelx),d=d+(this.b2.kinvely-this.b1.kinvely),a=d*this.nrelx-c*this.nrely+(this.b2.angvel+this.b2.kinangvel)*this.dot2-(this.b1.angvel+this.b1.kinangvel)*this.dot1,b=this.scale*(this.nrelx*c+this.nrely*d-(this.b2.angvel+this.b2.kinangvel)*this.cx2+(this.b1.angvel+
this.b1.kinangvel)*this.cx1),d=c=0,c=this.biasx-a,d=this.biasy-b,a=this.kMassa*c+this.kMassb*d,d=this.kMassb*c+this.kMassc*d,b=this.gamma,c=a-this.jAccx*b,d=d-this.jAccy*b,b=a=0,a=this.jAccx,b=this.jAccy;this.jAccx+=1*c;this.jAccy+=1*d;0<this.jAccy&&(this.jAccy=0);if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(c=this.jMax,d=this.jAccx*this.jAccx+this.jAccy*this.jAccy,d>c*c&&(c*=1/Math.sqrt(d),this.jAccx*=c,this.jAccy*=c));var c=
this.jAccx-a,d=this.jAccy-b,a=this.scale*this.nrelx*d-this.nrely*c,b=this.nrelx*c+this.scale*this.nrely*d,g=this.b1.imass;this.b1.velx-=a*g;this.b1.vely-=b*g;g=this.b2.imass;this.b2.velx+=a*g;this.b2.vely+=b*g;this.b1.angvel+=(this.scale*this.cx1*d-this.dot1*c)*this.b1.iinertia;this.b2.angvel+=(this.dot2*c-this.scale*this.cx2*d)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly,b=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy,
c=0,d=0,c=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,d=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,g=0,i=0,g=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,i=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,n=0,o,h=0,x=0,e=this.b2.posx+g-this.b1.posx-c,n=this.b2.posy+i-this.b1.posy-d,h=n*a-e*b,x=a*e+b*n;this.equal?(x-=this.jointMin,o=1):x>this.jointMax?(x-=this.jointMax,o=1):x<this.jointMin?(x=this.jointMin-x,o=-1):o=x=0;if(this.breakUnderError&&h*h+x*
x>this.maxError*this.maxError)return!0;if(h*h+x*x<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;var k=0,l=0,h=0.5*h,x=0.5*x;6<h*h+x*x&&(k=this.b1.smass+this.b2.smass,k>f.Config.epsilon&&(k=0.8/k,l=k*(b*h-o*a*x),o=k*(a*h*o-b*h),k=this.b1.imass,this.b1.posx-=l*k,this.b1.posy-=o*k,k=this.b2.imass,this.b2.posx+=l*k,this.b2.posy+=o*k,e=this.b2.posx+g-this.b1.posx-c,n=this.b2.posy+i-this.b1.posy-d,x=a*e+b*n,this.equal?(x-=this.jointMin,o=1):x>this.jointMax?(x-=this.jointMax,o=1):
x<this.jointMin?(x=this.jointMin-x,o=-1):o=x=0,h=0.5*(n*a-e*b),x*=0.5));var m=0,s=0,p=0,l=k=0,k=e+c,l=n+d,c=a*k+b*l,e=l*a-k*b,d=a*g+b*i,g=i*a-g*b,m=this.b1.smass+this.b2.smass+c*c*this.b1.sinertia+d*d*this.b2.sinertia,s=-o*(c*e*this.b1.sinertia+d*g*this.b2.sinertia),p=o*o*(this.b1.smass+this.b2.smass+e*e*this.b1.sinertia+g*g*this.b2.sinertia),k=-h,l=-x,i=m*p-s*s;i!=i?k=l=0:0==i?(k=0!=m?k/m:0,l=0!=p?l/p:0):(i=1/i,h=i*(p*k-s*l),l=i*(m*l-s*k),k=h);0<l&&(l=0);i=o*a*l-b*k;a=a*k+o*b*l;b=this.b1.imass;this.b1.posx-=
i*b;this.b1.posy-=a*b;b=this.b2.imass;this.b2.posx+=i*b;this.b2.posy+=a*b;this.b1.delta_rot((o*e*l-c*k)*this.b1.iinertia);this.b2.delta_rot((d*k-o*g*l)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,c=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),d=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a2&&
b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),g=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localVectorToWorld(function(){null==b.zpp_inner_zn.wrap_n&&b.zpp_inner_zn.setup_n();return b.zpp_inner_zn.wrap_n}(this));g.muleq(1/Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)));
var i=b.zpp_inner_zn.jointMin,e=b.zpp_inner_zn.jointMax;i<=Math.NEGATIVE_INFINITY&&(i=-1E3);e>=Math.POSITIVE_INFINITY&&(e=1E3);var n=d.sub(c),o=n.dot(g);n.dispose();var h=c.add(g.mul(i,!0)),x=c.add(g.mul(e,!0));o>i&&a.drawLine(h,c.add(g.mul(function(){var a=e;return o<a?o:a}(this),!0),!0),16776960);o<e&&a.drawLine(c.add(g.mul(function(){var a=i;return o>a?o:a}(this),!0),!0),x,65535);this.stiff||(n=o<this.jointMin?f.geom.Vec2.get(function(){h.zpp_inner.validate();return h.zpp_inner.x}(this),function(){h.zpp_inner.validate();
return h.zpp_inner.y}(this),!1):o>this.jointMax?f.geom.Vec2.get(function(){x.zpp_inner.validate();return x.zpp_inner.x}(this),function(){x.zpp_inner.validate();return x.zpp_inner.y}(this),!1):c.add(g.mul(o,!0)),a.drawSpring(n,d,16711935),n.dispose());a.drawFilledCircle(c,2,255);a.drawFilledCircle(d,2,16711680);c.dispose();d.dispose();h.dispose();x.dispose()},__class__:d.constraint.ZPP_LineJoint});d.constraint.ZPP_MotorJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=0;this.b1=this.b2=
null;this.ratio=this.rate=0;this.outer_zn=null;d.constraint.ZPP_Constraint.call(this);this.jAcc=0;this.stepped=!1;this.__velocity=!0};l["zpp_nape.constraint.ZPP_MotorJoint"]=d.constraint.ZPP_MotorJoint;d.constraint.ZPP_MotorJoint.__name__=["zpp_nape","constraint","ZPP_MotorJoint"];d.constraint.ZPP_MotorJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_MotorJoint.prototype=z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,rate:null,bodyImpulse:function(a){return this.stepped?
a==this.b1?f.geom.Vec3.get(0,0,-this.jAcc):f.geom.Vec3.get(0,0,this.ratio*this.jAcc):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,b2:null,kMass:null,jAcc:null,jMax:null,stepped:null,copy:function(a,b){var c=new f.constraint.MotorJoint(null,
null,this.rate,this.ratio);this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=
a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: MotorJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";
},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=
this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;
else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia;
this.kMass=1/this.kMass;this.jAcc*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){this.b1.angvel-=this.b1.iinertia*this.jAcc;this.b2.angvel+=this.ratio*this.b2.iinertia*this.jAcc},applyImpulseVel:function(){var a=-this.kMass*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel-this.rate),b=this.jAcc;this.jAcc+=a;if(this.breakUnderForce){if(this.jAcc>this.jMax||this.jAcc<-this.jMax)return!0}else this.jAcc<-this.jMax?this.jAcc=-this.jMax:this.jAcc>this.jMax&&(this.jAcc=
this.jMax);a=this.jAcc-b;this.b1.angvel-=this.b1.iinertia*a;this.b2.angvel+=this.ratio*this.b2.iinertia*a;return!1},applyImpulsePos:function(){return!1},__class__:d.constraint.ZPP_MotorJoint});d.constraint.ZPP_PivotJoint=function(){this.stepped=!1;this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.jMax=this.gamma=this.biasx=this.biasy=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=
0;this.outer_zn=this.b1=null;d.constraint.ZPP_Constraint.call(this);this.stepped=!1;this.jAccy=this.jAccx=0;this.jMax=Math.POSITIVE_INFINITY;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};l["zpp_nape.constraint.ZPP_PivotJoint"]=d.constraint.ZPP_PivotJoint;d.constraint.ZPP_PivotJoint.__name__=["zpp_nape","constraint","ZPP_PivotJoint"];d.constraint.ZPP_PivotJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_PivotJoint.prototype=z(d.constraint.ZPP_Constraint.prototype,
{outer_zn:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely)):f.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&
this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=w(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=
w(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=w(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=
w(this,this.invalidate_a2)},wrap_a2:null,kMassa:null,kMassb:null,kMassc:null,jAccx:null,jAccy:null,jMax:null,gamma:null,biasx:null,biasy:null,stepped:null,copy:function(a,b){var c=new f.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=
a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2)throw"Error: PivotJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: PivotJoint cannot be simulated with body1 == body2 (body1=body2="+this.b1.outer.toString()+")";if(this.b1.space!=
this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";},wake_connected:function(){null!=this.b1&&
this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;
for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=
null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=
this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var c=this.b1.smass+this.b2.smass;this.kMassa=c;this.kMassb=0;this.kMassc=c;if(0!=this.b1.sinertia){var c=this.a1relx*this.b1.sinertia,d=this.a1rely*this.b1.sinertia;this.kMassa+=d*this.a1rely;this.kMassb+=-d*this.a1relx;this.kMassc+=c*this.a1relx}0!=this.b2.sinertia&&(c=this.a2relx*this.b2.sinertia,d=this.a2rely*
this.b2.sinertia,this.kMassa+=d*this.a2rely,this.kMassb+=-d*this.a2relx,this.kMassc+=c*this.a2relx);c=this.kMassa*this.kMassc-this.kMassb*this.kMassb;c!=c?(this.kMassa=this.kMassb=this.kMassc=0,c=3):0==c?(c=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,c|=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,c|=2),this.kMassb=0):(c=1/c,d=this.kMassc*c,this.kMassc=this.kMassa*c,this.kMassa=d,this.kMassb*=-c,c=0);0!=(c&1)&&(this.jAccx=0);0!=(c&2)&&(this.jAccy=0);if(this.stiff)this.gamma=
this.biasy=this.biasx=0;else{d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));c=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=c;this.kMassa*=c;this.kMassb*=c;this.kMassc*=c;this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy>this.maxError*this.maxError)return!0;c=-d;this.biasx*=c;this.biasy*=c;c=this.maxError;d=this.biasx*this.biasx+this.biasy*
this.biasy;d>c*c&&(c*=1/Math.sqrt(d),this.biasx*=c,this.biasy*=c)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,a=this.b2.velx+
this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),c=0,d=0,c=this.biasx-a,d=this.biasy-b,a=this.kMassa*c+this.kMassb*d,d=this.kMassb*c+this.kMassc*d,b=this.gamma,c=a-this.jAccx*b,d=d-this.jAccy*b,b=a=0,a=this.jAccx,b=this.jAccy;this.jAccx+=1*c;this.jAccy+=
1*d;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(c=this.jMax,d=this.jAccx*this.jAccx+this.jAccy*this.jAccy,d>c*c&&(c*=1/Math.sqrt(d),this.jAccx*=c,this.jAccy*=c));c=this.jAccx-a;d=this.jAccy-b;a=this.b1.imass;this.b1.velx-=c*a;this.b1.vely-=d*a;a=this.b2.imass;this.b2.velx+=c*a;this.b2.vely+=d*a;this.b1.angvel-=(d*this.a1relx-c*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(d*this.a2relx-c*this.a2rely)*this.b2.iinertia;return!1},
applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,c=0,d=0,c=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,d=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,g=0,i=0,g=this.b2.posx+c-(this.b1.posx+a),i=this.b2.posy+d-(this.b1.posy+b);if(this.breakUnderError&&g*g+i*i>this.maxError*this.maxError)return!0;if(g*g+i*i<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;
var g=0.5*g,i=0.5*i,e=0,n=0;if(6<g*g+i*i&&(n=this.b1.smass+this.b2.smass,n>f.Config.epsilon)){var n=0.75/n,e=-g*n,n=-i*n,o=e*e+n*n;400<o&&(o=20*(1/Math.sqrt(o)),e*=o,n*=o);o=this.b1.imass;this.b1.posx-=e*o;this.b1.posy-=n*o;o=this.b2.imass;this.b2.posx+=e*o;this.b2.posy+=n*o;g=this.b2.posx+c-(this.b1.posx+a);i=this.b2.posy+d-(this.b1.posy+b);g*=0.5;i*=0.5}var h=o=0,x=0,o=e=this.b1.smass+this.b2.smass,h=0,x=e;0!=this.b1.sinertia&&(e=a*this.b1.sinertia,n=b*this.b1.sinertia,o+=n*b,h+=-n*a,x+=e*a);0!=
this.b2.sinertia&&(e=c*this.b2.sinertia,n=d*this.b2.sinertia,o+=n*d,h+=-n*c,x+=e*c);e=-g;n=-i;g=e*e+n*n;36<g&&(g=6*(1/Math.sqrt(g)),e*=g,n*=g);g=o*x-h*h;g!=g?e=n=0:0==g?(e=0!=o?e/o:0,n=0!=x?n/x:0):(g=1/g,x=g*(x*e-h*n),n=g*(o*n-h*e),e=x);o=this.b1.imass;this.b1.posx-=e*o;this.b1.posy-=n*o;o=this.b2.imass;this.b2.posx+=e*o;this.b2.posy+=n*o;this.b1.delta_rot(-(n*a-e*b)*this.b1.iinertia);this.b2.delta_rot((n*c-e*d)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,c=(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),d=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this));if(!this.stiff){var g=d.sub(c);0!=Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+
function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.y}(this))&&a.drawSpring(c,d,16711935);g.dispose()}a.drawFilledCircle(c,2,255);a.drawFilledCircle(d,2,16711680);c.dispose();d.dispose()},__class__:d.constraint.ZPP_PivotJoint});d.constraint.ZPP_PulleyJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a4=null;this.a4localx=this.a4localy=this.a4relx=this.a4rely=0;this.wrap_a3=this.b4=null;this.a3localx=
this.a3localy=this.a3relx=this.a3rely=0;this.wrap_a2=this.b3=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.n12x=this.n12y=this.n34x=this.n34y=this.cx1=this.cx2=this.cx3=this.cx4=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.ratio=1;this.outer_zn=null;d.constraint.ZPP_Constraint.call(this);this.a4rely=this.a4relx=this.a4localy=this.a4localx=this.a3rely=this.a3relx=this.a3localy=
this.a3localx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.n12x=1;this.n12y=0;this.n34x=1;this.jAcc=this.n34y=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=this.cx3=this.cx4=0};l["zpp_nape.constraint.ZPP_PulleyJoint"]=d.constraint.ZPP_PulleyJoint;d.constraint.ZPP_PulleyJoint.__name__=["zpp_nape","constraint","ZPP_PulleyJoint"];d.constraint.ZPP_PulleyJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_PulleyJoint.prototype=
z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,ratio:null,jointMin:null,jointMax:null,slack:null,equal:null,is_slack:function(){var a;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*
this.b3.axisx+this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy;var b=0,c=0,d=a=0,b=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),c=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);a=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx);d=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);b=Math.sqrt(b*b+c*c);a=Math.sqrt(a*a+d*d);0==a&&Math.sqrt(0);d=b+this.ratio*a;this.equal?
(d-=this.jointMax,a=!1):d<this.jointMin?(d=this.jointMin-d,a=!1):d>this.jointMax?(d-=this.jointMax,a=!1):(d=0,a=!0);d;return a},n12x:null,n12y:null,n34x:null,n34y:null,cx1:null,cx2:null,cx3:null,cx4:null,bodyImpulse:function(a){if(this.stepped){var b=f.geom.Vec3.get();a==this.b1&&(b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)-this.jAcc*this.n12x),b.set_y(function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)-this.jAcc*this.n12y),b.set_z(function(){b.zpp_inner.validate();
return b.zpp_inner.z}(this)-this.cx1*this.jAcc));a==this.b2&&(b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+this.jAcc*this.n12x),b.set_y(function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)+this.jAcc*this.n12y),b.set_z(function(){b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx2*this.jAcc));a==this.b3&&(b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)-this.jAcc*this.n34x),b.set_y(function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)-
this.jAcc*this.n34y),b.set_z(function(){b.zpp_inner.validate();return b.zpp_inner.z}(this)-this.cx3*this.jAcc));a==this.b4&&(b.set_x(function(){b.zpp_inner.validate();return b.zpp_inner.x}(this)+this.jAcc*this.n34x),b.set_y(function(){b.zpp_inner.validate();return b.zpp_inner.y}(this)+this.jAcc*this.n34y),b.set_z(function(){b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx4*this.jAcc));return b}return f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);
this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.add(this);this.b4!=this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.remove(this);this.b4!=this.b1&&this.b4!=this.b2&&
this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=w(this,
this.validate_a1);this.wrap_a1.zpp_inner._invalidate=w(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=
w(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=w(this,this.invalidate_a2)},wrap_a2:null,b3:null,a3localx:null,a3localy:null,a3relx:null,a3rely:null,validate_a3:function(){this.wrap_a3.zpp_inner.x=this.a3localx;this.wrap_a3.zpp_inner.y=this.a3localy},invalidate_a3:function(a){this.immutable_midstep("Constraint::a3");this.a3localx=a.x;this.a3localy=a.y;this.wake()},setup_a3:function(){this.wrap_a3=f.geom.Vec2.get(this.a3localx,this.a3localy,null);this.wrap_a3.zpp_inner._inuse=!0;this.wrap_a3.zpp_inner._validate=
w(this,this.validate_a3);this.wrap_a3.zpp_inner._invalidate=w(this,this.invalidate_a3)},wrap_a3:null,b4:null,a4localx:null,a4localy:null,a4relx:null,a4rely:null,validate_a4:function(){this.wrap_a4.zpp_inner.x=this.a4localx;this.wrap_a4.zpp_inner.y=this.a4localy},invalidate_a4:function(a){this.immutable_midstep("Constraint::a4");this.a4localx=a.x;this.a4localy=a.y;this.wake()},setup_a4:function(){this.wrap_a4=f.geom.Vec2.get(this.a4localx,this.a4localy,null);this.wrap_a4.zpp_inner._inuse=!0;this.wrap_a4.zpp_inner._validate=
w(this,this.validate_a4);this.wrap_a4.zpp_inner._invalidate=w(this,this.invalidate_a4)},wrap_a4:null,kMass:null,jAcc:null,jMax:null,gamma:null,bias:null,stepped:null,copy:function(a,b){var c=new f.constraint.PulleyJoint(null,null,null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_anchor3(),this.outer_zn.get_anchor4(),this.jointMin,this.jointMax,this.ratio);this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==this.b1.id){j=
i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}if(null!=a&&null!=this.b3){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b3.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b3=
j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b3.id,function(a){c.zpp_inner_zn.b3=a.zpp_inner}))}if(null!=a&&null!=this.b4){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b4.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b4=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b4.id,function(a){c.zpp_inner_zn.b4=a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2||null==this.b3||null==this.b4)throw"Error: PulleyJoint cannot be simulated with null bodies";if(this.b1==
this.b2||this.b3==this.b4)throw"Error: PulleyJoint cannot have body1==body2 or body3==body4";if(this.b1.space!=this.space||this.b2.space!=this.space||this.b3.space!=this.space||this.b4.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: PulleyJoint must have jointMin <= jointMax";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";
if(this.b3.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b4.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake();null!=this.b3&&this.b3.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b3.wake();null!=this.b4&&this.b4.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b4.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:
a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>
b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b3.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b3.component==this.b3.component.parent)a=this.b3.component;else{a=this.b3.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?
b.parent=a:(b.parent=a,a.rank++))}if(this.b4.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b4.component==this.b4.component.parent)a=this.b4.component;else{a=this.b4.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=
a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&(this.b2.id==b||this.b3.id==b||this.b4.id==b)||this.b2.id==a&&(this.b3.id==b||this.b4.id==b||this.b1.id==b)||this.b3.id==a&&(this.b4.id==b||this.b1.id==b||this.b2.id==b)||this.b4.id==a&&(this.b1.id==b||this.b2.id==b||this.b3.id==b)},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;
this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*
this.b4.axisx+this.a4localy*this.b4.axisy;var c,d=0,g=0,i=0,e=0,d=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),g=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),i=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx),e=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);c=Math.sqrt(d*d+g*g);var f=Math.sqrt(i*i+e*e);if(0!=c){var o=1/c;this.n12x=d*o;this.n12y=g*o}0!=f?(d=1/f,this.n34x=i*d,this.n34y=e*d,i=this.ratio):i=this.ratio/Math.sqrt(this.n34x*this.n34x+this.n34y*this.n34y);this.n34x*=
i;this.n34y*=i;c+=this.ratio*f;this.equal?(c-=this.jointMax,this.slack=!1):c<this.jointMin?(c=this.jointMin-c,this.n12x=-this.n12x,this.n12y=-this.n12y,this.n34x=-this.n34x,this.n34y=-this.n34y,this.slack=!1):c>this.jointMax?(c-=this.jointMax,this.slack=!1):(c=this.n34y=this.n34x=this.n12y=this.n12x=0,this.slack=!0);if(!this.slack){this.cx1=this.n12y*this.a1relx-this.n12x*this.a1rely;this.cx2=this.n12y*this.a2relx-this.n12x*this.a2rely;this.cx3=this.n34y*this.a3relx-this.n34x*this.a3rely;this.cx4=
this.n34y*this.a4relx-this.n34x*this.a4rely;f=this.b1.smass+this.b2.smass+this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*this.cx1*this.cx1+this.b2.sinertia*this.cx2*this.cx2+this.b3.sinertia*this.cx3*this.cx3+this.b4.sinertia*this.cx4*this.cx4;this.b1==this.b4&&(f-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx4*this.b1.sinertia));this.b1==this.b3&&(f+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx3*this.b1.sinertia));
this.b2==this.b3&&(f-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx3*this.b2.sinertia));this.b2==this.b4&&(f+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx4*this.b2.sinertia));this.kMass=f;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&c*c>this.maxError*this.maxError)return!0;i=2*Math.PI*this.frequency;this.gamma=1/(a*i*(2*this.damping+i*a));f=1/(1+this.gamma);i=a*i*i*
this.gamma;this.gamma*=f;this.kMass*=f;this.bias=-c*i;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.n12x*a;this.b1.vely-=this.n12y*a;a=this.b2.imass*this.jAcc;this.b2.velx+=this.n12x*a;this.b2.vely+=this.n12y*a;a=this.b3.imass*this.jAcc;this.b3.velx-=this.n34x*a;this.b3.vely-=this.n34y*a;a=this.b4.imass*this.jAcc;
this.b4.velx+=this.n34x*a;this.b4.vely+=this.n34y*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc;this.b3.angvel-=this.cx3*this.b3.iinertia*this.jAcc;this.b4.angvel+=this.cx4*this.b4.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.n12x*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.n12y*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+this.n34x*(this.b4.velx+
this.b4.kinvelx-this.b3.velx-this.b3.kinvelx)+this.n34y*(this.b4.vely+this.b4.kinvely-this.b3.vely-this.b3.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1+(this.b4.angvel+this.b4.kinangvel)*this.cx4-(this.b3.angvel+this.b3.kinangvel)*this.cx3))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-
b;b=this.b1.imass*a;this.b1.velx-=this.n12x*b;this.b1.vely-=this.n12y*b;b=this.b2.imass*a;this.b2.velx+=this.n12x*b;this.b2.vely+=this.n12y*b;b=this.b3.imass*a;this.b3.velx-=this.n34x*b;this.b3.vely-=this.n34y*b;b=this.b4.imass*a;this.b4.velx+=this.n34x*b;this.b4.vely+=this.n34y*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;this.b3.angvel-=this.cx3*this.b3.iinertia*a;this.b4.angvel+=this.cx4*this.b4.iinertia*a;return!1},applyImpulsePos:function(){var a,
b,c=0,d=0,c=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,d=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,g=0,i=0,g=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,i=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,n=0,e=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,n=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,o=0,h=0,o=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,h=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy,x=0,
k=0,l=0,m=0,x=this.n12x,k=this.n12y,l=this.n34x,m=this.n34y,s=0,p=0,q=0,u=0,s=this.b2.posx+g-(this.b1.posx+c),p=this.b2.posy+i-(this.b1.posy+d),q=this.b4.posx+o-(this.b3.posx+e),u=this.b4.posy+h-(this.b3.posy+n);b=Math.sqrt(s*s+p*p);a=Math.sqrt(q*q+u*u);0!=b&&(k=1/b,x=s*k,k*=p);0!=a?(m=1/a,s=this.ratio,l=q*m*s,m=u*m*s):(q=this.ratio/Math.sqrt(l*l+m*m),l*=q,m*=q);a=b+this.ratio*a;this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,x=-x,k=-k,l=-l,m=-m,b=!1):a>this.jointMax?(a-=this.jointMax,
b=!1):(a=m=l=k=x=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;if(a*a<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;a*=0.5;if(6<a*a&&(b=this.b1.smass+this.b2.smass,b>f.Config.epsilon&&(b=-a*(0.75/b),this.equal||0>b)))a=b*this.b1.imass,this.b1.posx-=x*a,this.b1.posy-=k*a,a=b*this.b2.imass,this.b2.posx+=x*a,this.b2.posy+=k*a,a=b*this.b3.imass,this.b3.posx-=l*a,this.b3.posy-=m*a,b*=this.b4.imass,this.b4.posx+=l*b,this.b4.posy+=m*b,u=q=p=s=0,s=
this.b2.posx+g-(this.b1.posx+c),p=this.b2.posy+i-(this.b1.posy+d),q=this.b4.posx+o-(this.b3.posx+e),u=this.b4.posy+h-(this.b3.posy+n),b=Math.sqrt(s*s+p*p),a=Math.sqrt(q*q+u*u),0!=b&&(k=1/b,x=s*k,k*=p),0!=a?(m=1/a,s=this.ratio,l=q*m*s,m=u*m*s):(q=this.ratio/Math.sqrt(l*l+m*m),l*=q,m*=q),b+=this.ratio*a,this.equal?b-=this.jointMax:b<this.jointMin?(b=this.jointMin-b,x=-x,k=-k,l=-l,m=-m):b>this.jointMax?b-=this.jointMax:b=m=l=k=x=0,a=0.5*b;c=k*c-x*d;g=k*g-x*i;e=m*e-l*n;o=m*o-l*h;h=this.b1.smass+this.b2.smass+
this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*c*c+this.b2.sinertia*g*g+this.b3.sinertia*e*e+this.b4.sinertia*o*o;this.b1==this.b4&&(h-=2*((x*l+k*m)*this.b1.smass+c*o*this.b1.sinertia));this.b1==this.b3&&(h+=2*((x*l+k*m)*this.b1.smass+c*e*this.b1.sinertia));this.b2==this.b3&&(h-=2*((x*l+k*m)*this.b2.smass+g*e*this.b2.sinertia));this.b2==this.b4&&(h+=2*((x*l+k*m)*this.b2.smass+g*o*this.b2.sinertia));0!=h&&(h=1/h);b=-a*h;if(this.equal||0>b)h=this.b1.imass*b,this.b1.posx-=x*h,this.b1.posy-=
k*h,h=this.b2.imass*b,this.b2.posx+=x*h,this.b2.posy+=k*h,x=this.b3.imass*b,this.b3.posx-=l*x,this.b3.posy-=m*x,x=this.b4.imass*b,this.b4.posx+=l*x,this.b4.posy+=m*x,this.b1.delta_rot(-c*this.b1.iinertia*b),this.b2.delta_rot(g*this.b2.iinertia*b),this.b3.delta_rot(-e*this.b3.iinertia*b),this.b4.delta_rot(o*this.b4.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,c=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();
return b.zpp_inner_zn.wrap_a1}(this)),d=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),g=(null==b.zpp_inner_zn.b3?null:b.zpp_inner_zn.b3.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a3&&b.zpp_inner_zn.setup_a3();return b.zpp_inner_zn.wrap_a3}(this)),i=(null==b.zpp_inner_zn.b4?null:b.zpp_inner_zn.b4.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a4&&
b.zpp_inner_zn.setup_a4();return b.zpp_inner_zn.wrap_a4}(this)),e=d.sub(c),f=i.sub(g),o=Math.sqrt(function(){e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(){e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(){e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(){e.zpp_inner.validate();return e.zpp_inner.y}(this)),h=Math.sqrt(function(){f.zpp_inner.validate();return f.zpp_inner.x}(this)*function(){f.zpp_inner.validate();return f.zpp_inner.x}(this)+function(){f.zpp_inner.validate();
return f.zpp_inner.y}(this)*function(){f.zpp_inner.validate();return f.zpp_inner.y}(this));this.drawLink(a,c,d,e,o,h*this.ratio,1,16776960,65535);this.drawLink(a,g,i,f,h,o,1/this.ratio,65535,16711935);a.drawFilledCircle(c,2,255);a.drawFilledCircle(d,2,16711680);a.drawFilledCircle(g,2,65280);a.drawFilledCircle(i,2,16711935);c.dispose();d.dispose();g.dispose();i.dispose();e.dispose();f.dispose()},drawLink:function(a,b,c,d,g,i,e,f,o){if(0!=g){d.muleq(1/g);var h=b.add(c).muleq(0.5),k=(this.jointMin-i)*
e;0>k&&(k=0);i=(this.jointMax-i)*e;0>i&&(i=0);var e=h.sub(d.mul(0.5*k,!0)),l=h.add(d.mul(0.5*k,!0)),m=h.sub(d.mul(0.5*i,!0)),d=h.add(d.mul(0.5*i,!0));a.drawLine(e,l,f);a.drawLine(m,e,o);a.drawLine(d,l,o);this.stiff||(g>i?(a.drawSpring(m,b,o),a.drawSpring(d,c,o)):g<k&&(a.drawSpring(e,b,f),a.drawSpring(l,c,f)));h.dispose();e.dispose();l.dispose();m.dispose();d.dispose()}},__class__:d.constraint.ZPP_PulleyJoint});d.constraint.ZPP_UserConstraint=function(a,b){this.Keff=this.vec3=this.J=this.jOld=null;
this.jMax=0;this.velonly=!1;this.soft=this.gamma=0;this.L=this.y=null;this.stepped=!1;this.jAcc=this.bias=null;this.dim=0;this.outer_zn=this.bodies=null;d.constraint.ZPP_Constraint.call(this);this.bodies=[];this.dim=a;this.velonly=b;this.jAcc=[];this.bias=[];this.L=[];this.J=[];this.jOld=[];this.y=[];this.Keff=[];this.vec3=f.geom.Vec3.get(0,0,0);for(var c=0;c<a;)for(var j=c++,g=this.jAcc[j]=this.bias[j]=this.J[j]=this.jOld[j]=this.y[j]=0;g<a;){var i=g++;this.L[j*a+i]=0}this.stepped=!1};l["zpp_nape.constraint.ZPP_UserConstraint"]=
d.constraint.ZPP_UserConstraint;d.constraint.ZPP_UserConstraint.__name__=["zpp_nape","constraint","ZPP_UserConstraint"];d.constraint.ZPP_UserConstraint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_UserConstraint.prototype=z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,bindVec2_invalidate:function(){this.outer_zn.__invalidate()},bodies:null,dim:null,jAcc:null,bias:null,addBody:function(a){for(var b=null,c=0,j=this.bodies;c<j.length;){var g=j[c];++c;if(g.body==a){b=g;break}}null==
b?(this.bodies.push(new d.constraint.ZPP_UserBody(1,a)),this.active&&null!=this.space&&null!=a&&a.constraints.add(this)):b.cnt++},remBody:function(a){for(var b=null,c=this.bodies.length|0,d=0;d<c;){var g=this.bodies[d];if(g.body==a){g.cnt--;0==g.cnt&&(0<c&&(this.bodies[d]=this.bodies[c-1]),this.bodies.pop(),this.active&&null!=this.space&&null!=a&&a.constraints.remove(this));b=g;break}d++}return null!=b},bodyImpulse:function(a){for(var b=0,c=this.dim;b<c;){var d=b++;this.J[d]=this.jAcc[d]}b=f.geom.Vec3.get(0,
0,0);this.stepped&&this.outer_zn.__impulse(this.J,a.outer,b);return b},activeBodies:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;null!=c.body&&c.body.constraints.add(this)}},inactiveBodies:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;null!=c.body&&c.body.constraints.remove(this)}},stepped:null,copy:function(){var a=this.outer_zn.__copy();this.copyto(a);throw"not done yet";},validate:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;if(c.body.space!=
this.space)throw"Error: Constraints must have each body within the same sapce to which the constraint has been assigned";}this.outer_zn.__validate()},wake_connected:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;c.body.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&c.body.wake()}},forest:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;if(c.body.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(c.body.component==c.body.component.parent)c=c.body.component;else{for(var c=
c.body.component,j=null;c!=c.parent;){var g=c.parent;c.parent=j;j=c;c=g}for(;null!=j;)g=j.parent,j.parent=c,j=g}if(this.component==this.component.parent)j=this.component;else{j=this.component;for(g=null;j!=j.parent;){var i=j.parent;j.parent=g;g=j;j=i}for(;null!=g;)i=g.parent,g.parent=j,g=i}c!=j&&(c.rank<j.rank?c.parent=j:c.rank>j.rank?j.parent=c:(j.parent=c,c.rank++))}}},pair_exists:function(a,b){for(var c=!1,d=this.bodies.length|0,g=0;g<d;){for(var i=g++,e=this.bodies[i].body,i=i+1;i<d;){var f=i++,
f=this.bodies[f].body;if(e.id==a&&f.id==b||e.id==b&&f.id==a){c=!0;break}}if(c)break}return c},broken:function(){this.outer_zn.__broken()},clearcache:function(){for(var a=0,b=this.dim;a<b;){var c=a++;this.jAcc[c]=0}this.pre_dt=-1},lsq:function(a){for(var b=0,c=0,d=this.dim;c<d;)var g=c++,b=b+a[g]*a[g];return b},_clamp:function(a,b){var c=this.lsq(a);if(c>b*b)for(var c=b/Math.sqrt(c),d=0,g=this.dim;d<g;){var i=d++;a[i]*=c}},L:null,solve:function(a){for(var b=0,c=0,d=this.dim;c<d;){for(var g=c++,i=0,
e=0,f=g-1;e<f;)var o=e++,i=i+this.L[g*this.dim+o]*this.L[g*this.dim+o];i=Math.sqrt(a[b++]-i);this.L[g*this.dim+g]=i;if(0!=i){i=1/i;e=g+1;for(f=this.dim;e<f;){for(var o=e++,h=0,k=0,l=g-1;k<l;)var m=k++,h=h+this.L[o*this.dim+m]*this.L[g*this.dim+m];this.L[o*this.dim+g]=i*(a[b++]-h)}}else{i=g+1;for(e=this.dim;i<e;)f=i++,this.L[f*this.dim+g]=0;b+=this.dim-g-1}}return this.L},y:null,transform:function(a,b){for(var c=0,d=this.dim;c<d;){var g=c++,i=b[g],e=a[g*this.dim+g];if(0!=e){for(var f=0;f<g;)var o=
f++,i=i-a[g*this.dim+o]*this.y[o];this.y[g]=i/e}else this.y[g]=0}c=0;for(d=this.dim;c<d;)if(g=c++,g=this.dim-1-g,i=a[g*this.dim+g],0!=i){e=this.y[g];f=g+1;for(o=this.dim;f<o;)var h=f++,e=e-a[h*this.dim+g]*b[h];b[g]=e/i}else b[g]=0},soft:null,gamma:null,velonly:null,jMax:null,Keff:null,preStep:function(a){this.outer_zn.__validate();-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.outer_zn.__prepare();this.outer_zn.__eff_mass(this.Keff);this.L=this.solve(this.Keff);
if(!this.stiff&&!this.velonly){var c;c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));var d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.soft=d;this.outer_zn.__position(this.bias);if(this.breakUnderError&&this.lsq(this.bias)>this.maxError*this.maxError)return!0;for(var d=0,g=this.dim;d<g;){var i=d++;this.bias[i]*=-c}this._clamp(this.bias,this.maxError)}else{c=0;for(d=this.dim;c<d;)g=c++,this.bias[g]=0;this.gamma=0;this.soft=1}c=0;for(d=this.dim;c<d;)g=c++,this.jAcc[g]*=
b;this.jMax=this.maxForce*a;return!1},vec3:null,warmStart:function(){for(var a=0,b=this.bodies;a<b.length;){var c=b[a];++a;c=c.body;this.outer_zn.__impulse(this.jAcc,c.outer,this.vec3);var d=c.imass;c.velx+=this.vec3.get_x()*d;c.vely+=this.vec3.get_y()*d;c.angvel+=this.vec3.get_z()*c.iinertia}},J:null,jOld:null,applyImpulseVel:function(){this.outer_zn.__velocity(this.J);for(var a=0,b=this.dim;a<b;){var c=a++;this.J[c]=this.bias[c]-this.J[c]}this.transform(this.L,this.J);a=0;for(b=this.dim;a<b;)c=
a++,this.jOld[c]=this.jAcc[c],this.jAcc[c]+=this.J[c]=this.J[c]*this.soft-this.jAcc[c]*this.gamma;this.outer_zn.__clamp(this.jAcc);if((this.breakUnderForce||!this.stiff)&&this.lsq(this.jAcc)>this.jMax*this.jMax){if(this.breakUnderForce)return!0;this.stiff||this._clamp(this.jAcc,this.jMax)}a=0;for(b=this.dim;a<b;)c=a++,this.J[c]=this.jAcc[c]-this.jOld[c];a=0;for(b=this.bodies;a<b.length;){c=b[a];++a;c=c.body;this.outer_zn.__impulse(this.J,c.outer,this.vec3);var d=c.imass;c.velx+=this.vec3.get_x()*
d;c.vely+=this.vec3.get_y()*d;c.angvel+=this.vec3.get_z()*c.iinertia}return!1},applyImpulsePos:function(){if(this.velonly)return!1;this.outer_zn.__prepare();this.outer_zn.__position(this.J);var a=this.lsq(this.J);if(this.breakUnderError&&a>this.maxError*this.maxError)return!0;if(a<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop)return!1;for(var a=0,b=this.dim;a<b;){var c=a++;this.J[c]*=-1}this.outer_zn.__eff_mass(this.Keff);this.transform(this.solve(this.Keff),this.J);this.outer_zn.__clamp(this.J);
a=0;for(b=this.bodies;a<b.length;){c=b[a];++a;c=c.body;this.outer_zn.__impulse(this.J,c.outer,this.vec3);var d=c.imass;c.posx+=this.vec3.get_x()*d;c.posy+=this.vec3.get_y()*d;c.delta_rot(this.vec3.get_z()*c.iinertia)}return!1},draw:function(a){this.outer_zn.__draw(a)},__class__:d.constraint.ZPP_UserConstraint});d.constraint.ZPP_UserBody=function(a,b){this.body=null;this.cnt=0;this.cnt=a;this.body=b};l["zpp_nape.constraint.ZPP_UserBody"]=d.constraint.ZPP_UserBody;d.constraint.ZPP_UserBody.__name__=
["zpp_nape","constraint","ZPP_UserBody"];d.constraint.ZPP_UserBody.prototype={cnt:null,body:null,__class__:d.constraint.ZPP_UserBody};d.constraint.ZPP_WeldJoint=function(){this.stepped=!1;this.phase=this.kMassa=this.kMassb=this.kMassd=this.kMassc=this.kMasse=this.kMassf=this.jAccx=this.jAccy=this.jAccz=this.jMax=this.gamma=this.biasx=this.biasy=this.biasz=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=
0;this.outer_zn=this.b1=null;d.constraint.ZPP_Constraint.call(this);this.jAccz=this.jAccy=this.jAccx=this.phase=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};l["zpp_nape.constraint.ZPP_WeldJoint"]=d.constraint.ZPP_WeldJoint;d.constraint.ZPP_WeldJoint.__name__=["zpp_nape","constraint","ZPP_WeldJoint"];d.constraint.ZPP_WeldJoint.__super__=d.constraint.ZPP_Constraint;d.constraint.ZPP_WeldJoint.prototype=
z(d.constraint.ZPP_Constraint.prototype,{outer_zn:null,bodyImpulse:function(a){return this.stepped?a==this.b1?f.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)):f.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz):f.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&
this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},b1:null,a1localx:null,a1localy:null,a1relx:null,a1rely:null,validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=f.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=
w(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=w(this,this.invalidate_a1)},wrap_a1:null,b2:null,a2localx:null,a2localy:null,a2relx:null,a2rely:null,validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=f.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=
w(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=w(this,this.invalidate_a2)},wrap_a2:null,phase:null,kMassa:null,kMassb:null,kMassd:null,kMassc:null,kMasse:null,kMassf:null,jAccx:null,jAccy:null,jAccz:null,jMax:null,gamma:null,biasx:null,biasy:null,biasz:null,stepped:null,copy:function(a,b){var c=new f.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());this.copyto(c);if(null!=a&&null!=this.b1){for(var j=null,g=0;g<a.length;){var i=a[g];++g;if(i.id==
this.b1.id){j=i.bc;break}}null!=j?c.zpp_inner_zn.b1=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){c.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){j=null;for(g=0;g<a.length;)if(i=a[g],++g,i.id==this.b2.id){j=i.bc;break}null!=j?c.zpp_inner_zn.b2=j.zpp_inner:b.push(d.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){c.zpp_inner_zn.b2=a.zpp_inner}))}return c},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";
if(this.b1==this.b2)throw"Error: WeldJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b1.wake();null!=this.b2&&this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var c=a.parent;a.parent=b;b=a;a=c}for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;){var j=b.parent;b.parent=
c;c=b;b=j}for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)c=a.parent,a.parent=b,b=a,a=c;for(;null!=b;)c=b.parent,b.parent=a,b=c}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(c=null;b!=b.parent;)j=b.parent,b.parent=c,c=b,
b=j;for(;null!=c;)j=c.parent,c.parent=b,c=j}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccz=this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+
this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var c=this.b1.smass+this.b2.smass;this.kMassa=c;this.kMassb=0;this.kMassd=c;this.kMassf=this.kMasse=this.kMassc=0;if(0!=this.b1.sinertia){var c=this.a1relx*this.b1.sinertia,d=this.a1rely*this.b1.sinertia;this.kMassa+=d*this.a1rely;this.kMassb+=-d*this.a1relx;this.kMassd+=c*this.a1relx;this.kMassc+=-d;this.kMasse+=c;this.kMassf+=this.b1.sinertia}0!=
this.b2.sinertia&&(c=this.a2relx*this.b2.sinertia,d=this.a2rely*this.b2.sinertia,this.kMassa+=d*this.a2rely,this.kMassb+=-d*this.a2relx,this.kMassd+=c*this.a2relx,this.kMassc+=-d,this.kMasse+=c,this.kMassf+=this.b2.sinertia);c=this.kMassa*(this.kMassd*this.kMassf-this.kMasse*this.kMasse)+this.kMassb*(this.kMassc*this.kMasse-this.kMassb*this.kMassf)+this.kMassc*(this.kMassb*this.kMasse-this.kMassc*this.kMassd);if(c!=c)this.kMassf=this.kMasse=this.kMassc=this.kMassd=this.kMassb=this.kMassa=0,c=7;else if(0==
c)c=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,c|=1),0!=this.kMassd?this.kMassd=1/this.kMassd:(this.kMassd=0,c|=2),0!=this.kMassf?this.kMassf=1/this.kMassf:(this.kMassf=0,c|=4),this.kMassb=this.kMassc=this.kMasse=0;else{var c=1/c,d=c*(this.kMasse*this.kMassc-this.kMassb*this.kMassf),g=c*(this.kMassa*this.kMassf-this.kMassc*this.kMassc),i=c*(this.kMassb*this.kMasse-this.kMassc*this.kMassd),e=c*(this.kMassb*this.kMassc-this.kMassa*this.kMasse),f=c*(this.kMassa*this.kMassd-this.kMassb*
this.kMassb);this.kMassa=c*(this.kMassd*this.kMassf-this.kMasse*this.kMasse);this.kMassb=d;this.kMassd=g;this.kMassc=i;this.kMasse=e;this.kMassf=f;c=0}0!=(c&1)&&(this.jAccx=0);0!=(c&2)&&(this.jAccy=0);0!=(c&4)&&(this.jAccz=0);if(this.stiff)this.gamma=this.biasz=this.biasy=this.biasx=0;else{d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));c=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=c;this.kMassa*=c;this.kMassb*=c;this.kMassd*=c;this.kMassc*=c;this.kMasse*=c;this.kMassf*=c;this.biasx=
this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);this.biasz=this.b2.rot-this.b1.rot-this.phase;if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz>this.maxError*this.maxError)return!0;c=-d;this.biasx*=c;this.biasy*=c;this.biasz*=c;c=this.maxError;d=this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz;d>c*c&&(c*=1/Math.sqrt(d),this.biasx*=c,this.biasy*=c,this.biasz*=c)}this.jAccx*=
b;this.jAccy*=b;this.jAccz*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)*this.b1.iinertia;this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,c=0,a=this.b2.velx+this.b2.kinvelx-this.a2rely*
(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),c=this.b2.angvel+this.b2.kinangvel-this.b1.angvel-this.b1.kinangvel,d=0,g=0,i=0,d=this.biasx-a,g=this.biasy-b,i=this.biasz-c,a=this.kMassa*d+this.kMassb*g+this.kMassc*i,b=this.kMassb*d+this.kMassd*g+this.kMasse*i,i=this.kMassc*d+this.kMasse*
g+this.kMassf*i,c=this.gamma,d=a-this.jAccx*c,g=b-this.jAccy*c,i=i-this.jAccz*c,c=b=a=0,a=this.jAccx,b=this.jAccy,c=this.jAccz;this.jAccx+=1*d;this.jAccy+=1*g;this.jAccz+=1*i;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz>this.jMax*this.jMax)return!0}else this.stiff||(d=this.jMax,g=this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz,g>d*d&&(d*=1/Math.sqrt(g),this.jAccx*=d,this.jAccy*=d,this.jAccz*=d));d=this.jAccx-a;g=this.jAccy-b;i=this.jAccz-
c;a=this.b1.imass;this.b1.velx-=d*a;this.b1.vely-=g*a;a=this.b2.imass;this.b2.velx+=d*a;this.b2.vely+=g*a;this.b1.angvel-=(g*this.a1relx-d*this.a1rely+i)*this.b1.iinertia;this.b2.angvel+=(g*this.a2relx-d*this.a2rely+i)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,c=0,j=0,c=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,j=this.a2localx*this.b2.axisx+this.a2localy*
this.b2.axisy,g=0,i=0,e=0,g=this.b2.posx+c-(this.b1.posx+a),i=this.b2.posy+j-(this.b1.posy+b),e=this.b2.rot-this.b1.rot-this.phase,n=0,o=0,h=0;if(this.breakUnderError&&g*g+i*i+e*e>this.maxError*this.maxError)return!0;n=!0;g*g+i*i<f.Config.constraintLinearSlop*f.Config.constraintLinearSlop&&(n=!1,i=g=0);if(e*e<d.util.ZPP_Math.sqr(f.Config.constraintAngularSlop))if(n)e=0;else return!1;g*=0.5;i*=0.5;e*=0.5;if(6<g*g+i*i&&(o=this.b1.smass+this.b2.smass,o>f.Config.epsilon)){var o=0.75/o,n=-g*o,o=-i*o,k=
n*n+o*o;400<k&&(k=20*(1/Math.sqrt(k)),n*=k,o*=k);k=this.b1.imass;this.b1.posx-=n*k;this.b1.posy-=o*k;k=this.b2.imass;this.b2.posx+=n*k;this.b2.posy+=o*k;g=this.b2.posx+c-(this.b1.posx+a);i=this.b2.posy+j-(this.b1.posy+b);e=this.b2.rot-this.b1.rot-this.phase;g*=0.5;i*=0.5;e*=0.5}var l=k=0,m=0,p=0,s=0,q=0,k=n=this.b1.smass+this.b2.smass,l=0,m=n,q=s=p=0;0!=this.b1.sinertia&&(n=a*this.b1.sinertia,o=b*this.b1.sinertia,k+=o*b,l+=-o*a,m+=n*a,p+=-o,s+=n,q+=this.b1.sinertia);0!=this.b2.sinertia&&(n=c*this.b2.sinertia,
o=j*this.b2.sinertia,k+=o*j,l+=-o*c,m+=n*c,p+=-o,s+=n,q+=this.b2.sinertia);n=-g;o=-i;h=-e;g=n*n+o*o;36<g&&(g=6*(1/Math.sqrt(g)),n*=g,o*=g);d.util.ZPP_Math.clamp(h,-0.25,0.25);g=k*(m*q-s*s)+l*(p*s-l*q)+p*(l*s-p*m);if(g!=g)n=o=h=0;else if(0==g)n=0!=k?n/k:0,o=0!=m?o/m:0,h=0!=q?h/q:0;else var g=1/g,u=s*p-l*q,i=l*s-p*m,e=l*p-k*s,s=g*(n*(m*q-s*s)+o*u+h*i),p=g*(n*u+o*(k*q-p*p)+h*e),h=g*(n*i+o*e+h*(k*m-l*l)),n=s,o=p;k=this.b1.imass;this.b1.posx-=n*k;this.b1.posy-=o*k;k=this.b2.imass;this.b2.posx+=n*k;this.b2.posy+=
o*k;this.b1.delta_rot(-(o*a-n*b+h)*this.b1.iinertia);this.b2.delta_rot((o*c-n*j+h)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,c=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),j=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this));
if(!this.stiff){var g=j.sub(c);0!=Math.sqrt(function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(){g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(){g.zpp_inner.validate();return g.zpp_inner.y}(this))&&a.drawSpring(c,j,16711935);g.dispose();var i=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var e=(null==
b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-b.zpp_inner_zn.phase,f=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot;if(f>e)var o=f,f=e,e=o;d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),f,e,10+(f-f)*i,10+(e-f)*i,16711808);d.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,
10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-f)*i,16711808)}if((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world())e=b.zpp_inner_zn.phase+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,f=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,f>e&&(o=f,f=e,e=o),d.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),
f,e,10+(f-f)*i,10+(e-f)*i,8388863),d.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-f)*i,8388863)}a.drawFilledCircle(c,2,255);a.drawFilledCircle(j,2,16711680);c.dispose();j.dispose()},__class__:d.constraint.ZPP_WeldJoint});d.dynamics={};d.dynamics.ZPP_Arbiter=function(){this.colarb=this.fluidarb=this.sensorarb=
null;this.type=0;this.b1=this.b2=this.ws1=this.ws2=this.pair=null;this.invalidated=!1;this.immState=0;this.intchange=this.presentable=this.continuous=this.fresh=!1;this.present=0;this.active=this.cleared=this.sleeping=!1;this.id=this.di=this.stamp=this.up_stamp=this.sleep_stamp=this.endGenerated=0;this.outer=this.hnext=null};l["zpp_nape.dynamics.ZPP_Arbiter"]=d.dynamics.ZPP_Arbiter;d.dynamics.ZPP_Arbiter.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];d.dynamics.ZPP_Arbiter.prototype={outer:null,wrapper:function(){null==
this.outer&&(d.dynamics.ZPP_Arbiter.internal=!0,this.type==d.dynamics.ZPP_Arbiter.COL?(this.colarb.outer_zn=new f.dynamics.CollisionArbiter,this.outer=this.colarb.outer_zn):this.type==d.dynamics.ZPP_Arbiter.FLUID?(this.fluidarb.outer_zn=new f.dynamics.FluidArbiter,this.outer=this.fluidarb.outer_zn):this.outer=new f.dynamics.Arbiter,this.outer.zpp_inner=this,d.dynamics.ZPP_Arbiter.internal=!1);return this.outer},inactiveme:function(){return!this.active},hnext:null,id:null,di:null,stamp:null,up_stamp:null,
sleep_stamp:null,endGenerated:null,active:null,cleared:null,sleeping:null,present:null,intchange:null,presentable:null,continuous:null,fresh:null,immState:null,acting:function(){return this.active&&0!=(this.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)},invalidated:null,b1:null,b2:null,ws1:null,ws2:null,pair:null,swap_features:function(){var a=this.b1;this.b1=this.b2;this.b2=a;a=this.ws1;this.ws1=this.ws2;this.ws2=a;a=this.colarb.s1;this.colarb.s1=this.colarb.s2;this.colarb.s2=a},type:null,colarb:null,
fluidarb:null,sensorarb:null,lazyRetire:function(a,b){this.cleared=!0;(null==b||this.b2==b)&&this.b1.arbiters.inlined_try_remove(this);(null==b||this.b1==b)&&this.b2.arbiters.inlined_try_remove(this);null!=this.pair&&(this.pair=this.pair.arb=null);this.active=!1;a.f_arbiters.modified=!0},sup_assign:function(a,b,c,d){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=c;this.di=d;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=
this.fresh=this.sleeping=this.cleared=!1},sup_retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1},__class__:d.dynamics.ZPP_Arbiter};d.dynamics.ZPP_SensorArbiter=function(){this.next=null;d.dynamics.ZPP_Arbiter.call(this);this.type=d.dynamics.ZPP_Arbiter.SENSOR;this.sensorarb=this};l["zpp_nape.dynamics.ZPP_SensorArbiter"]=d.dynamics.ZPP_SensorArbiter;
d.dynamics.ZPP_SensorArbiter.__name__=["zpp_nape","dynamics","ZPP_SensorArbiter"];d.dynamics.ZPP_SensorArbiter.__super__=d.dynamics.ZPP_Arbiter;d.dynamics.ZPP_SensorArbiter.prototype=z(d.dynamics.ZPP_Arbiter.prototype,{next:null,alloc:function(){},free:function(){},assign:function(a,b,c,d){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=c;this.di=d;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=
this.cleared=!1},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=d.dynamics.ZPP_SensorArbiter.zpp_pool;d.dynamics.ZPP_SensorArbiter.zpp_pool=this},makemutable:function(){},makeimmutable:function(){},__class__:d.dynamics.ZPP_SensorArbiter});d.dynamics.ZPP_FluidArbiter=function(){this.pre_dt=0;this.mutable=!1;this.wrap_position=
null;this.wMass=this.adamp=this.agamma=this.vMassa=this.vMassb=this.vMassc=this.dampx=this.dampy=this.lgamma=this.nx=this.ny=this.buoyx=this.buoyy=0;this.nodrag=!1;this.centroidx=this.centroidy=this.overlap=this.r1x=this.r1y=this.r2x=this.r2y=0;this.outer_zn=this.next=null;d.dynamics.ZPP_Arbiter.call(this);this.type=d.dynamics.ZPP_Arbiter.FLUID;this.fluidarb=this;this.buoyy=this.buoyx=0;this.pre_dt=-1};l["zpp_nape.dynamics.ZPP_FluidArbiter"]=d.dynamics.ZPP_FluidArbiter;d.dynamics.ZPP_FluidArbiter.__name__=
["zpp_nape","dynamics","ZPP_FluidArbiter"];d.dynamics.ZPP_FluidArbiter.__super__=d.dynamics.ZPP_Arbiter;d.dynamics.ZPP_FluidArbiter.prototype=z(d.dynamics.ZPP_Arbiter.prototype,{outer_zn:null,next:null,alloc:function(){},free:function(){},centroidx:null,centroidy:null,overlap:null,r1x:null,r1y:null,r2x:null,r2y:null,nodrag:null,wMass:null,adamp:null,agamma:null,vMassa:null,vMassb:null,vMassc:null,dampx:null,dampy:null,lgamma:null,nx:null,ny:null,buoyx:null,buoyy:null,position_validate:function(){this.wrap_position.zpp_inner.x=
this.centroidx;this.wrap_position.zpp_inner.y=this.centroidy},position_invalidate:function(a){this.centroidx=a.x;this.centroidy=a.y},wrap_position:null,getposition:function(){this.wrap_position=f.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!this.mutable;this.wrap_position.zpp_inner._validate=w(this,this.position_validate);this.wrap_position.zpp_inner._invalidate=w(this,this.position_invalidate)},assign:function(a,b,c,d){this.b1=a.body;
this.ws1=a;this.b2=b.body;this.ws2=b;this.id=c;this.di=d;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;this.nx=0;this.ny=1;this.adamp=this.dampy=this.dampx=0},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=d.dynamics.ZPP_FluidArbiter.zpp_pool;
d.dynamics.ZPP_FluidArbiter.zpp_pool=this;this.pre_dt=-1},mutable:null,makemutable:function(){this.mutable=!0;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!0)},inject:function(a,b,c){this.overlap=a;this.centroidx=b;this.centroidy=c},pre_dt:null,preStep:function(a,b){-1==this.pre_dt&&(this.pre_dt=b);var c=b/this.pre_dt;this.pre_dt=b;this.r1x=this.centroidx-this.b1.posx;
this.r1y=this.centroidy-this.b1.posy;this.r2x=this.centroidx-this.b2.posx;this.r2y=this.centroidy-this.b2.posy;var j=0,g=0;this.ws1.fluidEnabled&&null!=this.ws1.fluidProperties.wrap_gravity?(j=this.ws1.fluidProperties.gravityx,g=this.ws1.fluidProperties.gravityy):(j=a.gravityx,g=a.gravityy);var i=0,e=0;this.ws2.fluidEnabled&&null!=this.ws2.fluidProperties.wrap_gravity?(i=this.ws2.fluidProperties.gravityx,e=this.ws2.fluidProperties.gravityy):(i=a.gravityx,e=a.gravityy);var n=0,o=0;if(this.ws1.fluidEnabled&&
this.ws2.fluidEnabled){var h=this.overlap*this.ws1.fluidProperties.density,k=this.overlap*this.ws2.fluidProperties.density;if(h>k)i=h+k,n-=j*i,o-=g*i;else if(h<k)j=h+k,n+=i*j,o+=e*j;else{var l=0,m=0,l=0.5*(j+i),m=0.5*(g+e);this.ws1.worldCOMx*l+this.ws1.worldCOMy*m>this.ws2.worldCOMx*l+this.ws2.worldCOMy*m?(j=h+k,n-=l*j,o-=m*j):(j=h+k,n+=l*j,o+=m*j)}}else this.ws1.fluidEnabled?(i=this.overlap*this.ws1.fluidProperties.density,n-=j*i,o-=g*i):this.ws2.fluidEnabled&&(j=this.overlap*this.ws2.fluidProperties.density,
n+=i*j,o+=e*j);n*=b;o*=b;this.buoyx=n;this.buoyy=o;this.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&(j=this.b1.imass,this.b1.velx-=n*j,this.b1.vely-=o*j,this.b1.angvel-=(o*this.r1x-n*this.r1y)*this.b1.iinertia);this.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&(j=this.b2.imass,this.b2.velx+=n*j,this.b2.vely+=o*j,this.b2.angvel+=(o*this.r2x-n*this.r2y)*this.b2.iinertia);if((!this.ws1.fluidEnabled||0==this.ws1.fluidProperties.viscosity)&&(!this.ws2.fluidEnabled||0==this.ws2.fluidProperties.viscosity))this.nodrag=
!0,this.adamp=this.dampy=this.dampx=0;else{this.nodrag=!1;n=0;this.ws1.fluidEnabled&&(this.ws2.validate_angDrag(),n+=this.ws1.fluidProperties.viscosity*this.ws2.angDrag*this.overlap/this.ws2.area);this.ws2.fluidEnabled&&(this.ws1.validate_angDrag(),n+=this.ws2.fluidProperties.viscosity*this.ws1.angDrag*this.overlap/this.ws1.area);0!=n?(o=this.b1.sinertia+this.b2.sinertia,this.wMass=0!=o?1/o:0,n=2*Math.PI*4E-4*n,this.agamma=1/(b*n*(2+n*b)),n=1/(1+this.agamma),this.agamma*=n,this.wMass*=n):this.agamma=
this.wMass=0;n=this.b2.velx+this.b2.kinvelx-this.r2y*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.r1y*(this.b2.angvel+this.b2.kinangvel));o=this.b2.vely+this.b2.kinvely+this.r2x*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.r1x*(this.b1.angvel+this.b1.kinangvel));n*n+o*o<f.Config.epsilon*f.Config.epsilon||(j=1/Math.sqrt(n*n+o*o),this.nx=n*j,this.ny=o*j);n=0;if(this.ws1.fluidEnabled)if(o=-this.ws1.fluidProperties.viscosity*this.overlap/this.ws2.area,
this.ws2.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE)n-=o*this.ws2.circle.radius*f.Config.fluidLinearDrag/(2*this.ws2.circle.radius*Math.PI);else{g=j=0;for(i=this.ws2.polygon.edges.head;null!=i;)e=i.elt,j+=e.length,e=o*e.length*(e.gnormx*this.nx+e.gnormy*this.ny),0<e&&(e=e*=-f.Config.fluidVacuumDrag),g-=0.5*e*f.Config.fluidLinearDrag,i=i.next;n+=g/j}if(this.ws2.fluidEnabled)if(o=-this.ws2.fluidProperties.viscosity*this.overlap/this.ws1.area,this.ws1.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE)n-=o*
this.ws1.circle.radius*f.Config.fluidLinearDrag/(2*this.ws1.circle.radius*Math.PI);else{g=j=0;for(i=this.ws1.polygon.edges.head;null!=i;)e=i.elt,j+=e.length,e=o*e.length*(e.gnormx*this.nx+e.gnormy*this.ny),0<e&&(e=e*=-f.Config.fluidVacuumDrag),g-=0.5*e*f.Config.fluidLinearDrag,i=i.next;n+=g/j}0!=n?(i=this.b1.smass+this.b2.smass,g=j=o=0,o=i,j=0,g=i,0!=this.b1.sinertia&&(i=this.r1x*this.b1.sinertia,e=this.r1y*this.b1.sinertia,o+=e*this.r1y,j+=-e*this.r1x,g+=i*this.r1x),0!=this.b2.sinertia&&(i=this.r2x*
this.b2.sinertia,e=this.r2y*this.b2.sinertia,o+=e*this.r2y,j+=-e*this.r2x,g+=i*this.r2x),i=o*g-j*j,i!=i?(o=j=g=0,3):0==i?(i=0,0!=o?o=1/o:(o=0,i|=1),0!=g?g=1/g:(g=0,i|=2),j=0,i):(i=1/i,e=g*i,g=o*i,o=e,j*=-i,0),this.vMassa=o,this.vMassb=j,this.vMassc=g,n*=2*Math.PI,this.lgamma=1/(b*n*(2+n*b)),n=1/(1+this.lgamma),this.lgamma*=n,this.vMassa*=n,this.vMassb*=n,this.vMassc*=n):this.lgamma=this.vMassc=this.vMassb=this.vMassa=0}this.dampx*=c;this.dampy*=c;this.adamp*=c},warmStart:function(){var a=this.b1.imass;
this.b1.velx-=this.dampx*a;this.b1.vely-=this.dampy*a;a=this.b2.imass;this.b2.velx+=this.dampx*a;this.b2.vely+=this.dampy*a;this.b1.angvel-=this.b1.iinertia*(this.dampy*this.r1x-this.dampx*this.r1y);this.b2.angvel+=this.b2.iinertia*(this.dampy*this.r2x-this.dampx*this.r2y);this.b1.angvel-=this.adamp*this.b1.iinertia;this.b2.angvel+=this.adamp*this.b2.iinertia},applyImpulseVel:function(){if(!this.nodrag){var a=this.b1.angvel+this.b1.kinangvel,b=this.b2.angvel+this.b2.kinangvel,c=this.b1.velx+this.b1.kinvelx-
this.r1y*a-(this.b2.velx+this.b2.kinvelx-this.r2y*b),d=this.b1.vely+this.b1.kinvely+this.r1x*a-(this.b2.vely+this.b2.kinvely+this.r2x*b),g=this.vMassa*c+this.vMassb*d,d=this.vMassb*c+this.vMassc*d,i=this.lgamma,c=g-this.dampx*i,d=d-this.dampy*i;this.dampx+=1*c;this.dampy+=1*d;g=this.b1.imass;this.b1.velx-=c*g;this.b1.vely-=d*g;g=this.b2.imass;this.b2.velx+=c*g;this.b2.vely+=d*g;this.b1.angvel-=this.b1.iinertia*(d*this.r1x-c*this.r1y);this.b2.angvel+=this.b2.iinertia*(d*this.r2x-c*this.r2y);a=(a-b)*
this.wMass-this.adamp*this.agamma;this.adamp+=a;this.b1.angvel-=a*this.b1.iinertia;this.b2.angvel+=a*this.b2.iinertia}},__class__:d.dynamics.ZPP_FluidArbiter});d.dynamics.ZPP_ColArbiter=function(){this.pre_dt=0;this.stat=this.mutable=!1;this.next=null;this.hc2=this.hpc2=!1;this.c1=this.oc1=this.c2=this.oc2=null;this.__ref_vertex=0;this.__ref_edge1=this.__ref_edge2=null;this.biasCoef=0;this.rev=!1;this.kMassa=this.kMassb=this.kMassc=this.Ka=this.Kb=this.Kc=this.rMass=this.jrAcc=this.rn1a=this.rt1a=
this.rn1b=this.rt1b=this.rn2a=this.rt2a=this.rn2b=this.rt2b=this.k1x=this.k1y=this.k2x=this.k2y=this.surfacex=this.surfacey=this.lnormx=this.lnormy=this.lproj=this.radius=0;this.wrap_normal=null;this.nx=this.ny=0;this.s1=this.s2=this.contacts=this.wrap_contacts=this.innards=null;this.userdef_dyn_fric=this.userdef_stat_fric=this.userdef_restitution=this.userdef_rfric=!1;this.dyn_fric=this.stat_fric=this.restitution=this.rfric=0;this.outer_zn=null;d.dynamics.ZPP_Arbiter.call(this);this.pre_dt=-1;this.contacts=
new d.dynamics.ZPP_Contact;this.innards=new d.dynamics.ZPP_IContact;this.type=d.dynamics.ZPP_Arbiter.COL;this.colarb=this};l["zpp_nape.dynamics.ZPP_ColArbiter"]=d.dynamics.ZPP_ColArbiter;d.dynamics.ZPP_ColArbiter.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];d.dynamics.ZPP_ColArbiter.__super__=d.dynamics.ZPP_Arbiter;d.dynamics.ZPP_ColArbiter.prototype=z(d.dynamics.ZPP_Arbiter.prototype,{outer_zn:null,dyn_fric:null,stat_fric:null,restitution:null,rfric:null,userdef_dyn_fric:null,userdef_stat_fric:null,
userdef_restitution:null,userdef_rfric:null,s1:null,s2:null,contacts:null,wrap_contacts:null,innards:null,nx:null,ny:null,normal_validate:function(){if(this.cleared)throw"Error: Arbiter not currently in use";this.wrap_normal.zpp_inner.x=this.nx;this.wrap_normal.zpp_inner.y=this.ny;this.ws1.id>this.ws2.id&&(this.wrap_normal.zpp_inner.x=-this.wrap_normal.zpp_inner.x,this.wrap_normal.zpp_inner.y=-this.wrap_normal.zpp_inner.y)},wrap_normal:null,getnormal:function(){this.wrap_normal=f.geom.Vec2.get(0,
0,null);this.wrap_normal.zpp_inner._immutable=!0;this.wrap_normal.zpp_inner._inuse=!0;this.wrap_normal.zpp_inner._validate=w(this,this.normal_validate)},kMassa:null,kMassb:null,kMassc:null,Ka:null,Kb:null,Kc:null,rMass:null,jrAcc:null,rn1a:null,rt1a:null,rn1b:null,rt1b:null,rn2a:null,rt2a:null,rn2b:null,rt2b:null,k1x:null,k1y:null,k2x:null,k2y:null,surfacex:null,surfacey:null,ptype:null,lnormx:null,lnormy:null,lproj:null,radius:null,rev:null,biasCoef:null,__ref_edge1:null,__ref_edge2:null,__ref_vertex:null,
c1:null,oc1:null,c2:null,oc2:null,hc2:null,hpc2:null,next:null,alloc:function(){},free:function(){this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null},stat:null,injectContact:function(a,b,c,j,g,i,e){null==e&&(e=!1);for(var f=null,o=this.contacts.next;null!=o;){var h=o;if(i==h.hash){f=h;break}o=o.next}null==f?(null==d.dynamics.ZPP_Contact.zpp_pool?f=new d.dynamics.ZPP_Contact:(f=d.dynamics.ZPP_Contact.zpp_pool,d.dynamics.ZPP_Contact.zpp_pool=
f.next,f.next=null),null,o=f.inner,o.jnAcc=o.jtAcc=0,f.hash=i,f.fresh=!0,f.arbiter=this,this.jrAcc=0,this.contacts.inlined_add(f),this.innards.add(o)):f.fresh=!1;f.px=a;f.py=b;this.nx=c;this.ny=j;f.dist=g;f.stamp=this.stamp;f.posOnly=e;return f},assign:function(a,b,c,d){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=c;this.di=d;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;
this.s1=a;this.s2=b;if(!this.userdef_restitution&&(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution))this.restitution=1;this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*
this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},calcProperties:function(){if(!this.userdef_restitution&&(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=
Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution))this.restitution=1;this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},
validate_props:function(){if(this.invalidated){this.invalidated=!1;if(!this.userdef_restitution&&(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution))this.restitution=1;this.userdef_dyn_fric||(this.dyn_fric=
Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))}},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;for(this.intchange=
this.active=!1;null!=this.contacts.next;){var a=this.contacts.inlined_pop_unsafe();a.arbiter=null;a.next=d.dynamics.ZPP_Contact.zpp_pool;d.dynamics.ZPP_Contact.zpp_pool=a;this.innards.inlined_pop()}this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null;this.next=d.dynamics.ZPP_ColArbiter.zpp_pool;d.dynamics.ZPP_ColArbiter.zpp_pool=this;this.pre_dt=-1},mutable:null,makemutable:function(){this.mutable=!0;null!=this.wrap_normal&&
(this.wrap_normal.zpp_inner._immutable=!1);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!0);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!0)},contacts_adder:function(){return!1},contacts_subber:function(a){for(var b=null,c=null,j=this.innards.next,g=this.contacts.next;null!=g;){var i=g;if(i==a.zpp_inner){this.contacts.erase(b);this.innards.erase(c);
a=i;a.arbiter=null;a.next=d.dynamics.ZPP_Contact.zpp_pool;d.dynamics.ZPP_Contact.zpp_pool=a;break}b=g;c=j;j=j.next;g=g.next}},setupcontacts:function(){this.wrap_contacts=d.util.ZPP_ContactList.get(this.contacts,!0);this.wrap_contacts.zpp_inner.immutable=!this.mutable;this.wrap_contacts.zpp_inner.adder=w(this,this.contacts_adder);this.wrap_contacts.zpp_inner.dontremove=!0;this.wrap_contacts.zpp_inner.subber=w(this,this.contacts_subber)},cleanupContacts:function(){var a=!0,b=null,c=null,j=this.innards.next;
this.hc2=!1;for(var g=this.contacts.next;null!=g;){var i=g;i.stamp+f.Config.arbiterExpirationDelay<this.stamp?(g=this.contacts.inlined_erase(b),j=this.innards.inlined_erase(c),i.arbiter=null,i.next=d.dynamics.ZPP_Contact.zpp_pool,d.dynamics.ZPP_Contact.zpp_pool=i):(b=i.inner,c=i.active,i.active=i.stamp==this.stamp,i.active&&(a?(a=!1,this.c1=b,this.oc1=i):(this.hc2=!0,this.c2=b,this.oc2=i)),c!=i.active&&(this.contacts.modified=!0),b=g,c=j,j=j.next,g=g.next)}this.hc2?(this.hpc2=!0,this.oc1.posOnly?
(j=this.c1,this.c1=this.c2,this.c2=j,j=this.oc1,this.oc1=this.oc2,this.oc2=j,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(a=!0)):this.hpc2=!1;return a},pre_dt:null,preStep:function(a){if(this.invalidated){this.invalidated=!1;if(!this.userdef_restitution&&(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?
1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution))this.restitution=1;this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))}-1==this.pre_dt&&
(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;var c=this.b1.smass+this.b2.smass;this.hc2=!1;a=!0;this.biasCoef=this.b1.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC||this.b2.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC?this.continuous?f.Config.contactContinuousStaticBiasCoef:f.Config.contactStaticBiasCoef:this.continuous?f.Config.contactContinuousBiasCoef:f.Config.contactBiasCoef;this.continuous=!1;for(var j=null,g=null,i=this.innards.next,e=this.contacts.next;null!=e;){var n=e;if(n.stamp+f.Config.arbiterExpirationDelay<
this.stamp)e=this.contacts.inlined_erase(j),i=this.innards.inlined_erase(g),n.arbiter=null,n.next=d.dynamics.ZPP_Contact.zpp_pool,d.dynamics.ZPP_Contact.zpp_pool=n;else{j=n.inner;g=n.active;n.active=n.stamp==this.stamp;if(n.active){a?(a=!1,this.c1=j,this.oc1=n):(this.hc2=!0,this.c2=j,this.oc2=n);j.r2x=n.px-this.b2.posx;j.r2y=n.py-this.b2.posy;j.r1x=n.px-this.b1.posx;j.r1y=n.py-this.b1.posy;var o=c+this.b2.sinertia*d.util.ZPP_Math.sqr(j.r2x*this.nx+j.r2y*this.ny),o=o+this.b1.sinertia*d.util.ZPP_Math.sqr(j.r1x*
this.nx+j.r1y*this.ny);j.tMass=o<f.Config.epsilon*f.Config.epsilon?0:1/o;o=c+this.b2.sinertia*d.util.ZPP_Math.sqr(this.ny*j.r2x-this.nx*j.r2y);o+=this.b1.sinertia*d.util.ZPP_Math.sqr(this.ny*j.r1x-this.nx*j.r1y);j.nMass=o<f.Config.epsilon*f.Config.epsilon?0:1/o;var h=o=0,k=this.b2.angvel+this.b2.kinangvel,o=this.b2.velx+this.b2.kinvelx-j.r2y*k,h=this.b2.vely+this.b2.kinvely+j.r2x*k,k=this.b1.angvel+this.b1.kinangvel,o=o-(this.b1.velx+this.b1.kinvelx-j.r1y*k),h=h-(this.b1.vely+this.b1.kinvely+j.r1x*
k),k=this.nx*o+this.ny*h;n.elasticity=this.restitution;j.bounce=k*n.elasticity;j.bounce>-f.Config.elasticThreshold&&(j.bounce=0);k=h*this.nx-o*this.ny;o=f.Config.staticFrictionThreshold;j.friction=k*k>o*o?this.dyn_fric:this.stat_fric;j.jnAcc*=b;j.jtAcc*=b}g!=n.active&&(this.contacts.modified=!0);j=e;g=i;i=i.next;e=e.next}}this.hc2?(this.hpc2=!0,this.oc1.posOnly?(i=this.c1,this.c1=this.c2,this.c2=i,i=this.oc1,this.oc1=this.oc2,this.oc2=i,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&
(a=!0)):this.hpc2=!1;this.jrAcc*=b;a||(this.rn1a=this.ny*this.c1.r1x-this.nx*this.c1.r1y,this.rt1a=this.c1.r1x*this.nx+this.c1.r1y*this.ny,this.rn1b=this.ny*this.c1.r2x-this.nx*this.c1.r2y,this.rt1b=this.c1.r2x*this.nx+this.c1.r2y*this.ny,this.k1x=this.b2.kinvelx-this.c1.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c1.r1y*this.b1.kinangvel),this.k1y=this.b2.kinvely+this.c1.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c1.r1x*this.b1.kinangvel));this.hc2&&((this.rn2a=this.ny*this.c2.r1x-this.nx*this.c2.r1y,
this.rt2a=this.c2.r1x*this.nx+this.c2.r1y*this.ny,this.rn2b=this.ny*this.c2.r2x-this.nx*this.c2.r2y,this.rt2b=this.c2.r2x*this.nx+this.c2.r2y*this.ny,this.k2x=this.b2.kinvelx-this.c2.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c2.r1y*this.b1.kinangvel),this.k2y=this.b2.kinvely+this.c2.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c2.r1x*this.b1.kinangvel),this.kMassa=c+this.b1.sinertia*this.rn1a*this.rn1a+this.b2.sinertia*this.rn1b*this.rn1b,this.kMassb=c+this.b1.sinertia*this.rn1a*this.rn2a+this.b2.sinertia*
this.rn1b*this.rn2b,this.kMassc=c+this.b1.sinertia*this.rn2a*this.rn2a+this.b2.sinertia*this.rn2b*this.rn2b,this.kMassa*this.kMassa+2*this.kMassb*this.kMassb+this.kMassc*this.kMassc<f.Config.illConditionedThreshold*(this.kMassa*this.kMassc-this.kMassb*this.kMassb))?(this.Ka=this.kMassa,this.Kb=this.kMassb,this.Kc=this.kMassc,b=this.kMassa*this.kMassc-this.kMassb*this.kMassb,b!=b)?(this.kMassa=this.kMassb=this.kMassc=0,3):0==b?(b=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,b|=1),0!=this.kMassc?
this.kMassc=1/this.kMassc:(this.kMassc=0,b|=2),this.kMassb=0,b):(b=1/b,c=this.kMassc*b,this.kMassc=this.kMassa*b,this.kMassa=c,this.kMassb*=-b,0):(this.hc2=!1,this.oc2.dist<this.oc1.dist&&(b=this.c1,this.c1=this.c2,this.c2=b),this.oc2.active=!1,this.contacts.modified=!0));this.surfacex=this.b2.svelx;this.surfacey=this.b2.svely;this.surfacex+=1*this.b1.svelx;this.surfacey+=1*this.b1.svely;this.surfacex=-this.surfacex;this.surfacey=-this.surfacey;this.rMass=this.b1.sinertia+this.b2.sinertia;0!=this.rMass&&
(this.rMass=1/this.rMass);return a},warmStart:function(){var a=this.nx*this.c1.jnAcc-this.ny*this.c1.jtAcc,b=this.ny*this.c1.jnAcc+this.nx*this.c1.jtAcc,c=this.b1.imass;this.b1.velx-=a*c;this.b1.vely-=b*c;this.b1.angvel-=this.b1.iinertia*(b*this.c1.r1x-a*this.c1.r1y);c=this.b2.imass;this.b2.velx+=a*c;this.b2.vely+=b*c;this.b2.angvel+=this.b2.iinertia*(b*this.c1.r2x-a*this.c1.r2y);this.hc2&&(a=this.nx*this.c2.jnAcc-this.ny*this.c2.jtAcc,b=this.ny*this.c2.jnAcc+this.nx*this.c2.jtAcc,c=this.b1.imass,
this.b1.velx-=a*c,this.b1.vely-=b*c,this.b1.angvel-=this.b1.iinertia*(b*this.c2.r1x-a*this.c2.r1y),c=this.b2.imass,this.b2.velx+=a*c,this.b2.vely+=b*c,this.b2.angvel+=this.b2.iinertia*(b*this.c2.r2x-a*this.c2.r2y));this.b2.angvel+=this.jrAcc*this.b2.iinertia;this.b1.angvel-=this.jrAcc*this.b1.iinertia},applyImpulseVel:function(){var a,b,c,d,g;d=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel);var i=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+
this.c1.r1x*this.b1.angvel);c=(i*this.nx-d*this.ny+this.surfacex)*this.c1.tMass;d=this.c1.friction*this.c1.jnAcc;a=this.c1.jtAcc;g=a-c;g>d?g=d:g<-d&&(g=-d);c=g-a;this.c1.jtAcc=g;a=-this.ny*c;b=this.nx*c;this.b2.velx+=a*this.b2.imass;this.b2.vely+=b*this.b2.imass;this.b1.velx-=a*this.b1.imass;this.b1.vely-=b*this.b1.imass;this.b2.angvel+=this.rt1b*c*this.b2.iinertia;this.b1.angvel-=this.rt1a*c*this.b1.iinertia;this.hc2?(g=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),
b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),c=(b*this.nx-g*this.ny+this.surfacex)*this.c2.tMass,d=this.c2.friction*this.c2.jnAcc,a=this.c2.jtAcc,g=a-c,g>d?g=d:g<-d&&(g=-d),c=g-a,this.c2.jtAcc=g,a=-this.ny*c,b=this.nx*c,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rt2b*c*this.b2.iinertia,this.b1.angvel-=this.rt2a*c*this.b1.iinertia,d=this.k1x+this.b2.velx-
this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),i=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),g=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),c=this.c1.jnAcc,a=this.c2.jnAcc,d=d*this.nx+i*this.ny+this.surfacey+this.c1.bounce-(this.Ka*c+this.Kb*a),g=g*this.nx+b*this.ny+this.surfacey+this.c2.bounce-
(this.Kb*c+this.Kc*a),b=-(this.kMassa*d+this.kMassb*g),i=-(this.kMassb*d+this.kMassc*g),0<=b&&0<=i?(d=b-c,g=i-a,this.c1.jnAcc=b,this.c2.jnAcc=i):(b=-this.c1.nMass*d,0<=b&&0<=this.Kb*b+g?(d=b-c,g=-a,this.c1.jnAcc=b,this.c2.jnAcc=0):(i=-this.c2.nMass*g,0<=i&&0<=this.Kb*i+d?(d=-c,g=i-a,this.c1.jnAcc=0,this.c2.jnAcc=i):0<=d&&0<=g?(d=-c,g=-a,this.c1.jnAcc=this.c2.jnAcc=0):g=d=0)),c=d+g,a=this.nx*c,b=this.ny*c,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=
b*this.b1.imass,this.b2.angvel+=(this.rn1b*d+this.rn2b*g)*this.b2.iinertia,this.b1.angvel-=(this.rn1a*d+this.rn2a*g)*this.b1.iinertia):(0!=this.radius&&(c=(this.b2.angvel-this.b1.angvel)*this.rMass,d=this.rfric*this.c1.jnAcc,a=this.jrAcc,this.jrAcc-=c,this.jrAcc>d?this.jrAcc=d:this.jrAcc<-d&&(this.jrAcc=-d),c=this.jrAcc-a,this.b2.angvel+=c*this.b2.iinertia,this.b1.angvel-=c*this.b1.iinertia),d=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),i=this.k1y+this.b2.vely+
this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),c=(this.c1.bounce+(this.nx*d+this.ny*i)+this.surfacey)*this.c1.nMass,a=this.c1.jnAcc,g=a-c,0>g&&(g=0),c=g-a,this.c1.jnAcc=g,a=this.nx*c,b=this.ny*c,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rn1b*c*this.b2.iinertia,this.b1.angvel-=this.rn1a*c*this.b1.iinertia)},applyImpulsePos:function(){if(2==this.ptype){var a=this.c1,b=0,c=0,b=this.b2.axisy*
a.lr2x-this.b2.axisx*a.lr2y,c=a.lr2x*this.b2.axisx+a.lr2y*this.b2.axisy,b=b+1*this.b2.posx,c=c+1*this.b2.posy,d=0,g=0,d=this.b1.axisy*a.lr1x-this.b1.axisx*a.lr1y,g=a.lr1x*this.b1.axisx+a.lr1y*this.b1.axisy,d=d+1*this.b1.posx,g=g+1*this.b1.posy,i=a=0,a=b-d,i=c-g,e=Math.sqrt(a*a+i*i),n=this.radius-f.Config.collisionSlop,o=e-n;0>a*this.nx+i*this.ny&&(a=-a,i=-i,o-=this.radius);0>o&&(e<f.Config.epsilon?0!=this.b1.smass?this.b1.posx+=10*f.Config.epsilon:this.b2.posx+=10*f.Config.epsilon:(o=1/e,a*=o,i*=
o,b=0.5*(d+b),c=0.5*(g+c),d=b-this.b1.posx,g=c-this.b1.posy,b-=this.b2.posx,c-=this.b2.posy,d=i*d-a*g,b=i*b-a*c,c=this.b2.smass+b*b*this.b2.sinertia+this.b1.smass+d*d*this.b1.sinertia,0!=c&&(e=-this.biasCoef*(e-n)/c,c=n=0,n=a*e,c=i*e,a=this.b1.imass,this.b1.posx-=n*a,this.b1.posy-=c*a,this.b1.delta_rot(-d*this.b1.iinertia*e),a=this.b2.imass,this.b2.posx+=n*a,this.b2.posy+=c*a,this.b2.delta_rot(b*this.b2.iinertia*e))))}else{var h=o=i=a=0,g=b=0;0==this.ptype?(a=this.b1.axisy*this.lnormx-this.b1.axisx*
this.lnormy,i=this.lnormx*this.b1.axisx+this.lnormy*this.b1.axisy,n=this.lproj+(a*this.b1.posx+i*this.b1.posy),o=this.b2.axisy*this.c1.lr1x-this.b2.axisx*this.c1.lr1y,h=this.c1.lr1x*this.b2.axisx+this.c1.lr1y*this.b2.axisy,o+=1*this.b2.posx,h+=1*this.b2.posy,this.hpc2&&(b=this.b2.axisy*this.c2.lr1x-this.b2.axisx*this.c2.lr1y,g=this.c2.lr1x*this.b2.axisx+this.c2.lr1y*this.b2.axisy,b+=1*this.b2.posx,g+=1*this.b2.posy)):(a=this.b2.axisy*this.lnormx-this.b2.axisx*this.lnormy,i=this.lnormx*this.b2.axisx+
this.lnormy*this.b2.axisy,n=this.lproj+(a*this.b2.posx+i*this.b2.posy),o=this.b1.axisy*this.c1.lr1x-this.b1.axisx*this.c1.lr1y,h=this.c1.lr1x*this.b1.axisx+this.c1.lr1y*this.b1.axisy,o+=1*this.b1.posx,h+=1*this.b1.posy,this.hpc2&&(b=this.b1.axisy*this.c2.lr1x-this.b1.axisx*this.c2.lr1y,g=this.c2.lr1x*this.b1.axisx+this.c2.lr1y*this.b1.axisy,b+=1*this.b1.posx,g+=1*this.b1.posy));e=o*a+h*i-n-this.radius;e+=f.Config.collisionSlop;c=0;this.hpc2&&(c=b*a+g*i-n-this.radius,c+=f.Config.collisionSlop);if(0>
e||0>c){this.rev&&(a=-a,i=-i);var k=0,l=0,k=o-this.b1.posx,l=h-this.b1.posy,d=n=0,n=o-this.b2.posx,d=h-this.b2.posy,m=0,p=0,h=o=0;if(this.hpc2){m=b-this.b1.posx;p=g-this.b1.posy;o=b-this.b2.posx;h=g-this.b2.posy;b=i*k-a*l;n=i*n-a*d;g=i*m-a*p;d=i*o-a*h;o=this.b1.smass+this.b2.smass;this.kMassa=o+this.b1.sinertia*b*b+this.b2.sinertia*n*n;this.kMassb=o+this.b1.sinertia*b*g+this.b2.sinertia*n*d;this.kMassc=o+this.b1.sinertia*g*g+this.b2.sinertia*d*d;k=h=o=0;o=this.kMassa;h=this.kMassb;k=this.kMassc;l=
e*this.biasCoef;m=c*this.biasCoef;c=e=0;e=-l;c=-m;p=this.kMassa*this.kMassc-this.kMassb*this.kMassb;if(p!=p)e=c=0;else if(0==p)e=0!=this.kMassa?e/this.kMassa:0,c=0!=this.kMassc?c/this.kMassc:0;else var p=1/p,s=p*(this.kMassc*e-this.kMassb*c),c=p*(this.kMassa*c-this.kMassb*e),e=s;0<=e&&0<=c?(o=(e+c)*this.b1.imass,this.b1.posx-=a*o,this.b1.posy-=i*o,this.b1.delta_rot(-this.b1.iinertia*(b*e+g*c)),b=(e+c)*this.b2.imass,this.b2.posx+=a*b,this.b2.posy+=i*b,this.b2.delta_rot(this.b2.iinertia*(n*e+d*c))):
(e=-l/o,c=0,0<=e&&0<=h*e+m?(o=(e+c)*this.b1.imass,this.b1.posx-=a*o,this.b1.posy-=i*o,this.b1.delta_rot(-this.b1.iinertia*(b*e+g*c)),b=(e+c)*this.b2.imass,this.b2.posx+=a*b,this.b2.posy+=i*b,this.b2.delta_rot(this.b2.iinertia*(n*e+d*c))):(e=0,c=-m/k,0<=c&&0<=h*c+l&&(o=(e+c)*this.b1.imass,this.b1.posx-=a*o,this.b1.posy-=i*o,this.b1.delta_rot(-this.b1.iinertia*(b*e+g*c)),b=(e+c)*this.b2.imass,this.b2.posx+=a*b,this.b2.posy+=i*b,this.b2.delta_rot(this.b2.iinertia*(n*e+d*c)))))}else b=i*k-a*l,n=i*n-a*
d,c=this.b2.smass+n*n*this.b2.sinertia+this.b1.smass+b*b*this.b1.sinertia,0!=c&&(e=-this.biasCoef*e/c,d=c=0,c=a*e,d=i*e,a=this.b1.imass,this.b1.posx-=c*a,this.b1.posy-=d*a,this.b1.delta_rot(-b*this.b1.iinertia*e),a=this.b2.imass,this.b2.posx+=c*a,this.b2.posy+=d*a,this.b2.delta_rot(n*this.b2.iinertia*e))}}},__class__:d.dynamics.ZPP_ColArbiter});d.dynamics.ZPP_Contact=function(){this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.dist=this.elasticity=0;this.fresh=!1;this.stamp=
this.hash=0;this.active=this.posOnly=!1;this.wrap_position=this.arbiter=this.inner=null;this.px=this.py=0;this.outer=null;this.inner=new d.dynamics.ZPP_IContact};l["zpp_nape.dynamics.ZPP_Contact"]=d.dynamics.ZPP_Contact;d.dynamics.ZPP_Contact.__name__=["zpp_nape","dynamics","ZPP_Contact"];d.dynamics.ZPP_Contact.prototype={outer:null,wrapper:function(){null==this.outer&&(d.dynamics.ZPP_Contact.internal=!0,this.outer=new f.dynamics.Contact,d.dynamics.ZPP_Contact.internal=!1,this.outer.zpp_inner=this);
return this.outer},px:null,py:null,position_validate:function(){this.wrap_position.zpp_inner.x=this.px;this.wrap_position.zpp_inner.y=this.py},wrap_position:null,getposition:function(){this.wrap_position=f.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!0;this.wrap_position.zpp_inner._validate=w(this,this.position_validate)},inactiveme:function(){return!(this.active&&null!=this.arbiter&&this.arbiter.active)},arbiter:null,inner:null,active:null,
posOnly:null,stamp:null,hash:null,fresh:null,dist:null,elasticity:null,free:function(){this.arbiter=null},alloc:function(){},next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=
a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;
this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.next,this.next=c=b.next,
null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:d.dynamics.ZPP_Contact};d.dynamics.ZPP_IContact=function(){this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.r1x=this.r1y=
this.r2x=this.r2y=this.nMass=this.tMass=this.bounce=this.friction=this.jnAcc=this.jtAcc=this.lr1x=this.lr1y=this.lr2x=this.lr2y=0};l["zpp_nape.dynamics.ZPP_IContact"]=d.dynamics.ZPP_IContact;d.dynamics.ZPP_IContact.__name__=["zpp_nape","dynamics","ZPP_IContact"];d.dynamics.ZPP_IContact.prototype={r1x:null,r1y:null,r2x:null,r2y:null,nMass:null,tMass:null,bounce:null,friction:null,jnAcc:null,jtAcc:null,lr1x:null,lr1y:null,lr2x:null,lr2y:null,next:null,elem:function(){return this},begin:function(){return this.next},
_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=
!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.next,this.next=c=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},
inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=
this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:d.dynamics.ZPP_IContact};d.dynamics.ZPP_InteractionFilter=function(){this.collisionGroup=this.collisionMask=this.sensorGroup=this.sensorMask=this.fluidGroup=this.fluidMask=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new d.util.ZNPList_ZPP_Shape;this.collisionGroup=this.sensorGroup=this.fluidGroup=1;this.collisionMask=this.sensorMask=this.fluidMask=
-1};l["zpp_nape.dynamics.ZPP_InteractionFilter"]=d.dynamics.ZPP_InteractionFilter;d.dynamics.ZPP_InteractionFilter.__name__=["zpp_nape","dynamics","ZPP_InteractionFilter"];d.dynamics.ZPP_InteractionFilter.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.dynamics.InteractionFilter;var a=this.outer.zpp_inner;a.outer=null;a.next=d.dynamics.ZPP_InteractionFilter.zpp_pool;d.dynamics.ZPP_InteractionFilter.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},
free:function(){this.outer=null},alloc:function(){},shapes:null,wrap_shapes:null,feature_cons:function(){this.shapes=new d.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==d.dynamics.ZPP_InteractionFilter.zpp_pool?a=new d.dynamics.ZPP_InteractionFilter:(a=d.dynamics.ZPP_InteractionFilter.zpp_pool,d.dynamics.ZPP_InteractionFilter.zpp_pool=a.next,a.next=null);null;a.collisionGroup=this.collisionGroup;a.collisionMask=
this.collisionMask;a.sensorGroup=this.sensorGroup;a.sensorMask=this.sensorMask;a.fluidGroup=this.fluidGroup;a.fluidMask=this.fluidMask;return a},collisionGroup:null,collisionMask:null,shouldCollide:function(a){return 0!=(this.collisionMask&a.collisionGroup)&&0!=(a.collisionMask&this.collisionGroup)},sensorGroup:null,sensorMask:null,shouldSense:function(a){return 0!=(this.sensorMask&a.sensorGroup)&&0!=(a.sensorMask&this.sensorGroup)},fluidGroup:null,fluidMask:null,shouldFlow:function(a){return 0!=
(this.fluidMask&a.fluidGroup)&&0!=(a.fluidMask&this.fluidGroup)},invalidate:function(){for(var a=this.shapes.head;null!=a;)a.elt.invalidate_filter(),a=a.next},__class__:d.dynamics.ZPP_InteractionFilter};d.dynamics.ZPP_InteractionGroup=function(){this.depth=0;this.group=this.groups=this.wrap_groups=this.interactors=this.wrap_interactors=null;this.ignore=!1;this.outer=null;this.depth=0;this.groups=new d.util.ZNPList_ZPP_InteractionGroup;this.interactors=new d.util.ZNPList_ZPP_Interactor};l["zpp_nape.dynamics.ZPP_InteractionGroup"]=
d.dynamics.ZPP_InteractionGroup;d.dynamics.ZPP_InteractionGroup.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];d.dynamics.ZPP_InteractionGroup.prototype={outer:null,ignore:null,group:null,setGroup:function(a){this.group!=a&&((null!=this.group&&(this.group.groups.remove(this),this.depth=0,this.group.invalidate(!0)),this.group=a,null!=a)?(a.groups.add(this),this.depth=a.depth+1,a.invalidate(!0)):this.invalidate(!0))},groups:null,wrap_groups:null,interactors:null,wrap_interactors:null,depth:null,
invalidate:function(a){null==a&&(a=!1);if(a||this.ignore){for(var b=this.interactors.head;null!=b;){var c=b.elt;null!=c.ibody?c.ibody.wake():null!=c.ishape?c.ishape.body.wake():c.icompound.wake();b=b.next}for(b=this.groups.head;null!=b;)b.elt.invalidate(a),b=b.next}},addGroup:function(a){this.groups.add(a);a.depth=this.depth+1},remGroup:function(a){this.groups.remove(a);a.depth=0},addInteractor:function(a){this.interactors.add(a)},remInteractor:function(a){this.interactors.remove(a)},__class__:d.dynamics.ZPP_InteractionGroup};
d.dynamics.ZPP_SpaceArbiterList=function(){this.at_index_0=this.at_index_1=this.at_index_2=this.at_index_3=0;this.lengths=this.ite_0=this.ite_1=this.ite_2=this.ite_3=null;this.zip_length=!1;this._length=0;this.space=null;f.dynamics.ArbiterList.call(this);this.at_index_3=this.at_index_2=this.at_index_1=this.at_index_0=0;this.zip_length=!0;this._length=0;this.lengths=[];for(var a=0;4>a;)a++,this.lengths.push(0)};l["zpp_nape.dynamics.ZPP_SpaceArbiterList"]=d.dynamics.ZPP_SpaceArbiterList;d.dynamics.ZPP_SpaceArbiterList.__name__=
["zpp_nape","dynamics","ZPP_SpaceArbiterList"];d.dynamics.ZPP_SpaceArbiterList.__super__=f.dynamics.ArbiterList;d.dynamics.ZPP_SpaceArbiterList.prototype=z(f.dynamics.ArbiterList.prototype,{space:null,_length:null,zip_length:null,zpp_gl:function(){this.zpp_vm();if(this.zip_length){for(var a=this._length=0,b=0,c=this.space.c_arbiters_true.head;null!=c;)c.elt.active&&b++,c=c.next;this.lengths[a++]=b;this._length+=b;b=0;for(c=this.space.c_arbiters_false.head;null!=c;)c.elt.active&&b++,c=c.next;this.lengths[a++]=
b;this._length+=b;b=0;for(c=this.space.f_arbiters.head;null!=c;)c.elt.active&&b++,c=c.next;this.lengths[a++]=b;this._length+=b;b=0;for(c=this.space.s_arbiters.head;null!=c;)c.elt.active&&b++,c=c.next;this.lengths[a++]=b;this._length+=b;this.zip_length=!1}return this._length},lengths:null,ite_0:null,ite_1:null,ite_2:null,ite_3:null,at_index_0:null,at_index_1:null,at_index_2:null,at_index_3:null,zpp_vm:function(){var a=!1;this.space.c_arbiters_true.modified&&(a=!0,this.space.c_arbiters_true.modified=
!1);this.space.c_arbiters_false.modified&&(a=!0,this.space.c_arbiters_false.modified=!1);this.space.f_arbiters.modified&&(a=!0,this.space.f_arbiters.modified=!1);this.space.s_arbiters.modified&&(a=!0,this.space.s_arbiters.modified=!1);a&&(this.zip_length=!0,this._length=0,this.ite_3=this.ite_2=this.ite_1=this.ite_0=null)},push:function(){return!1},pop:function(){return null},unshift:function(){return!1},shift:function(){return null},remove:function(){return!1},clear:function(){},at:function(a){this.zpp_vm();
var b=null,c=0;if(null==b)if(a<c+this.lengths[0]){b=a-c;if(b<this.at_index_0||null==this.ite_0){this.at_index_0=0;for(this.ite_0=this.space.c_arbiters_true.head;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next}for(;this.at_index_0!=b;){this.at_index_0++;for(this.ite_0=this.ite_0.next;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next}b=this.ite_0.elt.wrapper()}else c+=this.lengths[0];if(null==b)if(a<c+this.lengths[1]){b=a-c;if(b<this.at_index_1||null==this.ite_1){this.at_index_1=0;for(this.ite_1=
this.space.c_arbiters_false.head;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next}for(;this.at_index_1!=b;){this.at_index_1++;for(this.ite_1=this.ite_1.next;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next}b=this.ite_1.elt.wrapper()}else c+=this.lengths[1];if(null==b)if(a<c+this.lengths[2]){b=a-c;if(b<this.at_index_2||null==this.ite_2){this.at_index_2=0;for(this.ite_2=this.space.f_arbiters.head;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next}for(;this.at_index_2!=b;){this.at_index_2++;for(this.ite_2=
this.ite_2.next;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next}b=this.ite_2.elt.wrapper()}else c+=this.lengths[2];if(null==b&&a<c+this.lengths[3]){a-=c;if(a<this.at_index_3||null==this.ite_3){this.at_index_3=0;for(this.ite_3=this.space.s_arbiters.head;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next}for(;this.at_index_3!=a;){this.at_index_3++;for(this.ite_3=this.ite_3.next;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next}b=this.ite_3.elt.wrapper()}return b},__class__:d.dynamics.ZPP_SpaceArbiterList});
d.geom={};d.geom.ZPP_AABB=function(){this.wrap_max=null;this.maxx=this.maxy=0;this.wrap_min=null;this.minx=this.miny=0;this.outer=this.next=null;this._immutable=!1;this._invalidate=this._validate=null};l["zpp_nape.geom.ZPP_AABB"]=d.geom.ZPP_AABB;d.geom.ZPP_AABB.__name__=["zpp_nape","geom","ZPP_AABB"];d.geom.ZPP_AABB.get=function(a,b,c,j){var g;null==d.geom.ZPP_AABB.zpp_pool?g=new d.geom.ZPP_AABB:(g=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=g.next,g.next=null);null;g.minx=a;g.miny=b;g.maxx=
c;g.maxy=j;return g};d.geom.ZPP_AABB.prototype={_invalidate:null,_validate:null,_immutable:null,validate:function(){null!=this._validate&&this._validate()},invalidate:function(){null!=this._invalidate&&this._invalidate(this)},outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.geom.AABB;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;a.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=
a;this.outer.zpp_inner=this}return this.outer},next:null,alloc:function(){},free:function(){null!=this.outer&&(this.outer=this.outer.zpp_inner=null);this._validate=this._invalidate=this.wrap_min=this.wrap_max=null},copy:function(){return d.geom.ZPP_AABB.get(this.minx,this.miny,this.maxx,this.maxy)},width:function(){return this.maxx-this.minx},height:function(){return this.maxy-this.miny},perimeter:function(){return 2*(this.maxx-this.minx+(this.maxy-this.miny))},minx:null,miny:null,wrap_min:null,getmin:function(){null==
this.wrap_min&&(this.wrap_min=f.geom.Vec2.get(this.minx,this.miny,null),this.wrap_min.zpp_inner._inuse=!0,this._immutable?this.wrap_min.zpp_inner._immutable=!0:this.wrap_min.zpp_inner._invalidate=w(this,this.mod_min),this.wrap_min.zpp_inner._validate=w(this,this.dom_min));return this.wrap_min},dom_min:function(){null!=this._validate&&this._validate();this.wrap_min.zpp_inner.x=this.minx;this.wrap_min.zpp_inner.y=this.miny},mod_min:function(a){if(a.x!=this.minx||a.y!=this.miny)this.minx=a.x,this.miny=
a.y,null!=this._invalidate&&this._invalidate(this)},maxx:null,maxy:null,wrap_max:null,getmax:function(){null==this.wrap_max&&(this.wrap_max=f.geom.Vec2.get(this.maxx,this.maxy,null),this.wrap_max.zpp_inner._inuse=!0,this._immutable?this.wrap_max.zpp_inner._immutable=!0:this.wrap_max.zpp_inner._invalidate=w(this,this.mod_max),this.wrap_max.zpp_inner._validate=w(this,this.dom_max));return this.wrap_max},dom_max:function(){null!=this._validate&&this._validate();this.wrap_max.zpp_inner.x=this.maxx;this.wrap_max.zpp_inner.y=
this.maxy},mod_max:function(a){if(a.x!=this.maxx||a.y!=this.maxy)this.maxx=a.x,this.maxy=a.y,null!=this._invalidate&&this._invalidate(this)},intersectX:function(a){return!(a.minx>this.maxx||this.minx>a.maxx)},intersectY:function(a){return!(a.miny>this.maxy||this.miny>a.maxy)},intersect:function(a){return a.miny<=this.maxy&&this.miny<=a.maxy&&a.minx<=this.maxx&&this.minx<=a.maxx},combine:function(a){a.minx<this.minx&&(this.minx=a.minx);a.maxx>this.maxx&&(this.maxx=a.maxx);a.miny<this.miny&&(this.miny=
a.miny);a.maxy>this.maxy&&(this.maxy=a.maxy)},contains:function(a){return a.minx>=this.minx&&a.miny>=this.miny&&a.maxx<=this.maxx&&a.maxy<=this.maxy},containsPoint:function(a){return a.x>=this.minx&&a.x<=this.maxx&&a.y>=this.miny&&a.y<=this.maxy},setCombine:function(a,b){this.minx=a.minx<b.minx?a.minx:b.minx;this.miny=a.miny<b.miny?a.miny:b.miny;this.maxx=a.maxx>b.maxx?a.maxx:b.maxx;this.maxy=a.maxy>b.maxy?a.maxy:b.maxy},setExpand:function(a,b){this.minx=a.minx-b;this.miny=a.miny-b;this.maxx=a.maxx+
b;this.maxy=a.maxy+b},setExpandPoint:function(a,b){a<this.minx&&(this.minx=a);a>this.maxx&&(this.maxx=a);b<this.miny&&(this.miny=b);b>this.maxy&&(this.maxy=b)},toString:function(){return"{ x: "+this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},__class__:d.geom.ZPP_AABB};d.util.ZNPList_ZPP_Vec2=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Vec2"]=d.util.ZNPList_ZPP_Vec2;d.util.ZNPList_ZPP_Vec2.__name__=["zpp_nape",
"util","ZNPList_ZPP_Vec2"];d.util.ZNPList_ZPP_Vec2.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Vec2.zpp_pool?b=new d.util.ZNPNode_ZPP_Vec2:(b=d.util.ZNPNode_ZPP_Vec2.zpp_pool,d.util.ZNPNode_ZPP_Vec2.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;
this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Vec2.zpp_pool?c=new d.util.ZNPNode_ZPP_Vec2:(c=d.util.ZNPNode_ZPP_Vec2.zpp_pool,d.util.ZNPNode_ZPP_Vec2.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},
inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Vec2.zpp_pool;d.util.ZNPNode_ZPP_Vec2.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Vec2.zpp_pool;d.util.ZNPNode_ZPP_Vec2.zpp_pool=a;
this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Vec2};d.geom.ZPP_Collide=function(){};l["zpp_nape.geom.ZPP_Collide"]=d.geom.ZPP_Collide;d.geom.ZPP_Collide.__name__=
["zpp_nape","geom","ZPP_Collide"];d.geom.ZPP_Collide.circleContains=function(a,b){var c=0,d=0,c=b.x-a.worldCOMx,d=b.y-a.worldCOMy;return c*c+d*d<a.radius*a.radius};d.geom.ZPP_Collide.polyContains=function(a,b){var c;c=!0;for(var d=a.edges.head;null!=d;){var g=d.elt;if(g.gnormx*b.x+g.gnormy*b.y<=g.gprojection)d=d.next;else{c=!1;break}}return c};d.geom.ZPP_Collide.shapeContains=function(a,b){return a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?d.geom.ZPP_Collide.circleContains(a.circle,b):d.geom.ZPP_Collide.polyContains(a.polygon,
b)};d.geom.ZPP_Collide.bodyContains=function(a,b){var c;c=!1;for(var j=a.shapes.head;null!=j;){if(d.geom.ZPP_Collide.shapeContains(j.elt,b)){c=!0;break}j=j.next}return c};d.geom.ZPP_Collide.containTest=function(a,b){if(a.aabb.contains(b.aabb)){if(a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){if(b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){var c=a.circle.radius+-b.circle.radius,j=0,g=0,j=b.circle.worldCOMx-a.circle.worldCOMx,g=b.circle.worldCOMy-a.circle.worldCOMy;return j*j+g*g<=c*c}c=!0;for(j=b.polygon.gverts.next;null!=
j;){var g=j,i=void 0,i=a.circle.radius,e=0,f=0,e=g.x-a.circle.worldCOMx,f=g.y-a.circle.worldCOMy;if(i=e*e+f*f<=i*i)j=j.next;else{c=!1;break}}return c}if(b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){c=!0;for(j=a.polygon.edges.head;null!=j;)if(g=j.elt,g.gnormx*b.circle.worldCOMx+g.gnormy*b.circle.worldCOMy+b.circle.radius<=g.gprojection)j=j.next;else{c=!1;break}return c}c=!0;for(j=a.polygon.edges.head;null!=j;){g=j.elt;i=void 0;i=-1E100;for(e=b.polygon.gverts.next;null!=e;)f=e,f=g.gnormx*f.x+g.gnormy*
f.y,f>i&&(i=f),e=e.next;if(i=i<=g.gprojection)j=j.next;else{c=!1;break}}return c}return!1};d.geom.ZPP_Collide.contactCollide=function(a,b,c,j){if(b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){for(var g=!0,i=-1E100,e=-1,n=null,o=null,h=a.polygon.edges.head;null!=h;){for(var k=h.elt,l=1E100,m=b.polygon.gverts.next;null!=m;){var p=m,p=k.gnormx*p.x+k.gnormy*p.y;p<l&&(l=p);if(l-k.gprojection<=i)break;m=m.next}l-=k.gprojection;if(0<=l){g=!1;break}l>i&&
(i=l,n=k,e=1);h=h.next}if(g){for(h=b.polygon.edges.head;null!=h;){k=h.elt;l=1E100;for(m=a.polygon.gverts.next;null!=m;){p=m;p=k.gnormx*p.x+k.gnormy*p.y;p<l&&(l=p);if(l-k.gprojection<=i)break;m=m.next}l-=k.gprojection;if(0<=l){g=!1;break}l>i&&(i=l,o=k,e=2);h=h.next}if(g){1==e?(a=b.polygon,b=n,o=1):(a=a.polygon,b=o,o=-1);n=null;g=1E100;for(i=a.edges.head;null!=i;)h=i.elt,k=b.gnormx*h.gnormx+b.gnormy*h.gnormy,k<g&&(g=k,n=h),i=i.next;var i=g=0,g=n.gp0.x,i=n.gp0.y,k=h=0,h=n.gp1.x,k=n.gp1.y,m=l=0,l=h-g,
m=k-i,s=b.gnormy*g-b.gnormx*i,p=b.gnormy*h-b.gnormx*k,q=1/(p-s),s=(-b.tp1-s)*q;s>f.Config.epsilon&&(g+=l*s,i+=m*s);p=(-b.tp0-p)*q;p<-f.Config.epsilon&&(h+=l*p,k+=m*p);m=l=0;m=o;l=b.gnormx*m;m*=b.gnormy;c.lnormx=b.lnormx;c.lnormy=b.lnormy;c.lproj=b.lprojection;c.radius=0;c.rev=j!=(-1==o);c.ptype=c.rev?1:0;p=g*b.gnormx+i*b.gnormy-b.gprojection;o=h*b.gnormx+k*b.gnormy-b.gprojection;if(0<p&&0<o)return!1;j&&(l=-l,m=-m);j=c.injectContact(g-0.5*b.gnormx*p,i-0.5*b.gnormy*p,l,m,p,c.rev?1:0,0<p);g-=1*a.body.posx;
i-=1*a.body.posy;j.inner.lr1x=g*a.body.axisy+i*a.body.axisx;j.inner.lr1y=i*a.body.axisy-g*a.body.axisx;j=c.injectContact(h-0.5*b.gnormx*o,k-0.5*b.gnormy*o,l,m,o,c.rev?0:1,0<o);h-=1*a.body.posx;k-=1*a.body.posy;j.inner.lr1x=h*a.body.axisy+k*a.body.axisx;j.inner.lr1y=k*a.body.axisy-h*a.body.axisx;1==e?(c.__ref_edge1=b,c.__ref_edge2=n):(c.__ref_edge2=b,c.__ref_edge1=n);return!0}}return!1}o=-1E100;n=!0;g=e=null;i=b.polygon.gverts.next;for(h=b.polygon.edges.head;null!=h;){k=h.elt;l=k.gnormx*a.circle.worldCOMx+
k.gnormy*a.circle.worldCOMy-k.gprojection-a.circle.radius;if(0<l){n=!1;break}l>o&&(o=l,e=k,g=i);i=i.next;h=h.next}if(n){n=g;g=null==g.next?b.polygon.gverts.next:g.next;i=a.circle.worldCOMy*e.gnormx-a.circle.worldCOMx*e.gnormy;if(i<=n.y*e.gnormx-n.x*e.gnormy)return o=a.circle.radius,i=g=0,g=n.x-a.circle.worldCOMx,i=n.y-a.circle.worldCOMy,h=g*g+i*i,h>o*o?o=null:h<f.Config.epsilon*f.Config.epsilon?o=c.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-o,0,null):(h=1/Math.sqrt(h),k=h<f.Config.epsilon?
1E100:1/h,l=0.5+(a.circle.radius-0.5*o)*h,o=j?c.injectContact(a.circle.worldCOMx+g*l,a.circle.worldCOMy+i*l,-g*h,-i*h,k-o,0,null):c.injectContact(a.circle.worldCOMx+g*l,a.circle.worldCOMy+i*l,g*h,i*h,k-o,0,null)),null!=o&&(g=o.inner,c.ptype=2,h=i=0,i=n.x-b.polygon.body.posx,h=n.y-b.polygon.body.posy,c.__ref_edge1=e,c.__ref_vertex=-1,j?(g.lr1x=i*b.polygon.body.axisy+h*b.polygon.body.axisx,g.lr1y=h*b.polygon.body.axisy-i*b.polygon.body.axisx,g.lr2x=a.circle.localCOMx,g.lr2y=a.circle.localCOMy):(g.lr2x=
i*b.polygon.body.axisy+h*b.polygon.body.axisx,g.lr2y=h*b.polygon.body.axisy-i*b.polygon.body.axisx,g.lr1x=a.circle.localCOMx,g.lr1y=a.circle.localCOMy),c.radius=a.circle.radius),null!=o;if(i>=g.y*e.gnormx-g.x*e.gnormy)return n=a.circle.radius,i=o=0,o=g.x-a.circle.worldCOMx,i=g.y-a.circle.worldCOMy,h=o*o+i*i,h>n*n?n=null:h<f.Config.epsilon*f.Config.epsilon?n=c.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-n,0,null):(h=1/Math.sqrt(h),k=h<f.Config.epsilon?1E100:1/h,l=0.5+(a.circle.radius-
0.5*n)*h,n=j?c.injectContact(a.circle.worldCOMx+o*l,a.circle.worldCOMy+i*l,-o*h,-i*h,k-n,0,null):c.injectContact(a.circle.worldCOMx+o*l,a.circle.worldCOMy+i*l,o*h,i*h,k-n,0,null)),null!=n&&(o=n.inner,c.ptype=2,h=i=0,i=g.x-b.polygon.body.posx,h=g.y-b.polygon.body.posy,c.__ref_edge1=e,c.__ref_vertex=1,j?(o.lr1x=i*b.polygon.body.axisy+h*b.polygon.body.axisx,o.lr1y=h*b.polygon.body.axisy-i*b.polygon.body.axisx,o.lr2x=a.circle.localCOMx,o.lr2y=a.circle.localCOMy):(o.lr2x=i*b.polygon.body.axisy+h*b.polygon.body.axisx,
o.lr2y=h*b.polygon.body.axisy-i*b.polygon.body.axisx,o.lr1x=a.circle.localCOMx,o.lr1y=a.circle.localCOMy),c.radius=a.circle.radius),null!=n;n=b=0;n=a.circle.radius+0.5*o;b=e.gnormx*n;n*=e.gnormy;i=g=0;g=a.circle.worldCOMx-b;i=a.circle.worldCOMy-n;b=j?c.injectContact(g,i,e.gnormx,e.gnormy,o,0,null):c.injectContact(g,i,-e.gnormx,-e.gnormy,o,0,null);c.ptype=j?0:1;c.lnormx=e.lnormx;c.lnormy=e.lnormy;c.rev=!j;c.lproj=e.lprojection;c.radius=a.circle.radius;b.inner.lr1x=a.circle.localCOMx;b.inner.lr1y=a.circle.localCOMy;
c.__ref_edge1=e;c.__ref_vertex=0;return!0}return!1}e=a.circle.radius+b.circle.radius;o=n=0;n=b.circle.worldCOMx-a.circle.worldCOMx;o=b.circle.worldCOMy-a.circle.worldCOMy;g=n*n+o*o;g>e*e?e=null:g<f.Config.epsilon*f.Config.epsilon?e=c.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-e,0,null):(g=1/Math.sqrt(g),i=g<f.Config.epsilon?1E100:1/g,h=0.5+(a.circle.radius-0.5*e)*g,e=j?c.injectContact(a.circle.worldCOMx+n*h,a.circle.worldCOMy+o*h,-n*g,-o*g,i-e,0,null):c.injectContact(a.circle.worldCOMx+
n*h,a.circle.worldCOMy+o*h,n*g,o*g,i-e,0,null));return null!=e?(e=e.inner,j?(e.lr1x=b.circle.localCOMx,e.lr1y=b.circle.localCOMy,e.lr2x=a.circle.localCOMx,e.lr2y=a.circle.localCOMy):(e.lr1x=a.circle.localCOMx,e.lr1y=a.circle.localCOMy,e.lr2x=b.circle.localCOMx,e.lr2y=b.circle.localCOMy),c.radius=a.circle.radius+b.circle.radius,c.ptype=2,!0):!1};d.geom.ZPP_Collide.testCollide_safe=function(a,b){if(b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE)var c=a,a=b,b=c;return d.geom.ZPP_Collide.testCollide(a,
b)};d.geom.ZPP_Collide.testCollide=function(a,b){if(b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){for(var c=!0,j=a.polygon.edges.head;null!=j;){for(var g=j.elt,i=1E100,e=b.polygon.gverts.next;null!=e;){var f=e,f=g.gnormx*f.x+g.gnormy*f.y;f<i&&(i=f);e=e.next}i-=g.gprojection;if(0<i){c=!1;break}j=j.next}if(c){for(j=b.polygon.edges.head;null!=j;){g=j.elt;i=1E100;for(e=a.polygon.gverts.next;null!=e;)f=e,f=g.gnormx*f.x+g.gnormy*f.y,f<i&&(i=f),e=e.next;
i-=g.gprojection;if(0<i){c=!1;break}j=j.next}return c}return!1}j=c=null;g=!0;i=-1E100;e=b.polygon.gverts.next;for(f=b.polygon.edges.head;null!=f;){var h=f.elt,k=h.gnormx*a.circle.worldCOMx+h.gnormy*a.circle.worldCOMy-h.gprojection-a.circle.radius;if(0<k){g=!1;break}k>i&&(i=k,c=h,j=e);e=e.next;f=f.next}return g?(g=j,j=null==j.next?b.polygon.gverts.next:j.next,i=a.circle.worldCOMy*c.gnormx-a.circle.worldCOMx*c.gnormy,i<=g.y*c.gnormx-g.x*c.gnormy?(c=a.circle.radius,i=j=0,j=g.x-a.circle.worldCOMx,i=g.y-
a.circle.worldCOMy,j*j+i*i<=c*c):i>=j.y*c.gnormx-j.x*c.gnormy?(c=a.circle.radius,i=g=0,g=j.x-a.circle.worldCOMx,i=j.y-a.circle.worldCOMy,g*g+i*i<=c*c):!0):!1}c=a.circle.radius+b.circle.radius;g=j=0;j=b.circle.worldCOMx-a.circle.worldCOMx;g=b.circle.worldCOMy-a.circle.worldCOMy;return j*j+g*g<=c*c};d.geom.ZPP_Collide.flowCollide=function(a,b,c){if(b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON){for(var j=[],g=[],i=!0,e=!0,n=a.polygon.edges.head;null!=
n;){for(var h=n.elt,k=1E100,l=0,m=b.polygon.gverts.next;null!=m;){var p=m,q=h.gnormx*p.x+h.gnormy*p.y;q<k&&(k=q);q>=h.gprojection+f.Config.epsilon&&(g[l]=!0,e=!1);l++;m=m.next}k-=h.gprojection;if(0<k){i=!1;break}n=n.next}if(e)return b.polygon.validate_worldCOM(),c.overlap=b.polygon.area,c.centroidx=b.polygon.worldCOMx,c.centroidy=b.polygon.worldCOMy,null,!0;if(i){for(var e=!0,s=b.polygon.edges.head;null!=s;){for(var u=s.elt,w=1E100,y=0,v=a.polygon.gverts.next;null!=v;){var z=v,Le=u.gnormx*z.x+u.gnormy*
z.y;Le<w&&(w=Le);Le>=u.gprojection+f.Config.epsilon&&(j[y]=!0,e=!1);y++;v=v.next}w-=u.gprojection;if(0<w){i=!1;break}s=s.next}if(e)return a.polygon.validate_worldCOM(),c.overlap=a.polygon.area,c.centroidx=a.polygon.worldCOMx,c.centroidy=a.polygon.worldCOMy,null,!0;if(i){for(;null!=d.geom.ZPP_Collide.flowpoly.head;){var r=d.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!r._inuse){var t=r;null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null);t._isimmutable=null;t._validate=null;t._invalidate=null;t.next=
d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=t}}for(var A=null,B=!1,C=a.polygon.gverts.next,D=0,F=b.polygon.gverts.next,G=0,H=0,Q=b.polygon.edgeCnt;H<Q;){var O=H++;if(g[O])F=F.next;else{G=O;break}}if(null==F){for(var F=b.polygon.gverts.next,B=!0,R=0,M=a.polygon.edgeCnt;R<M;){var P=R++;if(j[P])C=C.next;else{D=P;break}}null==C?C=a.polygon.gverts.next:(d.geom.ZPP_Collide.flowpoly.add(C),A=d.geom.ZPP_Collide.flowpoly.head.elt)}else d.geom.ZPP_Collide.flowpoly.add(F),A=d.geom.ZPP_Collide.flowpoly.head.elt;
var S=1;if(null==d.geom.ZPP_Collide.flowpoly.head){for(var U=!0,V=a.polygon.gverts.next,aa=V,X=V.next;null!=X;){for(var qb=X,Y=2,xa=b.polygon.gverts.next,va=xa,Aa=xa.next;null!=Aa;){var Ob=Aa,id=0,la=0,ja=0,la=aa.x-va.x,ja=aa.y-va.y,na=0,pc=0,na=qb.x-aa.x,pc=qb.y-aa.y,db=0,Qa=0,db=Ob.x-va.x,Qa=Ob.y-va.y,E=pc*db-na*Qa,$c=void 0;if(E*E>f.Config.epsilon*f.Config.epsilon){var E=1/E,Me=(Qa*la-db*ja)*E,Ra=void 0;if(Me>f.Config.epsilon&&Me<1-f.Config.epsilon){var eb=(pc*la-na*ja)*E,Z=void 0;eb>f.Config.epsilon&&
eb<1-f.Config.epsilon?(id=Me,Z=!0):Z=!1;Ra=Z}else Ra=!1;$c=Ra}else $c=!1;$c&&id<Y&&(Y=id,F=xa);xa=Aa;va=Ob;Aa=Aa.next}var Kb=Aa=b.polygon.gverts.next,J=0,Ia=0,rb=0,Ia=aa.x-va.x,rb=aa.y-va.y,ba=0,pa=0,ba=qb.x-aa.x,pa=qb.y-aa.y,ca=0,Sa=0,ca=Kb.x-va.x,Sa=Kb.y-va.y,$=pa*ca-ba*Sa,Ja=void 0;if($*$>f.Config.epsilon*f.Config.epsilon){var $=1/$,Ba=(Sa*Ia-ca*rb)*$,bb=void 0;if(Ba>f.Config.epsilon&&Ba<1-f.Config.epsilon){var fb=(pa*Ia-ba*rb)*$,gb=void 0;fb>f.Config.epsilon&&fb<1-f.Config.epsilon?(J=Ba,gb=!0):
gb=!1;bb=gb}else bb=!1;Ja=bb}else Ja=!1;Ja&&J<Y&&(Y=J,F=xa);if(2!=Y){var yb=0,sb=0,zb=Y,yb=aa.x+(qb.x-aa.x)*zb,sb=aa.y+(qb.y-aa.y)*zb,A=d.geom.ZPP_Vec2.get(yb,sb,null);d.geom.ZPP_Collide.flowpoly.add(A);B=!0;C=V;U=!1;break}V=X;aa=qb;X=X.next}if(U){for(var ma=X=a.polygon.gverts.next,ga=2,Ka=b.polygon.gverts.next,fa=Ka,Ta=Ka.next;null!=Ta;){var qa=Ta,ra=0,Ne=0,hb=0,Ne=aa.x-fa.x,hb=aa.y-fa.y,ib=0,tb=0,ib=ma.x-aa.x,tb=ma.y-aa.y,K=0,Oe=0,K=qa.x-fa.x,Oe=qa.y-fa.y,Ca=tb*K-ib*Oe,Ua=void 0;if(Ca*Ca>f.Config.epsilon*
f.Config.epsilon){var Ca=1/Ca,Ab=(Oe*Ne-K*hb)*Ca,ub=void 0;if(Ab>f.Config.epsilon&&Ab<1-f.Config.epsilon){var jb=(tb*Ne-ib*hb)*Ca,La=void 0;jb>f.Config.epsilon&&jb<1-f.Config.epsilon?(ra=Ab,La=!0):La=!1;ub=La}else ub=!1;Ua=ub}else Ua=!1;Ua&&ra<ga&&(ga=ra,F=Ka);Ka=Ta;fa=qa;Ta=Ta.next}var Ma=Ta=b.polygon.gverts.next,kb=0,da=0,Lb=0,da=aa.x-fa.x,Lb=aa.y-fa.y,Da=0,Va=0,Da=ma.x-aa.x,Va=ma.y-aa.y,cb=0,lb=0,cb=Ma.x-fa.x,lb=Ma.y-fa.y,Ea=Va*cb-Da*lb,Na;if(Ea*Ea>f.Config.epsilon*f.Config.epsilon){var Ea=1/Ea,
Wa=(lb*da-cb*Lb)*Ea,Bb;if(Wa>f.Config.epsilon&&Wa<1-f.Config.epsilon){var Fa=(Va*da-Da*Lb)*Ea,wa;Fa>f.Config.epsilon&&Fa<1-f.Config.epsilon?(kb=Wa,wa=!0):wa=!1;Bb=wa}else Bb=!1;Na=Bb}else Na=!1;Na&&kb<ga&&(ga=kb,F=Ka);if(2!=ga){var vb=0,Cb=0,mb=ga,vb=aa.x+(ma.x-aa.x)*mb,Cb=aa.y+(ma.y-aa.y)*mb,A=d.geom.ZPP_Vec2.get(vb,Cb,null);d.geom.ZPP_Collide.flowpoly.add(A);B=!0;C=V}}S=2}for(;;)if(B)if(C=C.next,D++,null==C&&(C=a.polygon.gverts.next,D=0),j[D]){var ka=d.geom.ZPP_Collide.flowpoly.head.elt,nb=C,I=
F,L=F.next;null==L&&(L=b.polygon.gverts.next);var Oa=-1,Db=null,ua=0,ia=0,oa=L,sa=L;do{var Wb=sa,qc=0,Ga=0,Ha=0,Ga=I.x-ka.x,Ha=I.y-ka.y,Pb=0,Xb=0,Pb=Wb.x-I.x,Xb=Wb.y-I.y,xc=0,za=0,xc=nb.x-ka.x,za=nb.y-ka.y,Oc=Xb*xc-Pb*za,Yb=void 0;if(Oc*Oc>f.Config.epsilon*f.Config.epsilon){var Oc=1/Oc,Zb=(za*Ga-xc*Ha)*Oc,yc=void 0;if(Zb>f.Config.epsilon&&Zb<1-f.Config.epsilon){var Nb=(Xb*Ga-Pb*Ha)*Oc,xb=void 0;Nb>f.Config.epsilon&&Nb<1-f.Config.epsilon?(qc=Zb,xb=!0):xb=!1;yc=xb}else yc=!1;Yb=yc}else Yb=!1;if(Yb&&
qc>=Oa)if(Db=F,ua=G,++ia==S){Oa=qc;sa=oa;break}else Oa=qc;I=Wb;F=sa;G++;G>=b.polygon.edgeCnt&&(G=0);sa=sa.next;null==sa&&(sa=b.polygon.gverts.next)}while(0);for(;sa!=oa;){var $b=sa,ha=0,ac=0,bc=0,ac=I.x-ka.x,bc=I.y-ka.y,Jb=0,cc=0,Jb=$b.x-I.x,cc=$b.y-I.y,Pa=0,dc=0,Pa=nb.x-ka.x,dc=nb.y-ka.y,Eb=cc*Pa-Jb*dc,Qb=void 0;if(Eb*Eb>f.Config.epsilon*f.Config.epsilon){var Eb=1/Eb,ec=(dc*ac-Pa*bc)*Eb,zc=void 0;if(ec>f.Config.epsilon&&ec<1-f.Config.epsilon){var Vb=(cc*ac-Jb*bc)*Eb,Pe=void 0;Vb>f.Config.epsilon&&
Vb<1-f.Config.epsilon?(ha=ec,Pe=!0):Pe=!1;zc=Pe}else zc=!1;Qb=zc}else Qb=!1;if(Qb&&ha>=Oa)if(Db=F,ua=G,++ia==S){Oa=ha;sa=oa;break}else Oa=ha;I=$b;F=sa;G++;G>=b.polygon.edgeCnt&&(G=0);sa=sa.next;null==sa&&(sa=b.polygon.gverts.next)}if(null==Db)break;var Rb=Db,fc=Db.next;null==fc&&(fc=b.polygon.gverts.next);var Kc=fc,Qe=0,ud=0,rc=Oa,Qe=Rb.x+(Kc.x-Rb.x)*rc,ud=Rb.y+(Kc.y-Rb.y)*rc;if(null!=A&&d.geom.ZPP_VecMath.vec_dsq(Qe,ud,A.x,A.y)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(d.geom.ZPP_Vec2.get(Qe,
ud,null));null==A&&(A=d.geom.ZPP_Collide.flowpoly.head.elt);F=Db;G=ua;B=!B;S=2}else{var vd=C;if(null!=A&&d.geom.ZPP_VecMath.vec_dsq(vd.x,vd.y,A.x,A.y)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(vd);null==A&&(A=d.geom.ZPP_Collide.flowpoly.head.elt);S=1}else if(F=F.next,G++,null==F&&(F=b.polygon.gverts.next,G=0),g[G]){var ob=d.geom.ZPP_Collide.flowpoly.head.elt,Sb=F,gc=C,Tb=C.next;null==Tb&&(Tb=a.polygon.gverts.next);var ta=-1,Fb=null,hc=0,ic=0,jc=Tb,ya=Tb;do{var wd=ya,jd=0,kc=0,lc=0,kc=
gc.x-ob.x,lc=gc.y-ob.y,Ac=0,xd=0,Ac=wd.x-gc.x,xd=wd.y-gc.y,yd=0,Bc=0,yd=Sb.x-ob.x,Bc=Sb.y-ob.y,Ub=xd*yd-Ac*Bc,Lc=void 0;if(Ub*Ub>f.Config.epsilon*f.Config.epsilon){var Ub=1/Ub,Pc=(Bc*kc-yd*lc)*Ub,Qc=void 0;if(Pc>f.Config.epsilon&&Pc<1-f.Config.epsilon){var Mb=(xd*kc-Ac*lc)*Ub,mc=void 0;Mb>f.Config.epsilon&&Mb<1-f.Config.epsilon?(jd=Pc,mc=!0):mc=!1;Qc=mc}else Qc=!1;Lc=Qc}else Lc=!1;if(Lc&&jd>=ta)if(Fb=C,hc=D,++ic==S){ta=jd;ya=jc;break}else ta=jd;gc=wd;C=ya;D++;D>=a.polygon.edgeCnt&&(D=0);ya=ya.next;
null==ya&&(ya=a.polygon.gverts.next)}while(0);for(;ya!=jc;){var Cc=ya,kd=0,zd=0,ea=0,zd=gc.x-ob.x,ea=gc.y-ob.y,ad=0,Ad=0,ad=Cc.x-gc.x,Ad=Cc.y-gc.y,bd=0,Rc=0,bd=Sb.x-ob.x,Rc=Sb.y-ob.y,sc=Ad*bd-ad*Rc,Bd=void 0;if(sc*sc>f.Config.epsilon*f.Config.epsilon){var sc=1/sc,Sc=(Rc*zd-bd*ea)*sc,Jc=void 0;if(Sc>f.Config.epsilon&&Sc<1-f.Config.epsilon){var Vc=(Ad*zd-ad*ea)*sc,Re=void 0;Vc>f.Config.epsilon&&Vc<1-f.Config.epsilon?(kd=Sc,Re=!0):Re=!1;Jc=Re}else Jc=!1;Bd=Jc}else Bd=!1;if(Bd&&kd>=ta)if(Fb=C,hc=D,++ic==
S){ta=kd;ya=jc;break}else ta=kd;gc=Cc;C=ya;D++;D>=a.polygon.edgeCnt&&(D=0);ya=ya.next;null==ya&&(ya=a.polygon.gverts.next)}if(null==Fb)break;var Qd=Fb,Se=Fb.next;null==Se&&(Se=a.polygon.gverts.next);var Wc=Se,Te=0,Ue=0,Xc=ta,Te=Qd.x+(Wc.x-Qd.x)*Xc,Ue=Qd.y+(Wc.y-Qd.y)*Xc;if(null!=A&&d.geom.ZPP_VecMath.vec_dsq(Te,Ue,A.x,A.y)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(d.geom.ZPP_Vec2.get(Te,Ue,null));null==A&&(A=d.geom.ZPP_Collide.flowpoly.head.elt);C=Fb;D=hc;B=!B;S=2}else{var Ve=F;if(null!=
A&&d.geom.ZPP_VecMath.vec_dsq(Ve.x,Ve.y,A.x,A.y)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(Ve);null==A&&(A=d.geom.ZPP_Collide.flowpoly.head.elt);S=1}if(null!=d.geom.ZPP_Collide.flowpoly.head&&null!=d.geom.ZPP_Collide.flowpoly.head.next&&null!=d.geom.ZPP_Collide.flowpoly.head.next.next){for(var tc=0,Dc=0,Ec=0,tc=Ec=Dc=0,Gb=d.geom.ZPP_Collide.flowpoly.head,Cd=Gb.elt,Gb=Gb.next,Xa=Gb.elt,Gb=Gb.next;null!=Gb;)var ld=Gb.elt,tc=tc+Xa.x*(ld.y-Cd.y),Yc=ld.y*Xa.x-ld.x*Xa.y,Dc=Dc+(Xa.x+ld.x)*Yc,
Ec=Ec+(Xa.y+ld.y)*Yc,Cd=Xa,Xa=ld,Gb=Gb.next;var Gb=d.geom.ZPP_Collide.flowpoly.head,md=Gb.elt,tc=tc+Xa.x*(md.y-Cd.y),Zc=md.y*Xa.x-md.x*Xa.y,Dc=Dc+(Xa.x+md.x)*Zc,Ec=Ec+(Xa.y+md.y)*Zc,Cd=Xa,Xa=md,Gb=Gb.next,Dd=Gb.elt,tc=tc+Xa.x*(Dd.y-Cd.y),xf=Dd.y*Xa.x-Dd.x*Xa.y,Dc=Dc+(Xa.x+Dd.x)*xf,Ec=Ec+(Xa.y+Dd.y)*xf,tc=0.5*tc,yf=1/(6*tc),Dc=Dc*yf,Ec=Ec*yf;c.overlap=-tc;c.centroidx=Dc;c.centroidy=Ec;null;return!0}}}return!1}for(var We=[],zf=!0,cd=null,Rd=null,Af=-1E100,Bf=!0,Xe=b.polygon.gverts.next,Cf=0,Sd=b.polygon.edges.head;null!=
Sd;){var nd=Sd.elt,od=nd.gnormx*a.circle.worldCOMx+nd.gnormy*a.circle.worldCOMy;if(od>nd.gprojection+a.circle.radius){Bf=!1;break}else od+a.circle.radius>nd.gprojection+f.Config.epsilon&&(zf=!1,We[Cf]=!0);od-=nd.gprojection+a.circle.radius;od>Af&&(Af=od,cd=nd,Rd=Xe);Xe=Xe.next;Cf++;Sd=Sd.next}if(Bf){if(zf)return c.overlap=a.circle.area,c.centroidx=a.circle.worldCOMx,c.centroidy=a.circle.worldCOMy,null,!0;var Td=Rd,Ed;Ed=null==Rd.next?b.polygon.gverts.next:Rd.next;var Df=a.circle.worldCOMy*cd.gnormx-
a.circle.worldCOMx*cd.gnormy,Ye;if(Df<=Td.y*cd.gnormx-Td.x*cd.gnormy){var Ef=a.circle.radius,Ze=0,$e=0,Ze=Td.x-a.circle.worldCOMx,$e=Td.y-a.circle.worldCOMy;Ye=Ze*Ze+$e*$e<=Ef*Ef}else{var af;if(Df>=Ed.y*cd.gnormx-Ed.x*cd.gnormy){var Ff=a.circle.radius,bf=0,cf=0,bf=Ed.x-a.circle.worldCOMx,cf=Ed.y-a.circle.worldCOMy;af=bf*bf+cf*cf<=Ff*Ff}else af=!0;Ye=af}if(Ye){for(var Ud=[],df=0,Gf=!0,wb=null,uc=0,Fd=b.polygon.gverts.next;null!=Fd;){var Hf=Fd,Je=d.geom.ZPP_VecMath.vec_dsq(Hf.x,Hf.y,a.circle.worldCOMx,
a.circle.worldCOMy);(Ud[df]=Je<=a.circle.radius*a.circle.radius)?(uc=df,wb=Fd):Gf=!1;df++;Fd=Fd.next}if(Gf)return b.polygon.validate_worldCOM(),c.overlap=b.polygon.area,c.centroidx=b.polygon.worldCOMx,c.centroidy=b.polygon.worldCOMy,null,!0;for(;null!=d.geom.ZPP_Collide.flowpoly.head;){var If=d.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!If._inuse){var Tc=If;null!=Tc.outer&&(Tc.outer.zpp_inner=null,Tc.outer=null);Tc._isimmutable=null;Tc._validate=null;Tc._invalidate=null;Tc.next=d.geom.ZPP_Vec2.zpp_pool;
d.geom.ZPP_Vec2.zpp_pool=Tc}}d.geom.ZPP_Collide.flowsegs.clear();var Ya=null,nc=1;null==wb?(wb=b.polygon.gverts.next,nc=2):d.geom.ZPP_Collide.flowpoly.add(Ya=wb);for(;0!=nc;)if(1==nc)if(wb=wb.next,null==wb&&(wb=b.polygon.gverts.next),uc++,uc>=b.polygon.edgeCnt&&(uc=0),Ud[uc]){if(d.geom.ZPP_VecMath.vec_dsq(Ya.x,Ya.y,wb.x,wb.y)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(wb)}else{var Uc=d.geom.ZPP_Collide.flowpoly.head.elt,Vd=wb,Wd=0,Xd=0,Wd=Vd.x-Uc.x,Xd=Vd.y-Uc.y,Yd=0,Zd=0,Yd=Uc.x-a.circle.worldCOMx,
Zd=Uc.y-a.circle.worldCOMy,Gd=Wd*Wd+Xd*Xd,$d=2*(Yd*Wd+Zd*Xd),Jf=Math.sqrt($d*$d-4*Gd*(Yd*Yd+Zd*Zd-a.circle.radius*a.circle.radius)),Gd=1/(2*Gd),Kf=(-$d-Jf)*Gd,ef=0,ff=0,Lf=Kf<f.Config.epsilon?(-$d+Jf)*Gd:Kf,ef=Uc.x+(Vd.x-Uc.x)*Lf,ff=Uc.y+(Vd.y-Uc.y)*Lf;if(d.geom.ZPP_VecMath.vec_dsq(Ya.x,Ya.y,ef,ff)<f.Config.epsilon)break;d.geom.ZPP_Collide.flowpoly.add(d.geom.ZPP_Vec2.get(ef,ff,null));nc=2}else if(2==nc){var ae=wb.next;null==ae&&(ae=b.polygon.gverts.next);var W=wb,nc=0,dd=ae,Za=ae;do{var vc=Za,be=
uc+1;be==b.polygon.edgeCnt&&(be=0);if(We[uc])if(Ud[be]){var ce=0,de=0,ce=vc.x-W.x,de=vc.y-W.y,ee=0,fe=0,ee=W.x-a.circle.worldCOMx,fe=W.y-a.circle.worldCOMy,Hd=ce*ce+de*de,ge=2*(ee*ce+fe*de),Mf=Math.sqrt(ge*ge-4*Hd*(ee*ee+fe*fe-a.circle.radius*a.circle.radius)),Hd=1/(2*Hd),Nf=(-ge-Mf)*Hd,gf=0,hf=0,Of=Nf<f.Config.epsilon?(-ge+Mf)*Hd:Nf,gf=W.x+(vc.x-W.x)*Of,hf=W.y+(vc.y-W.y)*Of;if(d.geom.ZPP_VecMath.vec_dsq(Ya.x,Ya.y,gf,hf)<f.Config.epsilon){nc=0;Za=dd;break}var Pf=d.geom.ZPP_Vec2.get(gf,hf,null);d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.elt);
d.geom.ZPP_Collide.flowsegs.add(Pf);d.geom.ZPP_Collide.flowpoly.add(Pf);nc=1;Za=dd;break}else{var he=0,ie=0,jf,je=0,ke=0,je=vc.x-W.x,ke=vc.y-W.y,le=0,me=0,le=W.x-a.circle.worldCOMx,me=W.y-a.circle.worldCOMy,pd=je*je+ke*ke,Id=2*(le*je+me*ke),ed=Id*Id-4*pd*(le*le+me*me-a.circle.radius*a.circle.radius);ed*ed<f.Config.epsilon?(he=0>ed?10:ie=-Id/(2*pd),jf=!1):(ed=Math.sqrt(ed),pd=1/(2*pd),he=(-Id-ed)*pd,ie=(-Id+ed)*pd,jf=!0);if(he<1-f.Config.epsilon&&ie>f.Config.epsilon){var kf=0,lf=0,Qf=he,kf=W.x+(vc.x-
W.x)*Qf,lf=W.y+(vc.y-W.y)*Qf;if(null!=Ya&&d.geom.ZPP_VecMath.vec_dsq(Ya.x,Ya.y,kf,lf)<f.Config.epsilon){nc=0;Za=dd;break}var Rf=d.geom.ZPP_Vec2.get(kf,lf,null);null!=d.geom.ZPP_Collide.flowpoly.head&&(d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.elt),d.geom.ZPP_Collide.flowsegs.add(Rf));d.geom.ZPP_Collide.flowpoly.add(Rf);null==Ya&&(Ya=d.geom.ZPP_Collide.flowpoly.head.elt);if(jf){var Sf=0,Tf=0,Uf=ie,Sf=W.x+(vc.x-W.x)*Uf,Tf=W.y+(vc.y-W.y)*Uf;d.geom.ZPP_Collide.flowpoly.add(d.geom.ZPP_Vec2.get(Sf,
Tf,null))}}}W=vc;wb=Za;uc=be;Za=Za.next;null==Za&&(Za=b.polygon.gverts.next)}while(0);for(;Za!=dd;){var wc=Za,ne=uc+1;ne==b.polygon.edgeCnt&&(ne=0);if(We[uc])if(Ud[ne]){var oe=0,pe=0,oe=wc.x-W.x,pe=wc.y-W.y,qe=0,re=0,qe=W.x-a.circle.worldCOMx,re=W.y-a.circle.worldCOMy,Jd=oe*oe+pe*pe,se=2*(qe*oe+re*pe),Vf=Math.sqrt(se*se-4*Jd*(qe*qe+re*re-a.circle.radius*a.circle.radius)),Jd=1/(2*Jd),Wf=(-se-Vf)*Jd,mf=0,nf=0,Xf=Wf<f.Config.epsilon?(-se+Vf)*Jd:Wf,mf=W.x+(wc.x-W.x)*Xf,nf=W.y+(wc.y-W.y)*Xf;if(d.geom.ZPP_VecMath.vec_dsq(Ya.x,
Ya.y,mf,nf)<f.Config.epsilon){nc=0;Za=dd;break}var Yf=d.geom.ZPP_Vec2.get(mf,nf,null);d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.elt);d.geom.ZPP_Collide.flowsegs.add(Yf);d.geom.ZPP_Collide.flowpoly.add(Yf);nc=1;Za=dd;break}else{var te=0,ue=0,of,ve=0,we=0,ve=wc.x-W.x,we=wc.y-W.y,xe=0,ye=0,xe=W.x-a.circle.worldCOMx,ye=W.y-a.circle.worldCOMy,qd=ve*ve+we*we,Kd=2*(xe*ve+ye*we),fd=Kd*Kd-4*qd*(xe*xe+ye*ye-a.circle.radius*a.circle.radius);fd*fd<f.Config.epsilon?(te=0>fd?10:ue=-Kd/(2*
qd),of=!1):(fd=Math.sqrt(fd),qd=1/(2*qd),te=(-Kd-fd)*qd,ue=(-Kd+fd)*qd,of=!0);if(te<1-f.Config.epsilon&&ue>f.Config.epsilon){var pf=0,qf=0,Zf=te,pf=W.x+(wc.x-W.x)*Zf,qf=W.y+(wc.y-W.y)*Zf;if(null!=Ya&&d.geom.ZPP_VecMath.vec_dsq(Ya.x,Ya.y,pf,qf)<f.Config.epsilon){nc=0;Za=dd;break}var $f=d.geom.ZPP_Vec2.get(pf,qf,null);null!=d.geom.ZPP_Collide.flowpoly.head&&(d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.elt),d.geom.ZPP_Collide.flowsegs.add($f));d.geom.ZPP_Collide.flowpoly.add($f);
null==Ya&&(Ya=d.geom.ZPP_Collide.flowpoly.head.elt);if(of){var ag=0,bg=0,cg=ue,ag=W.x+(wc.x-W.x)*cg,bg=W.y+(wc.y-W.y)*cg;d.geom.ZPP_Collide.flowpoly.add(d.geom.ZPP_Vec2.get(ag,bg,null))}}}W=wc;wb=Za;uc=ne;Za=Za.next;null==Za&&(Za=b.polygon.gverts.next)}}if(null==d.geom.ZPP_Collide.flowpoly.head)return!1;if(null==d.geom.ZPP_Collide.flowpoly.head.next){for(var dg=!0,ze=b.polygon.edges.head;null!=ze;){var rf=ze.elt;if(rf.gnormx*a.circle.worldCOMx+rf.gnormy*a.circle.worldCOMy>rf.gprojection){dg=!1;break}ze=
ze.next}return dg?(c.overlap=a.circle.area,c.centroidx=a.circle.worldCOMx,c.centroidy=a.circle.worldCOMy,null,!0):!1}var gd=0,hd=0,rd=0;if(null!=d.geom.ZPP_Collide.flowpoly.head.next.next){for(var oc=0,Fc=0,Gc=0,oc=Gc=Fc=0,Hb=d.geom.ZPP_Collide.flowpoly.head,Ld=Hb.elt,Hb=Hb.next,$a=Hb.elt,Hb=Hb.next;null!=Hb;)var sd=Hb.elt,oc=oc+$a.x*(sd.y-Ld.y),eg=sd.y*$a.x-sd.x*$a.y,Fc=Fc+($a.x+sd.x)*eg,Gc=Gc+($a.y+sd.y)*eg,Ld=$a,$a=sd,Hb=Hb.next;var Hb=d.geom.ZPP_Collide.flowpoly.head,td=Hb.elt,oc=oc+$a.x*(td.y-
Ld.y),fg=td.y*$a.x-td.x*$a.y,Fc=Fc+($a.x+td.x)*fg,Gc=Gc+($a.y+td.y)*fg,Ld=$a,$a=td,Hb=Hb.next,Md=Hb.elt,oc=oc+$a.x*(Md.y-Ld.y),gg=Md.y*$a.x-Md.x*$a.y,Fc=Fc+($a.x+Md.x)*gg,Gc=Gc+($a.y+Md.y)*gg,oc=0.5*oc,hg=1/(6*oc),Fc=Fc*hg,Gc=Gc*hg,ig=-oc,gd=gd+Fc*ig,hd=hd+Gc*ig,rd=rd-oc}else d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.elt),d.geom.ZPP_Collide.flowsegs.add(d.geom.ZPP_Collide.flowpoly.head.next.elt);for(;null!=d.geom.ZPP_Collide.flowsegs.head;)var Ae=d.geom.ZPP_Collide.flowsegs.pop_unsafe(),
Be=d.geom.ZPP_Collide.flowsegs.pop_unsafe(),jg=0,kg=0,jg=Be.x-Ae.x,kg=Be.y-Ae.y,Mc=0,Nc=0,Mc=jg,Nc=kg,lg=1/Math.sqrt(Mc*Mc+Nc*Nc),Mc=Mc*lg,Nc=Nc*lg,Ke=Mc,Mc=-Nc,Nc=Ke,Hc=0,Ic=0,Hc=Ae.x+Be.x,Ic=Ae.y+Be.y,Hc=0.5*Hc,Ic=0.5*Ic,Hc=Hc-1*a.circle.worldCOMx,Ic=Ic-1*a.circle.worldCOMy,sf=0,mg=0,ng=Mc*Hc+Nc*Ic,Ce=ng/a.circle.radius,Nd=Math.sqrt(1-Ce*Ce),og=Math.acos(Ce),sf=a.circle.radius*(a.circle.radius*og-ng*Nd),mg=0.6666666666666666*a.circle.radius*Nd*Nd*Nd/(og-Ce*Nd),Hc=a.circle.worldCOMx,Ic=a.circle.worldCOMy,
pg=mg,Hc=Hc+Mc*pg,Ic=Ic+Nc*pg,qg=sf,gd=gd+Hc*qg,hd=hd+Ic*qg,rd=rd+sf;var rg=1/rd,gd=gd*rg,hd=hd*rg;c.overlap=rd;c.centroidx=gd;c.centroidy=hd;null;return!0}}return!1}var ab=a.circle,pb=b.circle,De=0,Ee=0,De=pb.worldCOMx-ab.worldCOMx,Ee=pb.worldCOMy-ab.worldCOMy,sg=ab.radius+pb.radius,tf=De*De+Ee*Ee;if(tf>sg*sg)return!1;if(tf<f.Config.epsilon*f.Config.epsilon)ab.radius<pb.radius?(c.overlap=ab.area,c.centroidx=ab.worldCOMx,c.centroidy=ab.worldCOMy):(c.overlap=pb.area,c.centroidx=pb.worldCOMx,c.centroidy=
pb.worldCOMy);else{var Fe=Math.sqrt(tf),tg=1/Fe,Ge=0.5*(Fe-(pb.radius*pb.radius-ab.radius*ab.radius)*tg);if(Ge<=-ab.radius)c.overlap=ab.area,c.centroidx=ab.worldCOMx,c.centroidy=ab.worldCOMy;else{var uf=Fe-Ge;if(uf<=-pb.radius)c.overlap=pb.area,c.centroidx=pb.worldCOMx,c.centroidy=pb.worldCOMy;else{var vf=0,ug=0,wf=0,vg=0,He=Ge/ab.radius,Od=Math.sqrt(1-He*He),wg=Math.acos(He),vf=ab.radius*(ab.radius*wg-Ge*Od),ug=0.6666666666666666*ab.radius*Od*Od*Od/(wg-He*Od),Ie=uf/pb.radius,Pd=Math.sqrt(1-Ie*Ie),
xg=Math.acos(Ie),wf=pb.radius*(pb.radius*xg-uf*Pd),vg=0.6666666666666666*pb.radius*Pd*Pd*Pd/(xg-Ie*Pd),yg=vf+wf,zg=(ug*vf+(Fe-vg)*wf)/yg*tg;c.overlap=yg;c.centroidx=ab.worldCOMx+De*zg;c.centroidy=ab.worldCOMy+Ee*zg}}}null;return!0};d.geom.ZPP_Convex=function(){};l["zpp_nape.geom.ZPP_Convex"]=d.geom.ZPP_Convex;d.geom.ZPP_Convex.__name__=["zpp_nape","geom","ZPP_Convex"];d.geom.ZPP_Convex.isinner=function(a,b,c){var d=0,g=0,d=a.x-b.x,g=a.y-b.y,i=a=0,a=c.x-b.x,i=c.y-b.y;return 0<=i*d-a*g};d.geom.ZPP_Convex.optimise=
function(a){var b=a.vertices,c=a.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=c)}a=c=a.vertices;if(null!=c){do{for(var b=c,j=b.prev,g=null,i=b.diagonals.head;null!=i;){var e=i.elt;if(d.geom.ZPP_Convex.isinner(null==i.next?b.next:i.next.elt,b,j)){for(var f=!0,h=e,k=h.prev,l=null,m=h.diagonals.head;null!=m;){var p=m.elt;if(p==b){f=d.geom.ZPP_Convex.isinner(null==m.next?h.next:m.next.elt,h,k);break}k=p;l=m;m=m.next}f?(i=b.diagonals.erase(g),h.diagonals.erase(l)):(j=e,g=i,i=i.next)}else g=i,j=e,
i=i.next}c=c.next}while(c!=a)}};d.geom.ZPP_ConvexRayResult=function(){this.toiDistance=0;this.next=null;this.inner=!1;this.normal=this.shape=this.convex=this.position=this.ray=null};l["zpp_nape.geom.ZPP_ConvexRayResult"]=d.geom.ZPP_ConvexRayResult;d.geom.ZPP_ConvexRayResult.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"];d.geom.ZPP_ConvexRayResult.getRay=function(a,b,c,j){var g;null==d.geom.ZPP_ConvexRayResult.rayPool?(d.geom.ZPP_ConvexRayResult.internal=!0,g=new f.geom.RayResult,g.zpp_inner=new d.geom.ZPP_ConvexRayResult,
g.zpp_inner.ray=g,d.geom.ZPP_ConvexRayResult.internal=!1):(g=d.geom.ZPP_ConvexRayResult.rayPool.ray,d.geom.ZPP_ConvexRayResult.rayPool=d.geom.ZPP_ConvexRayResult.rayPool.next,g.zpp_inner.next=null);var i=g.zpp_inner;i.normal=a;a.zpp_inner._immutable=!0;i.toiDistance=b;i.inner=c;i.shape=j;return g};d.geom.ZPP_ConvexRayResult.getConvex=function(a,b,c,j){var g;null==d.geom.ZPP_ConvexRayResult.convexPool?(d.geom.ZPP_ConvexRayResult.internal=!0,g=new f.geom.ConvexResult,g.zpp_inner=new d.geom.ZPP_ConvexRayResult,
g.zpp_inner.convex=g,d.geom.ZPP_ConvexRayResult.internal=!1):(g=d.geom.ZPP_ConvexRayResult.convexPool.convex,d.geom.ZPP_ConvexRayResult.convexPool=d.geom.ZPP_ConvexRayResult.convexPool.next,g.zpp_inner.next=null);var i=g.zpp_inner;i.normal=a;i.position=b;a.zpp_inner._immutable=!0;b.zpp_inner._immutable=!0;i.toiDistance=c;i.shape=j;return g};d.geom.ZPP_ConvexRayResult.prototype={normal:null,shape:null,convex:null,position:null,ray:null,inner:null,next:null,toiDistance:null,disposed:function(){},free:function(){this.normal.zpp_inner._immutable=
!1;this.normal.dispose();null!=this.position&&(this.position.zpp_inner._immutable=!1,this.position.dispose());this.shape=null;this.toiDistance=0;null!=this.convex?(this.next=d.geom.ZPP_ConvexRayResult.convexPool,d.geom.ZPP_ConvexRayResult.convexPool=this):(this.next=d.geom.ZPP_ConvexRayResult.rayPool,d.geom.ZPP_ConvexRayResult.rayPool=this)},__class__:d.geom.ZPP_ConvexRayResult};d.geom.ZPP_CutVert=function(){this.used=!1;this.rank=0;this.parent=null;this.positive=!1;this.value=0;this.vert=null;this.posx=
this.posy=0;this.prev=this.next=null};l["zpp_nape.geom.ZPP_CutVert"]=d.geom.ZPP_CutVert;d.geom.ZPP_CutVert.__name__=["zpp_nape","geom","ZPP_CutVert"];d.geom.ZPP_CutVert.path=function(a){var b;null==d.geom.ZPP_CutVert.zpp_pool?b=new d.geom.ZPP_CutVert:(b=d.geom.ZPP_CutVert.zpp_pool,d.geom.ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.vert=a;b.parent=b;b.rank=0;b.used=!1;return b};d.geom.ZPP_CutVert.prototype={prev:null,next:null,posx:null,posy:null,vert:null,value:null,positive:null,parent:null,
rank:null,used:null,alloc:function(){},free:function(){this.parent=this.vert=null},__class__:d.geom.ZPP_CutVert};d.geom.ZPP_CutInt=function(){this.path0=this.end=this.start=this.path1=null;this.virtualint=this.vertex=!1;this.time=0;this.next=null};l["zpp_nape.geom.ZPP_CutInt"]=d.geom.ZPP_CutInt;d.geom.ZPP_CutInt.__name__=["zpp_nape","geom","ZPP_CutInt"];d.geom.ZPP_CutInt.get=function(a,b,c,j,g,i,e){null==e&&(e=!1);null==i&&(i=!1);var f;null==d.geom.ZPP_CutInt.zpp_pool?f=new d.geom.ZPP_CutInt:(f=d.geom.ZPP_CutInt.zpp_pool,
d.geom.ZPP_CutInt.zpp_pool=f.next,f.next=null);null;f.virtualint=i;f.end=b;f.start=c;f.path0=j;f.path1=g;f.time=a;f.vertex=e;return f};d.geom.ZPP_CutInt.prototype={next:null,time:null,virtualint:null,vertex:null,path0:null,end:null,start:null,path1:null,alloc:function(){},free:function(){this.path0=this.path1=this.end=this.start=null},__class__:d.geom.ZPP_CutInt};d.geom.ZPP_Cutter=function(){};l["zpp_nape.geom.ZPP_Cutter"]=d.geom.ZPP_Cutter;d.geom.ZPP_Cutter.__name__=["zpp_nape","geom","ZPP_Cutter"];
d.geom.ZPP_Cutter.run=function(a,b,c,j,g,i){var e=0,n=0;b.zpp_inner.validate();e=b.zpp_inner.x;b.zpp_inner.validate();var n=b.zpp_inner.y,h=0,k=0;c.zpp_inner.validate();h=c.zpp_inner.x-e;c.zpp_inner.validate();var k=c.zpp_inner.y-n,l;l=j?0:Math.NEGATIVE_INFINITY;var m;m=g?1:Math.POSITIVE_INFINITY;var p=-(n*h-e*k),q=null,s=!1,u=a;do{var w;null==d.geom.ZPP_CutVert.zpp_pool?w=new d.geom.ZPP_CutVert:(w=d.geom.ZPP_CutVert.zpp_pool,d.geom.ZPP_CutVert.zpp_pool=w.next,w.next=null);null;w.vert=u;w.posx=w.vert.x;
w.posy=w.vert.y;w.value=w.posy*h-w.posx*k+p;w.positive=0<w.value;0==w.value&&(s=!0);var y=w;null==q?q=y.prev=y.next=y:(y.prev=q,y.next=q.next,q.next.prev=y,q.next=y);q=y;u=u.next}while(u!=a);if(s){var v=null,z=q,A=q;if(null!=z){var r=z;do{var t=r;if(0!=t.value){v=t;break}r=r.next}while(r!=A)}var B=0,C=0,B=h,C=k,D=1/Math.sqrt(B*B+C*C),B=B*D,C=C*D,F=B,B=-C,C=F,G=null,H=v;do{if(0!=H.value&&(null==G||H==G.next))G=H;else{var Q=G.value*H.value;if(0!=Q){var O=G.next,S;if(0<Q)S=G.positive;else{var R=O.next,
M=0,P=0,M=O.posx+R.posx,P=O.posy+R.posy,M=0.5*M,P=0.5*P,V=M+1E-8*B,U=P+1E-8*C,X=!1,aa=a,na=a;if(null!=aa){var qb=aa;do{var Y=qb,xa=Y.prev;if((Y.y<U&&xa.y>=U||xa.y<U&&Y.y>=U)&&(Y.x<=V||xa.x<=V))Y.x+(U-Y.y)/(xa.y-Y.y)*(xa.x-Y.x)<V&&(X=!X);qb=qb.next}while(qb!=na)}S=X}var va=O,Aa=H;if(null!=va){var Ob=va;do Ob.positive=S,Ob=Ob.next;while(Ob!=Aa)}G=H}}H=H.next}while(H!=v);if(0!=H.value&&(null==G||H==G.next))G=H;else{var id=G.value*H.value;if(0!=id){var la=G.next,ja;if(0<id)ja=G.positive;else{var ua=la.next,
pc=0,db=0,pc=la.posx+ua.posx,db=la.posy+ua.posy,pc=0.5*pc,db=0.5*db,Qa=pc+1E-8*B,E=db+1E-8*C,$c=!1;if(null!=a){var oa=a;do{var Ra=oa,eb=Ra.prev;if((Ra.y<E&&eb.y>=E||eb.y<E&&Ra.y>=E)&&(Ra.x<=Qa||eb.x<=Qa))Ra.x+(E-Ra.y)/(eb.y-Ra.y)*(eb.x-Ra.x)<Qa&&($c=!$c);oa=oa.next}while(oa!=a)}ja=$c}var Z=H;if(null!=la){var Kb=la;do Kb.positive=ja,Kb=Kb.next;while(Kb!=Z)}G=H}}H=H.next}null==d.geom.ZPP_Cutter.ints&&(d.geom.ZPP_Cutter.ints=new d.util.ZNPList_ZPP_CutInt);null==d.geom.ZPP_Cutter.paths&&(d.geom.ZPP_Cutter.paths=
new d.util.ZNPList_ZPP_CutVert);var J=null,Ia=d.geom.ZPP_GeomVert.get(q.posx,q.posy);null==J?J=Ia.prev=Ia.next=Ia:(Ia.next=J,Ia.prev=J.prev,J.prev.next=Ia,J.prev=Ia);Ia;var rb=J,ba=d.geom.ZPP_CutVert.path(J);d.geom.ZPP_Cutter.paths.add(ba);var pa=q;do{var ca=pa.next,Sa=d.geom.ZPP_GeomVert.get(ca.posx,ca.posy);if(pa.positive==ca.positive){var $=Sa;null==J?J=$.prev=$.next=$:($.next=J,$.prev=J.prev,J.prev.next=$,J.prev=$);$}else{var Ja=0,Ba=0,Ja=ca.posx-pa.posx,Ba=ca.posy-pa.posy,bb=k*Ja-h*Ba,bb=1/bb,
fb=0,gb=0,fb=e-pa.posx,gb=n-pa.posy,yb=(Ba*fb-Ja*gb)*bb;if(yb<l||yb>m){d.geom.ZPP_Cutter.ints.add(d.geom.ZPP_CutInt.get(yb,null,null,null,null,!0,null));var sb=Sa;null==J?J=sb.prev=sb.next=sb:(sb.next=J,sb.prev=J.prev,J.prev.next=sb,J.prev=sb);sb}else if(0==pa.value){var zb=J.prev,J=null,ma=d.geom.ZPP_GeomVert.get(zb.x,zb.y);null==J?J=ma.prev=ma.next=ma:(ma.next=J,ma.prev=J.prev,J.prev.next=ma,J.prev=ma);ma;var ga=Sa;null==J?J=ga.prev=ga.next=ga:(ga.next=J,ga.prev=J.prev,J.prev.next=ga,J.prev=ga);
ga;var Ka=d.geom.ZPP_Cutter.paths.head.elt;d.geom.ZPP_Cutter.paths.add(d.geom.ZPP_CutVert.path(J));d.geom.ZPP_Cutter.ints.add(d.geom.ZPP_CutInt.get(yb,zb,J,Ka,d.geom.ZPP_Cutter.paths.head.elt,!0,null))}else if(0==ca.value){var fa=Sa;null==J?J=fa.prev=fa.next=fa:(fa.next=J,fa.prev=J.prev,J.prev.next=fa,J.prev=fa);fa;var Ta=J.prev,J=null,qa=d.geom.ZPP_GeomVert.get(ca.posx,ca.posy);null==J?J=qa.prev=qa.next=qa:(qa.next=J,qa.prev=J.prev,J.prev.next=qa,J.prev=qa);qa;var ra=d.geom.ZPP_Cutter.paths.head.elt;
d.geom.ZPP_Cutter.paths.add(d.geom.ZPP_CutVert.path(J));d.geom.ZPP_Cutter.ints.add(d.geom.ZPP_CutInt.get(yb,Ta,J,ra,d.geom.ZPP_Cutter.paths.head.elt,!0,null))}else{var ia=(k*fb-h*gb)*bb,hb=0,ib=0,hb=pa.posx,ib=pa.posy,tb=ia,hb=hb+Ja*tb,ib=ib+Ba*tb,K=d.geom.ZPP_GeomVert.get(hb,ib);null==J?J=K.prev=K.next=K:(K.next=J,K.prev=J.prev,J.prev.next=K,J.prev=K);K;var Ga=J.prev,J=null,Ca=d.geom.ZPP_GeomVert.get(hb,ib);null==J?J=Ca.prev=Ca.next=Ca:(Ca.next=J,Ca.prev=J.prev,J.prev.next=Ca,J.prev=Ca);Ca;var Ua=
Sa;null==J?J=Ua.prev=Ua.next=Ua:(Ua.next=J,Ua.prev=J.prev,J.prev.next=Ua,J.prev=Ua);Ua;var Ab=d.geom.ZPP_Cutter.paths.head.elt;d.geom.ZPP_Cutter.paths.add(d.geom.ZPP_CutVert.path(J));d.geom.ZPP_Cutter.ints.add(d.geom.ZPP_CutInt.get(yb,Ga,J,Ab,d.geom.ZPP_Cutter.paths.head.elt,!1,null))}}pa=pa.next}while(pa!=q);var ub=J.prev;ub.next.prev=rb.prev;rb.prev.next=ub.next;ub.next=rb;rb.prev=ub;var jb=d.geom.ZPP_Cutter.paths.head.elt,La;if(ba==ba.parent)La=ba;else{for(var Ma=ba,kb=null;Ma!=Ma.parent;){var da=
Ma.parent;Ma.parent=kb;kb=Ma;Ma=da}for(;null!=kb;){var Lb=kb.parent;kb.parent=Ma;kb=Lb}La=Ma}var Da;if(jb==jb.parent)Da=jb;else{for(var Va=jb,cb=null;Va!=Va.parent;){var lb=Va.parent;Va.parent=cb;cb=Va;Va=lb}for(;null!=cb;){var Ea=cb.parent;cb.parent=Va;cb=Ea}Da=Va}La!=Da&&(La.rank<Da.rank?La.parent=Da:La.rank>Da.rank?Da.parent=La:(Da.parent=La,La.rank++));var Na=d.geom.ZPP_Cutter.ints;if(null!=Na.head&&null!=Na.head.next){var Wa=Na.head,Bb=null,Fa=null,wa=null,vb=null,Cb=1,mb,ka,nb;do{mb=0;Fa=Wa;
for(Bb=Wa=null;null!=Fa;){mb++;wa=Fa;ka=0;for(nb=Cb;null!=wa&&ka<Cb;)ka++,wa=wa.next;for(;0<ka||0<nb&&null!=wa;)0==ka?(vb=wa,wa=wa.next,nb--):0==nb||null==wa?(vb=Fa,Fa=Fa.next,ka--):Fa.elt.time<wa.elt.time?(vb=Fa,Fa=Fa.next,ka--):(vb=wa,wa=wa.next,nb--),null!=Bb?Bb.next=vb:Wa=vb,Bb=vb;Fa=wa}Bb.next=null;Cb<<=1}while(1<mb);Na.head=Wa;Na.modified=!0;Na.pushmod=!0}for(;null!=d.geom.ZPP_Cutter.ints.head;){var I=d.geom.ZPP_Cutter.ints.pop_unsafe(),L=d.geom.ZPP_Cutter.ints.pop_unsafe();if(!I.virtualint&&
!L.virtualint){I.end.next.prev=L.start.prev;L.start.prev.next=I.end.next;I.end.next=L.start;L.start.prev=I.end;L.end.next.prev=I.start.prev;I.start.prev.next=L.end.next;L.end.next=I.start;I.start.prev=L.end;var Oa;if(I.path0==I.path0.parent)Oa=I.path0;else{for(var Db=I.path0,ha=null;Db!=Db.parent;){var Ha=Db.parent;Db.parent=ha;ha=Db;Db=Ha}for(;null!=ha;){var za=ha.parent;ha.parent=Db;ha=za}Oa=Db}var sa;if(L.path1==L.path1.parent)sa=L.path1;else{for(var Wb=L.path1,qc=null;Wb!=Wb.parent;){var xb=Wb.parent;
Wb.parent=qc;qc=Wb;Wb=xb}for(;null!=qc;){var Nb=qc.parent;qc.parent=Wb;qc=Nb}sa=Wb}Oa!=sa&&(Oa.rank<sa.rank?Oa.parent=sa:Oa.rank>sa.rank?sa.parent=Oa:(sa.parent=Oa,Oa.rank++));var Pb;if(I.path1==I.path1.parent)Pb=I.path1;else{for(var Xb=I.path1,xc=null;Xb!=Xb.parent;){var Jb=Xb.parent;Xb.parent=xc;xc=Xb;Xb=Jb}for(;null!=xc;){var Oc=xc.parent;xc.parent=Xb;xc=Oc}Pb=Xb}var Yb;if(L.path0==L.path0.parent)Yb=L.path0;else{for(var Zb=L.path0,yc=null;Zb!=Zb.parent;){var Vb=Zb.parent;Zb.parent=yc;yc=Zb;Zb=
Vb}for(;null!=yc;){var Jc=yc.parent;yc.parent=Zb;yc=Jc}Yb=Zb}Pb!=Yb&&(Pb.rank<Yb.rank?Pb.parent=Yb:Pb.rank>Yb.rank?Yb.parent=Pb:(Yb.parent=Pb,Pb.rank++))}else if(I.virtualint&&!L.virtualint){if(null!=L.end&&L.end.prev==L.end){L.end.next=L.end.prev=null;var $b=L.end;null!=$b.wrap&&($b.wrap.zpp_inner._inuse=!1,$b.wrap.dispose(),$b.wrap=null);$b.prev=$b.next=null;$b.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=$b;L.end=null}else{var Vc=L.end.prev;L.end.prev.next=L.end.next;L.end.next.prev=
L.end.prev;L.end.next=L.end.prev=null;var ac=L.end;null!=ac.wrap&&(ac.wrap.zpp_inner._inuse=!1,ac.wrap.dispose(),ac.wrap=null);ac.prev=ac.next=null;ac.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=ac;L.end=null;L.end=Vc}if(!L.vertex)if(L.end!=L.path0.vert)if(L.start.x=L.end.x,L.start.y=L.end.y,null!=L.end&&L.end.prev==L.end){L.end.next=L.end.prev=null;var bc=L.end;null!=bc.wrap&&(bc.wrap.zpp_inner._inuse=!1,bc.wrap.dispose(),bc.wrap=null);bc.prev=bc.next=null;bc.next=d.geom.ZPP_GeomVert.zpp_pool;
d.geom.ZPP_GeomVert.zpp_pool=bc;L.end=null}else{var Wc=L.end.prev;L.end.prev.next=L.end.next;L.end.next.prev=L.end.prev;L.end.next=L.end.prev=null;var cc=L.end;null!=cc.wrap&&(cc.wrap.zpp_inner._inuse=!1,cc.wrap.dispose(),cc.wrap=null);cc.prev=cc.next=null;cc.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=cc;L.end=null;L.end=Wc}else{var Pa=L.start.next;L.start.x=Pa.x;L.start.y=Pa.y;if(null!=Pa&&Pa.prev==Pa){Pa.next=Pa.prev=null;var dc=Pa;null!=dc.wrap&&(dc.wrap.zpp_inner._inuse=!1,
dc.wrap.dispose(),dc.wrap=null);dc.prev=dc.next=null;dc.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=dc;Pa=null}else{Pa.prev.next=Pa.next;Pa.next.prev=Pa.prev;Pa.next=Pa.prev=null;var Eb=Pa;null!=Eb.wrap&&(Eb.wrap.zpp_inner._inuse=!1,Eb.wrap.dispose(),Eb.wrap=null);Eb.prev=Eb.next=null;Eb.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=Eb}}L.end.next.prev=L.start.prev;L.start.prev.next=L.end.next;L.end.next=L.start;L.start.prev=L.end;var Qb;if(L.path0==L.path0.parent)Qb=
L.path0;else{for(var ec=L.path0,zc=null;ec!=ec.parent;){var Xc=ec.parent;ec.parent=zc;zc=ec;ec=Xc}for(;null!=zc;){var Yc=zc.parent;zc.parent=ec;zc=Yc}Qb=ec}var Rb;if(L.path1==L.path1.parent)Rb=L.path1;else{for(var fc=L.path1,Kc=null;fc!=fc.parent;){var Zc=fc.parent;fc.parent=Kc;Kc=fc;fc=Zc}for(;null!=Kc;){var ud=Kc.parent;Kc.parent=fc;Kc=ud}Rb=fc}Qb!=Rb&&(Qb.rank<Rb.rank?Qb.parent=Rb:Qb.rank>Rb.rank?Rb.parent=Qb:(Rb.parent=Qb,Qb.rank++))}else if(L.virtualint&&!I.virtualint){if(null!=I.end&&I.end.prev==
I.end){I.end.next=I.end.prev=null;var rc=I.end;null!=rc.wrap&&(rc.wrap.zpp_inner._inuse=!1,rc.wrap.dispose(),rc.wrap=null);rc.prev=rc.next=null;rc.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=rc;I.end=null}else{var vd=I.end.prev;I.end.prev.next=I.end.next;I.end.next.prev=I.end.prev;I.end.next=I.end.prev=null;var ob=I.end;null!=ob.wrap&&(ob.wrap.zpp_inner._inuse=!1,ob.wrap.dispose(),ob.wrap=null);ob.prev=ob.next=null;ob.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=
ob;I.end=null;I.end=vd}if(!I.vertex)if(I.end!=I.path0.vert)if(I.start.x=I.end.x,I.start.y=I.end.y,null!=I.end&&I.end.prev==I.end){I.end.next=I.end.prev=null;var Sb=I.end;null!=Sb.wrap&&(Sb.wrap.zpp_inner._inuse=!1,Sb.wrap.dispose(),Sb.wrap=null);Sb.prev=Sb.next=null;Sb.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=Sb;I.end=null}else{var gc=I.end.prev;I.end.prev.next=I.end.next;I.end.next.prev=I.end.prev;I.end.next=I.end.prev=null;var Tb=I.end;null!=Tb.wrap&&(Tb.wrap.zpp_inner._inuse=
!1,Tb.wrap.dispose(),Tb.wrap=null);Tb.prev=Tb.next=null;Tb.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=Tb;I.end=null;I.end=gc}else{var ta=I.start.next;I.start.x=ta.x;I.start.y=ta.y;if(null!=ta&&ta.prev==ta){ta.next=ta.prev=null;var Fb=ta;null!=Fb.wrap&&(Fb.wrap.zpp_inner._inuse=!1,Fb.wrap.dispose(),Fb.wrap=null);Fb.prev=Fb.next=null;Fb.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=Fb;ta=null}else{ta.prev.next=ta.next;ta.next.prev=ta.prev;ta.next=ta.prev=null;var hc=
ta;null!=hc.wrap&&(hc.wrap.zpp_inner._inuse=!1,hc.wrap.dispose(),hc.wrap=null);hc.prev=hc.next=null;hc.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=hc}}I.end.next.prev=I.start.prev;I.start.prev.next=I.end.next;I.end.next=I.start;I.start.prev=I.end;var ic;if(I.path0==I.path0.parent)ic=I.path0;else{for(var jc=I.path0,ya=null;jc!=jc.parent;){var wd=jc.parent;jc.parent=ya;ya=jc;jc=wd}for(;null!=ya;){var jd=ya.parent;ya.parent=jc;ya=jd}ic=jc}var kc;if(I.path1==I.path1.parent)kc=I.path1;
else{for(var lc=I.path1,Ac=null;lc!=lc.parent;){var xd=lc.parent;lc.parent=Ac;Ac=lc;lc=xd}for(;null!=Ac;){var yd=Ac.parent;Ac.parent=lc;Ac=yd}kc=lc}ic!=kc&&(ic.rank<kc.rank?ic.parent=kc:ic.rank>kc.rank?kc.parent=ic:(kc.parent=ic,ic.rank++))}var Bc=I;Bc.end=Bc.start=null;Bc.path0=Bc.path1=null;Bc.next=d.geom.ZPP_CutInt.zpp_pool;d.geom.ZPP_CutInt.zpp_pool=Bc;var Ub=L;Ub.end=Ub.start=null;Ub.path0=Ub.path1=null;Ub.next=d.geom.ZPP_CutInt.zpp_pool;d.geom.ZPP_CutInt.zpp_pool=Ub}var Lc;Lc=null==i?new f.geom.GeomPolyList:
i;for(var Pc=d.geom.ZPP_Cutter.paths.head;null!=Pc;){var Qc=Pc.elt,Mb;if(Qc==Qc.parent)Mb=Qc;else{for(var mc=Qc,Cc=null;mc!=mc.parent;){var kd=mc.parent;mc.parent=Cc;Cc=mc;mc=kd}for(;null!=Cc;){var zd=Cc.parent;Cc.parent=mc;Cc=zd}Mb=mc}if(!Mb.used){Mb.used=!0;for(var ea=Mb.vert,ad=!0;null!=Mb.vert&&(ad||ea!=Mb.vert);)if(ad=!1,ea.x==ea.next.x&&ea.y==ea.next.y)if(ea==Mb.vert&&(Mb.vert=ea.next==ea?null:ea.next,ad=!0),null!=ea&&ea.prev==ea)ea=ea=ea.next=ea.prev=null;else{var Ad=ea.next;ea.prev.next=ea.next;
ea.next.prev=ea.prev;ea=ea.next=ea.prev=null;ea=Ad}else ea=ea.next;if(null!=Mb.vert){var bd=f.geom.GeomPoly.get();bd.zpp_inner.vertices=Mb.vert;Lc.zpp_inner.reverse_flag?Lc.push(bd):Lc.unshift(bd)}}Pc=Pc.next}for(;null!=d.geom.ZPP_Cutter.paths.head;){var Rc=d.geom.ZPP_Cutter.paths.pop_unsafe();Rc.vert=null;Rc.parent=null;Rc.next=d.geom.ZPP_CutVert.zpp_pool;d.geom.ZPP_CutVert.zpp_pool=Rc}for(;null!=q;)if(null!=q&&q.prev==q){q.next=q.prev=null;var sc=q;sc.vert=null;sc.parent=null;sc.next=d.geom.ZPP_CutVert.zpp_pool;
d.geom.ZPP_CutVert.zpp_pool=sc;q=q=null}else{var Bd=q.next;q.prev.next=q.next;q.next.prev=q.prev;q.next=q.prev=null;var Sc=q;Sc.vert=null;Sc.parent=null;Sc.next=d.geom.ZPP_CutVert.zpp_pool;d.geom.ZPP_CutVert.zpp_pool=Sc;q=null;q=Bd}return Lc};d.geom.ZPP_Geom=function(){};l["zpp_nape.geom.ZPP_Geom"]=d.geom.ZPP_Geom;d.geom.ZPP_Geom.__name__=["zpp_nape","geom","ZPP_Geom"];d.geom.ZPP_Geom.validateShape=function(a){a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.validate_gaxi();a.zip_aabb&&null!=
a.body&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=
a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy))};d.geom.ZPP_GeomVert=function(){this.forced=!1;this.prev=this.next=this.wrap=null;this.x=this.y=0};l["zpp_nape.geom.ZPP_GeomVert"]=d.geom.ZPP_GeomVert;d.geom.ZPP_GeomVert.__name__=["zpp_nape","geom","ZPP_GeomVert"];d.geom.ZPP_GeomVert.get=function(a,b){var c;null==d.geom.ZPP_GeomVert.zpp_pool?c=new d.geom.ZPP_GeomVert:(c=d.geom.ZPP_GeomVert.zpp_pool,d.geom.ZPP_GeomVert.zpp_pool=c.next,c.next=null);c.forced=!1;c.x=a;c.y=b;return c};d.geom.ZPP_GeomVert.prototype=
{x:null,y:null,prev:null,next:null,wrap:null,forced:null,free:function(){null!=this.wrap&&(this.wrap.zpp_inner._inuse=!1,this.wrap.dispose(),this.wrap=null);this.prev=this.next=null},alloc:function(){this.forced=!1},wrapper:function(){null==this.wrap&&(this.wrap=f.geom.Vec2.get(this.x,this.y,null),this.wrap.zpp_inner._inuse=!0,this.wrap.zpp_inner._invalidate=w(this,this.modwrap),this.wrap.zpp_inner._validate=w(this,this.getwrap));return this.wrap},modwrap:function(a){this.x=a.x;this.y=a.y},getwrap:function(){this.wrap.zpp_inner.x=
this.x;this.wrap.zpp_inner.y=this.y},__class__:d.geom.ZPP_GeomVert};d.geom.ZPP_GeomPoly=function(a){this.outer=this.vertices=null;this.outer=a};l["zpp_nape.geom.ZPP_GeomPoly"]=d.geom.ZPP_GeomPoly;d.geom.ZPP_GeomPoly.__name__=["zpp_nape","geom","ZPP_GeomPoly"];d.geom.ZPP_GeomPoly.prototype={outer:null,vertices:null,__class__:d.geom.ZPP_GeomPoly};d.geom.ZPP_GeomVertexIterator=function(){this.outer=this.next=null;this.first=this.forward=!1;this.ptr=this.start=null;this.outer=new f.geom.GeomVertexIterator};
l["zpp_nape.geom.ZPP_GeomVertexIterator"]=d.geom.ZPP_GeomVertexIterator;d.geom.ZPP_GeomVertexIterator.__name__=["zpp_nape","geom","ZPP_GeomVertexIterator"];d.geom.ZPP_GeomVertexIterator.get=function(a,b){var c;null==d.geom.ZPP_GeomVertexIterator.zpp_pool?c=new d.geom.ZPP_GeomVertexIterator:(c=d.geom.ZPP_GeomVertexIterator.zpp_pool,d.geom.ZPP_GeomVertexIterator.zpp_pool=c.next,c.next=null);null;c.outer.zpp_inner=c;c.ptr=a;c.forward=b;c.start=a;c.first=null!=a;return c.outer};d.geom.ZPP_GeomVertexIterator.prototype=
{ptr:null,start:null,first:null,forward:null,outer:null,next:null,free:function(){this.ptr=this.start=this.outer.zpp_inner=null},alloc:function(){},__class__:d.geom.ZPP_GeomVertexIterator};d.geom.ZPP_MarchSpan=function(){this.next=null;this.out=!1;this.rank=0;this.parent=null;this.parent=this};l["zpp_nape.geom.ZPP_MarchSpan"]=d.geom.ZPP_MarchSpan;d.geom.ZPP_MarchSpan.__name__=["zpp_nape","geom","ZPP_MarchSpan"];d.geom.ZPP_MarchSpan.prototype={parent:null,rank:null,out:null,next:null,free:function(){this.parent=
this},alloc:function(){this.out=!1;this.rank=0},__class__:d.geom.ZPP_MarchSpan};d.geom.ZPP_MarchPair=function(){this.pd=this.span1=this.span2=this.spanr=this.next=null;this.keyr=this.okeyr=0;this.pr=null;this.key2=this.okey2=0;this.p2=null;this.key1=this.okey1=0;this.p1=null};l["zpp_nape.geom.ZPP_MarchPair"]=d.geom.ZPP_MarchPair;d.geom.ZPP_MarchPair.__name__=["zpp_nape","geom","ZPP_MarchPair"];d.geom.ZPP_MarchPair.prototype={p1:null,key1:null,okey1:null,p2:null,key2:null,okey2:null,pr:null,keyr:null,
okeyr:null,pd:null,span1:null,span2:null,spanr:null,next:null,free:function(){this.span1=this.span2=this.spanr=this.p1=this.p2=this.pr=this.pd=null},alloc:function(){},__class__:d.geom.ZPP_MarchPair};d.geom.ZPP_MarchingSquares=function(){};l["zpp_nape.geom.ZPP_MarchingSquares"]=d.geom.ZPP_MarchingSquares;d.geom.ZPP_MarchingSquares.__name__=["zpp_nape","geom","ZPP_MarchingSquares"];d.geom.ZPP_MarchingSquares.isos=null;d.geom.ZPP_MarchingSquares.ints=null;d.geom.ZPP_MarchingSquares.map=null;d.geom.ZPP_MarchingSquares.run=
function(a,b,c,j,g,i,e,f,h){var k,l=j-b;i.zpp_inner.validate();k=l/i.zpp_inner.x;var l=k|0,m,p=g-c;i.zpp_inner.validate();m=p/i.zpp_inner.y;p=m|0;k!=l&&l++;m!=p&&p++;f&&(null==d.geom.ZPP_MarchingSquares.map?d.geom.ZPP_MarchingSquares.map=new d.util.ZNPArray2_ZPP_MarchPair(l,p):d.geom.ZPP_MarchingSquares.map.resize(l,p,null));null==d.geom.ZPP_MarchingSquares.isos?d.geom.ZPP_MarchingSquares.isos=new d.util.ZNPArray2_Float(l+1,p+1):d.geom.ZPP_MarchingSquares.isos.resize(l+1,p+1,0);k=0;for(m=p+1;k<m;){var q=
k++,s;if(0==q)s=c;else if(q<=p){s=c;var u=void 0;i.zpp_inner.validate();u=i.zpp_inner.y;s+=u*q}else s=g;for(var u=0,w=l+1;u<w;){var y=u++,v;if(0==y)v=b;else if(y<=l){v=b;var z=void 0;i.zpp_inner.validate();z=i.zpp_inner.x;v+=z*y}else v=j;d.geom.ZPP_MarchingSquares.isos.set(y,q,a(v,s))}}null==d.geom.ZPP_MarchingSquares.ints?d.geom.ZPP_MarchingSquares.ints=new d.util.ZNPArray2_ZPP_GeomVert(l+1,(p<<1)+1):d.geom.ZPP_MarchingSquares.ints.resize(l+1,(p<<1)+1,null);k=null;f&&(null==d.geom.ZPP_MarchSpan.zpp_pool?
k=new d.geom.ZPP_MarchSpan:(k=d.geom.ZPP_MarchSpan.zpp_pool,d.geom.ZPP_MarchSpan.zpp_pool=k.next,k.next=null),k.out=!1,k.rank=0);u=c;for(m=0;m<p;){q=m++;s=u;q==p-1?w=g:(u=c,w=void 0,i.zpp_inner.validate(),w=i.zpp_inner.y,w=u+w*(q+1));var u=w,A=b,y=null;for(v=0;v<l;){var z=v++,r=A,t;z==l-1?t=j:(A=b,t=void 0,i.zpp_inner.validate(),t=i.zpp_inner.x,t=A+t*(z+1));A=t;r=d.geom.ZPP_MarchingSquares.me.marchSquare(a,d.geom.ZPP_MarchingSquares.isos,d.geom.ZPP_MarchingSquares.ints,r,s,t,w,z,q,0==z||!f,0==q||
!f,z==l-1||!f,q==p-1||!f,e);null==r?y=null:f?(t=null!=r.p2&&14!=r.okey2?r.p2:r.p1,r.pd=0==((t==r.p2?r.okey2:r.okey1)&128)?t.prev:t.prev.prev,d.geom.ZPP_MarchingSquares.map.set(z,q,r),null!=y&&d.geom.ZPP_MarchingSquares.me.combLeft(r.key1)?(d.geom.ZPP_MarchingSquares.me.combLR(y,r),r.span1=y.spanr):(null==d.geom.ZPP_MarchSpan.zpp_pool?r.span1=new d.geom.ZPP_MarchSpan:(r.span1=d.geom.ZPP_MarchSpan.zpp_pool,d.geom.ZPP_MarchSpan.zpp_pool=r.span1.next,r.span1.next=null),r.span1.alloc(),r.span1.next=k,
k=r.span1),null!=r.p2?(null==d.geom.ZPP_MarchSpan.zpp_pool?r.span2=new d.geom.ZPP_MarchSpan:(r.span2=d.geom.ZPP_MarchSpan.zpp_pool,d.geom.ZPP_MarchSpan.zpp_pool=r.span2.next,r.span2.next=null),r.span2.alloc(),r.span2.next=k,k=r.span2,r.spanr=r.span2):r.spanr=r.span1,y=d.geom.ZPP_MarchingSquares.me.combRight(r.keyr)?r:null):(d.geom.ZPP_MarchingSquares.me.output(h,r.p1),null!=r.p2&&d.geom.ZPP_MarchingSquares.me.output(h,r.p2),z=r,z.p1=z.p2=z.pr=z.pd=null,z.span1=z.span2=z.spanr=null,z.next=d.geom.ZPP_MarchPair.zpp_pool,
d.geom.ZPP_MarchPair.zpp_pool=z)}}if(f){for(a=1;a<p;){b=a++;e=null;for(c=0;c<l;)if(g=c++,j=d.geom.ZPP_MarchingSquares.map.get(g,b),null==j)e=null;else if(d.geom.ZPP_MarchingSquares.me.combUp(null!=j.p2&&14==j.okey2?j.okey2:j.okey1))if(g=d.geom.ZPP_MarchingSquares.map.get(g,b-1),null==g)e=null;else if(d.geom.ZPP_MarchingSquares.me.combDown(null!=g.p2&&56==g.okey2?g.okey2:g.okey1)){f=null!=g.p2&&56==g.okey2?g.span2:g.span1;i=null!=j.p2&&14==j.okey2?j.span2:j.span1;if(f==f.parent)m=f;else{m=void 0;m=
f;for(q=null;m!=m.parent;)s=m.parent,m.parent=q,q=m,m=s;for(;null!=q;)s=q.parent,q.parent=m,q=s}if(i==i.parent)q=i;else{q=void 0;q=i;for(s=null;q!=q.parent;)u=q.parent,q.parent=s,s=q,q=u;for(;null!=s;)u=s.parent,s.parent=q,s=u}if(m==q)e!=i&&d.geom.ZPP_MarchingSquares.me.combUD_virtual(g,j);else{if(f==f.parent)e=f;else{e=f;for(f=null;e!=e.parent;)m=e.parent,e.parent=f,f=e,e=m;for(;null!=f;)m=f.parent,f.parent=e,f=m}if(i==i.parent)f=i;else{f=i;for(m=null;f!=f.parent;)q=f.parent,f.parent=m,m=f,f=q;for(;null!=
m;)q=m.parent,m.parent=f,m=q}e!=f&&(e.rank<f.rank?e.parent=f:e.rank>f.rank?f.parent=e:(f.parent=e,e.rank++));d.geom.ZPP_MarchingSquares.me.combUD(g,j)}e=0!=((i==j.span2?j.okey2:j.okey1)&4)?i:null}else e=null;else e=null}for(a=0;a<p;){b=a++;for(c=0;c<l;)if(j=c++,g=d.geom.ZPP_MarchingSquares.map.get(j,b),null!=g){if(g.span1==g.span1.parent)i=g.span1;else{i=g.span1;for(e=null;i!=i.parent;)f=i.parent,i.parent=e,e=i,i=f;for(;null!=e;)f=e.parent,e.parent=i,e=f}i.out||(i.out=!0,d.geom.ZPP_MarchingSquares.me.output(h,
g.p1));if(null!=g.p2){if(g.span2==g.span2.parent)i=g.span2;else{i=g.span2;for(e=null;i!=i.parent;)f=i.parent,i.parent=e,e=i,i=f;for(;null!=e;)f=e.parent,e.parent=i,e=f}i.out||(i.out=!0,d.geom.ZPP_MarchingSquares.me.output(h,g.p2))}g.p1=g.p2=g.pr=g.pd=null;g.span1=g.span2=g.spanr=null;g.next=d.geom.ZPP_MarchPair.zpp_pool;d.geom.ZPP_MarchPair.zpp_pool=g;d.geom.ZPP_MarchingSquares.map.set(j,b,null)}}for(;null!=k;)h=k,k=h.next,h.parent=h,h.next=d.geom.ZPP_MarchSpan.zpp_pool,d.geom.ZPP_MarchSpan.zpp_pool=
h}};d.geom.ZPP_MarchingSquares.ISO=function(a,b,c){return a(b,c)};d.geom.ZPP_MarchingSquares.prototype={output:function(a,b){var c;if(null==b||b.next==b||b.next==b.prev)c=!0;else{c=0;var d=b,g=b;if(null!=d){do{var e=d;c+=e.x*(e.next.y-e.prev.y);d=d.next}while(d!=g)}c*=0.5;c=c*c<f.Config.epsilon*f.Config.epsilon}if(c)for(;null!=b;)null!=b&&b.prev==b?b=b=b.next=b.prev=null:(c=b.next,b.prev.next=b.next,b.next.prev=b.prev,b.next=b.prev=null,b=c);else c=f.geom.GeomPoly.get(),c.zpp_inner.vertices=b,a.zpp_inner.reverse_flag?
a.push(c):a.unshift(c)},linkright:function(a,b){var c=b&7;return 0==c?a:3==c?a.next.next:a.next},linkleft:function(a,b){return 0==(b&1)?a.prev:a},linkdown:function(a,b){return 0==(b&128)?a.prev:a.prev.prev},linkup:function(a){return a},combLR:function(a,b){var c=this.linkright(a.pr,a.okeyr),j=this.linkleft(b.p1,b.okey1),g=c.next,e=j.prev;0!=(a.keyr&4)?(b.pr==b.p1&&(b.pr=c.prev),b.p1=c.prev,c.prev.next=j.next,j.next.prev=c.prev,null!=c.wrap&&(c.wrap.zpp_inner._inuse=!1,c.wrap.dispose(),c.wrap=null),
c.prev=c.next=null,c.next=d.geom.ZPP_GeomVert.zpp_pool,d.geom.ZPP_GeomVert.zpp_pool=c):(c.next=j.next,j.next.prev=c);null!=j.wrap&&(j.wrap.zpp_inner._inuse=!1,j.wrap.dispose(),j.wrap=null);j.prev=j.next=null;j.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=j;0!=(a.keyr&16)?(b.pd=g.next,g.next.prev=e.prev,e.prev.next=g.next,null!=g.wrap&&(g.wrap.zpp_inner._inuse=!1,g.wrap.dispose(),g.wrap=null),g.prev=g.next=null,g.next=d.geom.ZPP_GeomVert.zpp_pool,d.geom.ZPP_GeomVert.zpp_pool=g):(g.prev=
e.prev,e.prev.next=g);null!=e.wrap&&(e.wrap.zpp_inner._inuse=!1,e.wrap.dispose(),e.wrap=null);e.prev=e.next=null;e.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=e},combUD:function(a,b){var c=a.pd,j=null!=b.p2&&14==b.key2?b.p2:b.p1,g=c.prev,e=j.next;j.next=c.next;c.next.prev=j;null!=c.wrap&&(c.wrap.zpp_inner._inuse=!1,c.wrap.dispose(),c.wrap=null);c.prev=c.next=null;c.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=c;e.prev=g.prev;g.prev.next=e;g==a.p1&&(a.p1=e);null!=
g.wrap&&(g.wrap.zpp_inner._inuse=!1,g.wrap.dispose(),g.wrap=null);g.prev=g.next=null;g.next=d.geom.ZPP_GeomVert.zpp_pool;d.geom.ZPP_GeomVert.zpp_pool=g},combUD_virtual:function(a,b){var c=a.pd,d=null!=b.p2&&14==b.key2?b.p2:b.p1;c.forced=d.forced=c.prev.forced=d.next.forced=!0},combLeft:function(a){return this.comb(a&1|(a&192)>>5)},combRight:function(a){return this.comb((a&28)>>2)},combUp:function(a){return this.comb(a&7)},combDown:function(a){return this.comb((a&112)>>4)},comb:function(a){var b=0;
0!=(a&1)&&b++;0!=(a&2)&&b++;0!=(a&4)&&b++;return 2<=b},marchSquare:function(a,b,c,j,g,e,f,n,h,k,l,m,p,q){var s=0,u=b.list[h*b.width+n];0>u&&(s|=8);var w=b.list[h*b.width+(n+1)];0>w&&(s|=4);var y=b.list[(h+1)*b.width+(n+1)];0>y&&(s|=2);b=b.list[(h+1)*b.width+n];0>b&&(s|=1);if(0==s)return null;var v;null==d.geom.ZPP_MarchPair.zpp_pool?v=new d.geom.ZPP_MarchPair:(v=d.geom.ZPP_MarchPair.zpp_pool,d.geom.ZPP_MarchPair.zpp_pool=v.next,v.next=null);null;if(10!=s&&5!=s){s=d.geom.ZPP_MarchingSquares.look_march[s];
v.okey1=s;for(var z=0;8>z;){var t=z++;if(0!=(s&1<<t)){var r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=
!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,
r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==
s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;0==s?v=null:(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1)}else if(z=0>a(0.5*(j+e),0.5*(g+f)),10==s)if(z){s=187;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||
p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&
0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||
r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;0==s?v=null:(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1)}else{s=131;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,
g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,
q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,
f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;if(0!=s){s=56;v.okey2=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==
t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==
t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=
8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p2?v.p2=t.prev=t.next=t:(t.prev=v.p2,t.next=v.p2.next,v.p2.next.prev=t,v.p2.next=t);v.p2=t}v.p2=v.p2.next;v.key2=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=
0,v.key2=0,v.p2=null;0==s?(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1):(v.pr=v.p2,v.okeyr=v.okey2,v.keyr=v.key2)}else{s=56;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,
e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,
f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=
t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;0==s?v=null:(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1)}}else if(z){s=238;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==
t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==
j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=
!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;0==s?v=null:(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1)}else{s=224;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||
l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],
null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+
n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;if(0!=s){s=14;
v.okey2=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||
r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=
!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==v.p2?v.p2=t.prev=t.next=t:(t.prev=v.p2,t.next=v.p2.next,v.p2.next.prev=t,v.p2.next=t);v.p2=t}v.p2=v.p2.next;v.key2=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||
6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key2=0,v.p2=null;0==s?(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1):(v.pr=v.p2,v.okeyr=v.okey2,v.keyr=v.key2)}else{s=14;v.okey1=s;for(z=0;8>z;)if(t=z++,0!=(s&1<<t)){r=null;if(0==t){if(r=d.geom.ZPP_GeomVert.get(j,g),k||l)r.forced=!0}else if(2==t){if(r=d.geom.ZPP_GeomVert.get(e,g),m||l)r.forced=!0}else if(4==t){if(r=d.geom.ZPP_GeomVert.get(e,f),m||p)r.forced=!0}else if(6==t){if(r=d.geom.ZPP_GeomVert.get(j,f),k||p)r.forced=!0}else if(1==t){if(r=
c.list[(h<<1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,g,u,w,a,q),g),c.list[(h<<1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),l&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&1)||r.x==e&&0!=(s&4))s^=2}else if(5==t){if(r=c.list[((h<<1)+2)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(this.xlerp(j,e,f,b,y,a,q),f),c.list[((h<<1)+2)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),p&&(r.forced=!0),r.x==j||r.x==e)if(r.x==j&&0!=(s&64)||r.x==e&&0!=(s&16))s^=32}else if(3==t){if(r=
c.list[((h<<1)+1)*c.width+(n+1)],null==r?(r=d.geom.ZPP_GeomVert.get(e,this.ylerp(g,f,e,w,y,a,q)),c.list[((h<<1)+1)*c.width+(n+1)]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),m&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&4)||r.y==f&&0!=(s&16))s^=8}else if(r=c.list[((h<<1)+1)*c.width+n],null==r?(r=d.geom.ZPP_GeomVert.get(j,this.ylerp(g,f,j,u,b,a,q)),c.list[((h<<1)+1)*c.width+n]=r):r=d.geom.ZPP_GeomVert.get(r.x,r.y),k&&(r.forced=!0),r.y==g||r.y==f)if(r.y==g&&0!=(s&1)||r.y==f&&0!=(s&64))s^=128;t=r;null==
v.p1?v.p1=t.prev=t.next=t:(t.prev=v.p1,t.next=v.p1.next,v.p1.next.prev=t,v.p1.next=t);v.p1=t}v.p1=v.p1.next;v.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,v.key1=0,v.p1=null;0==s?v=null:(v.pr=v.p1,v.okeyr=v.okey1,v.keyr=v.key1)}}return v},lerp:function(a,b,c,d){if(0==c)return a;if(0==d)return b;d=c-d;c=d*d<f.Config.epsilon*f.Config.epsilon?0.5:c/d;0>c?c=0:1<c&&(c=1);return a+c*(b-a)},xlerp:function(a,b,c,d,
g,e,f){for(var h=this.lerp(a,b,d,g);0!=f--&&a<h&&h<b;){var o=e(h,c);if(0==o)break;0>d*o?(b=h,g=o):(a=h,d=o);h=this.lerp(a,b,d,g)}return h},ylerp:function(a,b,c,d,g,e,f){for(var h=this.lerp(a,b,d,g);0!=f--&&a<h&&h<b;){var o=e(c,h);if(0==o)break;0>d*o?(b=h,g=o):(a=h,d=o);h=this.lerp(a,b,d,g)}return h},__class__:d.geom.ZPP_MarchingSquares};d.geom.ZPP_Mat23=function(){this._invalidate=this.next=null;this.a=this.b=this.c=this.d=this.tx=this.ty=0;this.outer=null};l["zpp_nape.geom.ZPP_Mat23"]=d.geom.ZPP_Mat23;
d.geom.ZPP_Mat23.__name__=["zpp_nape","geom","ZPP_Mat23"];d.geom.ZPP_Mat23.get=function(){var a;null==d.geom.ZPP_Mat23.zpp_pool?a=new d.geom.ZPP_Mat23:(a=d.geom.ZPP_Mat23.zpp_pool,d.geom.ZPP_Mat23.zpp_pool=a.next,a.next=null);null;return a};d.geom.ZPP_Mat23.identity=function(){var a=d.geom.ZPP_Mat23.get();a.setas(1,0,0,1,0,0);return a};d.geom.ZPP_Mat23.prototype={outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.geom.Mat23;var a=this.outer.zpp_inner;a.next=d.geom.ZPP_Mat23.zpp_pool;
d.geom.ZPP_Mat23.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},a:null,b:null,c:null,d:null,tx:null,ty:null,_invalidate:null,invalidate:function(){null!=this._invalidate&&this._invalidate()},set:function(a){this.setas(a.a,a.b,a.c,a.d,a.tx,a.ty)},setas:function(a,b,c,d,g,e){this.tx=g;this.ty=e;this.a=a;this.b=b;this.c=c;this.d=d},next:null,free:function(){},alloc:function(){},__class__:d.geom.ZPP_Mat23};d.geom.ZPP_MatMN=function(a,b){this.x=null;this.m=this.n=0;this.outer=null;this.m=a;this.n=
b;this.x=[];for(var c=0,d=a*b;c<d;)c++,this.x.push(0)};l["zpp_nape.geom.ZPP_MatMN"]=d.geom.ZPP_MatMN;d.geom.ZPP_MatMN.__name__=["zpp_nape","geom","ZPP_MatMN"];d.geom.ZPP_MatMN.prototype={outer:null,m:null,n:null,x:null,__class__:d.geom.ZPP_MatMN};d.geom.ZPP_Monotone=function(){};l["zpp_nape.geom.ZPP_Monotone"]=d.geom.ZPP_Monotone;d.geom.ZPP_Monotone.__name__=["zpp_nape","geom","ZPP_Monotone"];d.geom.ZPP_Monotone.bisector=function(a){var b=a.prev,c=a.next,j=0,g=0,j=a.x-b.x,g=a.y-b.y,e=b=0,b=c.x-a.x,
e=c.y-a.y,a=d.geom.ZPP_Vec2.get(-g-e,j+b,null),c=1/Math.sqrt(a.x*a.x+a.y*a.y);a.x*=c;a.y*=c;0>e*j-b*g&&(a.x=-a.x,a.y=-a.y);return a};d.geom.ZPP_Monotone.below=function(a,b){if(a.y<b.y)return!0;if(a.y>b.y)return!1;if(a.x<b.x)return!0;if(a.x>b.x)return!1;var c=d.geom.ZPP_Monotone.bisector(a),j=d.geom.ZPP_Monotone.bisector(b);c.x+=1*a.x;c.y+=1*a.y;j.x+=1*b.x;j.y+=1*b.y;var g=c.x<j.x||c.x==j.x&&c.y<j.y;null!=c.outer&&(c.outer.zpp_inner=null,c.outer=null);c._isimmutable=null;c._validate=null;c._invalidate=
null;c.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=c;null!=j.outer&&(j.outer.zpp_inner=null,j.outer=null);j._isimmutable=null;j._validate=null;j._invalidate=null;j.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=j;return g};d.geom.ZPP_Monotone.above=function(a,b){return d.geom.ZPP_Monotone.below(b,a)};d.geom.ZPP_Monotone.left_vertex=function(a){var b=a.prev;return b.y>a.y||b.y==a.y&&a.next.y<a.y};d.geom.ZPP_Monotone.isMonotone=function(a){var b=a,c=a,d=a.next;if(null!=d){do{var g=
d;g.y<b.y&&(b=g);g.y>c.y&&(c=g);d=d.next}while(d!=a)}a=!0;d=b;if(c!=b.next){var e=b.next,g=c;if(null!=e){do{var f=e;if(f.y<d.y){a=!1;break}d=f;e=e.next}while(e!=g)}}if(!a)return!1;d=b;if(c!=b.prev&&(b=b.prev,null!=b)){do{g=b;if(g.y<d.y){a=!1;break}d=g;b=b.prev}while(b!=c)}return a};d.geom.ZPP_Monotone.sharedPPoly=null;d.geom.ZPP_Monotone.getShared=function(){null==d.geom.ZPP_Monotone.sharedPPoly&&(d.geom.ZPP_Monotone.sharedPPoly=new d.geom.ZPP_PartitionedPoly);return d.geom.ZPP_Monotone.sharedPPoly};
d.geom.ZPP_Monotone.decompose=function(a,b){null==b?b=new d.geom.ZPP_PartitionedPoly(a):b.init(a);if(null==b.vertices)return b;null==d.geom.ZPP_Monotone.queue&&(d.geom.ZPP_Monotone.queue=new d.util.ZNPList_ZPP_PartitionVertex);var c=b.vertices,j=b.vertices;if(null!=c){do{var g=c;d.geom.ZPP_Monotone.queue.add(g);var e=0,f=0,e=g.next.x-g.x,f=g.next.y-g.y,h=0,o=0,h=g.prev.x-g.x,o=g.prev.y-g.y,e=0<o*e-h*f;g.type=d.geom.ZPP_Monotone.below(g.prev,g)?d.geom.ZPP_Monotone.below(g.next,g)?e?0:3:4:d.geom.ZPP_Monotone.below(g,
g.next)?e?1:2:4;c=c.next}while(c!=j)}j=d.geom.ZPP_Monotone.queue;if(null!=j.head&&null!=j.head.next){var c=j.head,h=f=e=g=null,o=1,k,l,m;do{k=0;e=c;for(g=c=null;null!=e;){k++;f=e;l=0;for(m=o;null!=f&&l<o;)l++,f=f.next;for(;0<l||0<m&&null!=f;)0==l?(h=f,f=f.next,m--):0==m||null==f?(h=e,e=e.next,l--):d.geom.ZPP_Monotone.above(e.elt,f.elt)?(h=e,e=e.next,l--):(h=f,f=f.next,m--),null!=g?g.next=h:c=h,g=h;e=f}g.next=null;o<<=1}while(1<k);j.head=c;j.modified=!0;j.pushmod=!0}null==d.geom.ZPP_Monotone.edges&&
(null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?d.geom.ZPP_Monotone.edges=new d.util.ZPP_Set_ZPP_PartitionVertex:(d.geom.ZPP_Monotone.edges=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=d.geom.ZPP_Monotone.edges.next,d.geom.ZPP_Monotone.edges.next=null),null,d.geom.ZPP_Monotone.edges.lt=d.geom.ZPP_PartitionVertex.edge_lt,d.geom.ZPP_Monotone.edges.swapped=d.geom.ZPP_PartitionVertex.edge_swap);for(;null!=d.geom.ZPP_Monotone.queue.head;)switch(j=d.geom.ZPP_Monotone.queue.pop_unsafe(),
j.type){case 0:j.helper=j;j.node=d.geom.ZPP_Monotone.edges.insert(j);break;case 1:c=j.prev;2==c.helper.type&&b.add_diagonal(j,c.helper);d.geom.ZPP_Monotone.edges.remove_node(c.node);break;case 3:c=null;if(!d.geom.ZPP_Monotone.edges.empty()){for(g=d.geom.ZPP_Monotone.edges.parent;null!=g.prev;)g=g.prev;for(;null!=g;){e=g.data;if(!d.geom.ZPP_PartitionVertex.vert_lt(e,j)){c=e;break}if(null!=g.next)for(g=g.next;null!=g.prev;)g=g.prev;else{for(;null!=g.parent&&g==g.parent.next;)g=g.parent;g=g.parent}}}null!=
c&&(b.add_diagonal(j,c.helper),c.helper=j);j.node=d.geom.ZPP_Monotone.edges.insert(j);j.helper=j;break;case 2:c=j.prev;2==c.helper.type&&b.add_diagonal(j,c.helper);d.geom.ZPP_Monotone.edges.remove_node(c.node);c=null;if(!d.geom.ZPP_Monotone.edges.empty()){for(g=d.geom.ZPP_Monotone.edges.parent;null!=g.prev;)g=g.prev;for(;null!=g;){e=g.data;if(!d.geom.ZPP_PartitionVertex.vert_lt(e,j)){c=e;break}if(null!=g.next)for(g=g.next;null!=g.prev;)g=g.prev;else{for(;null!=g.parent&&g==g.parent.next;)g=g.parent;
g=g.parent}}}null!=c&&(2==c.helper.type&&b.add_diagonal(j,c.helper),c.helper=j);break;case 4:if(c=j.prev,d.geom.ZPP_Monotone.left_vertex(j))2==c.helper.type&&b.add_diagonal(j,c.helper),d.geom.ZPP_Monotone.edges.remove_node(c.node),j.node=d.geom.ZPP_Monotone.edges.insert(j),j.helper=j;else{c=null;if(!d.geom.ZPP_Monotone.edges.empty()){for(g=d.geom.ZPP_Monotone.edges.parent;null!=g.prev;)g=g.prev;for(;null!=g;){e=g.data;if(!d.geom.ZPP_PartitionVertex.vert_lt(e,j)){c=e;break}if(null!=g.next)for(g=g.next;null!=
g.prev;)g=g.prev;else{for(;null!=g.parent&&g==g.parent.next;)g=g.parent;g=g.parent}}}2==c.helper.type&&b.add_diagonal(j,c.helper);c.helper=j}}return b};d.geom.ZPP_PartitionVertex=function(){this.next=this.prev=this.node=null;this.rightchain=!1;this.helper=null;this.type=0;this.diagonals=null;this.forced=!1;this.id=this.mag=this.x=this.y=0;this.id=d.geom.ZPP_PartitionVertex.nextId++;this.diagonals=new d.util.ZNPList_ZPP_PartitionVertex};l["zpp_nape.geom.ZPP_PartitionVertex"]=d.geom.ZPP_PartitionVertex;
d.geom.ZPP_PartitionVertex.__name__=["zpp_nape","geom","ZPP_PartitionVertex"];d.geom.ZPP_PartitionVertex.get=function(a){var b;null==d.geom.ZPP_PartitionVertex.zpp_pool?b=new d.geom.ZPP_PartitionVertex:(b=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.x=a.x;b.y=a.y;return b};d.geom.ZPP_PartitionVertex.rightdistance=function(a,b){var c=a.next.y>a.y,d=0,g=0,d=a.next.x-a.x,g=a.next.y-a.y,e=0,f=0,e=b.x-a.x,f=b.y-a.y;return(c?-1:1)*(f*d-e*g)};d.geom.ZPP_PartitionVertex.vert_lt=
function(a,b){if(b==a||b==a.next)return!0;if(a.y==a.next.y){var c=a.x,j=a.next.x;return(c<j?c:j)<=b.x}return 0>=d.geom.ZPP_PartitionVertex.rightdistance(a,b)};d.geom.ZPP_PartitionVertex.edge_swap=function(a,b){var c=a.node;a.node=b.node;b.node=c};d.geom.ZPP_PartitionVertex.edge_lt=function(a,b){if(a==b&&a.next==b.next)return!1;if(a==b.next)return!d.geom.ZPP_PartitionVertex.vert_lt(a,b);if(b==a.next)return d.geom.ZPP_PartitionVertex.vert_lt(b,a);if(a.y==a.next.y){if(b.y==b.next.y){var c=a.x,j=a.next.x,
g=b.x,e=b.next.x;return(c>j?c:j)>(g>e?g:e)}return 0<d.geom.ZPP_PartitionVertex.rightdistance(b,a)||0<d.geom.ZPP_PartitionVertex.rightdistance(b,a.next)}c=d.geom.ZPP_PartitionVertex.rightdistance(a,b);j=d.geom.ZPP_PartitionVertex.rightdistance(a,b.next);if(0==c&&0==j)return c=a.x,j=a.next.x,g=b.x,e=b.next.x,(c>j?c:j)>(g>e?g:e);if(0<=c*j)return 0>c||0>j;c=d.geom.ZPP_PartitionVertex.rightdistance(b,a);j=d.geom.ZPP_PartitionVertex.rightdistance(b,a.next);return 0<=c*j?0<c||0<j:!1};d.geom.ZPP_PartitionVertex.prototype=
{id:null,mag:null,x:null,y:null,forced:null,diagonals:null,type:null,helper:null,rightchain:null,next:null,prev:null,alloc:function(){},free:function(){this.helper=null},copy:function(){var a;null==d.geom.ZPP_PartitionVertex.zpp_pool?a=new d.geom.ZPP_PartitionVertex:(a=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=a.next,a.next=null);null;a.x=this.x;a.y=this.y;a.forced=this.forced;return a},sort:function(){var a=0,b=0,c=0,d=0,g,a=this.prev.x-this.x,b=this.prev.y-this.y,c=
this.next.x-this.x,d=this.next.y-this.y;g=d*a-c*b;g=0<g?-1:0==g?0:1;var e=this.diagonals;if(null!=e.head&&null!=e.head.next){var f=e.head,h=null,o=null,k=null,l=null,m=1,p,q,s;do{p=0;o=f;for(h=f=null;null!=o;){p++;k=o;q=0;for(s=m;null!=k&&q<m;)q++,k=k.next;for(;0<q||0<s&&null!=k;)0==q?(l=k,k=k.next,s--):0==s||null==k?(l=o,o=o.next,q--):(1==g?(l=void 0,a=o.elt.x-this.x,b=o.elt.y-this.y,c=k.elt.x-this.x,d=k.elt.y-this.y,l=d*a-c*b,l=0<l?-1:0==l?0:1,l=1==l):(l=void 0,a=this.prev.x-this.x,b=this.prev.y-
this.y,c=o.elt.x-this.x,d=o.elt.y-this.y,l=d*a-c*b,l=0<l?-1:0==l?0:1,a=void 0,a=this.prev.x-this.x,b=this.prev.y-this.y,c=k.elt.x-this.x,d=k.elt.y-this.y,a=d*a-c*b,a=0<a?-1:0==a?0:1,b=void 0,1==l*a||0==l*a&&(1==l||1==a)?(l=void 0,a=o.elt.x-this.x,b=o.elt.y-this.y,c=k.elt.x-this.x,d=k.elt.y-this.y,l=d*a-c*b,l=0<l?-1:0==l?0:1,b=1==l):(b=void 0,-1==l||-1==a?b=-1==a:(b=void 0,0==l&&0==a?(a=this.x-this.prev.x,b=this.y-this.prev.y,c=o.elt.x-this.x,d=o.elt.y-this.y,l=a*c+b*d,c=k.elt.x-this.x,d=k.elt.y-this.y,
a=a*c+b*d,b=0>l&&0<a?!0:0>a&&0<l?!1:!0):b=!0)),l=b),l)?(l=o,o=o.next,q--):(l=k,k=k.next,s--),null!=h?h.next=l:f=l,h=l;o=k}h.next=null;m<<=1}while(1<p);e.head=f;e.modified=!0;e.pushmod=!0}},node:null,__class__:d.geom.ZPP_PartitionVertex};d.geom.ZPP_PartitionedPoly=function(a){this.vertices=this.next=null;this.init(a)};l["zpp_nape.geom.ZPP_PartitionedPoly"]=d.geom.ZPP_PartitionedPoly;d.geom.ZPP_PartitionedPoly.__name__=["zpp_nape","geom","ZPP_PartitionedPoly"];d.geom.ZPP_PartitionedPoly.sharedPPList=
null;d.geom.ZPP_PartitionedPoly.getSharedPP=function(){null==d.geom.ZPP_PartitionedPoly.sharedPPList&&(d.geom.ZPP_PartitionedPoly.sharedPPList=new d.util.ZNPList_ZPP_PartitionedPoly);return d.geom.ZPP_PartitionedPoly.sharedPPList};d.geom.ZPP_PartitionedPoly.sharedGVList=null;d.geom.ZPP_PartitionedPoly.getShared=function(){null==d.geom.ZPP_PartitionedPoly.sharedGVList&&(d.geom.ZPP_PartitionedPoly.sharedGVList=new d.util.ZNPList_ZPP_GeomVert);return d.geom.ZPP_PartitionedPoly.sharedGVList};d.geom.ZPP_PartitionedPoly.prototype=
{vertices:null,eq:function(a,b){return d.geom.ZPP_VecMath.vec_dsq(a.x,a.y,b.x,b.y)<f.Config.epsilon*f.Config.epsilon},next:null,alloc:function(){},free:function(){},init:function(a){if(null!=a){var b;b=0;if(null!=a){var c=a;do{var j=c;b+=j.x*(j.next.y-j.prev.y);c=c.next}while(c!=a)}b=0<0.5*b;c=a;do b?(j=d.geom.ZPP_PartitionVertex.get(c),null==this.vertices?this.vertices=j.prev=j.next=j:(j.prev=this.vertices,j.next=this.vertices.next,this.vertices.next.prev=j,this.vertices.next=j)):(j=d.geom.ZPP_PartitionVertex.get(c),
null==this.vertices?this.vertices=j.prev=j.next=j:(j.next=this.vertices,j.prev=this.vertices.prev,this.vertices.prev.next=j,this.vertices.prev=j)),this.vertices=j,this.vertices.forced=c.forced,c=c.next;while(c!=a);this.remove_collinear_vertices()}},remove_collinear_vertices:function(){for(var a=this.vertices,b=!0;b||a!=this.vertices;)if(b=!1,this.eq(a,a.next)){a==this.vertices&&(this.vertices=a.next,b=!0);a.forced&&(a.next.forced=!0);if(null!=a&&a.prev==a)a.next=a.prev=null,a.helper=null,null,a.next=
d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=a,a=a=null;else{var c=a.next;a.prev.next=a.next;a.next.prev=a.prev;a.next=a.prev=null;a.helper=null;null;a.next=d.geom.ZPP_PartitionVertex.zpp_pool;d.geom.ZPP_PartitionVertex.zpp_pool=a;a=c}if(null==a){this.vertices=null;break}}else a=a.next;if(null==this.vertices)return!0;do{c=!1;a=this.vertices;for(b=!0;b||a!=this.vertices;){var b=!1,j=a.prev,g=0,e=0,g=a.x-j.x,e=a.y-j.y,h=j=0,j=a.next.x-a.x,h=a.next.y-a.y,g=h*g-j*e;if(g*g>=
f.Config.epsilon*f.Config.epsilon)a=a.next;else if(a==this.vertices&&(this.vertices=a.next,b=!0),null!=a&&a.prev==a?(a.next=a.prev=null,a.helper=null,null,a.next=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=a,a=a=null):(c=a.next,a.prev.next=a.next,a.next.prev=a.prev,a.next=a.prev=null,a.helper=null,null,a.next=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=a,a=c),c=!0,null==a){c=!1;this.vertices=null;break}}}while(c);return null==this.vertices},
add_diagonal:function(a,b){a.diagonals.add(b);b.diagonals.add(a);a.forced=b.forced=!0},extract_partitions:function(a){null==a&&(a=new d.util.ZNPList_ZPP_PartitionedPoly);if(null!=this.vertices){var b=this.vertices,c=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=c)}for(this.pull_partitions(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,c=this.vertices,c.helper=null,null,c.next=d.geom.ZPP_PartitionVertex.zpp_pool,
d.geom.ZPP_PartitionVertex.zpp_pool=c,this.vertices=this.vertices=null):(c=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=c);c=null;for(b=a.head;null!=b;)b.elt.remove_collinear_vertices()?a.erase(c):(c=b,b=b.next)}return a},pull_partitions:function(a,
b){var c;null==d.geom.ZPP_PartitionedPoly.zpp_pool?c=new d.geom.ZPP_PartitionedPoly:(c=d.geom.ZPP_PartitionedPoly.zpp_pool,d.geom.ZPP_PartitionedPoly.zpp_pool=c.next,c.next=null);null;var j=a;do{var g=j.copy();null==c.vertices?c.vertices=g.prev=g.next=g:(g.prev=c.vertices,g.next=c.vertices.next,c.vertices.next.prev=g,c.vertices.next=g);c.vertices=g;c.vertices.forced=j.forced;if(null!=j.diagonals.head)if(j.diagonals.inlined_pop_unsafe()==a)break;else j=this.pull_partitions(j,b);else j=j.next}while(j!=
a);var g=0,e=c.vertices,f=c.vertices;if(null!=e){do var h=e,g=g+h.x*(h.next.y-h.prev.y),e=e.next;while(e!=f)}0!=0.5*g&&b.add(c);return j},extract:function(a){null==a&&(a=new d.util.ZNPList_ZPP_GeomVert);if(null!=this.vertices){var b=this.vertices,c=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=c)}for(this.pull(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,c=this.vertices,c.helper=null,null,c.next=
d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=c,this.vertices=this.vertices=null):(c=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=d.geom.ZPP_PartitionVertex.zpp_pool,d.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=c)}return a},pull:function(a,b){var c=null,j=a;do{var g=d.geom.ZPP_GeomVert.get(j.x,j.y);null==
c?g.prev=g.next=g:(g.prev=c,g.next=c.next,c.next.prev=g,c.next=g);c=g;c.forced=j.forced;if(null!=j.diagonals.head)if(j.diagonals.inlined_pop_unsafe()==a)break;else j=this.pull(j,b);else j=j.next}while(j!=a);var g=0,e=c,h=c;if(null!=e){do var n=e,g=g+n.x*(n.next.y-n.prev.y),e=e.next;while(e!=h)}g*=0.5;if(g*g>=f.Config.epsilon*f.Config.epsilon){g=c;for(h=!0;h||g!=c;)if(h=!1,d.geom.ZPP_VecMath.vec_dsq(g.x,g.y,g.next.x,g.next.y)<f.Config.epsilon*f.Config.epsilon){if(g==c&&(c=g.next,h=!0),g.forced&&(g.next.forced=
!0),null!=g&&g.prev==g?g=g=g.next=g.prev=null:(e=g.next,g.prev.next=g.next,g.next.prev=g.prev,g.next=g.prev=null,g=e),null==g){c=null;break}}else g=g.next;if(null!=c){do{e=!1;g=c;for(h=!0;h||g!=c;){var h=!1,o=g.prev,k=n=0,n=g.x-o.x,k=g.y-o.y,l=o=0,o=g.next.x-g.x,l=g.next.y-g.y,n=l*n-o*k;if(n*n>=f.Config.epsilon*f.Config.epsilon)g=g.next;else if(g==c&&(c=g.next,h=!0),null!=g&&g.prev==g?g=g=g.next=g.prev=null:(e=g.next,g.prev.next=g.next,g.next.prev=g.prev,g.next=g.prev=null,g=e),e=!0,null==g){e=!1;
c=null;break}}}while(e)}null==c||b.add(c)}return j},__class__:d.geom.ZPP_PartitionedPoly};d.geom.ZPP_Ray=function(){this.zip_dir=!1;this.originx=this.originy=this.dirx=this.diry=this.idirx=this.idiry=this.normalx=this.normaly=this.absnormalx=this.absnormaly=0;this.userData=null;this.maxdist=0;this.origin=this.direction=null;this.origin=f.geom.Vec2.get(null,null,null);this.origin.zpp_inner._invalidate=w(this,this.origin_invalidate);this.direction=f.geom.Vec2.get(null,null,null);this.direction.zpp_inner._invalidate=
w(this,this.direction_invalidate);this.diry=this.dirx=this.originy=this.originx=0;this.zip_dir=!1};l["zpp_nape.geom.ZPP_Ray"]=d.geom.ZPP_Ray;d.geom.ZPP_Ray.__name__=["zpp_nape","geom","ZPP_Ray"];d.geom.ZPP_Ray.prototype={origin:null,direction:null,maxdist:null,userData:null,originx:null,originy:null,dirx:null,diry:null,idirx:null,idiry:null,normalx:null,normaly:null,absnormalx:null,absnormaly:null,origin_invalidate:function(a){this.originx=a.x;this.originy=a.y},direction_invalidate:function(a){this.dirx=
a.x;this.diry=a.y;this.zip_dir=!0},zip_dir:null,invalidate_dir:function(){this.zip_dir=!0},validate_dir:function(){if(this.zip_dir){this.zip_dir=!1;var a=1/Math.sqrt(this.dirx*this.dirx+this.diry*this.diry);this.dirx*=a;this.diry*=a;this.idirx=1/this.dirx;this.idiry=1/this.diry;this.normalx=-this.diry;this.normaly=this.dirx;a=this.normalx;this.absnormalx=0>a?-a:a;a=this.normaly;this.absnormaly=0>a?-a:a}},rayAABB:function(){var a=this.originx,b=a,c=this.originy,j=c;this.maxdist>=Math.POSITIVE_INFINITY?
(0<this.dirx?b=Math.POSITIVE_INFINITY:0>this.dirx&&(b=Math.NEGATIVE_INFINITY),0<this.diry)?j=Math.POSITIVE_INFINITY:0>this.diry&&(j=Math.NEGATIVE_INFINITY):(b+=this.maxdist*this.dirx,j+=this.maxdist*this.diry);if(b<a)var g=a,a=b,b=g;j<c&&(g=c,c=j,j=g);return d.geom.ZPP_AABB.get(a,c,b,j)},aabbtest:function(a){var b=this.normalx*(this.originx-0.5*(a.minx+a.maxx))+this.normaly*(this.originy-0.5*(a.miny+a.maxy));return(0>b?-b:b)<0.5*this.absnormalx*(a.maxx-a.minx)+0.5*this.absnormaly*(a.maxy-a.miny)},
aabbsect:function(a){var b=this.originy>=a.miny&&this.originy<=a.maxy;if(this.originx>=a.minx&&this.originx<=a.maxx&&b)return 0;b=-1;do if(!(0<=this.dirx&&this.originx>=a.maxx)&&!(0>=this.dirx&&this.originx<=a.minx)&&!(0<=this.diry&&this.originy>=a.maxy)&&!(0>=this.diry&&this.originy<=a.miny)){if(0<this.dirx){var c=(a.minx-this.originx)*this.idirx;if(0<=c&&c<=this.maxdist){var d=this.originy+c*this.diry;if(d>=a.miny&&d<=a.maxy){b=c;break}}}else if(0>this.dirx&&(c=(a.maxx-this.originx)*this.idirx,
0<=c&&c<=this.maxdist&&(d=this.originy+c*this.diry,d>=a.miny&&d<=a.maxy))){b=c;break}0<this.diry?(c=(a.miny-this.originy)*this.idiry,0<=c&&c<=this.maxdist&&(d=this.originx+c*this.dirx,d>=a.minx&&d<=a.maxx&&(b=c))):0>this.diry&&(c=(a.maxy-this.originy)*this.idiry,0<=c&&c<=this.maxdist&&(d=this.originx+c*this.dirx,d>=a.minx&&d<=a.maxx&&(b=c)))}while(0);return b},circlesect:function(a,b,c){a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&
a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var j=0,g=0,j=this.originx-a.worldCOMx,g=this.originy-a.worldCOMy,e=this.dirx*this.dirx+this.diry*this.diry,h=2*(j*this.dirx+g*this.diry),j=j*j+g*g-a.radius*a.radius,g=h*h-4*e*j;if(0==g)return e*=
-h/2,(!b||0<j)&&0<e&&e<c&&e<=this.maxdist?(c=b=0,b=this.originx,c=this.originy,b+=this.dirx*e,c+=this.diry*e,b-=1*a.worldCOMx,c-=1*a.worldCOMy,h=1/Math.sqrt(b*b+c*c),b*=h,c*=h,0>=j&&(b=-b,c=-c),d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,c,null),e,0>=j,a.outer)):null;g=Math.sqrt(g);e=1/(2*e);j=(-h-g)*e;e*=-h+g;if(0<j){if(j<c&&j<=this.maxdist)return c=b=0,b=this.originx,c=this.originy,b+=this.dirx*j,c+=this.diry*j,b-=1*a.worldCOMx,c-=1*a.worldCOMy,e=1/Math.sqrt(b*b+c*c),d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b*
e,c*e,null),j,!1,a.outer)}else if(0<e&&b&&e<c&&e<=this.maxdist)return c=b=0,b=this.originx,c=this.originy,b+=this.dirx*e,c+=this.diry*e,b-=1*a.worldCOMx,c-=1*a.worldCOMy,j=1/Math.sqrt(b*b+c*c),d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(-(b*j),-(c*j),null),e,!0,a.outer);return null},circlesect2:function(a,b,c){a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&
(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var j=0,g=0,j=this.originx-a.worldCOMx,g=this.originy-a.worldCOMy,e=this.dirx*this.dirx+this.diry*this.diry,h=2*(j*this.dirx+g*this.diry),j=j*j+g*g-a.radius*a.radius,n=h*h-4*e*j;if(0==n){if(g=-h/2*e,(!b||0<j)&&0<g&&g<=this.maxdist){e=b=0;b=this.originx;
e=this.originy;b+=this.dirx*g;e+=this.diry*g;b-=1*a.worldCOMx;e-=1*a.worldCOMy;h=1/Math.sqrt(b*b+e*e);b*=h;e*=h;0>=j&&(b=-b,e=-e);a=d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(b,e,null),g,0>=j,a.outer);b=null;for(j=c.zpp_inner.inner.head;null!=j&&!(a.zpp_inner.toiDistance<j.elt.zpp_inner.toiDistance);)b=j,j=j.next;c.zpp_inner.inner.inlined_insert(b,a)}}else{n=Math.sqrt(n);e=1/(2*e);g=(-h-n)*e;j=(-h+n)*e;if(0<g&&g<=this.maxdist){h=e=0;e=this.originx;h=this.originy;e+=this.dirx*g;h+=this.diry*
g;e-=1*a.worldCOMx;h-=1*a.worldCOMy;n=1/Math.sqrt(e*e+h*h);g=d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(e*n,h*n,null),g,!1,a.outer);e=null;for(h=c.zpp_inner.inner.head;null!=h&&!(g.zpp_inner.toiDistance<h.elt.zpp_inner.toiDistance);)e=h,h=h.next;c.zpp_inner.inner.inlined_insert(e,g)}if(0<j&&j<=this.maxdist&&b){g=b=0;b=this.originx;g=this.originy;b+=this.dirx*j;g+=this.diry*j;b-=1*a.worldCOMx;g-=1*a.worldCOMy;e=1/Math.sqrt(b*b+g*g);a=d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(-(b*e),
-(g*e),null),j,!0,a.outer);b=null;for(j=c.zpp_inner.inner.head;null!=j&&!(a.zpp_inner.toiDistance<j.elt.zpp_inner.toiDistance);)b=j,j=j.next;c.zpp_inner.inner.inlined_insert(b,a)}}},polysect:function(a,b,c){for(var j=null,g=a.edges.head,e=a.gverts.next,h=e,e=e.next;null!=e;){var n=e,o=g.elt;if(b||0>o.gnormx*this.dirx+o.gnormy*this.diry){var k=0,l=0,k=n.x-h.x,l=n.y-h.y,m=o=0,o=h.x-this.originx,m=h.y-this.originy,h=l*this.dirx-k*this.diry;h*h>f.Config.epsilon&&(h=1/h,k=(l*o-k*m)*h,0<k&&(k<c&&k<=this.maxdist)&&
(h*=this.diry*o-this.dirx*m,h>-f.Config.epsilon&&h<1+f.Config.epsilon&&(c=k,j=g.elt)))}g=g.next;h=n;e=e.next}n=e=a.gverts.next;e=g.elt;if(b||0>e.gnormx*this.dirx+e.gnormy*this.diry)e=b=0,b=n.x-h.x,e=n.y-h.y,o=n=0,n=h.x-this.originx,o=h.y-this.originy,h=e*this.dirx-b*this.diry,h*h>f.Config.epsilon&&(h=1/h,b=(e*n-b*o)*h,0<b&&(b<c&&b<=this.maxdist)&&(h*=this.diry*n-this.dirx*o,h>-f.Config.epsilon&&h<1+f.Config.epsilon&&(c=b,j=g.elt)));if(null!=j){b=g=0;g=j.gnormx;b=j.gnormy;if(j=0<g*this.dirx+b*this.diry)g=
-g,b=-b;return d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(g,b,null),c,j,a.outer)}return null},polysect2:function(a,b,c){for(var j=Math.POSITIVE_INFINITY,g=-1,e=null,h=null,n=a.edges.head,o=a.gverts.next,k=o,o=o.next;null!=o;){var l=o,m=n.elt;if(b||0>m.gnormx*this.dirx+m.gnormy*this.diry){var p=0,q=0,p=l.x-k.x,q=l.y-k.y,s=m=0,m=k.x-this.originx,s=k.y-this.originy,k=q*this.dirx-p*this.diry;if(k*k>f.Config.epsilon&&(k=1/k,p=(q*m-p*s)*k,0<p&&p<=this.maxdist&&(p<j||p>g)))if(k*=this.diry*m-this.dirx*
s,k>-f.Config.epsilon&&k<1+f.Config.epsilon&&(p<j&&(j=p,e=n.elt),p>g))g=p,h=n.elt}n=n.next;k=l;o=o.next}l=o=a.gverts.next;o=n.elt;if(b||0>o.gnormx*this.dirx+o.gnormy*this.diry)if(o=b=0,b=l.x-k.x,o=l.y-k.y,m=l=0,l=k.x-this.originx,m=k.y-this.originy,k=o*this.dirx-b*this.diry,k*k>f.Config.epsilon&&(k=1/k,b=(o*l-b*m)*k,0<b&&b<=this.maxdist&&(b<j||b>g)))if(k*=this.diry*l-this.dirx*m,k>-f.Config.epsilon&&k<1+f.Config.epsilon&&(b<j&&(j=b,e=n.elt),b>g))g=b,h=n.elt;if(null!=e){k=n=0;n=e.gnormx;k=e.gnormy;
if(b=0<n*this.dirx+k*this.diry)n=-n,k=-k;j=d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(n,k,null),j,b,a.outer);n=null;for(k=c.zpp_inner.inner.head;null!=k&&!(j.zpp_inner.toiDistance<k.elt.zpp_inner.toiDistance);)n=k,k=k.next;c.zpp_inner.inner.inlined_insert(n,j)}if(null!=h&&e!=h){j=e=0;e=h.gnormx;j=h.gnormy;if(h=0<e*this.dirx+j*this.diry)e=-e,j=-j;a=d.geom.ZPP_ConvexRayResult.getRay(f.geom.Vec2.get(e,j,null),g,h,a.outer);g=null;for(h=c.zpp_inner.inner.head;null!=h&&!(a.zpp_inner.toiDistance<
h.elt.zpp_inner.toiDistance);)g=h,h=h.next;c.zpp_inner.inner.inlined_insert(g,a)}},__class__:d.geom.ZPP_Ray};d.geom.ZPP_SimpleVert=function(){this.next=this.node=null;this.id=0;this.links=null;this.x=this.y=0;this.forced=!1;this.id=d.ZPP_ID.ZPP_SimpleVert();null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.links=new d.util.ZPP_Set_ZPP_SimpleVert:(this.links=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=this.links.next,this.links.next=null);null;this.links.lt=d.geom.ZPP_SimpleVert.less_xy};
l["zpp_nape.geom.ZPP_SimpleVert"]=d.geom.ZPP_SimpleVert;d.geom.ZPP_SimpleVert.__name__=["zpp_nape","geom","ZPP_SimpleVert"];d.geom.ZPP_SimpleVert.less_xy=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};d.geom.ZPP_SimpleVert.swap_nodes=function(a,b){var c=a.node;a.node=b.node;b.node=c};d.geom.ZPP_SimpleVert.get=function(a,b){var c;null==d.geom.ZPP_SimpleVert.zpp_pool?c=new d.geom.ZPP_SimpleVert:(c=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=c.next,c.next=null);null;c.x=a;c.y=b;return c};
d.geom.ZPP_SimpleVert.prototype={forced:null,x:null,y:null,links:null,id:null,next:null,node:null,free:function(){this.links.clear();this.node=null;this.forced=!1},alloc:function(){},__class__:d.geom.ZPP_SimpleVert};d.geom.ZPP_SimpleSeg=function(){this.next=this.prev=this.node=null;this.id=0;this.left=this.right=this.vertices=null;this.id=d.ZPP_ID.ZPP_SimpleSeg();null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.vertices=new d.util.ZPP_Set_ZPP_SimpleVert:(this.vertices=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,
d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=this.vertices.next,this.vertices.next=null);null;this.vertices.lt=w(this,this.less_xy)};l["zpp_nape.geom.ZPP_SimpleSeg"]=d.geom.ZPP_SimpleSeg;d.geom.ZPP_SimpleSeg.__name__=["zpp_nape","geom","ZPP_SimpleSeg"];d.geom.ZPP_SimpleSeg.get=function(a,b){var c;null==d.geom.ZPP_SimpleSeg.zpp_pool?c=new d.geom.ZPP_SimpleSeg:(c=d.geom.ZPP_SimpleSeg.zpp_pool,d.geom.ZPP_SimpleSeg.zpp_pool=c.next,c.next=null);null;c.left=a;c.right=b;c.vertices.insert(a);c.vertices.insert(b);
return c};d.geom.ZPP_SimpleSeg.prototype={left:null,right:null,vertices:null,id:null,next:null,free:function(){this.node=this.prev=this.left=this.right=null;this.vertices.clear()},alloc:function(){},prev:null,node:null,less_xy:function(a,b){return a.x<b.x||a.x==b.x&&a.y<b.y},__class__:d.geom.ZPP_SimpleSeg};d.geom.ZPP_SimpleEvent=function(){this.vertex=this.segment=this.segment2=this.node=this.next=null;this.type=0};l["zpp_nape.geom.ZPP_SimpleEvent"]=d.geom.ZPP_SimpleEvent;d.geom.ZPP_SimpleEvent.__name__=
["zpp_nape","geom","ZPP_SimpleEvent"];d.geom.ZPP_SimpleEvent.swap_nodes=function(a,b){var c=a.node;a.node=b.node;b.node=c};d.geom.ZPP_SimpleEvent.less_xy=function(a,b){return a.vertex.x<b.vertex.x?!0:a.vertex.x>b.vertex.x?!1:a.vertex.y<b.vertex.y?!0:a.vertex.y>b.vertex.y?!1:a.type<b.type};d.geom.ZPP_SimpleEvent.get=function(a){var b;null==d.geom.ZPP_SimpleEvent.zpp_pool?b=new d.geom.ZPP_SimpleEvent:(b=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.vertex=
a;return b};d.geom.ZPP_SimpleEvent.prototype={type:null,vertex:null,segment:null,segment2:null,node:null,next:null,free:function(){this.node=this.segment=this.segment2=this.vertex=null},alloc:function(){},__class__:d.geom.ZPP_SimpleEvent};d.geom.ZPP_SimpleSweep=function(){this.tree=null;this.sweepx=0;null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?this.tree=new d.util.ZPP_Set_ZPP_SimpleSeg:(this.tree=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=this.tree.next,this.tree.next=
null);null;this.tree.lt=w(this,this.edge_lt);this.tree.swapped=w(this,this.swap_nodes)};l["zpp_nape.geom.ZPP_SimpleSweep"]=d.geom.ZPP_SimpleSweep;d.geom.ZPP_SimpleSweep.__name__=["zpp_nape","geom","ZPP_SimpleSweep"];d.geom.ZPP_SimpleSweep.prototype={sweepx:null,tree:null,swap_nodes:function(a,b){var c=a.node;a.node=b.node;b.node=c},edge_lt:function(a,b){var c=0,d=0,g=0,e=0,f;if(a.left==b.left&&a.right==b.right)return!1;if(a.left==b.right){if(a.left.x==a.right.x)return a.left.y<a.right.y?a.left.y>
b.left.y:a.right.y>b.left.y;f=a.right.x<a.left.x;c=a.right.x-a.left.x;d=a.right.y-a.left.y;g=b.left.x-a.left.x;e=b.left.y-a.left.y;return 0>(f?d*g-c*e:e*c-g*d)}if(a.right==b.left)return b.left.x==b.right.x?c=b.left.y<b.right.y?b.left.y>a.left.y:b.right.y>a.left.y:(f=b.right.x<b.left.x,c=b.right.x-b.left.x,d=b.right.y-b.left.y,g=a.left.x-b.left.x,e=a.left.y-b.left.y,c=0>(f?d*g-c*e:e*c-g*d)),!c;if(a.left==b.left){if(a.left.x==a.right.x)return a.left.y<a.right.y?a.left.y>b.right.y:a.right.y>b.right.y;
f=a.right.x<a.left.x;c=a.right.x-a.left.x;d=a.right.y-a.left.y;g=b.right.x-a.left.x;e=b.right.y-a.left.y;return 0>(f?d*g-c*e:e*c-g*d)}if(a.right==b.right){if(a.left.x==a.right.x)return a.left.y<a.right.y?a.left.y>b.left.y:a.right.y>b.left.y;f=a.right.x<a.left.x;c=a.right.x-a.left.x;d=a.right.y-a.left.y;g=b.left.x-a.left.x;e=b.left.y-a.left.y;return 0>(f?d*g-c*e:e*c-g*d)}if(a.left.x==a.right.x){if(b.left.x==b.right.x)return(a.left.y<a.right.y?a.right:a.left).y>(b.left.y<b.right.y?b.right:b.left).y;
var h;f=b.right.x<b.left.x;c=b.right.x-b.left.x;d=b.right.y-b.left.y;g=a.left.x-b.left.x;e=a.left.y-b.left.y;h=f?d*g-c*e:e*c-g*d;f=b.right.x<b.left.x;c=b.right.x-b.left.x;d=b.right.y-b.left.y;g=a.right.x-b.left.x;e=a.right.y-b.left.y;return 0<=h*(f?d*g-c*e:e*c-g*d)?0<=h:this.sweepx>=a.left.x}if(b.left.x==b.right.x)return f=a.right.x<a.left.x,c=a.right.x-a.left.x,d=a.right.y-a.left.y,g=b.left.x-a.left.x,e=b.left.y-a.left.y,h=f?d*g-c*e:e*c-g*d,f=a.right.x<a.left.x,c=a.right.x-a.left.x,d=a.right.y-a.left.y,
g=b.right.x-a.left.x,e=b.right.y-a.left.y,0<=h*(f?d*g-c*e:e*c-g*d)?0>h:this.sweepx<b.left.x;f=a.right.x<a.left.x;c=a.right.x-a.left.x;d=a.right.y-a.left.y;g=b.left.x-a.left.x;e=b.left.y-a.left.y;h=0>(f?d*g-c*e:e*c-g*d);f=a.right.x<a.left.x;c=a.right.x-a.left.x;d=a.right.y-a.left.y;g=b.right.x-a.left.x;e=b.right.y-a.left.y;if(h==0>(f?d*g-c*e:e*c-g*d))return h;f=b.right.x<b.left.x;c=b.right.x-b.left.x;d=b.right.y-b.left.y;g=a.left.x-b.left.x;e=a.left.y-b.left.y;h=0<=(f?d*g-c*e:e*c-g*d);f=b.right.x<
b.left.x;c=b.right.x-b.left.x;d=b.right.y-b.left.y;g=a.right.x-b.left.x;e=a.right.y-b.left.y;return h==0<=(f?d*g-c*e:e*c-g*d)?h:(this.sweepx-a.left.x)/(a.right.x-a.left.x)*(a.right.y-a.left.y)+a.left.y>(this.sweepx-b.left.x)/(b.right.x-b.left.x)*(b.right.y-b.left.y)+b.left.y},clear:function(){this.tree.clear()},add:function(a){a.node=this.tree.insert(a);var b=this.tree.successor_node(a.node),c=this.tree.predecessor_node(a.node);null!=b&&(a.next=b.data,b.data.prev=a);null!=c&&(a.prev=c.data,c.data.next=
a);return a},remove:function(a){var b=this.tree.successor_node(a.node),c=this.tree.predecessor_node(a.node);null!=b&&(b.data.prev=a.prev);null!=c&&(c.data.next=a.next);this.tree.remove_node(a.node);a.node=null},intersect:function(a,b){return null==a||null==b||(a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right)||0<((b.left.x-a.left.x)*(a.right.y-a.left.y)-(a.right.x-a.left.x)*(b.left.y-a.left.y))*((b.right.x-a.left.x)*(a.right.y-a.left.y)-(a.right.x-a.left.x)*(b.right.y-a.left.y))?
!1:0<((a.left.x-b.left.x)*(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.left.y-b.left.y))*((a.right.x-b.left.x)*(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.right.y-b.left.y))?!1:!0},intersection:function(a,b){if(null==a||null==b||a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right)return null;var c=0,j=0,c=a.right.x-a.left.x,j=a.right.y-a.left.y,g=0,e=0,g=b.right.x-b.left.x,e=b.right.y-b.left.y,f=e*c-g*j;if(0==f)return null;var f=1/f,h=0,o=0,h=b.left.x-a.left.x,o=b.left.y-a.left.y,
k=(e*h-g*o)*f;if(0>k||1<k)return null;f*=j*h-c*o;if(0>f||1<f)return null;c=0==f||1==f||0==k||1==k?0==f?b.left:1==f?b.right:0==k?a.left:a.right:d.geom.ZPP_SimpleVert.get(0.5*(a.left.x+c*k+b.left.x+g*f),0.5*(a.left.y+j*k+b.left.y+e*f));c=d.geom.ZPP_SimpleEvent.get(c);c.type=0;c.segment=a;c.segment2=b;return c},__class__:d.geom.ZPP_SimpleSweep};d.geom.ZPP_Simple=function(){};l["zpp_nape.geom.ZPP_Simple"]=d.geom.ZPP_Simple;d.geom.ZPP_Simple.__name__=["zpp_nape","geom","ZPP_Simple"];d.geom.ZPP_Simple.decompose=
function(a,b){null==d.geom.ZPP_Simple.sweep&&(d.geom.ZPP_Simple.sweep=new d.geom.ZPP_SimpleSweep,d.geom.ZPP_Simple.inthash=new d.util.FastHash2_Hashable2_Boolfalse);null==d.geom.ZPP_Simple.vertices&&(null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?d.geom.ZPP_Simple.vertices=new d.util.ZPP_Set_ZPP_SimpleVert:(d.geom.ZPP_Simple.vertices=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=d.geom.ZPP_Simple.vertices.next,d.geom.ZPP_Simple.vertices.next=null),null,d.geom.ZPP_Simple.vertices.lt=
d.geom.ZPP_SimpleVert.less_xy,d.geom.ZPP_Simple.vertices.swapped=d.geom.ZPP_SimpleVert.swap_nodes);null==d.geom.ZPP_Simple.queue&&(null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?d.geom.ZPP_Simple.queue=new d.util.ZPP_Set_ZPP_SimpleEvent:(d.geom.ZPP_Simple.queue=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=d.geom.ZPP_Simple.queue.next,d.geom.ZPP_Simple.queue.next=null),null,d.geom.ZPP_Simple.queue.lt=d.geom.ZPP_SimpleEvent.less_xy,d.geom.ZPP_Simple.queue.swapped=d.geom.ZPP_SimpleEvent.swap_nodes);
var c=null,j=null;if(null!=a){var g=a;do{var e=g,e=d.geom.ZPP_SimpleVert.get(e.x,e.y),f;for(f=d.geom.ZPP_Simple.vertices.parent;null!=f;)if(d.geom.ZPP_Simple.vertices.lt(e,f.data))f=f.prev;else if(d.geom.ZPP_Simple.vertices.lt(f.data,e))f=f.next;else break;null!=f?(e.links.clear(),e.node=null,e.forced=!1,e.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=e,e=f.data):e.node=d.geom.ZPP_Simple.vertices.insert(e);if(null!=j){f=d.geom.ZPP_SimpleEvent.get(j);var h=d.geom.ZPP_SimpleEvent.get(e),
o;d.geom.ZPP_SimpleEvent.less_xy(f,h)?(f.type=1,h.type=2,o=d.geom.ZPP_SimpleSeg.get(j,e)):(f.type=2,h.type=1,o=d.geom.ZPP_SimpleSeg.get(e,j));f.segment=h.segment=o;d.geom.ZPP_Simple.queue.insert(f);d.geom.ZPP_Simple.queue.insert(h);j.links.insert(e);e.links.insert(j)}j=e;null==c&&(c=e);g=g.next}while(g!=a)}g=d.geom.ZPP_SimpleEvent.get(j);e=d.geom.ZPP_SimpleEvent.get(c);d.geom.ZPP_SimpleEvent.less_xy(g,e)?(g.type=1,e.type=2,f=d.geom.ZPP_SimpleSeg.get(j,c)):(g.type=2,e.type=1,f=d.geom.ZPP_SimpleSeg.get(c,
j));g.segment=e.segment=f;d.geom.ZPP_Simple.queue.insert(g);d.geom.ZPP_Simple.queue.insert(e);j.links.insert(c);c.links.insert(j);null==d.geom.ZPP_Simple.ints&&(null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?d.geom.ZPP_Simple.ints=new d.util.ZPP_Set_ZPP_SimpleEvent:(d.geom.ZPP_Simple.ints=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=d.geom.ZPP_Simple.ints.next,d.geom.ZPP_Simple.ints.next=null),null,d.geom.ZPP_Simple.ints.lt=d.geom.ZPP_SimpleEvent.less_xy);for(;!d.geom.ZPP_Simple.queue.empty();){c=
d.geom.ZPP_Simple.queue.pop_front();d.geom.ZPP_Simple.sweep.sweepx=c.vertex.x;if(1==c.type){j=c.segment;d.geom.ZPP_Simple.sweep.add(j);if(null!=j.next&&null!=j&&!(j.next.id<j.id?d.geom.ZPP_Simple.inthash.has(j.next.id,j.id):d.geom.ZPP_Simple.inthash.has(j.id,j.next.id)))if(g=d.geom.ZPP_Simple.sweep.intersection(j.next,j),null!=g)if(g.vertex.x>=d.geom.ZPP_Simple.sweep.sweepx){for(e=d.geom.ZPP_Simple.queue.parent;null!=e;)if(d.geom.ZPP_Simple.queue.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.queue.lt(e.data,
g))e=e.next;else break;if(null==e){for(e=d.geom.ZPP_Simple.ints.parent;null!=e;)if(d.geom.ZPP_Simple.ints.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.ints.lt(e.data,g))e=e.next;else break;null!=e?(f=g.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=f,g.vertex=e.data.vertex,e.data=g,d.geom.ZPP_Simple.queue.insert(g)):(d.geom.ZPP_Simple.queue.insert(g),d.geom.ZPP_Simple.ints.insert(g));j.next.id<j.id?d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.next.id,
j.id,!0)):d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.id,j.next.id,!0))}else e=g.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=e,g.vertex=null,g.segment=g.segment2=null,g.node=null,g.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=g}else e=g.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=e,g.vertex=null,g.segment=g.segment2=
null,g.node=null,g.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=g;if(null!=j&&null!=j.prev&&!(j.id<j.prev.id?d.geom.ZPP_Simple.inthash.has(j.id,j.prev.id):d.geom.ZPP_Simple.inthash.has(j.prev.id,j.id)))if(g=d.geom.ZPP_Simple.sweep.intersection(j,j.prev),null!=g)if(g.vertex.x>=d.geom.ZPP_Simple.sweep.sweepx){for(e=d.geom.ZPP_Simple.queue.parent;null!=e;)if(d.geom.ZPP_Simple.queue.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.queue.lt(e.data,g))e=e.next;else break;if(null==
e){for(e=d.geom.ZPP_Simple.ints.parent;null!=e;)if(d.geom.ZPP_Simple.ints.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.ints.lt(e.data,g))e=e.next;else break;null!=e?(f=g.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=f,g.vertex=e.data.vertex,e.data=g,d.geom.ZPP_Simple.queue.insert(g)):(d.geom.ZPP_Simple.queue.insert(g),d.geom.ZPP_Simple.ints.insert(g));j.id<j.prev.id?d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.id,
j.prev.id,!0)):d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.prev.id,j.id,!0))}else j=g.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=j,j=g,j.vertex=null,j.segment=j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=j}else j=g.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=j,j=g,j.vertex=null,j.segment=
j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=j}else if(2==c.type){if(e=c.segment,null!=e.node&&(j=e.next,g=e.prev,d.geom.ZPP_Simple.sweep.remove(e),e.left=e.right=null,e.prev=null,e.node=null,e.vertices.clear(),e.next=d.geom.ZPP_SimpleSeg.zpp_pool,d.geom.ZPP_SimpleSeg.zpp_pool=e,null!=j&&null!=g&&!(j.id<g.id?d.geom.ZPP_Simple.inthash.has(j.id,g.id):d.geom.ZPP_Simple.inthash.has(g.id,j.id))))if(e=d.geom.ZPP_Simple.sweep.intersection(j,g),null!=
e)if(e.vertex.x>=d.geom.ZPP_Simple.sweep.sweepx){for(f=d.geom.ZPP_Simple.queue.parent;null!=f;)if(d.geom.ZPP_Simple.queue.lt(e,f.data))f=f.prev;else if(d.geom.ZPP_Simple.queue.lt(f.data,e))f=f.next;else break;if(null==f){for(f=d.geom.ZPP_Simple.ints.parent;null!=f;)if(d.geom.ZPP_Simple.ints.lt(e,f.data))f=f.prev;else if(d.geom.ZPP_Simple.ints.lt(f.data,e))f=f.next;else break;null!=f?(h=e.vertex,h.links.clear(),h.node=null,h.forced=!1,h.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=
h,e.vertex=f.data.vertex,f.data=e,d.geom.ZPP_Simple.queue.insert(e)):(d.geom.ZPP_Simple.queue.insert(e),d.geom.ZPP_Simple.ints.insert(e));j.id<g.id?d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.id,g.id,!0)):d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(g.id,j.id,!0))}else j=e.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=j,j=e,j.vertex=null,j.segment=j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,
d.geom.ZPP_SimpleEvent.zpp_pool=j}else j=e.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=j,j=e,j.vertex=null,j.segment=j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=j}else{e=c.vertex;f=null==e.node;j=c.segment;g=c.segment2;g.next!=j&&(h=j,j=g,g=h);h=void 0;for(h=j.vertices.parent;null!=h;)if(j.vertices.lt(e,h.data))h=h.prev;else if(j.vertices.lt(h.data,e))h=h.next;else break;
o=null==h;h=void 0;for(h=g.vertices.parent;null!=h;)if(g.vertices.lt(e,h.data))h=h.prev;else if(g.vertices.lt(h.data,e))h=h.next;else break;h=null==h;if(o){var k=j.vertices.insert(e);o=e==j.left?e:j.vertices.predecessor_node(k).data;k=e==j.right?e:j.vertices.successor_node(k).data;o.links.remove(k);e!=o&&o.links.insert(e);k.links.remove(o);e!=k&&k.links.insert(e);e!=o&&e.links.insert(o);e!=k&&e.links.insert(k)}h&&(o=g.vertices.insert(e),h=e==g.left?e:g.vertices.predecessor_node(o).data,o=e==g.right?
e:g.vertices.successor_node(o).data,h.links.remove(o),e!=h&&h.links.insert(e),o.links.remove(h),e!=o&&o.links.insert(e),e!=h&&e.links.insert(h),e!=o&&e.links.insert(o));f&&(e.node=d.geom.ZPP_Simple.vertices.insert(e));e.forced=!0;if(f&&(e=j.node,f=g.node,e.data=g,f.data=j,j.node=f,g.node=e,g.next=j.next,j.next=g,j.prev=g.prev,g.prev=j,null!=j.prev&&(j.prev.next=j),null!=g.next))g.next.prev=g;if(null!=g.next&&null!=g&&!(g.next.id<g.id?d.geom.ZPP_Simple.inthash.has(g.next.id,g.id):d.geom.ZPP_Simple.inthash.has(g.id,
g.next.id)))if(e=d.geom.ZPP_Simple.sweep.intersection(g.next,g),null!=e)if(e.vertex.x>=d.geom.ZPP_Simple.sweep.sweepx){for(f=d.geom.ZPP_Simple.queue.parent;null!=f;)if(d.geom.ZPP_Simple.queue.lt(e,f.data))f=f.prev;else if(d.geom.ZPP_Simple.queue.lt(f.data,e))f=f.next;else break;if(null==f){for(f=d.geom.ZPP_Simple.ints.parent;null!=f;)if(d.geom.ZPP_Simple.ints.lt(e,f.data))f=f.prev;else if(d.geom.ZPP_Simple.ints.lt(f.data,e))f=f.next;else break;null!=f?(h=e.vertex,h.links.clear(),h.node=null,h.forced=
!1,h.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=h,e.vertex=f.data.vertex,f.data=e,d.geom.ZPP_Simple.queue.insert(e)):(d.geom.ZPP_Simple.queue.insert(e),d.geom.ZPP_Simple.ints.insert(e));g.next.id<g.id?d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(g.next.id,g.id,!0)):d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(g.id,g.next.id,!0))}else g=e.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=
g,g=e,g.vertex=null,g.segment=g.segment2=null,g.node=null,g.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=g}else g=e.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=g,g=e,g.vertex=null,g.segment=g.segment2=null,g.node=null,g.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=g;if(null!=j&&null!=j.prev&&!(j.id<j.prev.id?d.geom.ZPP_Simple.inthash.has(j.id,j.prev.id):d.geom.ZPP_Simple.inthash.has(j.prev.id,
j.id)))if(g=d.geom.ZPP_Simple.sweep.intersection(j,j.prev),null!=g)if(g.vertex.x>=d.geom.ZPP_Simple.sweep.sweepx){for(e=d.geom.ZPP_Simple.queue.parent;null!=e;)if(d.geom.ZPP_Simple.queue.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.queue.lt(e.data,g))e=e.next;else break;if(null==e){for(e=d.geom.ZPP_Simple.ints.parent;null!=e;)if(d.geom.ZPP_Simple.ints.lt(g,e.data))e=e.prev;else if(d.geom.ZPP_Simple.ints.lt(e.data,g))e=e.next;else break;null!=e?(f=g.vertex,f.links.clear(),f.node=null,f.forced=!1,
f.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=f,g.vertex=e.data.vertex,e.data=g,d.geom.ZPP_Simple.queue.insert(g)):(d.geom.ZPP_Simple.queue.insert(g),d.geom.ZPP_Simple.ints.insert(g));j.id<j.prev.id?d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.id,j.prev.id,!0)):d.geom.ZPP_Simple.inthash.add(d.util.Hashable2_Boolfalse.get(j.prev.id,j.id,!0))}else j=g.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=
j,j=g,j.vertex=null,j.segment=j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=j}else j=g.vertex,j.links.clear(),j.node=null,j.forced=!1,j.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=j,j=g,j.vertex=null,j.segment=j.segment2=null,j.node=null,j.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=j;d.geom.ZPP_Simple.ints.remove(c)}c.vertex=null;c.segment=c.segment2=null;c.node=null;c.next=d.geom.ZPP_SimpleEvent.zpp_pool;
d.geom.ZPP_SimpleEvent.zpp_pool=c}c=0;for(j=d.geom.ZPP_Simple.inthash.table.length;c<j;)if(g=c++,f=d.geom.ZPP_Simple.inthash.table[g],null!=f){for(;null!=f;)e=f.hnext,f.hnext=null,f.next=d.util.Hashable2_Boolfalse.zpp_pool,d.util.Hashable2_Boolfalse.zpp_pool=f,f=e;d.geom.ZPP_Simple.inthash.table[g]=null}for(null==b&&(b=new d.util.ZNPList_ZPP_GeomVert);!d.geom.ZPP_Simple.vertices.empty();)d.geom.ZPP_Simple.clip_polygon(d.geom.ZPP_Simple.vertices,b);return b};d.geom.ZPP_Simple.clip_polygon=function(a,
b){var c=null,e=a.first(),g=e,i=e.links.parent,f=i.data,i=(null==i.prev?i.next:i.prev).data,h=0,o=0,h=e.x-f.x,o=e.y-f.y,k=0,l=0,k=i.x-e.x,l=i.y-e.y;0>l*h-k*o&&(i=f);f=d.geom.ZPP_GeomVert.get(e.x,e.y);null==c?f.prev=f.next=f:(f.prev=c,f.next=c.next,c.next.prev=f,c.next=f);c=f;for(c.forced=e.forced;;){e.links.remove(i);i.links.remove(e);if(i==g){e.links.empty()&&(a.remove(e),i=e,i.links.clear(),i.node=null,i.forced=!1,i.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=i);break}f=d.geom.ZPP_GeomVert.get(i.x,
i.y);null==c?f.prev=f.next=f:(f.prev=c,f.next=c.next,c.next.prev=f,c.next=f);c=f;c.forced=i.forced;if(i.links.singular())e.links.empty()&&(a.remove(e),e.links.clear(),e.node=null,e.forced=!1,e.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=e),e=i,i=i.links.parent.data;else{f=null;k=0;if(!i.links.empty()){for(h=i.links.parent;null!=h.prev;)h=h.prev;for(;null!=h;){o=h.data;if(null==f)var f=o,l=k=0,k=i.x-e.x,l=i.y-e.y,m=0,p=0,m=o.x-i.x,p=o.y-i.y,k=p*k-m*l;else{var m=l=0,l=i.x-e.x,
m=i.y-e.y,q=p=0,p=o.x-i.x,q=o.y-i.y,l=q*l-p*m;if(0<l&&0>=k)f=o,k=l;else if(0<=k*l){var p=m=0,m=i.x-o.x,p=i.y-o.y,s=q=0,q=f.x-i.x,s=f.y-i.y;0<s*m-q*p&&(f=o,k=l)}}if(null!=h.next)for(h=h.next;null!=h.prev;)h=h.prev;else{for(;null!=h.parent&&h==h.parent.next;)h=h.parent;h=h.parent}}}e.links.empty()&&(a.remove(e),e.links.clear(),e.node=null,e.forced=!1,e.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=e);e=i;i=f}}a.remove(g);g.links.clear();g.node=null;g.forced=!1;g.next=d.geom.ZPP_SimpleVert.zpp_pool;
d.geom.ZPP_SimpleVert.zpp_pool=g;b.add(c)};d.geom.ZPP_Simple.isSimple=function(a){null==d.geom.ZPP_Simple.sweep&&(d.geom.ZPP_Simple.sweep=new d.geom.ZPP_SimpleSweep,d.geom.ZPP_Simple.inthash=new d.util.FastHash2_Hashable2_Boolfalse);var b=d.geom.ZPP_Simple.list_vertices;null==b&&(b=d.geom.ZPP_Simple.list_vertices=new d.util.ZNPList_ZPP_SimpleVert);if(null!=a){var c=a;do{var e=c;b.add(d.geom.ZPP_SimpleVert.get(e.x,e.y));c=c.next}while(c!=a)}a=d.geom.ZPP_Simple.list_queue;null==a&&(a=d.geom.ZPP_Simple.list_queue=
new d.util.ZNPList_ZPP_SimpleEvent);e=b.head;c=e.elt;for(e=e.next;null!=e;){var g=e.elt,i=a.add(d.geom.ZPP_SimpleEvent.get(c)),f=a.add(d.geom.ZPP_SimpleEvent.get(g)),h=i;if(d.geom.ZPP_SimpleEvent.less_xy(i,f)){var o=void 0;i.type=1;f.type=2;o=f.segment=d.geom.ZPP_SimpleSeg.get(c,g)}else o=void 0,i.type=2,f.type=1,o=f.segment=d.geom.ZPP_SimpleSeg.get(g,c);c=o;h.segment=c;c=g;e=e.next}g=b.head.elt;e=a.add(d.geom.ZPP_SimpleEvent.get(c));h=a.add(d.geom.ZPP_SimpleEvent.get(g));d.geom.ZPP_SimpleEvent.less_xy(e,
h)?(e.type=1,h.type=2,c=h.segment=d.geom.ZPP_SimpleSeg.get(c,g)):(e.type=2,h.type=1,c=h.segment=d.geom.ZPP_SimpleSeg.get(g,c));e.segment=c;c=a;if(null!=c.head&&null!=c.head.next){var e=c.head,f=i=h=g=null,o=1,k,l,m;do{k=0;h=e;for(g=e=null;null!=h;){k++;i=h;l=0;for(m=o;null!=i&&l<o;)l++,i=i.next;for(;0<l||0<m&&null!=i;)0==l?(f=i,i=i.next,m--):0==m||null==i?(f=h,h=h.next,l--):d.geom.ZPP_SimpleEvent.less_xy(h.elt,i.elt)?(f=h,h=h.next,l--):(f=i,i=i.next,m--),null!=g?g.next=f:e=f,g=f;h=i}g.next=null;o<<=
1}while(1<k);c.head=e;c.modified=!0;c.pushmod=!0}for(c=!0;null!=a.head;){e=a.pop_unsafe();g=e.segment;if(1==e.type){if(d.geom.ZPP_Simple.sweep.add(g),d.geom.ZPP_Simple.sweep.intersect(g,g.next)||d.geom.ZPP_Simple.sweep.intersect(g,g.prev)){c=!1;break}}else if(2==e.type){if(d.geom.ZPP_Simple.sweep.intersect(g.prev,g.next)){c=!1;break}d.geom.ZPP_Simple.sweep.remove(g);g.left=g.right=null;g.prev=null;g.node=null;g.vertices.clear();g.next=d.geom.ZPP_SimpleSeg.zpp_pool;d.geom.ZPP_SimpleSeg.zpp_pool=g}e.vertex=
null;e.segment=e.segment2=null;e.node=null;e.next=d.geom.ZPP_SimpleEvent.zpp_pool;d.geom.ZPP_SimpleEvent.zpp_pool=e}for(;null!=a.head;)e=a.pop_unsafe(),2==e.type&&(g=e.segment,g.left=g.right=null,g.prev=null,g.node=null,g.vertices.clear(),g.next=d.geom.ZPP_SimpleSeg.zpp_pool,d.geom.ZPP_SimpleSeg.zpp_pool=g),e.vertex=null,e.segment=e.segment2=null,e.node=null,e.next=d.geom.ZPP_SimpleEvent.zpp_pool,d.geom.ZPP_SimpleEvent.zpp_pool=e;for(d.geom.ZPP_Simple.sweep.clear();null!=b.head;)a=b.pop_unsafe(),
a.links.clear(),a.node=null,a.forced=!1,a.next=d.geom.ZPP_SimpleVert.zpp_pool,d.geom.ZPP_SimpleVert.zpp_pool=a;return c};d.geom.ZPP_SimplifyV=function(){this.flag=this.forced=!1;this.next=this.prev=null;this.x=this.y=0};l["zpp_nape.geom.ZPP_SimplifyV"]=d.geom.ZPP_SimplifyV;d.geom.ZPP_SimplifyV.__name__=["zpp_nape","geom","ZPP_SimplifyV"];d.geom.ZPP_SimplifyV.get=function(a){var b;null==d.geom.ZPP_SimplifyV.zpp_pool?b=new d.geom.ZPP_SimplifyV:(b=d.geom.ZPP_SimplifyV.zpp_pool,d.geom.ZPP_SimplifyV.zpp_pool=
b.next,b.next=null);null;b.x=a.x;b.y=a.y;b.flag=!1;return b};d.geom.ZPP_SimplifyV.prototype={x:null,y:null,next:null,prev:null,flag:null,forced:null,free:function(){},alloc:function(){},__class__:d.geom.ZPP_SimplifyV};d.geom.ZPP_SimplifyP=function(){this.next=this.min=this.max=null};l["zpp_nape.geom.ZPP_SimplifyP"]=d.geom.ZPP_SimplifyP;d.geom.ZPP_SimplifyP.__name__=["zpp_nape","geom","ZPP_SimplifyP"];d.geom.ZPP_SimplifyP.get=function(a,b){var c;null==d.geom.ZPP_SimplifyP.zpp_pool?c=new d.geom.ZPP_SimplifyP:
(c=d.geom.ZPP_SimplifyP.zpp_pool,d.geom.ZPP_SimplifyP.zpp_pool=c.next,c.next=null);null;c.min=a;c.max=b;return c};d.geom.ZPP_SimplifyP.prototype={next:null,min:null,max:null,free:function(){this.min=this.max=null},alloc:function(){},__class__:d.geom.ZPP_SimplifyP};d.geom.ZPP_Simplify=function(){};l["zpp_nape.geom.ZPP_Simplify"]=d.geom.ZPP_Simplify;d.geom.ZPP_Simplify.__name__=["zpp_nape","geom","ZPP_Simplify"];d.geom.ZPP_Simplify.lessval=function(a,b){return a.x-b.x+(a.y-b.y)};d.geom.ZPP_Simplify.less=
function(a,b){return 0>a.x-b.x+(a.y-b.y)};d.geom.ZPP_Simplify.distance=function(a,b,c){var e=0,g=0,e=c.x-b.x,g=c.y-b.y,i=0,f=0,i=a.x-b.x,f=a.y-b.y;if(0==e*e+g*g)return i*i+f*f;b=(i*e+f*g)/(e*e+g*g);if(0>=b)return i*i+f*f;if(1<=b)return d.geom.ZPP_VecMath.vec_dsq(a.x,a.y,c.x,c.y);i-=e*b;f-=g*b;return i*i+f*f};d.geom.ZPP_Simplify.simplify=function(a,b){var c=null,e=null,g=null,b=b*b;null==d.geom.ZPP_Simplify.stack&&(d.geom.ZPP_Simplify.stack=new d.util.ZNPList_ZPP_SimplifyP);var i=null,f=null,h=a;do{var o=
d.geom.ZPP_SimplifyV.get(h);o.forced=h.forced;o.forced&&(o.flag=!0,null!=i?d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(i,o)):f=o,i=o);null==c?o.prev=o.next=o:(o.prev=c,o.next=c.next,c.next.prev=o,c.next=o);c=o;null==e?g=e=c:(0>c.x-e.x+(c.y-e.y)&&(e=c),0>g.x-c.x+(g.y-c.y)&&(g=c));h=h.next}while(h!=a);null==d.geom.ZPP_Simplify.stack.head?null==f?(e.flag=g.flag=!0,d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(e,g)),d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(g,e))):(i=
e.x-f.x+(e.y-f.y),0>i&&(i=-i),h=g.x-f.x+(g.y-f.y),0>h&&(h=-h),i>h?(e.flag=f.flag=!0,d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(e,f)),d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(f,e))):(g.flag=f.flag=!0,d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(g,f)),d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(f,g)))):d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(i,f));for(;null!=d.geom.ZPP_Simplify.stack.head;){f=d.geom.ZPP_Simplify.stack.pop_unsafe();e=f.min;
g=f.max;f.min=f.max=null;f.next=d.geom.ZPP_SimplifyP.zpp_pool;d.geom.ZPP_SimplifyP.zpp_pool=f;f=b;i=null;for(h=e.next;h!=g;)o=d.geom.ZPP_Simplify.distance(h,e,g),o>f&&(f=o,i=h),h=h.next;null!=i&&(i.flag=!0,d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(e,i)),d.geom.ZPP_Simplify.stack.add(d.geom.ZPP_SimplifyP.get(i,g)))}for(e=null;null!=c;)(c.flag&&(g=d.geom.ZPP_GeomVert.get(c.x,c.y),null==e?g.prev=g.next=g:(g.prev=e,g.next=e.next,e.next.prev=g,e.next=g),e=g,e.forced=c.forced),null!=c&&c.prev==
c)?(c.next=c.prev=null,c.next=d.geom.ZPP_SimplifyV.zpp_pool,d.geom.ZPP_SimplifyV.zpp_pool=c,c=c=null):(g=c.next,c.prev.next=c.next,c.next.prev=c.prev,c.next=c.prev=null,c.next=d.geom.ZPP_SimplifyV.zpp_pool,d.geom.ZPP_SimplifyV.zpp_pool=c,c=g);return e};d.geom.ZPP_ToiEvent=function(){this.slipped=this.failed=this.kinematic=!1;this.c1=this.c2=this.axis=null;this.frozen1=this.frozen2=!1;this.s1=this.s2=this.arbiter=null;this.toi=0;this.next=null;this.c1=new d.geom.ZPP_Vec2;this.c2=new d.geom.ZPP_Vec2;
this.axis=new d.geom.ZPP_Vec2};l["zpp_nape.geom.ZPP_ToiEvent"]=d.geom.ZPP_ToiEvent;d.geom.ZPP_ToiEvent.__name__=["zpp_nape","geom","ZPP_ToiEvent"];d.geom.ZPP_ToiEvent.prototype={next:null,alloc:function(){this.failed=!1;this.arbiter=this.s1=this.s2=null},free:function(){},toi:null,s1:null,s2:null,arbiter:null,frozen1:null,frozen2:null,c1:null,c2:null,axis:null,slipped:null,failed:null,kinematic:null,__class__:d.geom.ZPP_ToiEvent};d.geom.ZPP_SweepDistance=function(){};l["zpp_nape.geom.ZPP_SweepDistance"]=
d.geom.ZPP_SweepDistance;d.geom.ZPP_SweepDistance.__name__=["zpp_nape","geom","ZPP_SweepDistance"];d.geom.ZPP_SweepDistance.dynamicSweep=function(a,b,c,e,g){null==g&&(g=!1);var i=a.s1,h=a.s2,n=i.body,o=h.body,k=0,l=0,k=o.velx-n.velx,l=o.vely-n.vely,m=n.angvel;0>m&&(m=-m);var p=o.angvel;0>p&&(p=-p);var q=i.sweepCoef*m+h.sweepCoef*p;if(!g&&!a.kinematic&&k*k+l*l<f.Config.dynamicSweepLinearThreshold*f.Config.dynamicSweepLinearThreshold&&q<f.Config.dynamicSweepAngularThreshold)a.toi=-1,a.failed=!0;else{for(var s=
a.c1,m=a.c2,p=a.axis,t=0;;){n.sweepIntegrate(c*b);n.sweepValidate(i);o.sweepIntegrate(c*b);o.sweepValidate(h);var u=d.geom.ZPP_SweepDistance.distance(i,h,s,m,p,null)+e,w=k*p.x+l*p.y;if(u<f.Config.distanceThresholdCCD){if(g)break;var v=0,y=0,v=s.x-n.posx,y=s.y-n.posy,z=0,r=0,z=m.x-o.posx,r=m.y-o.posy,v=w-n.sweep_angvel*(p.y*v-p.x*y)+o.sweep_angvel*(p.y*z-p.x*r);0<v&&(a.slipped=!0);if(0>=v||u<0.5*f.Config.distanceThresholdCCD)break}w=(q-w)*b;if(0>=w){c=-1;break}w=u/w;1E-6>w&&(w=1E-6);c+=w;if(1<=c){c=
1;n.sweepIntegrate(c*b);n.sweepValidate(i);o.sweepIntegrate(c*b);o.sweepValidate(h);b=d.geom.ZPP_SweepDistance.distance(i,h,s,m,p,null)+e;k=k*p.x+l*p.y;if(b<f.Config.distanceThresholdCCD){if(g)break;l=g=0;g=s.x-n.posx;l=s.y-n.posy;e=s=0;s=m.x-o.posx;e=m.y-o.posy;n=k-n.sweep_angvel*(p.y*g-p.x*l)+o.sweep_angvel*(p.y*s-p.x*e);0<n&&(a.slipped=!0);if(0>=n||b<0.5*f.Config.distanceThresholdCCD)break}c=-1;break}if(40<=++t){u>e&&(a.failed=!0);break}}a.toi=c}};d.geom.ZPP_SweepDistance.staticSweep=function(a,
b,c,e){var g=a.s1,i=a.s2,h=g.body,n=0,o=0,n=-h.velx,o=-h.vely,k=h.sweep_angvel;0>k&&(k=-k);for(var l=g.sweepCoef*k,k=a.c1,m=a.c2,p=a.axis,q=0;;){h.sweepIntegrate(c*b);h.sweepValidate(g);var s=d.geom.ZPP_SweepDistance.distance(g,i,k,m,p,null)+e,t=n*p.x+o*p.y;if(s<f.Config.distanceThresholdCCD){var u=0,w=0,u=k.x-h.posx,w=k.y-h.posy,u=t-h.sweep_angvel*(p.y*u-p.x*w);0<u&&(a.slipped=!0);if(0>=u||s<0.5*f.Config.distanceThresholdCCD)break}t=(l-t)*b;if(0>=t){c=-1;break}t=s/t;1E-6>t&&(t=1E-6);c+=t;if(1<=c){c=
1;h.sweepIntegrate(c*b);h.sweepValidate(g);b=d.geom.ZPP_SweepDistance.distance(g,i,k,m,p,null)+e;n=n*p.x+o*p.y;if(b<f.Config.distanceThresholdCCD&&(e=o=0,o=k.x-h.posx,e=k.y-h.posy,h=n-h.sweep_angvel*(p.y*o-p.x*e),0<h&&(a.slipped=!0),0>=h||b<0.5*f.Config.distanceThresholdCCD))break;c=-1;break}if(40<=++q){s>e&&(a.failed=!0);break}}a.toi=c};d.geom.ZPP_SweepDistance.distanceBody=function(a,b,c,e){var g;null==d.geom.ZPP_Vec2.zpp_pool?g=new d.geom.ZPP_Vec2:(g=d.geom.ZPP_Vec2.zpp_pool,d.geom.ZPP_Vec2.zpp_pool=
g.next,g.next=null);g.weak=!1;var f;null==d.geom.ZPP_Vec2.zpp_pool?f=new d.geom.ZPP_Vec2:(f=d.geom.ZPP_Vec2.zpp_pool,d.geom.ZPP_Vec2.zpp_pool=f.next,f.next=null);f.weak=!1;var h;null==d.geom.ZPP_Vec2.zpp_pool?h=new d.geom.ZPP_Vec2:(h=d.geom.ZPP_Vec2.zpp_pool,d.geom.ZPP_Vec2.zpp_pool=h.next,h.next=null);h.weak=!1;for(var n=1E100,a=a.shapes.head;null!=a;){for(var k=a.elt,l=b.shapes.head;null!=l;){var m=d.geom.ZPP_SweepDistance.distance(k,l.elt,g,f,h,n);m<n&&(n=m,c.x=g.x,c.y=g.y,e.x=f.x,e.y=f.y);l=l.next}a=
a.next}b=g;null!=b.outer&&(b.outer.zpp_inner=null,b.outer=null);b._isimmutable=null;b._validate=null;b._invalidate=null;b.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=b;null!=f.outer&&(f.outer.zpp_inner=null,f.outer=null);f._isimmutable=null;f._validate=null;f._invalidate=null;f.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=f;null!=h.outer&&(h.outer.zpp_inner=null,h.outer=null);h._isimmutable=null;h._validate=null;h._invalidate=null;h.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=
h;return n};d.geom.ZPP_SweepDistance.distance=function(a,b,c,e,g,i){null==i&&(i=1E100);if(a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){var h=a.circle,n=b.circle,k,l=0,m=0,l=n.worldCOMx-h.worldCOMx,m=n.worldCOMy-h.worldCOMy,p=Math.sqrt(l*l+m*m);k=p-(h.radius+n.radius);if(k<i){if(0==p)l=1,m=0;else var q=1/p,l=l*q,m=m*q;var t=h.radius;c.x=h.worldCOMx+l*t;c.y=h.worldCOMy+m*t;var s=-n.radius;e.x=n.worldCOMx+l*s;e.y=n.worldCOMy+m*s;g.x=l;g.y=m}return k}var u=
!1;if(a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON)var w=a,a=b,b=w,y=c,c=e,e=y,u=!0;if(a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){for(var v=b.circle,z=-1E100,A=null,r=a.polygon.edges.head;null!=r;){var B=r.elt,C=B.gnormx*v.worldCOMx+B.gnormy*v.worldCOMy-B.gprojection-v.radius;if(C>i){z=C;break}0<C?C>z&&(z=C,A=B):0>z&&C>z&&(z=C,A=B);r=r.next}if(z<i){var D=A.gp0,F=A.gp1,G=v.worldCOMy*A.gnormx-v.worldCOMx*
A.gnormy;if(G<=D.y*A.gnormx-D.x*A.gnormy){var H=0,O=0,H=v.worldCOMx-D.x,O=v.worldCOMy-D.y,Q=Math.sqrt(H*H+O*O),z=Q-v.radius;if(z<i){if(0==Q)H=1,O=0;else var S=1/Q,H=H*S,O=O*S;c.x=D.x+0*H;c.y=D.y+0*O;var R=-v.radius;e.x=v.worldCOMx+H*R;e.y=v.worldCOMy+O*R;g.x=H;g.y=O}}else if(G>=F.y*A.gnormx-F.x*A.gnormy){var M=0,P=0,M=v.worldCOMx-F.x,P=v.worldCOMy-F.y,U=Math.sqrt(M*M+P*P),z=U-v.radius;if(z<i){if(0==U)M=1,P=0;else var V=1/U,M=M*V,P=P*V;c.x=F.x+0*M;c.y=F.y+0*P;var X=-v.radius;e.x=v.worldCOMx+M*X;e.y=
v.worldCOMy+P*X;g.x=M;g.y=P}}else{var oa=-v.radius;e.x=v.worldCOMx+A.gnormx*oa;e.y=v.worldCOMy+A.gnormy*oa;var aa=-z;c.x=e.x+A.gnormx*aa;c.y=e.y+A.gnormy*aa;g.x=A.gnormx;g.y=A.gnormy}}u&&(g.x=-g.x,g.y=-g.y);return z}for(var na=a.polygon,qb=b.polygon,Y=-1E100,xa=null,va=null,Aa=0,Ob=na.edges.head;null!=Ob;){for(var ha=Ob.elt,la=1E100,ja=qb.gverts.next;null!=ja;){var ua=ja,pc=ha.gnormx*ua.x+ha.gnormy*ua.y;pc<la&&(la=pc);ja=ja.next}la-=ha.gprojection;if(la>i){Y=la;break}0<la?la>Y&&(Y=la,xa=ha,Aa=1):
0>Y&&la>Y&&(Y=la,xa=ha,Aa=1);Ob=Ob.next}if(Y<i){for(var db=qb.edges.head;null!=db;){for(var Qa=db.elt,E=1E100,ia=na.gverts.next;null!=ia;){var Ga=ia,Ra=Qa.gnormx*Ga.x+Qa.gnormy*Ga.y;Ra<E&&(E=Ra);ia=ia.next}E-=Qa.gprojection;if(E>i){Y=E;break}0<E?E>Y&&(Y=E,va=Qa,Aa=2):0>Y&&E>Y&&(Y=E,va=Qa,Aa=2);db=db.next}if(Y<i){var eb,Z;if(1==Aa)eb=qb,Z=xa;else{eb=na;Z=va;var Kb=c,c=e,e=Kb,u=!u}for(var J=null,Ia=1E100,rb=eb.edges.head;null!=rb;){var ba=rb.elt,pa=Z.gnormx*ba.gnormx+Z.gnormy*ba.gnormy;pa<Ia&&(Ia=pa,
J=ba);rb=rb.next}u?(g.x=-Z.gnormx,g.y=-Z.gnormy):(g.x=Z.gnormx,g.y=Z.gnormy);if(0<=Y){var ca=Z.gp0,Sa=Z.gp1,$=J.gp0,Ja=J.gp1,Ba=0,bb=0,fb=0,gb=0,Ba=Sa.x-ca.x,bb=Sa.y-ca.y,fb=Ja.x-$.x,gb=Ja.y-$.y,yb=1/(Ba*Ba+bb*bb),sb=1/(fb*fb+gb*gb),zb=-(Ba*(ca.x-$.x)+bb*(ca.y-$.y))*yb,ma=-(Ba*(ca.x-Ja.x)+bb*(ca.y-Ja.y))*yb,ga=-(fb*($.x-ca.x)+gb*($.y-ca.y))*sb,Ka=-(fb*($.x-Sa.x)+gb*($.y-Sa.y))*sb;0>zb?zb=0:1<zb&&(zb=1);0>ma?ma=0:1<ma&&(ma=1);0>ga?ga=0:1<ga&&(ga=1);0>Ka?Ka=0:1<Ka&&(Ka=1);var fa=0,Ta=0,qa=zb,fa=ca.x+
Ba*qa,Ta=ca.y+bb*qa,ra=0,Ha=0,hb=ma,ra=ca.x+Ba*hb,Ha=ca.y+bb*hb,ib=0,tb=0,K=ga,ib=$.x+fb*K,tb=$.y+gb*K,za=0,Ca=0,Ua=Ka,za=$.x+fb*Ua,Ca=$.y+gb*Ua,Ab=d.geom.ZPP_VecMath.vec_dsq(fa,Ta,$.x,$.y),ub=d.geom.ZPP_VecMath.vec_dsq(ra,Ha,Ja.x,Ja.y),jb=d.geom.ZPP_VecMath.vec_dsq(ib,tb,ca.x,ca.y),La=d.geom.ZPP_VecMath.vec_dsq(za,Ca,Sa.x,Sa.y),Ma=0,kb=0,da=null;Ab<ub?(Ma=fa,kb=Ta,da=$):(Ma=ra,kb=Ha,da=Ja,Ab=ub);var Lb=0,Da=0,Va=null;jb<La?(Lb=ib,Da=tb,Va=ca):(Lb=za,Da=Ca,Va=Sa,jb=La);Ab<jb?(c.x=Ma,c.y=kb,e.x=da.x,
e.y=da.y,Y=Math.sqrt(Ab)):(e.x=Lb,e.y=Da,c.x=Va.x,c.y=Va.y,Y=Math.sqrt(jb));if(0!=Y){g.x=e.x-c.x;g.y=e.y-c.y;var cb=1/Y;g.x*=cb;g.y*=cb;u&&(g.x=-g.x,g.y=-g.y)}return Y}var lb=0,Ea=0,lb=J.gp0.x,Ea=J.gp0.y,Na=0,Wa=0,Na=J.gp1.x,Wa=J.gp1.y,Bb=0,Fa=0,Bb=Na-lb,Fa=Wa-Ea,wa=Z.gnormy*lb-Z.gnormx*Ea,vb=Z.gnormy*Na-Z.gnormx*Wa,Cb=1/(vb-wa),mb=(-Z.tp1-wa)*Cb;mb>f.Config.epsilon&&(lb+=Bb*mb,Ea+=Fa*mb);var ka=(-Z.tp0-vb)*Cb;ka<-f.Config.epsilon&&(Na+=Bb*ka,Wa+=Fa*ka);var nb=lb*Z.gnormx+Ea*Z.gnormy-Z.gprojection,
I=Na*Z.gnormx+Wa*Z.gnormy-Z.gprojection;if(nb<I){e.x=lb;e.y=Ea;var L=-nb;c.x=e.x+Z.gnormx*L;c.y=e.y+Z.gnormy*L;return nb}e.x=Na;e.y=Wa;var Oa=-I;c.x=e.x+Z.gnormx*Oa;c.y=e.y+Z.gnormy*Oa;return I}}return i};d.geom.ZPP_PartitionPair=function(){this.node=null;this.id=this.di=0;this.a=this.b=null;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null};l["zpp_nape.geom.ZPP_PartitionPair"]=d.geom.ZPP_PartitionPair;d.geom.ZPP_PartitionPair.__name__=["zpp_nape","geom","ZPP_PartitionPair"];
d.geom.ZPP_PartitionPair.get=function(a,b){var c;null==d.geom.ZPP_PartitionPair.zpp_pool?c=new d.geom.ZPP_PartitionPair:(c=d.geom.ZPP_PartitionPair.zpp_pool,d.geom.ZPP_PartitionPair.zpp_pool=c.next,c.next=null);null;c.a=a;c.b=b;a.id<b.id?(c.id=a.id,c.di=b.id):(c.id=b.id,c.di=a.id);return c};d.geom.ZPP_PartitionPair.edge_swap=function(a,b){var c=a.node;a.node=b.node;b.node=c};d.geom.ZPP_PartitionPair.edge_lt=function(a,b){return a.id<b.id||a.id==b.id&&a.di<b.di};d.geom.ZPP_PartitionPair.prototype=
{next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==
a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,
d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.next,this.next=c=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=
!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},
front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},free:function(){this.node=this.a=this.b=null},alloc:function(){},a:null,b:null,id:null,di:null,node:null,__class__:d.geom.ZPP_PartitionPair};d.geom.ZPP_Triangular=function(){};l["zpp_nape.geom.ZPP_Triangular"]=d.geom.ZPP_Triangular;d.geom.ZPP_Triangular.__name__=
["zpp_nape","geom","ZPP_Triangular"];d.geom.ZPP_Triangular.lt=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};d.geom.ZPP_Triangular.right_turn=function(a,b,c){var d=0,e=0,d=c.x-b.x,e=c.y-b.y,f=c=0,c=b.x-a.x,f=b.y-a.y;return f*d-c*e};d.geom.ZPP_Triangular.delaunay=function(a,b,c,d){var e=0,f=0,h=0,n=0,e=c.x-b.x,f=c.y-b.y,h=b.x-a.x,n=b.y-a.y;if(!(e=0<=n*e-h*f))if(e=d.x-c.x,f=d.y-c.y,h=c.x-b.x,n=c.y-b.y,!(e=0<=n*e-h*f))if(e=a.x-d.x,f=a.y-d.y,h=d.x-c.x,n=d.y-c.y,!(e=0<=n*e-h*f))e=b.x-a.x,f=b.y-a.y,h=
a.x-d.x,n=a.y-d.y,e=0<=n*e-h*f;return e?!0:0<b.x*(c.y*d.mag-c.mag*d.y)-c.x*(b.y*d.mag-b.mag*d.y)+d.x*(b.y*c.mag-b.mag*c.y)-(a.x*(c.y*d.mag-c.mag*d.y)-c.x*(a.y*d.mag-a.mag*d.y)+d.x*(a.y*c.mag-a.mag*c.y))+(a.x*(b.y*d.mag-b.mag*d.y)-b.x*(a.y*d.mag-a.mag*d.y)+d.x*(a.y*b.mag-a.mag*b.y))-(a.x*(b.y*c.mag-b.mag*c.y)-b.x*(a.y*c.mag-a.mag*c.y)+c.x*(a.y*b.mag-a.mag*b.y))};d.geom.ZPP_Triangular.optimise=function(a){var b=a.vertices,c=a.vertices;if(null!=b){do{var e=b;e.sort();e.mag=e.x*e.x+e.y*e.y;b=b.next}while(b!=
c)}null==d.geom.ZPP_Triangular.edgeSet&&(null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?d.geom.ZPP_Triangular.edgeSet=new d.util.ZPP_Set_ZPP_PartitionPair:(d.geom.ZPP_Triangular.edgeSet=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=d.geom.ZPP_Triangular.edgeSet.next,d.geom.ZPP_Triangular.edgeSet.next=null),null,d.geom.ZPP_Triangular.edgeSet.lt=d.geom.ZPP_PartitionPair.edge_lt,d.geom.ZPP_Triangular.edgeSet.swapped=d.geom.ZPP_PartitionPair.edge_swap);null==d.geom.ZPP_PartitionPair.zpp_pool?
c=new d.geom.ZPP_PartitionPair:(c=d.geom.ZPP_PartitionPair.zpp_pool,d.geom.ZPP_PartitionPair.zpp_pool=c.next,c.next=null);null;a=b=a.vertices;if(null!=b){do{var e=b,g=e.next;e.diagonals.reverse();for(var f=e.diagonals.head;null!=f;){var h=f.elt;if(!(h.id<e.id)&&!d.geom.ZPP_Triangular.delaunay(e,g,h,null==f.next?e.prev:f.next.elt))g=d.geom.ZPP_PartitionPair.get(e,h),c.add(g),g.node=d.geom.ZPP_Triangular.edgeSet.insert(g);g=h;f=f.next}b=b.next}while(b!=a)}for(;null!=c.next;){a=c.pop_unsafe();b=a.a;
h=a.b;e=b.next;f=null;for(g=b.diagonals.head;null!=g;){var n=g.elt;if(n==h){g=g.next;f=null==g?b.prev:g.elt;break}e=n;g=g.next}b.diagonals.remove(h);h.diagonals.remove(b);if(h==e.next)e.diagonals.add(f);else for(g=e.diagonals.head;null!=g;){if(g.elt==h){e.diagonals.insert(g,f);break}g=g.next}if(b==f.next)f.diagonals.add(e);else for(h=f.diagonals.head;null!=h;){if(h.elt==b){f.diagonals.insert(h,e);break}h=h.next}d.geom.ZPP_Triangular.edgeSet.remove_node(a.node);a.a=a.b=null;a.node=null;a.next=d.geom.ZPP_PartitionPair.zpp_pool;
d.geom.ZPP_PartitionPair.zpp_pool=a}c.a=c.b=null;c.node=null;c.next=d.geom.ZPP_PartitionPair.zpp_pool;d.geom.ZPP_PartitionPair.zpp_pool=c};d.geom.ZPP_Triangular.triangulate=function(a){var b=a.vertices,c=a.vertices,e=a.vertices.next,g=a.vertices;if(null!=e){do{var f=e;if(f.y<b.y||f.y==b.y&&f.x<b.x)b=f;if(c.y<f.y||c.y==f.y&&c.x<f.x)c=f;e=e.next}while(e!=g)}null==d.geom.ZPP_Triangular.queue&&(d.geom.ZPP_Triangular.queue=new d.util.ZNPList_ZPP_PartitionVertex);g=c.prev;e=c.next;for(d.geom.ZPP_Triangular.queue.add(c);g!=
b||e!=b;)g==b||e!=b&&(g.y<e.y||g.y==e.y&&g.x<e.x)?(d.geom.ZPP_Triangular.queue.add(e),e.rightchain=!1,e=e.next):(d.geom.ZPP_Triangular.queue.add(g),g.rightchain=!0,g=g.prev);d.geom.ZPP_Triangular.queue.add(b);null==d.geom.ZPP_Triangular.stack&&(d.geom.ZPP_Triangular.stack=new d.util.ZNPList_ZPP_PartitionVertex);d.geom.ZPP_Triangular.stack.add(d.geom.ZPP_Triangular.queue.pop_unsafe());g=d.geom.ZPP_Triangular.queue.pop_unsafe();for(d.geom.ZPP_Triangular.stack.add(g);;){b=d.geom.ZPP_Triangular.queue.pop_unsafe();
if(null==d.geom.ZPP_Triangular.queue.head)break;if(b.rightchain!=d.geom.ZPP_Triangular.stack.head.elt.rightchain)for(;;){e=d.geom.ZPP_Triangular.stack.pop_unsafe();if(null==d.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(e,b)}else for(g=d.geom.ZPP_Triangular.stack.pop_unsafe();null!=d.geom.ZPP_Triangular.stack.head;){e=d.geom.ZPP_Triangular.stack.head.elt;f=d.geom.ZPP_Triangular.right_turn(e,g,b);if(b.rightchain&&0<=f||!b.rightchain&&0>=f)break;a.add_diagonal(e,b);g=e;d.geom.ZPP_Triangular.stack.pop()}d.geom.ZPP_Triangular.stack.add(g);
d.geom.ZPP_Triangular.stack.add(b);g=b}if(null!=d.geom.ZPP_Triangular.stack.head)for(d.geom.ZPP_Triangular.stack.pop();null!=d.geom.ZPP_Triangular.stack.head;){b=d.geom.ZPP_Triangular.stack.pop_unsafe();if(null==d.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(c,b)}return a};d.geom.ZPP_Vec2=function(){this.length=this.x=this.y=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.weak=!1;this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};l["zpp_nape.geom.ZPP_Vec2"]=
d.geom.ZPP_Vec2;d.geom.ZPP_Vec2.__name__=["zpp_nape","geom","ZPP_Vec2"];d.geom.ZPP_Vec2.get=function(a,b,c){null==c&&(c=!1);var e;null==d.geom.ZPP_Vec2.zpp_pool?e=new d.geom.ZPP_Vec2:(e=d.geom.ZPP_Vec2.zpp_pool,d.geom.ZPP_Vec2.zpp_pool=e.next,e.next=null);e.weak=!1;e._immutable=c;e.x=a;e.y=b;return e};d.geom.ZPP_Vec2.prototype={_invalidate:null,_validate:null,validate:function(){null!=this._validate&&this._validate()},invalidate:function(){null!=this._invalidate&&this._invalidate(this)},_immutable:null,
_isimmutable:null,immutable:function(){},outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.geom.Vec2;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},weak:null,free:function(){null!=this.outer&&(this.outer=this.outer.zpp_inner=null);this._invalidate=this._validate=this._isimmutable=null},alloc:function(){this.weak=
!1},next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;
null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,
d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.next,this.next=c=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=
!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},
front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},x:null,y:null,copy:function(){return d.geom.ZPP_Vec2.get(this.x,this.y,null)},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:d.geom.ZPP_Vec2};d.geom.ZPP_Vec3=function(){this._validate=null;this.immutable=!1;this.x=this.y=this.z=0;this.outer=
null;this.immutable=!1;this._validate=null};l["zpp_nape.geom.ZPP_Vec3"]=d.geom.ZPP_Vec3;d.geom.ZPP_Vec3.__name__=["zpp_nape","geom","ZPP_Vec3"];d.geom.ZPP_Vec3.prototype={outer:null,x:null,y:null,z:null,immutable:null,_validate:null,validate:function(){null!=this._validate&&this._validate()},__class__:d.geom.ZPP_Vec3};d.geom.ZPP_VecMath=function(){};l["zpp_nape.geom.ZPP_VecMath"]=d.geom.ZPP_VecMath;d.geom.ZPP_VecMath.__name__=["zpp_nape","geom","ZPP_VecMath"];d.geom.ZPP_VecMath.vec_dsq=function(a,
b,c,d){var e=0,f=0,e=a-c,f=b-d;return e*e+f*f};d.geom.ZPP_VecMath.vec_distance=function(a,b,c,d){var e=0,f=0,e=a-c,f=b-d;return Math.sqrt(e*e+f*f)};d.phys={};d.phys.ZPP_Interactor=function(){this.userData=this.ishape=this.ibody=this.icompound=this.cbsets=this.group=this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.id=0;this.outer_i=null;this.id=d.ZPP_ID.Interactor();this.cbsets=new d.util.ZNPList_ZPP_CallbackSet;this.cbTypes=new d.util.ZNPList_ZPP_CbType};l["zpp_nape.phys.ZPP_Interactor"]=d.phys.ZPP_Interactor;
d.phys.ZPP_Interactor.__name__=["zpp_nape","phys","ZPP_Interactor"];d.phys.ZPP_Interactor.get=function(a,b){var c;c=a.id<b.id?a.id:b.id;var d;d=a.id<b.id?b.id:a.id;for(var e=null,f=(a.cbsets.length<b.cbsets.length?a.cbsets:b.cbsets).head;null!=f;){var h=f.elt;if(h.id==c&&h.di==d){e=h;break}f=f.next}return e};d.phys.ZPP_Interactor.int_callback=function(a,b,c){var d=a.int1,a=a.int2;b.options1.compatible(d.cbTypes)&&b.options2.compatible(a.cbTypes)?(c.int1=d,c.int2=a):(c.int1=a,c.int2=d)};d.phys.ZPP_Interactor.prototype=
{outer_i:null,id:null,userData:null,ishape:null,ibody:null,icompound:null,isShape:function(){return null!=this.ishape},isBody:function(){return null!=this.ibody},isCompound:function(){return null!=this.icompound},__iaddedToSpace:function(){null!=this.group&&this.group.interactors.add(this);for(var a=this.cbTypes.head;null!=a;)a.elt.interactors.add(this),a=a.next;this.alloc_cbSet()},__iremovedFromSpace:function(){null!=this.group&&this.group.interactors.remove(this);for(var a=this.cbTypes.head;null!=
a;)a.elt.interactors.remove(this),a=a.next;this.dealloc_cbSet()},wake:function(){if(null!=this.ishape){var a=this.ishape.body;null!=a&&null!=a.space&&a.space.non_inlined_wake(a);!0}else null!=this.ibody?null!=this.ibody.space?this.ibody.space.non_inlined_wake(this.ibody):!1:(null!=this.icompound.space&&this.icompound.space.wakeCompound(this.icompound),!0)},cbsets:null,getSpace:function(){return null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:
this.icompound.space},group:null,cbTypes:null,cbSet:null,wrap_cbTypes:null,setupcbTypes:function(){this.wrap_cbTypes=d.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=w(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=w(this,this.wrap_cbTypes_subber);this.wrap_cbTypes.zpp_inner.dontremove=!0},wrap_cbTypes_subber:function(a){a=a.zpp_inner;if(this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:
this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.remove(this));this.cbTypes.remove(a);null!=b&&(this.alloc_cbSet(),this.wake())}},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},insert_cbtype:function(a){if(!this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.add(this));for(var c=null,d=this.cbTypes.head;null!=d&&
!(a.id<d.elt.id);)c=d,d=d.next;this.cbTypes.inlined_insert(c,a);null!=b&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){var a;a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;if(null!=(this.cbSet=a.cbsets.get(this.cbTypes)))this.cbSet.count++,this.cbSet.interactors.add(this),this.cbSet.validate(),a.freshInteractorType(this)},dealloc_cbSet:function(){var a;a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:
null!=this.ibody?this.ibody.space:this.icompound.space;null!=this.cbSet&&(this.cbSet.interactors.remove(this),a.nullInteractorType(this),0==--this.cbSet.count&&(a.cbsets.remove(this.cbSet),a=this.cbSet,a.free(),a.next=d.callbacks.ZPP_CbSet.zpp_pool,d.callbacks.ZPP_CbSet.zpp_pool=a),this.cbSet=null)},setGroup:function(a){if(this.group!=a){var b;(b=null!=(null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space))&&null!=this.group&&
this.group.interactors.remove(this);this.group=a;b&&null!=a&&a.interactors.add(this);b&&(null!=this.ishape?this.ishape.body.wake():null!=this.ibody?this.ibody.wake():this.icompound.wake())}},immutable_midstep:function(a){null!=this.ibody?null:null!=this.ishape?this.ishape.__immutable_midstep(a):this.icompound.__imutable_midstep(a)},lookup_group:function(){for(var a=this;null!=a&&null==a.group;)a=null!=a.ishape?a.ishape.body:null!=a.icompound?a.icompound.compound:a.ibody.compound;return null==a?null:
a.group},copyto:function(a){a.zpp_inner_i.group=this.group;for(var b=this.outer_i.get_cbTypes().iterator();b.hasNext();){var c;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);var d=void 0;null==a.zpp_inner_i.wrap_cbTypes&&a.zpp_inner_i.setupcbTypes();d=a.zpp_inner_i.wrap_cbTypes;d.add(c)}null!=this.userData&&(a.zpp_inner_i.userData=u.copy(this.userData))},__class__:d.phys.ZPP_Interactor};d.phys.ZPP_Body=function(){this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=
0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_aabb=!1;this.aabb=null;this.norotate=!1;this.cinertia=this.iinertia=this.sinertia=0;this.zip_inertia=!1;this.inertiaMode=this.inertia=0;this.zip_gravMassScale=!1;this.gravMassMode=this.gravMassScale=0;this.zip_gravMass=!1;this.gravMass=0;this.nomove=!1;this.massMode=this.imass=this.smass=this.cmass=0;this.zip_mass=!1;this.mass=0;this.zip_axis=!1;this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.axisx=this.axisy=0;this.wrap_svel=
this.wrapcvel=null;this.svelx=this.svely=0;this.wrap_kinvel=null;this.kinvelx=this.kinvely=0;this.wrap_force=null;this.forcex=this.forcey=0;this.wrap_vel=null;this.velx=this.vely=0;this.wrap_pos=null;this.pre_posx=this.pre_posy=this.posx=this.posy=0;this.bullet=this.bulletEnabled=this.disableCCD=!1;this.sweepRadius=0;this.sweepFrozen=!1;this.graph_depth=this.sweepTime=this.sweep_angvel=0;this.compound=this.shapes=this.wrap_shapes=this.space=this.arbiters=this.wrap_arbiters=this.constraints=this.wrap_constraints=
this.component=null;this.type=0;this.world=!1;this.outer=null;d.phys.ZPP_Interactor.call(this);this.ibody=this;this.bulletEnabled=this.world=!1;this.sweep_angvel=this.sweepTime=0;this.disableCCD=this.norotate=this.nomove=!1;this.axisx=this.rot=this.posy=this.posx=0;this.axisy=1;this.torque=this.angvel=this.kinangvel=this.forcey=this.forcex=this.kinvely=this.kinvelx=this.vely=this.velx=this.svely=this.svelx=0;this.pre_rot=this.pre_posy=this.pre_posx=Math.POSITIVE_INFINITY;this.worldCOMy=this.worldCOMx=
this.localCOMy=this.localCOMx=0;this.zip_aabb=!0;this.aabb=d.geom.ZPP_AABB.get(0,0,0,0);this.aabb._immutable=!0;this.aabb._validate=w(this,this.aabb_validate);this.massMode=d.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=d.util.ZPP_Flags.id_GravMassMode_DEFAULT;this.gravMassScale=1;this.inertiaMode=d.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.arbiters=new d.util.ZNPList_ZPP_Arbiter;this.constraints=new d.util.ZNPList_ZPP_Constraint;this.shapes=new d.util.ZNPList_ZPP_Shape;this.wrap_shapes=
d.util.ZPP_ShapeList.get(this.shapes);this.wrap_shapes.zpp_inner.adder=w(this,this.shapes_adder);this.wrap_shapes.zpp_inner.subber=w(this,this.shapes_subber);this.wrap_shapes.zpp_inner._invalidate=w(this,this.shapes_invalidate);this.kinematicDelaySleep=!1};l["zpp_nape.phys.ZPP_Body"]=d.phys.ZPP_Body;d.phys.ZPP_Body.__name__=["zpp_nape","phys","ZPP_Body"];d.phys.ZPP_Body.bodysetlt=function(a,b){return a.id<b.id};d.phys.ZPP_Body.__static=function(){var a=f.phys.Body;null==d.util.ZPP_Flags.BodyType_STATIC&&
(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);var a=new a(d.util.ZPP_Flags.BodyType_STATIC),b=a.zpp_inner;b.world=!0;b.wrap_shapes.zpp_inner.immutable=!0;b.smass=b.imass=b.cmass=b.mass=b.gravMass=0;b.sinertia=b.iinertia=b.cinertia=b.inertia=0;b.cbTypes.clear();return a};d.phys.ZPP_Body.__super__=d.phys.ZPP_Interactor;d.phys.ZPP_Body.prototype=z(d.phys.ZPP_Interactor.prototype,{outer:null,world:null,type:null,isStatic:function(){return this.type==
d.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC},isKinematic:function(){return this.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC},invalidate_type:function(){this.invalidate_mass();this.invalidate_inertia()},compound:null,shapes:null,wrap_shapes:null,invalidate_shapes:function(){this.zip_worldCOM=this.zip_localCOM=this.zip_aabb=!0;this.invalidate_mass();this.invalidate_inertia()},space:null,arbiters:null,wrap_arbiters:null,constraints:null,
wrap_constraints:null,component:null,graph_depth:null,init_bodysetlist:function(){null==d.phys.ZPP_Body.bodyset&&(d.phys.ZPP_Body.bodyset=new d.util.ZPP_Set_ZPP_Body,d.phys.ZPP_Body.bodyset.lt=d.phys.ZPP_Body.bodysetlt,d.phys.ZPP_Body.bodystack=new d.util.ZNPList_ZPP_Body)},connectedBodies_cont:function(a){d.phys.ZPP_Body.bodyset.try_insert_bool(a.zpp_inner)&&(d.phys.ZPP_Body.bodystack.add(a.zpp_inner),a.zpp_inner.graph_depth=d.phys.ZPP_Body.cur_graph_depth+1)},connectedBodies:function(a,b){var c=
this;null==d.phys.ZPP_Body.bodyset&&(d.phys.ZPP_Body.bodyset=new d.util.ZPP_Set_ZPP_Body,d.phys.ZPP_Body.bodyset.lt=d.phys.ZPP_Body.bodysetlt,d.phys.ZPP_Body.bodystack=new d.util.ZNPList_ZPP_Body);null;var e;e=null==b?new f.phys.BodyList:b;d.phys.ZPP_Body.bodystack.add(this);d.phys.ZPP_Body.bodyset.insert(this);for(this.graph_depth=0;null!=d.phys.ZPP_Body.bodystack.head;){var g=d.phys.ZPP_Body.bodystack.pop_unsafe();if(g.graph_depth!=a){d.phys.ZPP_Body.cur_graph_depth=g.graph_depth;for(g=g.constraints.head;null!=
g;)g.elt.outer.visitBodies(w(this,this.connectedBodies_cont)),g=g.next}}d.phys.ZPP_Body.bodyset.clear_with(function(a){a!=c&&e.add(a.outer)});return e},interactingBodies:function(a,b,c){var e=this;null==d.phys.ZPP_Body.bodyset&&(d.phys.ZPP_Body.bodyset=new d.util.ZPP_Set_ZPP_Body,d.phys.ZPP_Body.bodyset.lt=d.phys.ZPP_Body.bodysetlt,d.phys.ZPP_Body.bodystack=new d.util.ZNPList_ZPP_Body);null;var g;g=null==c?new f.phys.BodyList:c;d.phys.ZPP_Body.bodyset.insert(this);d.phys.ZPP_Body.bodystack.add(this);
for(this.graph_depth=0;null!=d.phys.ZPP_Body.bodystack.head;)if(c=d.phys.ZPP_Body.bodystack.pop_unsafe(),c.graph_depth!=b)for(var i=c.arbiters.head;null!=i;){var h=i.elt;0!=(h.type&a)&&(h=h.b1==c?h.b2:h.b1,d.phys.ZPP_Body.bodyset.try_insert_bool(h)&&(d.phys.ZPP_Body.bodystack.add(h),h.graph_depth=c.graph_depth+1));i=i.next}d.phys.ZPP_Body.bodyset.clear_with(function(a){a!=e&&g.add(a.outer)});return g},atRest:function(a){if(this.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC)return this.component.sleeping;
var b=f.Config.linearSleepThreshold,b=b*b;if(this.velx*this.velx+this.vely*this.vely>b)a=!1;else if(d.geom.ZPP_VecMath.vec_dsq(this.posx,this.posy,this.pre_posx,this.pre_posy)>0.25*b*a*a)a=!1;else{var c=b=0,b=this.aabb.maxx-this.aabb.minx,c=this.aabb.maxy-this.aabb.miny,b=b*b+c*c,c=f.Config.angularSleepThreshold,c=c*c;if(4*this.angvel*this.angvel*b>c)a=!1;else var e=this.rot-this.pre_rot,a=e*e*b>c*a*a?!1:!0}a||(this.component.waket=this.space.stamp);return this.component.waket+f.Config.sleepDelay<
this.space.stamp},refreshArbiters:function(){for(var a=this.arbiters.head;null!=a;)a.elt.invalidated=!0,a=a.next},sweepTime:null,sweep_angvel:null,sweepFrozen:null,sweepRadius:null,bullet:null,bulletEnabled:null,disableCCD:null,sweepIntegrate:function(a){var b=a-this.sweepTime;0!=b&&(this.sweepTime=a,this.posx+=this.velx*b,this.posy+=this.vely*b,0!=this.angvel&&this.delta_rot(this.sweep_angvel*b))},sweepValidate:function(a){if(a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE)a.worldCOMx=this.posx+(this.axisy*
a.localCOMx-this.axisx*a.localCOMy),a.worldCOMy=this.posy+(a.localCOMx*this.axisx+a.localCOMy*this.axisy);else{for(var a=a.polygon,b=a.lverts.next,c=a.gverts.next;null!=c;){var e=c,g=b,b=b.next;e.x=this.posx+(this.axisy*g.x-this.axisx*g.y);e.y=this.posy+(g.x*this.axisx+g.y*this.axisy);c=c.next}c=a.edges.head;b=e=a.gverts.next;for(e=e.next;null!=e;){var g=e,f=c.elt,c=c.next;f.gnormx=this.axisy*f.lnormx-this.axisx*f.lnormy;f.gnormy=f.lnormx*this.axisx+f.lnormy*this.axisy;f.gprojection=this.posx*f.gnormx+
this.posy*f.gnormy+f.lprojection;f.tp0=b.y*f.gnormx-b.x*f.gnormy;f.tp1=g.y*f.gnormx-g.x*f.gnormy;b=g;e=e.next}a=a.gverts.next;c=c.elt;c.gnormx=this.axisy*c.lnormx-this.axisx*c.lnormy;c.gnormy=c.lnormx*this.axisx+c.lnormy*this.axisy;c.gprojection=this.posx*c.gnormx+this.posy*c.gnormy+c.lprojection;c.tp0=b.y*c.gnormx-b.x*c.gnormy;c.tp1=a.y*c.gnormx-a.x*c.gnormy}},pre_posx:null,pre_posy:null,posx:null,posy:null,wrap_pos:null,velx:null,vely:null,wrap_vel:null,forcex:null,forcey:null,wrap_force:null,kinvelx:null,
kinvely:null,wrap_kinvel:null,svelx:null,svely:null,wrap_svel:null,invalidate_pos:function(){for(var a=this.shapes.head;null!=a;){var b=a.elt;b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();a=a.next}this.zip_worldCOM=!0},pos_invalidate:function(a){this.immutable_midstep("Body::position");this.posx==a.x&&this.posy==a.y||(this.posx=a.x,this.posy=a.y,this.invalidate_pos(),this.wake())},pos_validate:function(){this.wrap_pos.zpp_inner.x=
this.posx;this.wrap_pos.zpp_inner.y=this.posy},vel_invalidate:function(a){this.velx=a.x;this.vely=a.y;this.wake()},vel_validate:function(){this.wrap_vel.zpp_inner.x=this.velx;this.wrap_vel.zpp_inner.y=this.vely},kinvel_invalidate:function(a){this.kinvelx=a.x;this.kinvely=a.y;this.wake()},kinvel_validate:function(){this.wrap_kinvel.zpp_inner.x=this.kinvelx;this.wrap_kinvel.zpp_inner.y=this.kinvely},svel_invalidate:function(a){this.svelx=a.x;this.svely=a.y;this.wake()},svel_validate:function(){this.wrap_svel.zpp_inner.x=
this.svelx;this.wrap_svel.zpp_inner.y=this.svely},force_invalidate:function(a){this.forcex=a.x;this.forcey=a.y;this.wake()},force_validate:function(){this.wrap_force.zpp_inner.x=this.forcex;this.wrap_force.zpp_inner.y=this.forcey},setupPosition:function(){this.wrap_pos=f.geom.Vec2.get(this.posx,this.posy,null);this.wrap_pos.zpp_inner._inuse=!0;this.world?this.wrap_pos.zpp_inner._immutable=!0:(this.wrap_pos.zpp_inner._invalidate=w(this,this.pos_invalidate),this.wrap_pos.zpp_inner._validate=w(this,
this.pos_validate))},setupVelocity:function(){this.wrap_vel=f.geom.Vec2.get(this.velx,this.vely,null);this.wrap_vel.zpp_inner._inuse=!0;this.world?this.wrap_vel.zpp_inner._immutable=!0:(this.wrap_vel.zpp_inner._invalidate=w(this,this.vel_invalidate),this.wrap_vel.zpp_inner._validate=w(this,this.vel_validate))},setupkinvel:function(){this.wrap_kinvel=f.geom.Vec2.get(this.kinvelx,this.kinvely,null);this.wrap_kinvel.zpp_inner._inuse=!0;this.world?this.wrap_kinvel.zpp_inner._immutable=!0:(this.wrap_kinvel.zpp_inner._invalidate=
w(this,this.kinvel_invalidate),this.wrap_kinvel.zpp_inner._validate=w(this,this.kinvel_validate))},setupsvel:function(){this.wrap_svel=f.geom.Vec2.get(this.svelx,this.svely,null);this.wrap_svel.zpp_inner._inuse=!0;this.world?this.wrap_svel.zpp_inner._immutable=!0:(this.wrap_svel.zpp_inner._invalidate=w(this,this.svel_invalidate),this.wrap_svel.zpp_inner._validate=w(this,this.svel_validate))},setupForce:function(){this.wrap_force=f.geom.Vec2.get(this.forcex,this.forcey,null);this.wrap_force.zpp_inner._inuse=
!0;this.world?this.wrap_force.zpp_inner._immutable=!0:(this.wrap_force.zpp_inner._invalidate=w(this,this.force_invalidate),this.wrap_force.zpp_inner._validate=w(this,this.force_validate))},cvel_validate:function(){this.wrapcvel.zpp_inner.x=this.velx+this.kinvelx;this.wrapcvel.zpp_inner.y=this.vely+this.kinvely;this.wrapcvel.zpp_inner.z=this.angvel+this.kinangvel},wrapcvel:null,setup_cvel:function(){this.wrapcvel=f.geom.Vec3.get();this.wrapcvel.zpp_inner.immutable=!0;this.wrapcvel.zpp_inner._validate=
w(this,this.cvel_validate)},angvel:null,torque:null,kinangvel:null,pre_rot:null,rot:null,invalidate_rot:function(){this.zip_axis=!0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();a=a.next}this.zip_worldCOM=!0},axisx:null,axisy:null,zip_axis:null,validate_axis:function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},
quick_validate_axis:function(){this.axisx=Math.sin(this.rot);this.axisy=Math.cos(this.rot)},delta_rot:function(a){this.rot+=a;if(1E-4<a*a)this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null;else{var b=a*a,c=1-0.5*b,b=1-b*b/8,d=(c*this.axisx+a*this.axisy)*b;this.axisy=(c*this.axisy-a*this.axisx)*b;this.axisx=d}},kinematicDelaySleep:null,mass:null,zip_mass:null,massMode:null,imass:null,smass:null,cmass:null,nomove:null,invalidate_mass:function(){this.zip_mass=!0;this.invalidate_gravMass()},
validate_mass:function(){if(this.zip_mass){this.zip_mass=!1;if(this.massMode==d.util.ZPP_Flags.id_MassMode_DEFAULT){this.cmass=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cmass+=b.area*b.material.density;a=a.next}}this.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&!this.nomove?(this.mass=this.cmass,this.imass=this.smass=1/this.mass):(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0)}},gravMass:null,zip_gravMass:null,
gravMassMode:null,gravMassScale:null,zip_gravMassScale:null,invalidate_gravMass:function(){this.gravMassMode!=d.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.zip_gravMass=!0);this.gravMassMode!=d.util.ZPP_Flags.id_GravMassMode_SCALED&&(this.zip_gravMassScale=!0);this.wake()},validate_gravMass:function(){this.zip_gravMass&&(this.zip_gravMass=!1,this.validate_mass(),this.gravMassMode==d.util.ZPP_Flags.id_GravMassMode_DEFAULT?(this.validate_mass(),this.gravMass=this.cmass):this.gravMassMode==d.util.ZPP_Flags.id_GravMassMode_SCALED&&
(this.validate_mass(),this.gravMass=this.cmass*this.gravMassScale))},invalidate_gravMassScale:function(){this.gravMassMode!=d.util.ZPP_Flags.id_GravMassMode_SCALED?this.zip_gravMassScale=!0:this.invalidate_gravMass()},validate_gravMassScale:function(){this.zip_gravMassScale&&(this.zip_gravMassScale=!1,this.gravMassMode==d.util.ZPP_Flags.id_GravMassMode_DEFAULT?this.gravMassScale=1:this.gravMassMode==d.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.validate_mass(),this.gravMassScale=this.gravMass/this.cmass))},
inertiaMode:null,inertia:null,zip_inertia:null,cinertia:null,iinertia:null,sinertia:null,norotate:null,invalidate_inertia:function(){this.zip_inertia=!0;this.wake()},validate_inertia:function(){if(this.zip_inertia){this.zip_inertia=!1;if(this.inertiaMode==d.util.ZPP_Flags.id_InertiaMode_DEFAULT){this.cinertia=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cinertia+=b.inertia*b.area*b.material.density;a=a.next}}this.type==
d.util.ZPP_Flags.id_BodyType_DYNAMIC&&!this.norotate?(this.inertia=this.cinertia,this.sinertia=this.iinertia=1/this.inertia):(this.inertia=Math.POSITIVE_INFINITY,this.sinertia=this.iinertia=0)}},invalidate_wake:function(){this.wake()},aabb:null,zip_aabb:null,validate_aabb:function(){if(this.zip_aabb){this.zip_aabb=!1;this.aabb.minx=Math.POSITIVE_INFINITY;this.aabb.miny=Math.POSITIVE_INFINITY;this.aabb.maxx=Math.NEGATIVE_INFINITY;this.aabb.maxy=Math.NEGATIVE_INFINITY;for(var a=this.shapes.head;null!=
a;){var b=a.elt;b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb());this.aabb.combine(b.aabb);a=a.next}}},invalidate_aabb:function(){this.zip_aabb=!0},localCOMx:null,localCOMy:null,zip_localCOM:null,worldCOMx:null,worldCOMy:null,zip_worldCOM:null,wrap_localCOM:null,wrap_worldCOM:null,invalidate_localCOM:function(){this.zip_worldCOM=this.zip_localCOM=!0},invalidate_worldCOM:function(){this.zip_worldCOM=!0},validate_localCOM:function(){if(this.zip_localCOM){this.zip_localCOM=
!1;for(var a=0,b=0,c=0,e=this.shapes.head;null!=e;){var g=e.elt;g.zip_localCOM&&(g.zip_localCOM=!1,g.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&g.polygon.__validate_localCOM(),null!=g.wrap_localCOM&&(g.wrap_localCOM.zpp_inner.x=g.localCOMx,g.wrap_localCOM.zpp_inner.y=g.localCOMy));g.validate_area_inertia();var f=g.area*g.material.density,a=a+g.localCOMx*f,b=b+g.localCOMy*f,c=c+g.area*g.material.density,e=e.next}0!=c&&(e=1/c,this.localCOMx=a*e,this.localCOMy=b*e);null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=
this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy);this.zip_mass&&this.massMode==d.util.ZPP_Flags.id_MassMode_DEFAULT&&(this.zip_mass=!1,this.cmass=c,this.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC?(this.mass=this.cmass,this.imass=this.smass=1/this.mass):(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0))}},validate_worldCOM:function(){if(this.zip_worldCOM&&(this.zip_worldCOM=!1,this.validate_localCOM(),this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),
null),this.worldCOMx=this.posx+(this.axisy*this.localCOMx-this.axisx*this.localCOMy),this.worldCOMy=this.posy+(this.localCOMx*this.axisx+this.localCOMy*this.axisy),null!=this.wrap_worldCOM))this.wrap_worldCOM.zpp_inner.x=this.worldCOMx,this.wrap_worldCOM.zpp_inner.y=this.worldCOMy},getlocalCOM:function(){this.validate_localCOM()},getworldCOM:function(){this.validate_worldCOM()},__immutable_midstep:function(){},clear:function(){for(;null!=this.shapes.head;){var a=this.shapes.pop_unsafe();a.removedFromBody();
a.body=null}this.invalidate_shapes();this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.svely=this.svelx=this.kinvely=this.kinvelx=this.forcey=this.forcex=this.vely=this.velx=this.posy=this.posx=this.pre_posy=this.pre_posx=0;this.invalidate_pos();this.invalidate_rot();this.axisx=0;this.axisy=1;this.zip_axis=!1;this.massMode=d.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=d.util.ZPP_Flags.id_GravMassMode_DEFAULT;this.gravMassScale=1;this.inertiaMode=d.util.ZPP_Flags.id_InertiaMode_DEFAULT;
this.nomove=this.norotate=!1},aabb_validate:function(){this.validate_aabb()},shapes_adder:function(a){return a.zpp_inner.body!=this?(null!=a.zpp_inner.body&&a.zpp_inner.body.wrap_shapes.remove(a),a.zpp_inner.body=this,a.zpp_inner.addedToBody(),null!=this.space&&this.space.added_shape(a.zpp_inner,null),a.zpp_inner.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&(a.zpp_inner.polygon.invalidate_gaxi(),a.zpp_inner.polygon.invalidate_gverts()),!0):!1},shapes_subber:function(a){null!=this.space&&this.space.removed_shape(a.zpp_inner);
a.zpp_inner.body=null;a.zpp_inner.removedFromBody()},shapes_invalidate:function(){this.invalidate_shapes()},addedToSpace:function(){null==d.space.ZPP_Component.zpp_pool?this.component=new d.space.ZPP_Component:(this.component=d.space.ZPP_Component.zpp_pool,d.space.ZPP_Component.zpp_pool=this.component.next,this.component.next=null);null;this.component.isBody=!0;this.component.body=this;this.__iaddedToSpace()},removedFromSpace:function(){for(;null!=this.arbiters.head;){var a=this.arbiters.pop_unsafe();
a.cleared=!0;a.b2==this&&a.b1.arbiters.inlined_try_remove(a);a.b1==this&&a.b2.arbiters.inlined_try_remove(a);null!=a.pair&&(a.pair.arb=null,a.pair=null);a.active=!1;this.space.f_arbiters.modified=!0}a=this.component;a.body=null;a.constraint=null;null;a.next=d.space.ZPP_Component.zpp_pool;d.space.ZPP_Component.zpp_pool=a;this.component=null;this.__iremovedFromSpace()},copy:function(){var a=(new f.phys.Body).zpp_inner;a.type=this.type;a.bulletEnabled=this.bulletEnabled;a.disableCCD=this.disableCCD;
for(var b=this.shapes.head;null!=b;)a.outer.zpp_inner.wrap_shapes.add(b.elt.outer.copy()),b=b.next;a.posx=this.posx;a.posy=this.posy;a.velx=this.velx;a.vely=this.vely;a.forcex=this.forcex;a.forcey=this.forcey;a.rot=this.rot;a.angvel=this.angvel;a.torque=this.torque;a.kinvelx=this.kinvelx;a.kinvely=this.kinvely;a.kinangvel=this.kinangvel;a.svelx=this.svelx;a.svely=this.svely;this.zip_axis?a.invalidate_rot():(a.axisx=this.axisx,a.axisy=this.axisy);a.rot=this.rot;a.massMode=this.massMode;a.gravMassMode=
this.gravMassMode;a.inertiaMode=this.inertiaMode;a.norotate=this.norotate;a.nomove=this.nomove;a.cmass=this.cmass;a.cinertia=this.cinertia;this.zip_mass?a.invalidate_mass():a.mass=this.mass;this.zip_gravMass?a.invalidate_gravMass():a.gravMass=this.gravMass;this.zip_gravMassScale?a.invalidate_gravMassScale():a.gravMassScale=this.gravMassScale;this.zip_inertia?a.invalidate_inertia():a.inertia=this.inertia;this.zip_aabb?a.zip_aabb=!0:(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=
this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);this.zip_localCOM?(a.zip_localCOM=!0,a.zip_worldCOM=!0):(a.localCOMx=this.localCOMx,a.localCOMy=this.localCOMy);this.zip_worldCOM?a.zip_worldCOM=!0:(a.worldCOMx=this.worldCOMx,a.worldCOMy=this.worldCOMy);this.copyto(a.outer);return a.outer},__class__:d.phys.ZPP_Body});d.phys.ZPP_Compound=function(){this.compound=this.space=null;this.depth=0;this.outer=this.bodies=this.constraints=this.compounds=this.wrap_bodies=this.wrap_constraints=this.wrap_compounds=null;
d.phys.ZPP_Interactor.call(this);this.icompound=this;this.depth=1;this.bodies=new d.util.ZNPList_ZPP_Body;this.wrap_bodies=d.util.ZPP_BodyList.get(this.bodies);this.wrap_bodies.zpp_inner.adder=w(this,this.bodies_adder);this.wrap_bodies.zpp_inner.subber=w(this,this.bodies_subber);this.constraints=new d.util.ZNPList_ZPP_Constraint;this.wrap_constraints=d.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=w(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=
w(this,this.constraints_subber);this.compounds=new d.util.ZNPList_ZPP_Compound;this.wrap_compounds=d.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=w(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=w(this,this.compounds_subber)};l["zpp_nape.phys.ZPP_Compound"]=d.phys.ZPP_Compound;d.phys.ZPP_Compound.__name__=["zpp_nape","phys","ZPP_Compound"];d.phys.ZPP_Compound.__super__=d.phys.ZPP_Interactor;d.phys.ZPP_Compound.prototype=z(d.phys.ZPP_Interactor.prototype,
{outer:null,bodies:null,constraints:null,compounds:null,wrap_bodies:null,wrap_constraints:null,wrap_compounds:null,depth:null,compound:null,space:null,__imutable_midstep:function(){},addedToSpace:function(){this.__iaddedToSpace()},removedFromSpace:function(){this.__iremovedFromSpace()},breakApart:function(){null!=this.space&&(this.__iremovedFromSpace(),this.space.nullInteractorType(this));for(null!=this.compound?this.compound.compounds.remove(this):null!=this.space&&this.space.compounds.remove(this);null!=
this.bodies.head;){var a=this.bodies.pop_unsafe();null!=(a.compound=this.compound)?this.compound.bodies.add(a):null!=this.space&&this.space.bodies.add(a);null!=this.space&&this.space.freshInteractorType(a)}for(;null!=this.constraints.head;)a=this.constraints.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.constraints.add(a):null!=this.space&&this.space.constraints.add(a);for(;null!=this.compounds.head;)a=this.compounds.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.compounds.add(a):
null!=this.space&&this.space.compounds.add(a),null!=this.space&&this.space.freshInteractorType(a);this.space=this.compound=null},bodies_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_bodies.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_bodies.remove(a),a.zpp_inner.compound=this,null!=this.space&&this.space.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remBody(a.zpp_inner)},
constraints_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_constraints.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_constraints.remove(a),a.zpp_inner.compound=this,null!=this.space&&this.space.addConstraint(a.zpp_inner),!0):!1},constraints_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remConstraint(a.zpp_inner)},compounds_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?
a.zpp_inner.compound.wrap_compounds.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),a.zpp_inner.compound=this,a.zpp_inner.depth=this.depth+1,null!=this.space&&this.space.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){a.zpp_inner.compound=null;a.zpp_inner.depth=1;null!=this.space&&this.space.remCompound(a.zpp_inner)},copy:function(a,b){var c=null==a;null==a&&(a=[]);null==b&&(b=[]);for(var e=new f.phys.Compound,g=this.compounds.head;null!=g;){var i=g.elt.copy(a,
b);i.zpp_inner.immutable_midstep("Compound::compound");if((null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer)!=e){if(null!=(null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer))(null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(i);null!=e&&e.zpp_inner.wrap_compounds.add(i)}null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer;g=g.next}for(g=this.bodies.head;null!=g;){var i=g.elt,h=i.outer.copy();a.push(d.constraint.ZPP_CopyHelper.dict(i.id,
h));if((null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer)!=e){if(null!=(null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer))(null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(h);null!=e&&e.zpp_inner.wrap_bodies.add(h)}null==h.zpp_inner.compound?null:h.zpp_inner.compound.outer;g=g.next}for(g=this.constraints.head;null!=g;){i=g.elt.copy(a,b);if((null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer)!=e){if(null!=(null==i.zpp_inner.compound?
null:i.zpp_inner.compound.outer))(null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(i);null!=e&&e.zpp_inner.wrap_constraints.add(i)}null==i.zpp_inner.compound?null:i.zpp_inner.compound.outer;g=g.next}if(c)for(;0<b.length;){c=b.pop();for(g=0;g<a.length;)if(i=a[g],++g,i.id==c.id){c.cb(i.bc);break}}this.copyto(e);return e},__class__:d.phys.ZPP_Compound});d.phys.ZPP_FluidProperties=function(){this.wrap_gravity=null;this.viscosity=this.density=this.gravityx=
this.gravityy=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new d.util.ZNPList_ZPP_Shape;this.density=this.viscosity=1;this.wrap_gravity=null;this.gravityy=this.gravityx=0};l["zpp_nape.phys.ZPP_FluidProperties"]=d.phys.ZPP_FluidProperties;d.phys.ZPP_FluidProperties.__name__=["zpp_nape","phys","ZPP_FluidProperties"];d.phys.ZPP_FluidProperties.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.phys.FluidProperties;
var a=this.outer.zpp_inner;a.outer=null;a.next=d.phys.ZPP_FluidProperties.zpp_pool;d.phys.ZPP_FluidProperties.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},shapes:null,wrap_shapes:null,feature_cons:function(){this.shapes=new d.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==d.phys.ZPP_FluidProperties.zpp_pool?a=new d.phys.ZPP_FluidProperties:(a=d.phys.ZPP_FluidProperties.zpp_pool,
d.phys.ZPP_FluidProperties.zpp_pool=a.next,a.next=null);null;a.viscosity=this.viscosity;a.density=this.density;return a},viscosity:null,density:null,gravityx:null,gravityy:null,wrap_gravity:null,gravity_invalidate:function(a){this.gravityx=a.x;this.gravityy=a.y;this.invalidate()},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;this.wrap_gravity.zpp_inner.y=this.gravityy},getgravity:function(){this.wrap_gravity=f.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=
!0;this.wrap_gravity.zpp_inner._invalidate=w(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=w(this,this.gravity_validate)},invalidate:function(){for(var a=this.shapes.head;null!=a;)a.elt.invalidate_fluidprops(),a=a.next},__class__:d.phys.ZPP_FluidProperties};d.phys.ZPP_Material=function(){this.dynamicFriction=this.staticFriction=this.density=this.elasticity=this.rollingFriction=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new d.util.ZNPList_ZPP_Shape;
this.elasticity=0;this.dynamicFriction=1;this.staticFriction=2;this.density=0.001;this.rollingFriction=0.01};l["zpp_nape.phys.ZPP_Material"]=d.phys.ZPP_Material;d.phys.ZPP_Material.__name__=["zpp_nape","phys","ZPP_Material"];d.phys.ZPP_Material.prototype={next:null,userData:null,outer:null,wrapper:function(){if(null==this.outer){this.outer=new f.phys.Material;var a=this.outer.zpp_inner;a.outer=null;a.next=d.phys.ZPP_Material.zpp_pool;d.phys.ZPP_Material.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},
free:function(){this.outer=null},alloc:function(){},shapes:null,wrap_shapes:null,feature_cons:function(){this.shapes=new d.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},dynamicFriction:null,staticFriction:null,density:null,elasticity:null,rollingFriction:null,copy:function(){var a=new d.phys.ZPP_Material;a.dynamicFriction=this.dynamicFriction;a.staticFriction=this.staticFriction;a.density=this.density;a.elasticity=this.elasticity;a.rollingFriction=
this.rollingFriction;return a},set:function(a){this.dynamicFriction=a.dynamicFriction;this.staticFriction=a.staticFriction;this.density=a.density;this.elasticity=a.elasticity;this.rollingFriction=a.rollingFriction},invalidate:function(a){for(var b=this.shapes.head;null!=b;)b.elt.invalidate_material(a),b=b.next},__class__:d.phys.ZPP_Material};d.shape={};d.shape.ZPP_Shape=function(a){this.zip_aabb=!1;this.sweep=this.node=this.pairs=this.aabb=null;this.fluidEnabled=this.sensorEnabled=!1;this.circle=
this.polygon=this.refmaterial=this.material=this.filter=this.fluidProperties=null;this.sweepCoef=0;this.zip_sweepRadius=!1;this.sweepRadius=0;this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_angDrag=!1;this.inertia=this.angDrag=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null;d.phys.ZPP_Interactor.call(this);this.pairs=new d.util.ZNPList_ZPP_AABBPair;this.ishape=this;
this.type=a;this.aabb=d.geom.ZPP_AABB.get(0,0,0,0);this.aabb._immutable=!0;this.aabb._validate=w(this,this.aabb_validate);this.zip_area_inertia=this.zip_angDrag=this.zip_localCOM=this.zip_sweepRadius=!0;this.worldCOMy=this.worldCOMx=this.localCOMy=this.localCOMx=0;this.sensorEnabled=this.fluidEnabled=!1;this.body=this.fluidProperties=null;this.refmaterial=new d.phys.ZPP_Material;this.sweepRadius=this.sweepCoef=0};l["zpp_nape.shape.ZPP_Shape"]=d.shape.ZPP_Shape;d.shape.ZPP_Shape.__name__=["zpp_nape",
"shape","ZPP_Shape"];d.shape.ZPP_Shape.__super__=d.phys.ZPP_Interactor;d.shape.ZPP_Shape.prototype=z(d.phys.ZPP_Interactor.prototype,{outer:null,body:null,type:null,isCircle:function(){return this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE},isPolygon:function(){return this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON},area:null,zip_area_inertia:null,inertia:null,angDrag:null,zip_angDrag:null,localCOMx:null,localCOMy:null,zip_localCOM:null,worldCOMx:null,worldCOMy:null,zip_worldCOM:null,wrap_localCOM:null,
wrap_worldCOM:null,sweepRadius:null,zip_sweepRadius:null,sweepCoef:null,invalidate_sweepRadius:function(){this.zip_sweepRadius=!0},validate_sweepRadius:function(){this.zip_sweepRadius&&(this.zip_sweepRadius=!1,this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_sweepRadius():this.polygon.__validate_sweepRadius())},circle:null,polygon:null,refmaterial:null,material:null,filter:null,fluidProperties:null,fluidEnabled:null,sensorEnabled:null,sweep:null,node:null,pairs:null,clear:function(){this.type==
d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__clear():this.polygon.__clear()},aabb:null,zip_aabb:null,validate_aabb:function(){this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_aabb():this.polygon.__validate_aabb())},force_validate_aabb:function(){this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle._force_validate_aabb():this.polygon._force_validate_aabb()},invalidate_aabb:function(){this.zip_aabb=!0;null!=this.body&&
(this.body.zip_aabb=!0)},validate_area_inertia:function(){this.zip_area_inertia&&(this.zip_area_inertia=!1,this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},validate_angDrag:function(){if(this.zip_angDrag||this.refmaterial.dynamicFriction!=this.material.dynamicFriction)this.zip_angDrag=!1,this.refmaterial.dynamicFriction=this.material.dynamicFriction,this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_angDrag():
this.polygon.__validate_angDrag()},validate_localCOM:function(){this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy))},validate_worldCOM:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),
null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy))},getworldCOM:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&
this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));this.wrap_worldCOM.zpp_inner.x=this.worldCOMx;this.wrap_worldCOM.zpp_inner.y=this.worldCOMy},invalidate_area_inertia:function(){this.zip_area_inertia=
!0;null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia())},invalidate_angDrag:function(){this.zip_angDrag=!0},invalidate_localCOM:function(){this.zip_localCOM=!0;this.invalidate_area_inertia();this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE&&(this.zip_sweepRadius=!0);this.invalidate_angDrag();this.invalidate_worldCOM();null!=this.body&&this.body.invalidate_localCOM()},invalidate_worldCOM:function(){this.zip_aabb=this.zip_worldCOM=!0;null!=this.body&&
(this.body.zip_aabb=!0)},invalidate_material:function(a){0!=(a&d.phys.ZPP_Material.WAKE)&&this.wake();0!=(a&d.phys.ZPP_Material.ARBITERS)&&null!=this.body&&this.body.refreshArbiters();0!=(a&d.phys.ZPP_Material.PROPS)&&null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia());0!=(a&d.phys.ZPP_Material.ANGDRAG)&&this.invalidate_angDrag();this.refmaterial.set(this.material)},invalidate_filter:function(){this.wake()},invalidate_fluidprops:function(){this.fluidEnabled&&
this.wake()},aabb_validate:function(){this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_aabb():this.polygon.__validate_aabb())},setMaterial:function(a){this.material!=a&&(null!=this.body&&null!=this.body.space&&null!=this.material&&this.material.shapes.remove(this),this.material=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.wake(),null!=this.body&&this.body.refreshArbiters())},setFilter:function(a){this.filter!=
a&&(null!=this.body&&null!=this.body.space&&null!=this.filter&&this.filter.shapes.remove(this),this.filter=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.wake())},setFluid:function(a){this.fluidProperties!=a&&(null!=this.body&&null!=this.body.space&&null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this),this.fluidProperties=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.fluidEnabled&&this.wake())},__immutable_midstep:function(){},addedToBody:function(){this.invalidate_worldCOM();
this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0)},removedFromBody:function(){},addedToSpace:function(){this.__iaddedToSpace();this.material.shapes.add(this);this.filter.shapes.add(this);null!=this.fluidProperties&&this.fluidProperties.shapes.add(this)},removedFromSpace:function(){this.__iremovedFromSpace();this.material.shapes.remove(this);this.filter.shapes.remove(this);null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this)},copy:function(){var a=null,a=this.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
this.circle.__copy():this.polygon.__copy();this.zip_area_inertia?a.invalidate_area_inertia():(a.area=this.area,a.inertia=this.inertia);this.zip_sweepRadius?a.zip_sweepRadius=!0:(a.sweepRadius=this.sweepRadius,a.sweepCoef=this.sweepCoef);this.zip_angDrag?a.invalidate_angDrag():a.angDrag=this.angDrag;this.zip_aabb?(a.zip_aabb=!0,null!=a.body&&(a.body.zip_aabb=!0)):(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);var b=a.material;b.outer=null;
b.next=d.phys.ZPP_Material.zpp_pool;d.phys.ZPP_Material.zpp_pool=b;b=a.filter;b.outer=null;b.next=d.dynamics.ZPP_InteractionFilter.zpp_pool;d.dynamics.ZPP_InteractionFilter.zpp_pool=b;a.material=this.material;a.filter=this.filter;null!=this.fluidProperties&&(a.fluidProperties=this.fluidProperties);a.fluidEnabled=this.fluidEnabled;a.sensorEnabled=this.sensorEnabled;null!=this.userData&&(a.userData=u.copy(this.userData));this.copyto(a.outer);return a.outer},__class__:d.shape.ZPP_Shape});d.shape.ZPP_Circle=
function(){this.radius=0;this.outer_zn=null;d.shape.ZPP_Shape.call(this,d.util.ZPP_Flags.id_ShapeType_CIRCLE);this.circle=this;this.zip_localCOM=!1};l["zpp_nape.shape.ZPP_Circle"]=d.shape.ZPP_Circle;d.shape.ZPP_Circle.__name__=["zpp_nape","shape","ZPP_Circle"];d.shape.ZPP_Circle.__super__=d.shape.ZPP_Shape;d.shape.ZPP_Circle.prototype=z(d.shape.ZPP_Shape.prototype,{outer_zn:null,radius:null,__clear:function(){},invalidate_radius:function(){this.invalidate_area_inertia();this.invalidate_angDrag();
this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0);null!=this.body&&this.body.wake()},localCOM_validate:function(){this.wrap_localCOM.zpp_inner.x=this.localCOMx;this.wrap_localCOM.zpp_inner.y=this.localCOMy},localCOM_invalidate:function(a){this.localCOMx=a.x;this.localCOMy=a.y;this.invalidate_localCOM();null!=this.body&&this.body.wake()},setupLocalCOM:function(){this.wrap_localCOM=f.geom.Vec2.get(this.localCOMx,this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=
w(this,this.localCOM_validate);this.wrap_localCOM.zpp_inner._invalidate=w(this,this.localCOM_invalidate)},__validate_aabb:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*
this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));var a=this.radius,b=this.radius;this.aabb.minx=this.worldCOMx-a;this.aabb.miny=this.worldCOMy-b;this.aabb.maxx=this.worldCOMx+a;this.aabb.maxy=this.worldCOMy+b},_force_validate_aabb:function(){this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy);this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*
this.body.axisy);this.aabb.minx=this.worldCOMx-this.radius;this.aabb.miny=this.worldCOMy-this.radius;this.aabb.maxx=this.worldCOMx+this.radius;this.aabb.maxy=this.worldCOMy+this.radius},__validate_sweepRadius:function(){this.sweepCoef=Math.sqrt(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy);this.sweepRadius=this.sweepCoef+this.radius},__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=0.5*a+(this.localCOMx*this.localCOMx+this.localCOMy*
this.localCOMy)},__validate_angDrag:function(){var a=this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy,b=this.radius*this.radius;this.angDrag=(a+2*b)*this.material.dynamicFriction*f.Config.fluidAngularDragFriction+0.5*f.Config.fluidAngularDrag*(1+f.Config.fluidVacuumDrag)*a;this.angDrag/=2*(a+0.5*b)},__scale:function(a,b){var c;c=((0>a?-a:a)+(0>b?-b:b))/2;this.radius=0>c?this.radius*-c:this.radius*c;this.invalidate_radius();0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy&&
(this.localCOMx*=a,this.localCOMy*=b,this.invalidate_localCOM())},__translate:function(a,b){this.localCOMx+=1*a;this.localCOMy+=1*b;this.invalidate_localCOM()},__rotate:function(a,b){if(0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy){var c=0,d=0,c=b*this.localCOMx-a*this.localCOMy,d=this.localCOMx*a+this.localCOMy*b;this.localCOMx=c;this.localCOMy=d;this.invalidate_localCOM()}},__transform:function(a){var b=a.zpp_inner.a*a.zpp_inner.d-a.zpp_inner.b*a.zpp_inner.c;0>b&&(b=-b);this.radius*=
Math.sqrt(b);b=a.zpp_inner.a*this.localCOMx+a.zpp_inner.b*this.localCOMy+a.zpp_inner.tx;this.localCOMy=a.zpp_inner.c*this.localCOMx+a.zpp_inner.d*this.localCOMy+a.zpp_inner.ty;this.localCOMx=b;this.invalidate_radius();this.invalidate_localCOM()},__copy:function(){var a=(new f.shape.Circle(this.radius)).zpp_inner_zn;a.localCOMx=this.localCOMx;a.localCOMy=this.localCOMy;a.zip_localCOM=!1;return a},__class__:d.shape.ZPP_Circle});d.shape.ZPP_Edge=function(){this.tp0=this.tp1=0;this.lp0=this.gp0=this.lp1=
this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.next=this.polygon=this.outer=null;this.gprojection=this.lprojection=this.length=this.gnormy=this.gnormx=this.lnormy=this.lnormx=0};l["zpp_nape.shape.ZPP_Edge"]=d.shape.ZPP_Edge;d.shape.ZPP_Edge.__name__=["zpp_nape","shape","ZPP_Edge"];d.shape.ZPP_Edge.prototype={next:null,free:function(){this.polygon=null},alloc:function(){},polygon:null,
outer:null,wrapper:function(){null==this.outer&&(d.shape.ZPP_Edge.internal=!0,this.outer=new f.shape.Edge,d.shape.ZPP_Edge.internal=!1,this.outer.zpp_inner=this);return this.outer},lnormx:null,lnormy:null,wrap_lnorm:null,gnormx:null,gnormy:null,wrap_gnorm:null,length:null,lprojection:null,gprojection:null,lp0:null,gp0:null,lp1:null,gp1:null,tp0:null,tp1:null,lnorm_validate:function(){this.polygon.validate_laxi();this.wrap_lnorm.zpp_inner.x=this.lnormx;this.wrap_lnorm.zpp_inner.y=this.lnormy},gnorm_validate:function(){this.polygon.validate_gaxi();
this.wrap_gnorm.zpp_inner.x=this.gnormx;this.wrap_gnorm.zpp_inner.y=this.gnormy},getlnorm:function(){this.wrap_lnorm=f.geom.Vec2.get(this.lnormx,this.lnormy,null);this.wrap_lnorm.zpp_inner._immutable=!0;this.wrap_lnorm.zpp_inner._validate=w(this,this.lnorm_validate)},getgnorm:function(){this.wrap_gnorm=f.geom.Vec2.get(this.gnormx,this.gnormy,null);this.wrap_gnorm.zpp_inner._immutable=!0;this.wrap_gnorm.zpp_inner._validate=w(this,this.gnorm_validate)},__class__:d.shape.ZPP_Edge};d.shape.ZPP_Polygon=
function(){this.reverse_flag=this.zip_lverts=this.zip_laxi=this.zip_gverts=this.zip_gaxi=this.zip_valid=this.zip_sanitation=!1;this.edgeCnt=0;this.outer_zn=this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=this.edges=this.wrap_edges=null;d.shape.ZPP_Shape.call(this,d.util.ZPP_Flags.id_ShapeType_POLYGON);this.polygon=this;this.lverts=new d.geom.ZPP_Vec2;this.gverts=new d.geom.ZPP_Vec2;this.edges=new d.util.ZNPList_ZPP_Edge;this.edgeCnt=0};l["zpp_nape.shape.ZPP_Polygon"]=d.shape.ZPP_Polygon;
d.shape.ZPP_Polygon.__name__=["zpp_nape","shape","ZPP_Polygon"];d.shape.ZPP_Polygon.__super__=d.shape.ZPP_Shape;d.shape.ZPP_Polygon.prototype=z(d.shape.ZPP_Shape.prototype,{outer_zn:null,lverts:null,wrap_lverts:null,gverts:null,wrap_gverts:null,edges:null,wrap_edges:null,edgeCnt:null,reverse_flag:null,__clear:function(){},lverts_pa_invalidate:function(){this.invalidate_lverts()},gverts_pa_validate:function(){this.validate_gverts()},lverts_post_adder:function(a){a.zpp_inner._invalidate=w(this,this.lverts_pa_invalidate);
for(var b=null,c=null,e=this.lverts.next;null!=e&&e!=a.zpp_inner;)b=null==b?this.gverts.next:b.next,c=null==c?this.edges.head:c.next,e=e.next;a=d.geom.ZPP_Vec2.get(0,0,!0);this.gverts.insert(b,a);null!=this.lverts.next.next&&(null==this.lverts.next.next.next?(null==d.shape.ZPP_Edge.zpp_pool?c=new d.shape.ZPP_Edge:(c=d.shape.ZPP_Edge.zpp_pool,d.shape.ZPP_Edge.zpp_pool=c.next,c.next=null),null,c.polygon=this,this.edges.add(c),null==d.shape.ZPP_Edge.zpp_pool?c=new d.shape.ZPP_Edge:(c=d.shape.ZPP_Edge.zpp_pool,
d.shape.ZPP_Edge.zpp_pool=c.next,c.next=null),null,c.polygon=this,this.edges.add(c),this.edgeCnt+=2):(null==d.shape.ZPP_Edge.zpp_pool?b=new d.shape.ZPP_Edge:(b=d.shape.ZPP_Edge.zpp_pool,d.shape.ZPP_Edge.zpp_pool=b.next,b.next=null),null,b.polygon=this,this.edges.insert(c,b),this.edgeCnt++));a._validate=w(this,this.gverts_pa_validate)},lverts_subber:function(a){this.cleanup_lvert(a.zpp_inner)},lverts_invalidate:function(){this.invalidate_lverts()},lverts_validate:function(){this.validate_lverts()},
gverts_validate:function(){this.validate_gverts()},edges_validate:function(){this.validate_lverts()},getlverts:function(){this.wrap_lverts=d.util.ZPP_MixVec2List.get(this.lverts);this.wrap_lverts.zpp_inner.post_adder=w(this,this.lverts_post_adder);this.wrap_lverts.zpp_inner.subber=w(this,this.lverts_subber);this.wrap_lverts.zpp_inner._invalidate=w(this,this.lverts_invalidate);this.wrap_lverts.zpp_inner._validate=w(this,this.lverts_validate);this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag},
getgverts:function(){this.wrap_gverts=d.util.ZPP_MixVec2List.get(this.gverts,!0);this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_gverts.zpp_inner._validate=w(this,this.gverts_validate)},getedges:function(){this.wrap_edges=d.util.ZPP_EdgeList.get(this.edges,!0);this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_edges.zpp_inner._validate=w(this,this.edges_validate)},zip_lverts:null,invalidate_lverts:function(){this.invalidate_laxi();this.invalidate_area_inertia();
this.invalidate_angDrag();this.invalidate_localCOM();this.invalidate_gverts();this.zip_sanitation=this.zip_valid=this.zip_lverts=!0;null!=this.body&&this.body.wake()},zip_laxi:null,invalidate_laxi:function(){this.invalidate_gaxi();this.zip_laxi=this.zip_sweepRadius=!0},zip_gverts:null,invalidate_gverts:function(){this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0);this.zip_gverts=!0},zip_gaxi:null,invalidate_gaxi:function(){this.zip_gaxi=!0},zip_valid:null,validation:null,valid:function(){if(this.zip_valid){this.zip_valid=
!1;this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real());if(3>this.lverts.length)return null==d.util.ZPP_Flags.ValidationResult_DEGENERATE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1),this.validation=d.util.ZPP_Flags.ValidationResult_DEGENERATE;this.validate_lverts();this.validate_area_inertia();if(this.area<f.Config.epsilon)return null==d.util.ZPP_Flags.ValidationResult_DEGENERATE&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.ValidationResult_DEGENERATE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1),this.validation=d.util.ZPP_Flags.ValidationResult_DEGENERATE;for(var a=!1,b=!1,c=!0,e=this.lverts.next,g=e,i=e=e.next,e=e.next;null!=e;){var h=e,n=0,k=0,n=h.x-i.x,k=h.y-i.y,l=0,m=0,l=i.x-g.x,m=i.y-g.y,n=m*n-l*k;n>f.Config.epsilon?b=!0:n<-f.Config.epsilon&&(a=!0);if(b&&a){c=!1;break}g=i;i=h;e=e.next}c&&(h=e=this.lverts.next,k=n=0,n=h.x-i.x,k=h.y-i.y,m=l=0,l=i.x-g.x,m=i.y-g.y,g=m*n-l*k,g>f.Config.epsilon?
b=!0:g<-f.Config.epsilon&&(a=!0),b&&a&&(c=!1),c&&(g=i,i=h,h=e=e.next,e=c=0,c=h.x-i.x,e=h.y-i.y,n=h=0,h=i.x-g.x,n=i.y-g.y,i=n*c-h*e,i>f.Config.epsilon?b=!0:i<-f.Config.epsilon&&(a=!0)));if(b&&a)return null==d.util.ZPP_Flags.ValidationResult_CONCAVE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_CONCAVE=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1),this.validation=d.util.ZPP_Flags.ValidationResult_CONCAVE;i=a=!0;b=g=this.lverts.next;for(g=g.next;null!=g;){c=g;if(!a){i=
!1;break}h=!0;e=n=this.lverts.next;for(n=n.next;null!=n;){k=n;if(!(b==e||b==k||c==e||c==k)){var m=l=0,l=b.x-e.x,m=b.y-e.y,p=0,q=0,p=c.x-b.x,q=c.y-b.y,t=0,s=0,t=k.x-e.x,s=k.y-e.y,u=q*t-p*s;if(u*u>f.Config.epsilon&&(u=1/u,t=(s*l-t*m)*u,t>f.Config.epsilon&&t<1-f.Config.epsilon&&(l=(q*l-p*m)*u,l>f.Config.epsilon&&l<1-f.Config.epsilon))){h=a=!1;break}}e=k;n=n.next}h&&(m=this.lverts.next,b==e||(b==m||c==e||c==m)||(n=h=0,h=b.x-e.x,n=b.y-e.y,l=k=0,k=c.x-b.x,l=c.y-b.y,p=b=0,b=m.x-e.x,p=m.y-e.y,e=l*b-k*p,e*
e>f.Config.epsilon&&(e=1/e,b=(p*h-b*n)*e,b>f.Config.epsilon&&b<1-f.Config.epsilon&&(b=(l*h-k*n)*e,b>f.Config.epsilon&&b<1-f.Config.epsilon&&(a=!1)))));b=c;g=g.next}if(i){do if(g=this.lverts.next,a){c=!0;i=e=this.lverts.next;for(e=e.next;null!=e;){h=e;if(!(b==i||b==h||g==i||g==h))if(k=n=0,n=b.x-i.x,k=b.y-i.y,m=l=0,l=g.x-b.x,m=g.y-b.y,u=q=0,q=h.x-i.x,u=h.y-i.y,p=m*q-l*u,p*p>f.Config.epsilon&&(p=1/p,q=(u*n-q*k)*p,q>f.Config.epsilon&&q<1-f.Config.epsilon&&(n=(m*n-l*k)*p,n>f.Config.epsilon&&n<1-f.Config.epsilon))){c=
a=!1;break}i=h;e=e.next}c&&(k=this.lverts.next,b==i||(b==k||g==i||g==k)||(e=c=0,c=b.x-i.x,e=b.y-i.y,n=h=0,h=g.x-b.x,n=g.y-b.y,l=g=0,g=k.x-i.x,l=k.y-i.y,i=n*g-h*l,i*i>f.Config.epsilon&&(i=1/i,g=(l*c-g*e)*i,g>f.Config.epsilon&&g<1-f.Config.epsilon&&(i*=n*c-h*e,i>f.Config.epsilon&&i<1-f.Config.epsilon&&(a=!1)))))}while(0)}if(a)return null==d.util.ZPP_Flags.ValidationResult_VALID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_VALID=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=
!1),this.validation=d.util.ZPP_Flags.ValidationResult_VALID;null==d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new f.shape.ValidationResult,d.util.ZPP_Flags.internal=!1);return this.validation=d.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING}return this.validation},validate_lverts:function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),
this.area=-this.area)))},cleanup_lvert:function(a){for(var b=null,c=null,e=this.lverts.next;null!=e&&e!=a;)b=null==b?this.gverts.next:b.next,c=null==c?this.edges.head:c.next,e=e.next;a=null==b?this.gverts.next:b.next;this.gverts.erase(b);null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=a;2==this.edgeCnt?(c=this.edges.pop_unsafe(),c.polygon=null,c.next=d.shape.ZPP_Edge.zpp_pool,d.shape.ZPP_Edge.zpp_pool=
c,c=this.edges.pop_unsafe(),c.polygon=null,c.next=d.shape.ZPP_Edge.zpp_pool,d.shape.ZPP_Edge.zpp_pool=c,this.edgeCnt=0):0!=this.edgeCnt&&(b=null==c?this.edges.head.elt:c.next.elt,this.edges.erase(c),b.polygon=null,b.next=d.shape.ZPP_Edge.zpp_pool,d.shape.ZPP_Edge.zpp_pool=b,this.edgeCnt--)},zip_sanitation:null,splice_collinear:function(){this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real())},splice_collinear_real:function(){if(null!=this.lverts.next&&null!=this.lverts.next.next&&
null!=this.lverts.next.next.next){for(var a=null,b=this.lverts.next;null!=b;){var c=b,e=null==b.next?this.lverts.next:b.next;d.geom.ZPP_VecMath.vec_dsq(c.x,c.y,e.x,e.y)<f.Config.epsilon*f.Config.epsilon?(this.cleanup_lvert(b),b=this.lverts.erase(a)):(a=b,b=b.next)}if(null!=this.lverts.next){do{a=!1;for(b=this.lverts.next;null!=b;){var c=null==b.next?this.lverts.next:b.next,g=b,e=c,i=null==c.next?this.lverts.next:c.next,h=0,n=0,h=e.x-g.x,n=e.y-g.y,k=g=0,g=i.x-e.x,k=i.y-e.y,e=k*h-g*n;e*e>=f.Config.epsilon*
f.Config.epsilon||(this.cleanup_lvert(c),this.lverts.erase(null==b.next?null:b),a=!0);b=b.next}}while(a)}}},reverse_vertices:function(){this.lverts.reverse();this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=
this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();for(var a=this.edges.head,b=this.lverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;e.lp0=c;e.lp1=d;var f=0,h=0,f=c.x-d.x,h=c.y-d.y,n=Math.sqrt(f*f+h*h);e.length=n;n=1/n;f*=n;h*=n;n=f;f=-h;h=n;e.lprojection=f*c.x+h*c.y;e.lnormx=f;e.lnormy=h;null!=e.wrap_lnorm&&(e.wrap_lnorm.zpp_inner.x=f,e.wrap_lnorm.zpp_inner.y=h);c=d;b=b.next}e=
this.lverts.next;a=a.elt;a.lp0=c;a.lp1=e;d=b=0;b=c.x-e.x;d=c.y-e.y;e=Math.sqrt(b*b+d*d);a.length=e;e=1/e;f=b*e;b=-(d*e);d=f;a.lprojection=b*c.x+d*c.y;a.lnormx=b;a.lnormy=d;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=d)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=b;){var c=b,d=a,a=a.next;c.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*
d.y);c.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;e.gp0=c;e.gp1=d;e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy;e.gnormy=e.lnormx*this.body.axisx+e.lnormy*this.body.axisy;e.gprojection=this.body.posx*e.gnormx+this.body.posy*
e.gnormy+e.lprojection;null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy);e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy;e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy;c=d;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=c;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=
a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_aabb:function(){this.validate_gverts();var a=this.gverts.next;this.aabb.minx=a.x;this.aabb.miny=a.y;this.aabb.maxx=a.x;this.aabb.maxy=a.y;for(a=this.gverts.next.next;null!=a;){var b=a;b.x<this.aabb.minx&&(this.aabb.minx=b.x);b.x>this.aabb.maxx&&(this.aabb.maxx=b.x);b.y<this.aabb.miny&&(this.aabb.miny=b.y);b.y>this.aabb.maxy&&(this.aabb.maxy=b.y);a=a.next}},_force_validate_aabb:function(){var a=this.lverts.next,
b=this.gverts.next,c=a,a=a.next;b.x=this.body.posx+(this.body.axisy*c.x-this.body.axisx*c.y);b.y=this.body.posy+(c.x*this.body.axisx+c.y*this.body.axisy);this.aabb.minx=b.x;this.aabb.miny=b.y;this.aabb.maxx=b.x;this.aabb.maxy=b.y;for(b=this.gverts.next.next;null!=b;){var c=b,d=a,a=a.next;c.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);c.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);c.x<this.aabb.minx&&(this.aabb.minx=c.x);c.x>this.aabb.maxx&&(this.aabb.maxx=c.x);c.y<this.aabb.miny&&
(this.aabb.miny=c.y);c.y>this.aabb.maxy&&(this.aabb.maxy=c.y);b=b.next}},__validate_sweepRadius:function(){var a=0,b=0;this.validate_laxi();for(var c=this.lverts.next;null!=c;){var d=c,d=d.x*d.x+d.y*d.y;d>a&&(a=d);c=c.next}for(c=this.edges.head;null!=c;){d=c.elt;if(d.lprojection<b&&(b=d.lprojection,0>b))break;c=c.next}0>b&&(b=0);this.sweepRadius=Math.sqrt(a);this.sweepCoef=this.sweepRadius-b},__validate_area_inertia:function(){if(null==this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=
this.area=0;else{for(var a=this.area=0,b=0,c=this.lverts.next,d=c,e=c=c.next,c=c.next;null!=c;){var f=c,h=e.y*d.x-e.x*d.y,a=a+h*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y)),b=b+h;this.area+=e.x*(f.y-d.y);d=e;e=f;c=c.next}h=c=this.lverts.next;f=e.y*d.x-e.x*d.y;a+=f*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(h.y-d.y);d=e;e=h;c=c.next;h=e.y*d.x-e.x*d.y;a+=h*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(c.y-d.y);this.inertia=a/(6*(b+f+h));this.area*=
0.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},__validate_angDrag:function(){this.validate_area_inertia();this.validate_laxi();for(var a=0,b=this.edges.head,c=0,d=this.lverts.next,e=d,d=d.next;null!=d;){var i=d,h=b.elt,b=b.next,c=c+h.length,n=0,k=0,n=i.x-e.x,k=i.y-e.y,a=a+h.length*f.Config.fluidAngularDragFriction*this.material.dynamicFriction*h.lprojection*h.lprojection,l=-(e.y*h.lnormx-e.x*h.lnormy)/(k*h.lnormx-n*h.lnormy);if(0<l){var m;m=1<l?1:l;var p=0,q=0,p=e.x,q=e.y,t=m,p=
p+n*t,q=q+k*t,t=h.lnormy*e.x-h.lnormx*e.y,p=h.lnormy*p-h.lnormx*q,a=a+(p*p*p-t*t*t)/(3*(p-t))*m*h.length*f.Config.fluidAngularDrag}1>l&&(l=0>l?0:l,p=m=0,m=e.x,p=e.y,e=l,m+=n*e,p+=k*e,e=h.lnormy*m-h.lnormx*p,n=h.lnormy*i.x-h.lnormx*i.y,a+=(n*n*n-e*e*e)/(3*(n-e))*f.Config.fluidVacuumDrag*(1-l)*h.length*f.Config.fluidAngularDrag);e=i;d=d.next}d=this.lverts.next;b=b.elt;c+=b.length;h=i=0;i=d.x-e.x;h=d.y-e.y;a+=b.length*f.Config.fluidAngularDragFriction*this.material.dynamicFriction*b.lprojection*b.lprojection;
n=-(e.y*b.lnormx-e.x*b.lnormy)/(h*b.lnormx-i*b.lnormy);0<n&&(k=1<n?1:n,p=m=0,m=e.x,p=e.y,l=b.lnormy*e.x-b.lnormx*e.y,m=b.lnormy*(m+i*k)-b.lnormx*(p+h*k),a+=(m*m*m-l*l*l)/(3*(m-l))*k*b.length*f.Config.fluidAngularDrag);1>n&&(n=0>n?0:n,l=k=0,k=e.x,l=e.y,e=b.lnormy*(k+i*n)-b.lnormx*(l+h*n),d=b.lnormy*d.x-b.lnormx*d.y,a+=(d*d*d-e*e*e)/(3*(d-e))*f.Config.fluidVacuumDrag*(1-n)*b.length*f.Config.fluidAngularDrag);this.angDrag=a/(this.inertia*c)},__validate_localCOM:function(){if(null==this.lverts.next.next)this.localCOMx=
this.lverts.next.x,this.localCOMy=this.lverts.next.y;else if(null==this.lverts.next.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y,this.localCOMx+=1*this.lverts.next.next.x,this.localCOMy+=1*this.lverts.next.next.y,this.localCOMx*=0.5,this.localCOMy*=0.5;else{for(var a=this.localCOMy=this.localCOMx=0,b=this.lverts.next,c=b,d=b=b.next,b=b.next;null!=b;){var e=b,a=a+d.x*(e.y-c.y),c=e.y*d.x-e.x*d.y;this.localCOMx+=(d.x+e.x)*c;this.localCOMy+=(d.y+e.y)*c;c=d;d=e;b=b.next}e=
b=this.lverts.next;a+=d.x*(e.y-c.y);c=e.y*d.x-e.x*d.y;this.localCOMx+=(d.x+e.x)*c;this.localCOMy+=(d.y+e.y)*c;c=d;d=e;b=b.next;a+=d.x*(b.y-c.y);c=b.y*d.x-b.x*d.y;this.localCOMx+=(d.x+b.x)*c;this.localCOMy+=(d.y+b.y)*c;a=1/(3*a);this.localCOMx*=a;this.localCOMy*=a}},localCOM_validate:function(){this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=
this.localCOMy))},localCOM_invalidate:function(a){this.zip_localCOM&&(this.zip_localCOM=!1,this.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy));for(var b=0,c=0,b=a.x-this.localCOMx,c=a.y-this.localCOMy,a=this.lverts.next;null!=a;){var e=a;e.x+=1*b;e.y+=1*c;a=a.next}this.invalidate_lverts()},setupLocalCOM:function(){this.wrap_localCOM=f.geom.Vec2.get(this.localCOMx,
this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=w(this,this.localCOM_validate);this.wrap_localCOM.zpp_inner._invalidate=w(this,this.localCOM_invalidate)},__translate:function(a,b){for(var c=this.lverts.next;null!=c;){var d=c;d.x+=1*a;d.y+=1*b;c=c.next}this.invalidate_lverts()},__scale:function(a,b){for(var c=this.lverts.next;null!=c;){var d=c;d.x*=a;d.y*=b;c=c.next}this.invalidate_lverts()},__rotate:function(a,b){for(var c=this.lverts.next;null!=
c;){var d=c,e=0,f=0,e=b*d.x-a*d.y,f=d.x*a+d.y*b;d.x=e;d.y=f;c=c.next}this.invalidate_lverts()},__transform:function(a){for(var b=this.lverts.next;null!=b;){var c=b,d=a.zpp_inner.a*c.x+a.zpp_inner.b*c.y+a.zpp_inner.tx;c.y=a.zpp_inner.c*c.x+a.zpp_inner.d*c.y+a.zpp_inner.ty;c.x=d;b=b.next}this.invalidate_lverts()},__copy:function(){return(new f.shape.Polygon(this.outer_zn.get_localVerts())).zpp_inner_zn},__class__:d.shape.ZPP_Polygon});d.space={};d.space.ZPP_Broadphase=function(){this.sweep=this.dynab=
this.aabbShape=this.matrix=this.circShape=null;this.is_sweep=!1;this.space=null};l["zpp_nape.space.ZPP_Broadphase"]=d.space.ZPP_Broadphase;d.space.ZPP_Broadphase.__name__=["zpp_nape","space","ZPP_Broadphase"];d.space.ZPP_Broadphase.prototype={space:null,is_sweep:null,sweep:null,dynab:null,insert:function(a){this.is_sweep?this.sweep.__insert(a):this.dynab.__insert(a)},remove:function(a){this.is_sweep?this.sweep.__remove(a):this.dynab.__remove(a)},sync:function(a){this.is_sweep?!this.sweep.space.continuous&&
(a.zip_aabb&&null!=a.body)&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb()):this.dynab.__sync(a)},broadphase:function(){},clear:function(){},shapesUnderPoint:function(){return null},bodiesUnderPoint:function(){return null},aabbShape:null,matrix:null,updateAABBShape:function(a){if(null==this.aabbShape){var b=f.phys.Body;null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,
d.util.ZPP_Flags.internal=!1);(new b(d.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.aabbShape=new f.shape.Polygon(f.shape.Polygon.rect(a.minx,a.miny,a.maxx-a.minx,a.maxy-a.miny)))}else{var b=this.aabbShape.zpp_inner.aabb,c=(a.maxx-a.minx)/(b.maxx-b.minx),e=(a.maxy-a.miny)/(b.maxy-b.miny);null==this.matrix&&(this.matrix=new f.geom.Mat23);this.matrix.set_a(c);this.matrix.set_b(this.matrix.set_c(0));this.matrix.set_d(e);this.matrix.set_tx(a.minx-c*b.minx);this.matrix.set_ty(a.miny-
e*b.miny);this.aabbShape.transform(this.matrix)}this.aabbShape.zpp_inner.validate_aabb();this.aabbShape.zpp_inner.polygon.validate_gaxi()},shapesInAABB:function(){return null},bodiesInAABB:function(){return null},circShape:null,updateCircShape:function(a,b,c){if(null==this.circShape){var e=f.phys.Body;null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);(new e(d.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.circShape=
new f.shape.Circle(c,f.geom.Vec2.get(a,b,null)))}else e=this.circShape.zpp_inner.circle,c/=e.radius,null==this.matrix&&(this.matrix=new f.geom.Mat23),this.matrix.set_a(this.matrix.set_d(c)),this.matrix.set_b(this.matrix.set_c(0)),this.matrix.set_tx(a-c*e.localCOMx),this.matrix.set_ty(b-c*e.localCOMy),this.circShape.transform(this.matrix);this.circShape.zpp_inner.validate_aabb()},shapesInCircle:function(){return null},bodiesInCircle:function(){return null},validateShape:function(a){a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&
a.polygon.validate_gaxi();a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-
a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy))},shapesInShape:function(){return null},bodiesInShape:function(){return null},rayCast:function(){return null},rayMultiCast:function(){return null},__class__:d.space.ZPP_Broadphase};d.space.ZPP_AABBNode=function(){this.synced=this.first_sync=!1;this.snext=null;this.moved=!1;this.next=this.mnext=null;this.height=this.rayt=0;this.parent=this.child1=this.child2=null;this.dyn=!1;this.aabb=this.shape=null;
this.height=-1};l["zpp_nape.space.ZPP_AABBNode"]=d.space.ZPP_AABBNode;d.space.ZPP_AABBNode.__name__=["zpp_nape","space","ZPP_AABBNode"];d.space.ZPP_AABBNode.prototype={aabb:null,shape:null,dyn:null,parent:null,child1:null,child2:null,height:null,rayt:null,next:null,alloc:function(){null==d.geom.ZPP_AABB.zpp_pool?this.aabb=new d.geom.ZPP_AABB:(this.aabb=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=this.aabb.next,this.aabb.next=null);null;this.first_sync=this.synced=this.moved=!1},free:function(){this.height=
-1;var a=this.aabb;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;a.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=a;this.mnext=this.snext=this.next=this.child1=this.child2=this.parent=null},mnext:null,moved:null,snext:null,synced:null,first_sync:null,isLeaf:function(){return null==this.child1},__class__:d.space.ZPP_AABBNode};d.space.ZPP_AABBPair=function(){this.arb=this.next=null;this.id=this.di=0;this.first=this.sleeping=
!1;this.n1=this.n2=null};l["zpp_nape.space.ZPP_AABBPair"]=d.space.ZPP_AABBPair;d.space.ZPP_AABBPair.__name__=["zpp_nape","space","ZPP_AABBPair"];d.space.ZPP_AABBPair.prototype={n1:null,n2:null,first:null,sleeping:null,id:null,di:null,arb:null,next:null,alloc:function(){},free:function(){this.n1=this.n2=null;this.sleeping=!1},__class__:d.space.ZPP_AABBPair};d.space.ZPP_AABBTree=function(){this.root=null};l["zpp_nape.space.ZPP_AABBTree"]=d.space.ZPP_AABBTree;d.space.ZPP_AABBTree.__name__=["zpp_nape",
"space","ZPP_AABBTree"];d.space.ZPP_AABBTree.prototype={root:null,clear:function(){if(null!=this.root){var a;this.root.next=null;for(a=this.root;null!=a;){var b;b=a;a=b.next;b.next=null;if(null==b.child1)b.shape.node=null,b.shape.removedFromSpace(),b.shape=null;else if(null!=b.child1&&(b.child1.next=a,a=b.child1),null!=b.child2)b.child2.next=a,a=b.child2;b.free();b.next=d.space.ZPP_AABBNode.zpp_pool;d.space.ZPP_AABBNode.zpp_pool=b}this.root=null}},insertLeaf:function(a){this.inlined_insertLeaf(a)},
inlined_insertLeaf:function(a){if(null==this.root)this.root=a,this.root.parent=null;else{for(var b=a.aabb,c=this.root;null!=c.child1;){var e=c.child1,g=c.child2,f=c.aabb.perimeter();d.space.ZPP_AABBTree.tmpaabb.setCombine(c.aabb,b);var h=d.space.ZPP_AABBTree.tmpaabb.perimeter(),n=2*h,f=2*(h-f);d.space.ZPP_AABBTree.tmpaabb.setCombine(b,e.aabb);null==e.child1?h=d.space.ZPP_AABBTree.tmpaabb.perimeter()+f:(h=e.aabb.perimeter(),h=d.space.ZPP_AABBTree.tmpaabb.perimeter()-h+f);d.space.ZPP_AABBTree.tmpaabb.setCombine(b,
g.aabb);if(null==g.child1)f=d.space.ZPP_AABBTree.tmpaabb.perimeter()+f;else var k=g.aabb.perimeter(),f=d.space.ZPP_AABBTree.tmpaabb.perimeter()-k+f;if(n<h&&n<f)break;else c=h<f?e:g}e=c.parent;null==d.space.ZPP_AABBNode.zpp_pool?g=new d.space.ZPP_AABBNode:(g=d.space.ZPP_AABBNode.zpp_pool,d.space.ZPP_AABBNode.zpp_pool=g.next,g.next=null);null==d.geom.ZPP_AABB.zpp_pool?g.aabb=new d.geom.ZPP_AABB:(g.aabb=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=g.aabb.next,g.aabb.next=null);null;g.moved=!1;g.synced=
!1;g.first_sync=!1;g.parent=e;g.aabb.setCombine(b,c.aabb);g.height=c.height+1;null!=e?(e.child1==c?e.child1=g:e.child2=g,g.child1=c,g.child2=a,c.parent=g,a.parent=g):(g.child1=c,g.child2=a,c.parent=g,this.root=a.parent=g);for(c=a.parent;null!=c;)c=this.balance(c),a=c.child1,b=c.child2,e=c,g=void 0,g=a.height,n=b.height,g=g>n?g:n,e.height=1+g,c.aabb.setCombine(a.aabb,b.aabb),c=c.parent}},removeLeaf:function(a){this.inlined_removeLeaf(a)},inlined_removeLeaf:function(a){if(a==this.root)this.root=null;
else{var b=a.parent,c=b.parent,a=b.child1==a?b.child2:b.child1;if(null!=c){c.child1==b?c.child1=a:c.child2=a;a.parent=c;b.free();b.next=d.space.ZPP_AABBNode.zpp_pool;d.space.ZPP_AABBNode.zpp_pool=b;for(b=c;null!=b;){var b=this.balance(b),e=b.child1,a=b.child2;b.aabb.setCombine(e.aabb,a.aabb);var c=b,g=void 0,e=e.height,a=a.height,g=e>a?e:a;c.height=1+g;b=b.parent}}else this.root=a,a.parent=null,b.free(),b.next=d.space.ZPP_AABBNode.zpp_pool,d.space.ZPP_AABBNode.zpp_pool=b}},balance:function(a){if(null==
a.child1||2>a.height)return a;var b=a.child1,c=a.child2,d=c.height-b.height;if(1<d){var d=c.child1,e=c.child2;c.child1=a;c.parent=a.parent;a.parent=c;null!=c.parent?c.parent.child1==a?c.parent.child1=c:c.parent.child2=c:this.root=c;d.height>e.height?(c.child2=d,a.child2=e,e.parent=a,a.aabb.setCombine(b.aabb,e.aabb),c.aabb.setCombine(a.aabb,d.aabb),b=b.height,e=e.height,a.height=1+(b>e?b:e),a=a.height,b=d.height):(c.child2=e,a.child2=d,d.parent=a,a.aabb.setCombine(b.aabb,d.aabb),c.aabb.setCombine(a.aabb,
e.aabb),b=b.height,d=d.height,a.height=1+(b>d?b:d),a=a.height,b=e.height);c.height=1+(a>b?a:b);return c}return-1>d?(d=b.child1,e=b.child2,b.child1=a,b.parent=a.parent,a.parent=b,null!=b.parent?b.parent.child1==a?b.parent.child1=b:b.parent.child2=b:this.root=b,d.height>e.height?(b.child2=d,a.child1=e,e.parent=a,a.aabb.setCombine(c.aabb,e.aabb),b.aabb.setCombine(a.aabb,d.aabb),c=c.height,e=e.height,a.height=1+(c>e?c:e),a=a.height,c=d.height):(b.child2=e,a.child1=d,d.parent=a,a.aabb.setCombine(c.aabb,
d.aabb),b.aabb.setCombine(a.aabb,e.aabb),c=c.height,d=d.height,a.height=1+(c>d?c:d),a=a.height,c=e.height),b.height=1+(a>c?a:c),b):a},__class__:d.space.ZPP_AABBTree};d.space.ZPP_DynAABBPhase=function(a){this.stree=this.dtree=this.pairs=this.syncs=this.moves=this.treeStack=this.treeStack2=this.failed=this.openlist=null;d.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!1;this.dynab=this;this.stree=new d.space.ZPP_AABBTree;this.dtree=new d.space.ZPP_AABBTree};l["zpp_nape.space.ZPP_DynAABBPhase"]=
d.space.ZPP_DynAABBPhase;d.space.ZPP_DynAABBPhase.__name__=["zpp_nape","space","ZPP_DynAABBPhase"];d.space.ZPP_DynAABBPhase.__super__=d.space.ZPP_Broadphase;d.space.ZPP_DynAABBPhase.prototype=z(d.space.ZPP_Broadphase.prototype,{stree:null,dtree:null,pairs:null,syncs:null,moves:null,dyn:function(a){return a.body.type==d.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping},__insert:function(a){var b;null==d.space.ZPP_AABBNode.zpp_pool?b=new d.space.ZPP_AABBNode:(b=d.space.ZPP_AABBNode.zpp_pool,
d.space.ZPP_AABBNode.zpp_pool=b.next,b.next=null);null==d.geom.ZPP_AABB.zpp_pool?b.aabb=new d.geom.ZPP_AABB:(b.aabb=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=b.aabb.next,b.aabb.next=null);null;b.moved=!1;b.synced=!1;b.first_sync=!1;b.shape=a;a.node=b;b.synced=!0;b.first_sync=!0;b.snext=this.syncs;this.syncs=b},__remove:function(a){var b=a.node;b.first_sync||(b.dyn?this.dtree.removeLeaf(b):this.stree.removeLeaf(b));a.node=null;if(b.synced){for(var c=null,e=this.syncs;null!=e&&e!=b;)c=e,e=e.snext;
null==c?this.syncs=e.snext:c.snext=e.snext;e.snext=null;b.synced=!1}if(b.moved){c=null;for(e=this.moves;null!=e&&e!=b;)c=e,e=e.mnext;null==c?this.moves=e.mnext:c.mnext=e.mnext;e.mnext=null;b.moved=!1}for(var c=null,g=this.pairs;null!=g;)e=g.next,g.n1==b||g.n2==b?(null==c?this.pairs=e:c.next=e,null!=g.arb&&(g.arb.pair=null),g.arb=null,g.n1.shape.pairs.remove(g),g.n2.shape.pairs.remove(g),g.n1=g.n2=null,g.sleeping=!1,g.next=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=g):c=g,g=e;for(;null!=
a.pairs.head;)c=a.pairs.pop_unsafe(),c.n1==b?c.n2.shape.pairs.remove(c):c.n1.shape.pairs.remove(c),null!=c.arb&&(c.arb.pair=null),c.arb=null,c.n1=c.n2=null,c.sleeping=!1,c.next=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=c;b.free();b.next=d.space.ZPP_AABBNode.zpp_pool;d.space.ZPP_AABBNode.zpp_pool=b},__sync:function(a){var b=a.node;if(!b.synced&&(!this.space.continuous&&(a.zip_aabb&&null!=a.body)&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():
a.polygon.__validate_aabb()),b.dyn!=(a.body.type==d.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping)||!b.aabb.contains(a.aabb)))b.synced=!0,b.snext=this.syncs,this.syncs=b},sync_broadphase:function(){this.space.validation();if(null!=this.syncs)if(null==this.moves){for(var a=this.syncs;null!=a;){var b=a.shape;a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a);var c=a.aabb;!this.space.continuous&&(b.zip_aabb&&null!=b.body)&&(b.zip_aabb=!1,b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
b.circle.__validate_aabb():b.polygon.__validate_aabb());c.setExpand(b.aabb,3);((b.body.type==d.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(a);a.synced=!1;a.moved=!0;a.mnext=a.snext;a.snext=null;a=a.mnext}a=this.syncs;this.syncs=this.moves;this.moves=a}else for(;null!=this.syncs;)if(a=this.syncs,this.syncs=a.snext,a.snext=null,b=a.shape,a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a),c=a.aabb,
!this.space.continuous&&(b.zip_aabb&&null!=b.body)&&(b.zip_aabb=!1,b.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb()),c.setExpand(b.aabb,3),((b.body.type==d.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(a),a.synced=!1,!a.moved)a.moved=!0,a.mnext=this.moves,this.moves=a},broadphase:function(a,b){for(var c=this.syncs;null!=c;){var e=c.shape;c.first_sync?c.first_sync=!1:(c.dyn?this.dtree:
this.stree).inlined_removeLeaf(c);var g=c.aabb;!a.continuous&&(e.zip_aabb&&null!=e.body)&&(e.zip_aabb=!1,e.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?e.circle.__validate_aabb():e.polygon.__validate_aabb());g.setExpand(e.aabb,3);((e.body.type==d.util.ZPP_Flags.id_BodyType_STATIC?c.dyn=!1:c.dyn=!e.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(c);c.synced=!1;c=c.snext}for(;null!=this.syncs;)if(c=this.syncs,this.syncs=c.snext,c.snext=null,!c.moved&&(c.moved=!1,e=c.shape,!e.body.component.sleeping)){var g=
c.aabb,f=null;null!=this.dtree.root&&(this.dtree.root.next=f,f=this.dtree.root);for(;null!=f;){var h;h=f;f=h.next;h.next=null;if(h!=c)if(null==h.child1){var n=h.shape;if(n.body!=e.body&&!(n.body.type==d.util.ZPP_Flags.id_BodyType_STATIC&&e.body.type==d.util.ZPP_Flags.id_BodyType_STATIC)&&g.intersect(h.aabb)){var k,l;e.id<n.id?(k=e.id,l=n.id):(k=n.id,l=e.id);for(var m=null,p=(e.pairs.length<n.pairs.length?e:n).pairs.head;null!=p;){var q=p.elt;if(q.id==k&&q.di==l){m=q;break}p=p.next}null!=m?m.sleeping&&
(m.sleeping=!1,m.next=this.pairs,this.pairs=m,m.first=!0):(null==d.space.ZPP_AABBPair.zpp_pool?m=new d.space.ZPP_AABBPair:(m=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=m.next,m.next=null),null,m.n1=c,m.n2=h,m.id=k,m.di=l,m.next=this.pairs,this.pairs=m,m.first=!0,e.pairs.inlined_add(m),n.pairs.inlined_add(m))}}else if(g.intersect(h.aabb)&&(null!=h.child1&&(h.child1.next=f,f=h.child1),null!=h.child2))h.child2.next=f,f=h.child2}null!=this.stree.root&&(this.stree.root.next=f,f=this.stree.root);
for(;null!=f;)if(h=f,f=h.next,h.next=null,h!=c)if(null==h.child1){if(n=h.shape,n.body!=e.body&&!(n.body.type==d.util.ZPP_Flags.id_BodyType_STATIC&&e.body.type==d.util.ZPP_Flags.id_BodyType_STATIC)&&g.intersect(h.aabb)){e.id<n.id?(k=e.id,l=n.id):(k=n.id,l=e.id);m=null;for(p=(e.pairs.length<n.pairs.length?e:n).pairs.head;null!=p;){q=p.elt;if(q.id==k&&q.di==l){m=q;break}p=p.next}null!=m?m.sleeping&&(m.sleeping=!1,m.next=this.pairs,this.pairs=m,m.first=!0):(null==d.space.ZPP_AABBPair.zpp_pool?m=new d.space.ZPP_AABBPair:
(m=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=m.next,m.next=null),null,m.n1=c,m.n2=h,m.id=k,m.di=l,m.next=this.pairs,this.pairs=m,m.first=!0,e.pairs.inlined_add(m),n.pairs.inlined_add(m))}}else if(g.intersect(h.aabb)&&(null!=h.child1&&(h.child1.next=f,f=h.child1),null!=h.child2))h.child2.next=f,f=h.child2}for(;null!=this.moves;)if(c=this.moves,this.moves=c.mnext,c.mnext=null,c.moved=!1,e=c.shape,!e.body.component.sleeping){g=c.aabb;f=null;null!=this.dtree.root&&(this.dtree.root.next=
f,f=this.dtree.root);for(;null!=f;)if(h=f,f=h.next,h.next=null,h!=c)if(null==h.child1){if(n=h.shape,n.body!=e.body&&!(n.body.type==d.util.ZPP_Flags.id_BodyType_STATIC&&e.body.type==d.util.ZPP_Flags.id_BodyType_STATIC)&&g.intersect(h.aabb)){e.id<n.id?(k=e.id,l=n.id):(k=n.id,l=e.id);m=null;for(p=(e.pairs.length<n.pairs.length?e:n).pairs.head;null!=p;){q=p.elt;if(q.id==k&&q.di==l){m=q;break}p=p.next}null!=m?m.sleeping&&(m.sleeping=!1,m.next=this.pairs,this.pairs=m,m.first=!0):(null==d.space.ZPP_AABBPair.zpp_pool?
m=new d.space.ZPP_AABBPair:(m=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=m.next,m.next=null),null,m.n1=c,m.n2=h,m.id=k,m.di=l,m.next=this.pairs,this.pairs=m,m.first=!0,e.pairs.inlined_add(m),n.pairs.inlined_add(m))}}else if(g.intersect(h.aabb)&&(null!=h.child1&&(h.child1.next=f,f=h.child1),null!=h.child2))h.child2.next=f,f=h.child2;null!=this.stree.root&&(this.stree.root.next=f,f=this.stree.root);for(;null!=f;)if(h=f,f=h.next,h.next=null,h!=c)if(null==h.child1){if(n=h.shape,n.body!=
e.body&&!(n.body.type==d.util.ZPP_Flags.id_BodyType_STATIC&&e.body.type==d.util.ZPP_Flags.id_BodyType_STATIC)&&g.intersect(h.aabb)){e.id<n.id?(k=e.id,l=n.id):(k=n.id,l=e.id);m=null;for(p=(e.pairs.length<n.pairs.length?e:n).pairs.head;null!=p;){q=p.elt;if(q.id==k&&q.di==l){m=q;break}p=p.next}null!=m?m.sleeping&&(m.sleeping=!1,m.next=this.pairs,this.pairs=m,m.first=!0):(null==d.space.ZPP_AABBPair.zpp_pool?m=new d.space.ZPP_AABBPair:(m=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=m.next,
m.next=null),null,m.n1=c,m.n2=h,m.id=k,m.di=l,m.next=this.pairs,this.pairs=m,m.first=!0,e.pairs.inlined_add(m),n.pairs.inlined_add(m))}}else if(g.intersect(h.aabb)&&(null!=h.child1&&(h.child1.next=f,f=h.child1),null!=h.child2))h.child2.next=f,f=h.child2}c=null;for(e=this.pairs;null!=e;)!e.first&&!e.n1.aabb.intersect(e.n2.aabb)?(null==c?this.pairs=e.next:c.next=e.next,e.n1.shape.pairs.inlined_try_remove(e),e.n2.shape.pairs.inlined_try_remove(e),g=e.next,null!=e.arb&&(e.arb.pair=null),e.arb=null,e.n1=
e.n2=null,e.sleeping=!1,e.next=d.space.ZPP_AABBPair.zpp_pool,d.space.ZPP_AABBPair.zpp_pool=e,e=g):(g=e.n1.shape,f=g.body,h=e.n2.shape,n=h.body,!e.first&&(f.component.sleeping||f.type==d.util.ZPP_Flags.id_BodyType_STATIC)&&(n.component.sleeping||n.type==d.util.ZPP_Flags.id_BodyType_STATIC)?(e.sleeping=!0,null==c?this.pairs=e.next:c.next=e.next):(e.first=!1,g.aabb.intersect(h.aabb)&&(c=e.arb,e.arb=b?a.narrowPhase(g,h,f.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC||n.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC,
e.arb,!1):a.continuousEvent(g,h,f.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC||n.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC,e.arb,!1),null==e.arb?null!=c&&(c.pair=null):e.arb.pair=e),c=e),e=e.next)},clear:function(){for(;null!=this.syncs;){var a=this.syncs.snext;this.syncs.snext=null;this.syncs.first_sync&&(this.syncs.shape.node=null,this.syncs.shape.removedFromSpace(),this.syncs.shape=null);this.syncs=a}for(;null!=this.moves;)a=this.moves.mnext,this.moves.mnext=null,this.moves.first_sync&&(this.moves.shape.node=
null,this.moves.shape.removedFromSpace(),this.moves.shape=null),this.moves=a;for(;null!=this.pairs;){a=this.pairs.next;null!=this.pairs.arb&&(this.pairs.arb.pair=null);this.pairs.arb=null;this.pairs.n1.shape.pairs.inlined_try_remove(this.pairs);this.pairs.n2.shape.pairs.inlined_try_remove(this.pairs);var b=this.pairs;b.n1=b.n2=null;b.sleeping=!1;b.next=d.space.ZPP_AABBPair.zpp_pool;d.space.ZPP_AABBPair.zpp_pool=b;this.pairs=a}this.dtree.clear();this.stree.clear()},treeStack:null,shapesUnderPoint:function(a,
b,c,e){this.sync_broadphase();a=d.geom.ZPP_Vec2.get(a,b,null);e=null==e?new f.shape.ShapeList:e;if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(null==c||b.shape.filter.shouldCollide(c))b.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?d.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&e.push(b.shape.outer):
d.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&e.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(null==c||b.shape.filter.shouldCollide(c))b.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
d.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&e.push(b.shape.outer):d.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&e.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=a;return e},bodiesUnderPoint:function(a,b,c,e){this.sync_broadphase();a=d.geom.ZPP_Vec2.get(a,
b,null);e=null==e?new f.phys.BodyList:e;if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){var g=b.shape.body.outer;if(!e.has(g)&&(null==c||b.shape.filter.shouldCollide(c)))b.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?d.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&e.push(g):d.geom.ZPP_Collide.polyContains(b.shape.polygon,
a)&&e.push(g)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(g=b.shape.body.outer,!e.has(g)&&(null==c||b.shape.filter.shouldCollide(c)))b.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?d.geom.ZPP_Collide.circleContains(b.shape.circle,
a)&&e.push(g):d.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&e.push(g)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=a;return e},treeStack2:null,shapesInAABB:function(a,b,c,e,g){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;g=null==g?new f.shape.ShapeList:
g;if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var i=this.treeStack.pop_unsafe();if(a.contains(i.aabb))if(null==i.child1)(null==e||i.shape.filter.shouldCollide(e))&&g.push(i.shape.outer);else{null==this.treeStack2&&(this.treeStack2=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack2.add(i);null!=this.treeStack2.head;)i=this.treeStack2.pop_unsafe(),null==i.child1?(null==e||i.shape.filter.shouldCollide(e))&&
g.push(i.shape.outer):(null!=i.child1&&this.treeStack2.add(i.child1),null!=i.child2&&this.treeStack2.add(i.child2))}else if(i.aabb.intersect(a))if(null==i.child1){if(null==e||i.shape.filter.shouldCollide(e))b?c?d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,i.shape)&&g.push(i.shape.outer):a.contains(i.shape.aabb)?g.push(i.shape.outer):d.geom.ZPP_Collide.testCollide_safe(i.shape,this.aabbShape.zpp_inner)&&g.push(i.shape.outer):(!c||a.contains(i.shape.aabb))&&g.push(i.shape.outer)}else null!=
i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(i=this.treeStack.pop_unsafe(),a.contains(i.aabb))if(null==i.child1)(null==e||i.shape.filter.shouldCollide(e))&&g.push(i.shape.outer);else{null==this.treeStack2&&(this.treeStack2=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack2.add(i);null!=this.treeStack2.head;)i=
this.treeStack2.pop_unsafe(),null==i.child1?(null==e||i.shape.filter.shouldCollide(e))&&g.push(i.shape.outer):(null!=i.child1&&this.treeStack2.add(i.child1),null!=i.child2&&this.treeStack2.add(i.child2))}else if(i.aabb.intersect(a))if(null==i.child1){if(null==e||i.shape.filter.shouldCollide(e))b?c?d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,i.shape)&&g.push(i.shape.outer):a.contains(i.shape.aabb)?g.push(i.shape.outer):d.geom.ZPP_Collide.testCollide_safe(i.shape,this.aabbShape.zpp_inner)&&
g.push(i.shape.outer):(!c||a.contains(i.shape.aabb))&&g.push(i.shape.outer)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}return g},failed:null,bodiesInAABB:function(a,b,c,e,g){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;g=null==g?new f.phys.BodyList:g;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=
this.treeStack.head;){var i=this.treeStack.pop_unsafe();if(a.contains(i.aabb))if(null==i.child1){if(null==e||i.shape.filter.shouldCollide(e)){var h=i.shape.body.outer;g.has(h)||g.push(h)}}else{null==this.treeStack2&&(this.treeStack2=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack2.add(i);null!=this.treeStack2.head;)if(h=this.treeStack2.pop_unsafe(),null==h.child1){if(null==e||h.shape.filter.shouldCollide(e))h=h.shape.body.outer,g.has(h)||g.push(h)}else null!=h.child1&&this.treeStack2.add(h.child1),
null!=h.child2&&this.treeStack2.add(h.child2)}else if(i.aabb.intersect(a))if(null==i.child1){if(h=i.shape.body.outer,null==e||i.shape.filter.shouldCollide(e))b?c?this.failed.has(h)||(i=d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,i.shape),!g.has(h)&&i?g.push(h):i||(g.remove(h),this.failed.push(h))):!g.has(h)&&d.geom.ZPP_Collide.testCollide_safe(i.shape,this.aabbShape.zpp_inner)&&g.push(h):c?this.failed.has(h)||(i=a.contains(i.shape.aabb),!g.has(h)&&i?g.push(h):i||(g.remove(h),this.failed.push(h))):
!g.has(h)&&a.contains(i.shape.aabb)&&g.push(h)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(i=this.treeStack.pop_unsafe(),a.contains(i.aabb))if(null==i.child1){if(null==e||i.shape.filter.shouldCollide(e))h=i.shape.body.outer,g.has(h)||g.push(h)}else{null==this.treeStack2&&(this.treeStack2=
new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack2.add(i);null!=this.treeStack2.head;)if(h=this.treeStack2.pop_unsafe(),null==h.child1){if(null==e||h.shape.filter.shouldCollide(e))h=h.shape.body.outer,g.has(h)||g.push(h)}else null!=h.child1&&this.treeStack2.add(h.child1),null!=h.child2&&this.treeStack2.add(h.child2)}else if(i.aabb.intersect(a))if(null==i.child1){if(h=i.shape.body.outer,null==e||i.shape.filter.shouldCollide(e))b?c?this.failed.has(h)||(i=d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,
i.shape),!g.has(h)&&i?g.push(h):i||(g.remove(h),this.failed.push(h))):!g.has(h)&&d.geom.ZPP_Collide.testCollide_safe(i.shape,this.aabbShape.zpp_inner)&&g.push(h):c?this.failed.has(h)||(i=a.contains(i.shape.aabb),!g.has(h)&&i?g.push(h):i||(g.remove(h),this.failed.push(h))):!g.has(h)&&a.contains(i.shape.aabb)&&g.push(h)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}this.failed.clear();return g},shapesInCircle:function(a,b,c,e,g,i){this.sync_broadphase();
this.updateCircShape(a,b,c);a=this.circShape.zpp_inner.aabb;i=null==i?new f.shape.ShapeList:i;if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.intersect(a))if(null==b.child1){if(null==g||b.shape.filter.shouldCollide(g))e?d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&i.push(b.shape.outer):d.geom.ZPP_Collide.testCollide_safe(b.shape,
this.circShape.zpp_inner)&&i.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.intersect(a))if(null==b.child1){if(null==g||b.shape.filter.shouldCollide(g))e?d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&i.push(b.shape.outer):
d.geom.ZPP_Collide.testCollide_safe(b.shape,this.circShape.zpp_inner)&&i.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)}return i},bodiesInCircle:function(a,b,c,e,g,i){this.sync_broadphase();this.updateCircShape(a,b,c);a=this.circShape.zpp_inner.aabb;i=null==i?new f.phys.BodyList:i;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=
this.treeStack.head;)if(c=this.treeStack.pop_unsafe(),c.aabb.intersect(a))if(null==c.child1){if(b=c.shape.body.outer,null==g||c.shape.filter.shouldCollide(g))e?this.failed.has(b)||(c=d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,c.shape),!i.has(b)&&c?i.push(b):c||(i.remove(b),this.failed.push(b))):!i.has(b)&&d.geom.ZPP_Collide.testCollide_safe(c.shape,this.circShape.zpp_inner)&&i.push(b)}else null!=c.child1&&this.treeStack.add(c.child1),null!=c.child2&&this.treeStack.add(c.child2)}if(null!=
this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(c=this.treeStack.pop_unsafe(),c.aabb.intersect(a))if(null==c.child1){if(b=c.shape.body.outer,null==g||c.shape.filter.shouldCollide(g))e?this.failed.has(b)||(c=d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,c.shape),!i.has(b)&&c?i.push(b):c||(i.remove(b),this.failed.push(b))):!i.has(b)&&d.geom.ZPP_Collide.testCollide_safe(c.shape,this.circShape.zpp_inner)&&
i.push(b)}else null!=c.child1&&this.treeStack.add(c.child1),null!=c.child2&&this.treeStack.add(c.child2)}this.failed.clear();return i},shapesInShape:function(a,b,c,e){this.sync_broadphase();this.validateShape(a);var g=a.aabb,e=null==e?new f.shape.ShapeList:e;if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var i=this.treeStack.pop_unsafe();if(i.aabb.intersect(g))if(null==i.child1){if(null==
c||i.shape.filter.shouldCollide(c))b?d.geom.ZPP_Collide.containTest(a,i.shape)&&e.push(i.shape.outer):d.geom.ZPP_Collide.testCollide_safe(i.shape,a)&&e.push(i.shape.outer)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(i=this.treeStack.pop_unsafe(),i.aabb.intersect(g))if(null==i.child1){if(null==
c||i.shape.filter.shouldCollide(c))b?d.geom.ZPP_Collide.containTest(a,i.shape)&&e.push(i.shape.outer):d.geom.ZPP_Collide.testCollide_safe(i.shape,a)&&e.push(i.shape.outer)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}return e},bodiesInShape:function(a,b,c,e){this.sync_broadphase();this.validateShape(a);var g=a.aabb,e=null==e?new f.phys.BodyList:e;null==this.failed&&(this.failed=new f.phys.BodyList);if(null!=this.stree.root){null==this.treeStack&&(this.treeStack=
new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var i=this.treeStack.pop_unsafe();if(i.aabb.intersect(g))if(null==i.child1){var h=i.shape.body.outer;if(null==c||i.shape.filter.shouldCollide(c))b?this.failed.has(h)||(i=d.geom.ZPP_Collide.containTest(a,i.shape),!e.has(h)&&i?e.push(h):i||(e.remove(h),this.failed.push(h))):!e.has(h)&&d.geom.ZPP_Collide.testCollide_safe(i.shape,a)&&e.push(h)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&
this.treeStack.add(i.child2)}}if(null!=this.dtree.root){null==this.treeStack&&(this.treeStack=new d.util.ZNPList_ZPP_AABBNode);for(this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(i=this.treeStack.pop_unsafe(),i.aabb.intersect(g))if(null==i.child1){if(h=i.shape.body.outer,null==c||i.shape.filter.shouldCollide(c))b?this.failed.has(h)||(i=d.geom.ZPP_Collide.containTest(a,i.shape),!e.has(h)&&i?e.push(h):i||(e.remove(h),this.failed.push(h))):!e.has(h)&&d.geom.ZPP_Collide.testCollide_safe(i.shape,
a)&&e.push(h)}else null!=i.child1&&this.treeStack.add(i.child1),null!=i.child2&&this.treeStack.add(i.child2)}this.failed.clear();return e},openlist:null,rayCast:function(a,b,c){null==this.openlist&&(this.openlist=new d.util.ZNPList_ZPP_AABBNode);this.sync_broadphase();a.validate_dir();var e=a.maxdist;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb)){var g=a.aabbsect(this.dtree.root.aabb);if(0<=g&&g<e){this.dtree.root.rayt=g;for(var g=null,f=this.openlist.head;null!=f&&!(this.dtree.root.rayt<
f.elt.rayt);)g=f,f=f.next;this.openlist.inlined_insert(g,this.dtree.root)}}if(null!=this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(g=a.aabbsect(this.stree.root.aabb),0<=g&&g<e)){this.stree.root.rayt=g;g=null;for(f=this.openlist.head;null!=f&&!(this.stree.root.rayt<f.elt.rayt);)g=f,f=f.next;this.openlist.inlined_insert(g,this.stree.root)}for(g=null;null!=this.openlist.head;){f=this.openlist.pop_unsafe();if(f.rayt>=e)break;if(null==f.child1){if(f=f.shape,null==c||f.filter.shouldCollide(c))f=f.type==
d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(f.circle,b,e):a.aabbtest(f.aabb)?a.polysect(f.polygon,b,e):null,null!=f&&(e=f.zpp_inner.toiDistance,null!=g&&g.zpp_inner.free(),g=f)}else{if(null!=f.child1&&a.aabbtest(f.child1.aabb)){var h=a.aabbsect(f.child1.aabb);if(0<=h&&h<e){f.child1.rayt=h;for(var h=null,k=this.openlist.head;null!=k&&!(f.child1.rayt<k.elt.rayt);)h=k,k=k.next;this.openlist.inlined_insert(h,f.child1)}}if(null!=f.child2&&a.aabbtest(f.child2.aabb)&&(h=a.aabbsect(f.child2.aabb),0<=
h&&h<e)){f.child2.rayt=h;h=null;for(k=this.openlist.head;null!=k&&!(f.child2.rayt<k.elt.rayt);)h=k,k=k.next;this.openlist.inlined_insert(h,f.child2)}}}this.openlist.clear();return g},rayMultiCast:function(a,b,c,e){null==this.openlist&&(this.openlist=new d.util.ZNPList_ZPP_AABBNode);this.sync_broadphase();a.validate_dir();var g=a.maxdist>=Math.POSITIVE_INFINITY,e=null==e?new f.geom.RayResultList:e;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb))if(g)this.openlist.add(this.dtree.root);else{var i=
a.aabbsect(this.dtree.root.aabb);0<=i&&i<a.maxdist&&this.openlist.add(this.dtree.root)}null!=this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(g?this.openlist.add(this.stree.root):(i=a.aabbsect(this.stree.root.aabb),0<=i&&i<a.maxdist&&this.openlist.add(this.stree.root)));for(;null!=this.openlist.head;)if(i=this.openlist.pop_unsafe(),null==i.child1){if(i=i.shape,null==c||i.filter.shouldCollide(c))i.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(i.circle,b,e):a.aabbtest(i.aabb)&&a.polysect2(i.polygon,
b,e)}else{if(null!=i.child1&&a.aabbtest(i.child1.aabb))if(g)this.openlist.add(i.child1);else{var h=a.aabbsect(i.child1.aabb);0<=h&&h<a.maxdist&&this.openlist.add(i.child1)}null!=i.child2&&a.aabbtest(i.child2.aabb)&&(g?this.openlist.add(i.child2):(h=a.aabbsect(i.child2.aabb),0<=h&&h<a.maxdist&&this.openlist.add(i.child2)))}this.openlist.clear();return e},__class__:d.space.ZPP_DynAABBPhase});d.space.ZPP_Island=function(){this.waket=0;this.sleep=!1;this.comps=null;this.length=0;this._inuse=this.modified=
this.pushmod=!1;this.next=null;this.comps=new d.util.ZNPList_ZPP_Component};l["zpp_nape.space.ZPP_Island"]=d.space.ZPP_Island;d.space.ZPP_Island.__name__=["zpp_nape","space","ZPP_Island"];d.space.ZPP_Island.prototype={next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;
this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
c;null==a?(b=this.next,this.next=c=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},
has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},comps:null,sleep:null,waket:null,free:function(){},alloc:function(){this.waket=0},__class__:d.space.ZPP_Island};
d.space.ZPP_Component=function(){this.woken=!1;this.waket=0;this.sleeping=!1;this.body=this.constraint=this.island=null;this.isBody=!1;this.rank=0;this.next=this.parent=null;this.sleeping=!1;this.island=null;this.parent=this;this.rank=0;this.woken=!1};l["zpp_nape.space.ZPP_Component"]=d.space.ZPP_Component;d.space.ZPP_Component.__name__=["zpp_nape","space","ZPP_Component"];d.space.ZPP_Component.prototype={next:null,parent:null,rank:null,isBody:null,body:null,constraint:null,island:null,sleeping:null,
waket:null,woken:null,free:function(){this.constraint=this.body=null},alloc:function(){},reset:function(){this.sleeping=!1;this.island=null;this.parent=this;this.rank=0},__class__:d.space.ZPP_Component};d.space.ZPP_CallbackSet=function(){this.freed=this.lazydel=!1;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.int1=this.int2=this.next=null;this.id=this.di=0;this.arbiters=new d.util.ZNPList_ZPP_Arbiter};l["zpp_nape.space.ZPP_CallbackSet"]=d.space.ZPP_CallbackSet;d.space.ZPP_CallbackSet.__name__=
["zpp_nape","space","ZPP_CallbackSet"];d.space.ZPP_CallbackSet.get=function(a,b){var c;null==d.space.ZPP_CallbackSet.zpp_pool?c=new d.space.ZPP_CallbackSet:(c=d.space.ZPP_CallbackSet.zpp_pool,d.space.ZPP_CallbackSet.zpp_pool=c.next,c.next=null);c.freed=!1;c.lazydel=!1;c.COLLISIONstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;c.COLLISIONstamp=0;c.SENSORstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;c.SENSORstamp=0;c.FLUIDstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;c.FLUIDstamp=0;a.id<b.id?(c.int1=a,c.int2=b):(c.int1=
b,c.int2=a);c.id=c.int1.id;c.di=c.int2.id;return c};d.space.ZPP_CallbackSet.prototype={id:null,di:null,int1:null,int2:null,arbiters:null,COLLISIONstate:null,COLLISIONstamp:null,SENSORstate:null,SENSORstamp:null,FLUIDstate:null,FLUIDstamp:null,next:null,elem:function(){return this},begin:function(){return this.next},_inuse:null,modified:null,pushmod:null,length:null,setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=
!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=
!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.next,d=!1;null!=c;){if(c==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},
erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.next,this.next=c=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=
this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.next;null!=c;){if(c==a){b=!0;break}c=c.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},freed:null,lazydel:null,
free:function(){this.int1=this.int2=null;this.id=this.di=-1;this.freed=!0},alloc:function(){this.lazydel=this.freed=!1;this.COLLISIONstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;this.COLLISIONstamp=0;this.SENSORstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;this.SENSORstamp=0;this.FLUIDstate=d.util.ZPP_Flags.id_PreFlag_ACCEPT;this.FLUIDstamp=0},add_arb:function(a){if(this.arbiters.inlined_has(a))return!1;this.arbiters.inlined_add(a);return!0},try_remove_arb:function(a){return this.arbiters.inlined_try_remove(a)},
remove_arb:function(a){this.arbiters.inlined_try_remove(a)},empty_arb:function(a){var b;b=!0;for(var c=this.arbiters.head;null!=c;)if(0==(c.elt.type&a))c=c.next;else{b=!1;break}return b},really_empty:function(){return null==this.arbiters.head},sleeping:function(){var a;a=!0;for(var b=this.arbiters.head;null!=b;)if(b.elt.sleeping)b=b.next;else{a=!1;break}return a},__class__:d.space.ZPP_CallbackSet};d.space.ZPP_CbSetManager=function(a){this.cbsets=this.space=null;null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?
this.cbsets=new d.util.ZPP_Set_ZPP_CbSet:(this.cbsets=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=this.cbsets.next,this.cbsets.next=null);null;this.cbsets.lt=d.callbacks.ZPP_CbSet.setlt;this.space=a};l["zpp_nape.space.ZPP_CbSetManager"]=d.space.ZPP_CbSetManager;d.space.ZPP_CbSetManager.__name__=["zpp_nape","space","ZPP_CbSetManager"];d.space.ZPP_CbSetManager.prototype={cbsets:null,space:null,get:function(a){if(null==a.head)return null;var b;null==d.callbacks.ZPP_CbSet.zpp_pool?
b=new d.callbacks.ZPP_CbSet:(b=d.callbacks.ZPP_CbSet.zpp_pool,d.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;var c=b.cbTypes;b.cbTypes=a;var e=this.cbsets.find_weak(b);null!=e?a=e.data:(a=d.callbacks.ZPP_CbSet.get(a),this.cbsets.insert(a),a.manager=this);b.cbTypes=c;b.free();b.next=d.callbacks.ZPP_CbSet.zpp_pool;d.callbacks.ZPP_CbSet.zpp_pool=b;return a},remove:function(a){for(this.cbsets.remove(a);null!=a.cbpairs.head;){var b=a.cbpairs.pop_unsafe();b.a!=b.b&&(a==b.a?b.b.cbpairs.remove(b):
b.a.cbpairs.remove(b));b.a=b.b=null;b.listeners.clear();b.next=d.callbacks.ZPP_CbSetPair.zpp_pool;d.callbacks.ZPP_CbSetPair.zpp_pool=b}a.manager=null},clear:function(){},validate:function(){if(!this.cbsets.empty()){for(var a=this.cbsets.parent;null!=a.prev;)a=a.prev;for(;null!=a;)if(a.data.validate(),null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}},pair:function(a,b){for(var c=null,e=(a.cbpairs.length<b.cbpairs.length?a.cbpairs:
b.cbpairs).head;null!=e;){var g=e.elt;if(g.a==a&&g.b==b||g.a==b&&g.b==a){c=g;break}e=e.next}null==c&&(c=d.callbacks.ZPP_CbSetPair.get(a,b),a.cbpairs.add(c),b!=a&&b.cbpairs.add(c));c.zip_listeners&&(c.zip_listeners=!1,c.__validate());return c},valid_listener:function(a){return a.space==this.space},__class__:d.space.ZPP_CbSetManager};d.space.ZPP_Space=function(a,b){this.precb=this.prelisteners=null;this.continuous=!1;this.toiEvents=null;this.pre_dt=0;this.c_arbiters_true=this.c_arbiters_false=this.f_arbiters=
this.s_arbiters=this.wrap_arbiters=this.live=this.wrap_live=this.live_constraints=this.wrap_livecon=this.staticsleep=this.islands=this.listeners=this.wrap_listeners=this.callbacks=this.callbackset_list=this.cbsets=this.convexShapeList=null;this.sortcontacts=!1;this.time=0;this.midstep=!1;this.global_lin_drag=this.global_ang_drag=this.stamp=0;this.wrap_gravity=this.bodies=this.wrap_bodies=this.compounds=this.wrap_compounds=this.constraints=this.wrap_constraints=this.kinematics=this.bphase=this.__static=
null;this.gravityx=this.gravityy=0;this.outer=this.userData=null;this.toiEvents=new d.util.ZNPList_ZPP_ToiEvent;this.global_ang_drag=this.global_lin_drag=0.015;this.precb=new f.callbacks.PreCallback;this.precb.zpp_inner=new d.callbacks.ZPP_Callback;this.sortcontacts=!0;this.pre_dt=0;var c;if(!(c=null==b))null==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1),c=b==d.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE;
if(c)this.bphase=new d.space.ZPP_DynAABBPhase(this);else if(null==d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new f.space.Broadphase,d.util.ZPP_Flags.internal=!1),b==d.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE)this.bphase=new d.space.ZPP_SweepPhase(this);this.time=0;null!=a?(this.gravityx=a.x,this.gravityy=a.y):this.gravityy=this.gravityx=0;this.bodies=new d.util.ZNPList_ZPP_Body;this.wrap_bodies=d.util.ZPP_BodyList.get(this.bodies);
this.wrap_bodies.zpp_inner.adder=w(this,this.bodies_adder);this.wrap_bodies.zpp_inner.subber=w(this,this.bodies_subber);this.compounds=new d.util.ZNPList_ZPP_Compound;this.wrap_compounds=d.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=w(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=w(this,this.compounds_subber);this.kinematics=new d.util.ZNPList_ZPP_Body;this.c_arbiters_true=new d.util.ZNPList_ZPP_ColArbiter;this.c_arbiters_false=new d.util.ZNPList_ZPP_ColArbiter;
this.f_arbiters=new d.util.ZNPList_ZPP_FluidArbiter;this.s_arbiters=new d.util.ZNPList_ZPP_SensorArbiter;this.islands=new d.space.ZPP_Island;this.live=new d.util.ZNPList_ZPP_Body;this.wrap_live=d.util.ZPP_BodyList.get(this.live,!0);this.staticsleep=new d.util.ZNPList_ZPP_Body;this.constraints=new d.util.ZNPList_ZPP_Constraint;this.wrap_constraints=d.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=w(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=
w(this,this.constraints_subber);this.live_constraints=new d.util.ZNPList_ZPP_Constraint;this.wrap_livecon=d.util.ZPP_ConstraintList.get(this.live_constraints,!0);this.__static=d.phys.ZPP_Body.__static();this.__static.zpp_inner.space=this;this.callbacks=new d.callbacks.ZPP_Callback;this.midstep=!1;this.listeners=new d.util.ZNPList_ZPP_Listener;this.wrap_listeners=d.util.ZPP_ListenerList.get(this.listeners);this.wrap_listeners.zpp_inner.adder=w(this,this.listeners_adder);this.wrap_listeners.zpp_inner.subber=
w(this,this.listeners_subber);this.callbackset_list=new d.space.ZPP_CallbackSet;this.mrca1=new d.util.ZNPList_ZPP_Interactor;this.mrca2=new d.util.ZNPList_ZPP_Interactor;this.prelisteners=new d.util.ZNPList_ZPP_InteractionListener;this.cbsets=new d.space.ZPP_CbSetManager(this)};l["zpp_nape.space.ZPP_Space"]=d.space.ZPP_Space;d.space.ZPP_Space.__name__=["zpp_nape","space","ZPP_Space"];d.space.ZPP_Space.prototype={outer:null,userData:null,gravityx:null,gravityy:null,wrap_gravity:null,getgravity:function(){this.wrap_gravity=
f.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=!0;this.wrap_gravity.zpp_inner._invalidate=w(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=w(this,this.gravity_validate)},gravity_invalidate:function(a){this.gravityx=a.x;this.gravityy=a.y;for(var a=new d.util.ZNPList_ZPP_Compound,b=this.bodies.head;null!=b;){var c=b.elt;c.world||(c.component.waket=this.stamp+(this.midstep?0:1),c.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(c.kinematicDelaySleep=
!0),c.component.sleeping&&this.really_wake(c,!1));b=b.next}for(b=this.compounds.head;null!=b;)a.add(b.elt),b=b.next;for(;null!=a.head;){b=a.pop_unsafe();for(c=b.bodies.head;null!=c;){var e=c.elt;e.world||(e.component.waket=this.stamp+(this.midstep?0:1),e.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!1));c=c.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;
this.wrap_gravity.zpp_inner.y=this.gravityy},bodies:null,wrap_bodies:null,compounds:null,wrap_compounds:null,constraints:null,wrap_constraints:null,kinematics:null,bphase:null,__static:null,global_lin_drag:null,global_ang_drag:null,stamp:null,midstep:null,time:null,sortcontacts:null,c_arbiters_true:null,c_arbiters_false:null,f_arbiters:null,s_arbiters:null,wrap_arbiters:null,live:null,wrap_live:null,live_constraints:null,wrap_livecon:null,staticsleep:null,islands:null,listeners:null,wrap_listeners:null,
callbacks:null,callbackset_list:null,cbsets:null,clear:function(){for(;null!=this.listeners.head;){var a=this.listeners.pop_unsafe();this.remListener(a)}for(;null!=this.callbackset_list.next;)a=this.callbackset_list.pop_unsafe(),a.arbiters.clear(),a.int1=a.int2=null,a.id=a.di=-1,a.freed=!0,null,a.next=d.space.ZPP_CallbackSet.zpp_pool,d.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=this.c_arbiters_true.head;)this.c_arbiters_true.pop_unsafe().retire();for(;null!=this.c_arbiters_false.head;)this.c_arbiters_false.pop_unsafe().retire();
for(;null!=this.s_arbiters.head;)this.s_arbiters.pop_unsafe().retire();for(;null!=this.f_arbiters.head;)this.f_arbiters.pop_unsafe().retire();for(this.bphase.clear();null!=this.bodies.head;){a=this.bodies.pop_unsafe();if(null!=a.component){var b=a.component.island;if(null!=b){for(;null!=b.comps.head;){var c=b.comps.pop_unsafe();c.sleeping=!1;c.island=null;c.parent=c;c.rank=0}b.next=d.space.ZPP_Island.zpp_pool;d.space.ZPP_Island.zpp_pool=b}}a.removedFromSpace();a.space=null}for(;null!=this.constraints.head;){a=
this.constraints.pop_unsafe();if(null!=a.component&&(b=a.component.island,null!=b)){for(;null!=b.comps.head;)c=b.comps.pop_unsafe(),c.sleeping=!1,c.island=null,c.parent=c,c.rank=0;b.next=d.space.ZPP_Island.zpp_pool;d.space.ZPP_Island.zpp_pool=b}a.removedFromSpace();a.space=null}this.kinematics.clear();for(a=new d.util.ZNPList_ZPP_Compound;null!=this.compounds.head;)b=this.compounds.pop_unsafe(),a.add(b);for(;null!=a.head;){b=a.pop_unsafe();b.removedFromSpace();b.space=null;for(c=b.bodies.head;null!=
c;){var e=c.elt;if(null!=e.component){var g=e.component.island;if(null!=g){for(;null!=g.comps.head;){var f=g.comps.pop_unsafe();f.sleeping=!1;f.island=null;f.parent=f;f.rank=0}g.next=d.space.ZPP_Island.zpp_pool;d.space.ZPP_Island.zpp_pool=g}}e.removedFromSpace();e.space=null;c=c.next}for(c=b.constraints.head;null!=c;){e=c.elt;if(null!=e.component&&(g=e.component.island,null!=g)){for(;null!=g.comps.head;)f=g.comps.pop_unsafe(),f.sleeping=!1,f.island=null,f.parent=f,f.rank=0;g.next=d.space.ZPP_Island.zpp_pool;
d.space.ZPP_Island.zpp_pool=g}e.removedFromSpace();e.space=null;c=c.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}this.staticsleep.clear();this.live.clear();this.live_constraints.clear();this.time=this.stamp=0;this.mrca1.clear();this.mrca2.clear();this.prelisteners.clear();this.cbsets.clear()},bodies_adder:function(a){return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_bodies.remove(a),this.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){this.remBody(a.zpp_inner)},
compounds_adder:function(a){return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),this.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){this.remCompound(a.zpp_inner)},constraints_adder:function(a){return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(a),this.addConstraint(a.zpp_inner),!0):!1},constraints_subber:function(a){this.remConstraint(a.zpp_inner)},listeners_adder:function(a){return a.zpp_inner.space!=
this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(a),this.addListener(a.zpp_inner),!0):!1},listeners_subber:function(a){this.remListener(a.zpp_inner)},revoke_listener:function(){},unrevoke_listener:function(){},addListener:function(a){a.space=this;a.addedToSpace();null!=a.interaction&&null},remListener:function(a){null!=a.interaction&&null;a.removedFromSpace();a.space=null},add_callbackset:function(a){a.int1.cbsets.inlined_add(a);a.int2.cbsets.inlined_add(a);this.callbackset_list.inlined_add(a)},
remove_callbackset:function(a){a.lazydel=!0;a.int1.cbsets.inlined_try_remove(a);a.int2.cbsets.inlined_try_remove(a)},transmitType:function(a,b){a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!1));a.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC?this.live.remove(a):a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC?(this.kinematics.remove(a),this.staticsleep.remove(a)):a.type==d.util.ZPP_Flags.id_BodyType_STATIC&&
this.staticsleep.remove(a);a.type=b;a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a);a.type==d.util.ZPP_Flags.id_BodyType_STATIC&&this.static_validation(a);a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0))},added_shape:function(a,b){null==b&&(b=!1);if(!b){var c=a.body;c.world||(c.component.waket=this.stamp+(this.midstep?0:1),
c.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(c.kinematicDelaySleep=!0),c.component.sleeping&&this.really_wake(c,!1))}this.bphase.insert(a);a.addedToSpace()},removed_shape:function(a,b){null==b&&(b=!1);var c=this,e=a.body;b||e.wake();for(var g=null,f=e.arbiters.head;null!=f;){var h=[f.elt];if(h[0].ws1==a||h[0].ws2==a){if(0!=h[0].present){this.MRCA_chains(h[0].ws1,h[0].ws2);for(f=this.mrca1.head;null!=f;){for(var k=f.elt,o=this.mrca2.head;null!=o;){var l=o.elt,m=k.cbSet,p=l.cbSet;m.validate();p.validate();
m.manager.pair(m,p).empty_intersection()||(l=[d.phys.ZPP_Interactor.get(k,l)],l[0].remove_arb(h[0]),h[0].present--,m.manager.pair(m,p).forall(d.util.ZPP_Flags.id_CbEvent_END,function(a,b){return function(e){if(0!=(e.itype&b[0].type)&&a[0].empty_arb(e.itype)){var g=c.push_callback(e);g.event=d.util.ZPP_Flags.id_CbEvent_END;d.phys.ZPP_Interactor.int_callback(a[0],e,g);g.set=a[0]}}}(l,h)),null==l[0].arbiters.head&&this.remove_callbackset(l[0]));o=o.next}f=f.next}}h[0].b1!=e&&h[0].b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&
(f=h[0].b1,f.world||(f.component.waket=this.stamp+(this.midstep?0:1),f.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(f.kinematicDelaySleep=!0),f.component.sleeping&&this.really_wake(f,!1)));h[0].b2!=e&&h[0].b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&(f=h[0].b2,f.world||(f.component.waket=this.stamp+(this.midstep?0:1),f.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(f.kinematicDelaySleep=!0),f.component.sleeping&&this.really_wake(f,!1)));h[0].cleared=!0;(null==e||h[0].b2==e)&&h[0].b1.arbiters.inlined_try_remove(h[0]);
(null==e||h[0].b1==e)&&h[0].b2.arbiters.inlined_try_remove(h[0]);null!=h[0].pair&&(h[0].pair.arb=null,h[0].pair=null);h[0].active=!1;this.f_arbiters.modified=!0;f=e.arbiters.erase(g)}else g=f,f=f.next}this.bphase.remove(a);a.removedFromSpace()},addConstraint:function(a){a.space=this;a.addedToSpace();a.active&&(a.component.sleeping=!0,this.wake_constraint(a,!0))},remConstraint:function(a){a.active&&(this.wake_constraint(a,!0),this.live_constraints.remove(a));a.removedFromSpace();a.space=null},addCompound:function(a){a.space=
this;a.addedToSpace();for(var b=a.bodies.head;null!=b;)this.addBody(b.elt),b=b.next;for(b=a.constraints.head;null!=b;)this.addConstraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.addCompound(a.elt),a=a.next},remCompound:function(a){for(var b=a.bodies.head;null!=b;)this.remBody(b.elt),b=b.next;for(b=a.constraints.head;null!=b;)this.remConstraint(b.elt),b=b.next;for(b=a.compounds.head;null!=b;)this.remCompound(b.elt),b=b.next;a.removedFromSpace();a.space=null},addBody:function(a,b){null==
b&&(b=-1);a.space=this;a.addedToSpace();a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0));for(var c=a.shapes.head;null!=c;)this.added_shape(c.elt,!0),c=c.next;a.type==d.util.ZPP_Flags.id_BodyType_STATIC?this.static_validation(a):a.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC&&b!=d.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a)},remBody:function(a,
b){null==b&&(b=-1);a.type==d.util.ZPP_Flags.id_BodyType_STATIC?(a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.staticsleep.remove(a)):a.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC?(a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.live.remove(a)):
(b!=d.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.remove(a),a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.staticsleep.remove(a));for(var c=a.shapes.head;null!=c;)this.removed_shape(c.elt,!0),c=c.next;a.removedFromSpace();a.space=null},shapesUnderPoint:function(a,b,c,d){return this.bphase.shapesUnderPoint(a,b,c,d)},bodiesUnderPoint:function(a,b,c,d){return this.bphase.bodiesUnderPoint(a,
b,c,d)},shapesInAABB:function(a,b,c,d,e){return this.bphase.shapesInAABB(a.zpp_inner,b,c,d,e)},bodiesInAABB:function(a,b,c,d,e){return this.bphase.bodiesInAABB(a.zpp_inner,b,c,d,e)},shapesInCircle:function(a,b,c,d,e){return this.bphase.shapesInCircle(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),b,c,d,e)},bodiesInCircle:function(a,b,c,d,e){return this.bphase.bodiesInCircle(function(){a.zpp_inner.validate();return a.zpp_inner.x}(this),
function(){a.zpp_inner.validate();return a.zpp_inner.y}(this),b,c,d,e)},shapesInShape:function(a,b,c,d){return this.bphase.shapesInShape(a,b,c,d)},bodiesInShape:function(a,b,c,d){return this.bphase.bodiesInShape(a,b,c,d)},rayCast:function(a,b,c){return this.bphase.rayCast(a.zpp_inner,b,null==c?null:c.zpp_inner)},rayMultiCast:function(a,b,c,d){return this.bphase.rayMultiCast(a.zpp_inner,b,null==c?null:c.zpp_inner,d)},convexShapeList:null,convexCast:function(a,b,c,e){var g;null==d.geom.ZPP_ToiEvent.zpp_pool?
g=new d.geom.ZPP_ToiEvent:(g=d.geom.ZPP_ToiEvent.zpp_pool,d.geom.ZPP_ToiEvent.zpp_pool=g.next,g.next=null);g.failed=!1;g.s1=g.s2=null;g.arbiter=null;a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var i=a.body,h=i.posx,k=i.posy;i.sweepTime=0;i.sweep_angvel=i.angvel;i.sweepIntegrate(b);var o=i.posx,l=i.posy;a.validate_sweepRadius();var m=a.sweepRadius,p;null==d.geom.ZPP_AABB.zpp_pool?p=new d.geom.ZPP_AABB:(p=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=
p.next,p.next=null);null;p.minx=(h<o?h:o)-m;p.maxx=(h>o?h:o)+m;p.miny=(k<l?k:l)-m;p.maxy=(k>l?k:l)+m;c=this.convexShapeList=this.bphase.shapesInAABB(p,!1,!1,null==c?null:c.zpp_inner,this.convexShapeList);null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null);p.wrap_min=p.wrap_max=null;p._invalidate=null;p._validate=null;p.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=p;var o=k=o=k=h=p=h=p=0,l=null,m=b+1,q;c.zpp_inner.valmod();for(q=f.shape.ShapeIterator.get(c);q.hasNext();){var t;q.zpp_critical=
!1;t=q.zpp_inner.at(q.zpp_i++);if(t!=a.outer&&(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null)!=i.outer)if(g.s1=a,g.s2=t.zpp_inner,e?(t.zpp_inner.validate_sweepRadius(),(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.sweepTime=0,d.geom.ZPP_SweepDistance.dynamicSweep(g,b,0,0,!0),(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),
(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.sweepValidate(t.zpp_inner)):d.geom.ZPP_SweepDistance.staticSweep(g,b,0,0),g.toi*=b,0<g.toi&&g.toi<m)m=g.toi,p=g.axis.x,h=g.axis.y,k=g.c2.x,o=g.c2.y,l=t}c.clear();e=g;e.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=e;i.sweepIntegrate(0);i.sweepValidate(a);return m<=b?d.geom.ZPP_ConvexRayResult.getConvex(f.geom.Vec2.get(-p,-h,null),f.geom.Vec2.get(k,o,null),m,l):null},prepareCast:function(a){a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
a.circle.validate_worldCOM():a.polygon.validate_gaxi()},convexMultiCast:function(a,b,c,e,g){var i;null==d.geom.ZPP_ToiEvent.zpp_pool?i=new d.geom.ZPP_ToiEvent:(i=d.geom.ZPP_ToiEvent.zpp_pool,d.geom.ZPP_ToiEvent.zpp_pool=i.next,i.next=null);i.failed=!1;i.s1=i.s2=null;i.arbiter=null;a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var h=a.body,k=h.posx,l=h.posy;h.sweepTime=0;h.sweep_angvel=h.angvel;h.sweepIntegrate(b);var m=h.posx,p=h.posy;a.validate_sweepRadius();
var q=a.sweepRadius,t;null==d.geom.ZPP_AABB.zpp_pool?t=new d.geom.ZPP_AABB:(t=d.geom.ZPP_AABB.zpp_pool,d.geom.ZPP_AABB.zpp_pool=t.next,t.next=null);null;t.minx=(k<m?k:m)-q;t.maxx=(k>m?k:m)+q;t.miny=(l<p?l:p)-q;t.maxy=(l>p?l:p)+q;c=this.convexShapeList=this.bphase.shapesInAABB(t,!1,!1,null==c?null:c.zpp_inner,this.convexShapeList);null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null);t.wrap_min=t.wrap_max=null;t._invalidate=null;t._validate=null;t.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=
t;g=null==g?new f.geom.ConvexResultList:g;c.zpp_inner.valmod();for(t=f.shape.ShapeIterator.get(c);t.hasNext();)if(t.zpp_critical=!1,k=t.zpp_inner.at(t.zpp_i++),k!=a.outer&&(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null)!=h.outer)if(i.s1=a,i.s2=k.zpp_inner,e?(k.zpp_inner.validate_sweepRadius(),(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null).zpp_inner.sweepTime=
0,d.geom.ZPP_SweepDistance.dynamicSweep(i,b,0,0,!0),(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),(null!=k.zpp_inner.body?k.zpp_inner.body.outer:null).zpp_inner.sweepValidate(k.zpp_inner)):d.geom.ZPP_SweepDistance.staticSweep(i,b,0,0),i.toi*=b,0<i.toi){k=d.geom.ZPP_ConvexRayResult.getConvex(f.geom.Vec2.get(-i.axis.x,-i.axis.y,null),f.geom.Vec2.get(i.c2.x,i.c2.y,null),i.toi,k);l=null;for(m=g.zpp_inner.inner.head;null!=m&&!(k.zpp_inner.toiDistance<m.elt.zpp_inner.toiDistance);)l=
m,m=m.next;g.zpp_inner.inner.inlined_insert(l,k)}c.clear();b=i;b.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=b;h.sweepIntegrate(0);h.sweepValidate(a);return g},push_callback:function(a){var b;null==d.callbacks.ZPP_Callback.zpp_pool?b=new d.callbacks.ZPP_Callback:(b=d.callbacks.ZPP_Callback.zpp_pool,d.callbacks.ZPP_Callback.zpp_pool=b.next,b.next=null);null;this.callbacks.push(b);b.listener=a;return b},pre_dt:null,step:function(a,b,c){var e=this;this.time+=a;this.pre_dt=a;this.midstep=
!0;this.stamp++;this.validation();this.bphase.broadphase(this,!0);this.prestep(a);if(this.sortcontacts){var g=this.c_arbiters_false;if(null!=g.head&&null!=g.head.next){var f=g.head,h=null,k=null,l=null,m=null,p=1,q,t,u;do{q=0;k=f;for(h=f=null;null!=k;){q++;l=k;t=0;for(u=p;null!=l&&t<p;)t++,l=l.next;for(;0<t||0<u&&null!=l;)0==t?(m=l,l=l.next,u--):0==u||null==l?(m=k,k=k.next,t--):(k.elt.active&&l.elt.active?k.elt.oc1.dist<l.elt.oc1.dist:1)?(m=k,k=k.next,t--):(m=l,l=l.next,u--),null!=h?h.next=m:f=m,
h=m;k=l}h.next=null;p<<=1}while(1<q);g.head=f;g.modified=!0;g.pushmod=!0}}this.updateVel(a);this.warmStart();this.iterateVel(b);for(b=this.kinematics.head;null!=b;)g=b.elt,g.pre_posx=g.posx,g.pre_posy=g.posy,g.pre_rot=g.rot,b=b.next;for(b=this.live.head;null!=b;)g=b.elt,g.pre_posx=g.posx,g.pre_posy=g.posy,g.pre_rot=g.rot,b=b.next;this.updatePos(a);this.continuous=!0;this.continuousCollisions(a);this.continuous=!1;this.iteratePos(c);for(c=this.kinematics.head;null!=c;)b=c.elt,g=b.pre_rot!=b.rot,b.posx==
b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),g&&b.invalidate_rot(),c=c.next;for(c=this.live.head;null!=c;)b=c.elt,g=b.pre_rot!=b.rot,b.posx==b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),g&&b.invalidate_rot(),c=c.next;c=null;for(b=this.staticsleep.head;null!=b;)g=b.elt,g.type!=d.util.ZPP_Flags.id_BodyType_KINEMATIC||0==g.velx&&0==g.vely&&0==g.angvel?g.kinematicDelaySleep?(g.kinematicDelaySleep=!1,b=b.next):(g.component.sleeping=!0,b=this.staticsleep.inlined_erase(c)):(c=b,b=b.next);this.doForests(a);
this.sleepArbiters();this.midstep=!1;c=null;for(a=this.callbackset_list.next;null!=a;)b=[a],null==b[0].arbiters.head?(a=this.callbackset_list.inlined_erase(c),b=b[0],b.int1=b.int2=null,b.id=b.di=-1,b.freed=!0,null,b.next=d.space.ZPP_CallbackSet.zpp_pool,d.space.ZPP_CallbackSet.zpp_pool=b):(c=[b[0].sleeping()],d.callbacks.ZPP_CbSet.find_all(b[0].int1.cbSet,b[0].int2.cbSet,d.util.ZPP_Flags.id_CbEvent_ONGOING,function(a,b){return function(c){if((!a[0]||c.allowSleepingCallbacks)&&!b[0].empty_arb(c.itype)){var g=
e.push_callback(c);g.event=d.util.ZPP_Flags.id_CbEvent_ONGOING;d.phys.ZPP_Interactor.int_callback(b[0],c,g);g.set=b[0]}}}(c,b)),c=a,a=a.next);for(;!this.callbacks.empty();)a=this.callbacks.pop(),a.listener.type==d.util.ZPP_Flags.id_ListenerType_BODY?a.listener.body.handler(a.wrapper_body()):a.listener.type==d.util.ZPP_Flags.id_ListenerType_CONSTRAINT?a.listener.constraint.handler(a.wrapper_con()):a.listener.type==d.util.ZPP_Flags.id_ListenerType_INTERACTION&&a.listener.interaction.handleri(a.wrapper_int()),
a.int1=a.int2=null,a.body=null,a.constraint=null,a.listener=null,null!=a.wrap_arbiters&&(a.wrap_arbiters.zpp_inner.inner=null),a.set=null,a.next=d.callbacks.ZPP_Callback.zpp_pool,d.callbacks.ZPP_Callback.zpp_pool=a},toiEvents:null,continuousCollisions:function(a){var b=2*Math.PI/a;this.bphase.broadphase(this,!1);for(var c=0;1>c&&null!=this.toiEvents.head;){for(var e=null,c=2,g=!1,i=null,h=null,k=this.toiEvents.head;null!=k;){var l=k.elt,m=l.s1.body,p=l.s2.body;if(m.sweepFrozen&&p.sweepFrozen)if(0!=
l.toi&&d.geom.ZPP_Collide.testCollide_safe(l.s1,l.s2))l.toi=0;else{k=this.toiEvents.erase(h);l.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=l;continue}if(l.frozen1!=m.sweepFrozen||l.frozen2!=p.sweepFrozen)if(l.kinematic){k=this.toiEvents.erase(h);l.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=l;continue}else if(l.frozen1=m.sweepFrozen,l.frozen2=p.sweepFrozen,l.frozen1&&(m=l.s1,l.s1=l.s2,l.s2=m,l.frozen1=!1,l.frozen2=!0),d.geom.ZPP_SweepDistance.staticSweep(l,a,
0,f.Config.collisionSlopCCD),0>l.toi){k=this.toiEvents.erase(h);l.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=l;continue}if(0<=l.toi&&(l.toi<c||!g&&l.kinematic))e=l,c=l.toi,g=l.kinematic,i=h;h=k;k=k.next}if(null==e)break;this.toiEvents.erase(i);c=e.toi;g=e.s1.body;i=e.s2.body;g.sweepFrozen||(g.sweepIntegrate(c*a),g.sweepValidate(e.s1));i.sweepFrozen||(i.sweepIntegrate(c*a),i.sweepValidate(e.s2));h=this.narrowPhase(e.s1,e.s2,!0,e.arbiter,!0);null==h?null!=e.arbiter&&null!=e.arbiter.pair&&
(e.arbiter.pair.arb=null,e.arbiter.pair=null):!this.presteparb(h,a,!0)&&(h.type==d.dynamics.ZPP_Arbiter.COL&&h.active&&0!=(h.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT))&&(h.colarb.warmStart(),h.colarb.applyImpulseVel(),h.colarb.applyImpulseVel(),h.colarb.applyImpulseVel(),h.colarb.applyImpulseVel(),g.sweep_angvel=g.angvel%b,i.sweep_angvel=i.angvel%b);if(null!=h&&(h.active&&0!=(h.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&h.type==d.dynamics.ZPP_Arbiter.COL)&&(!g.sweepFrozen&&g.type!=d.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(g.sweepFrozen=!0,g.angvel=e.failed?g.sweep_angvel=0:e.slipped?g.sweep_angvel*=f.Config.angularCCDSlipScale:g.sweep_angvel),!i.sweepFrozen&&i.type!=d.util.ZPP_Flags.id_BodyType_KINEMATIC))i.sweepFrozen=!0,i.angvel=e.failed?i.sweep_angvel=0:e.slipped?i.sweep_angvel*=f.Config.angularCCDSlipScale:i.sweep_angvel;e.next=d.geom.ZPP_ToiEvent.zpp_pool;d.geom.ZPP_ToiEvent.zpp_pool=e}for(;null!=this.toiEvents.head;)b=this.toiEvents.pop_unsafe(),b.next=d.geom.ZPP_ToiEvent.zpp_pool,d.geom.ZPP_ToiEvent.zpp_pool=
b;for(b=this.kinematics.head;null!=b;)e=b.elt,e.sweepIntegrate(a),e.sweepTime=0,b=b.next;for(b=this.live.head;null!=b;)e=b.elt,e.sweepFrozen||e.sweepIntegrate(a),e.sweepTime=0,b=b.next},continuousEvent:function(a,b,c,e){if(a.body.sweepFrozen&&b.body.sweepFrozen||a.body.disableCCD||b.body.disableCCD||null!=e&&null==e.colarb||0>=this.interactionType(a,b,a.body,b.body))return e;var g=a.body,i=b.body;if(c||g.bullet||i.bullet){var h;null==d.geom.ZPP_ToiEvent.zpp_pool?h=new d.geom.ZPP_ToiEvent:(h=d.geom.ZPP_ToiEvent.zpp_pool,
d.geom.ZPP_ToiEvent.zpp_pool=h.next,h.next=null);h.failed=!1;h.s1=h.s2=null;h.arbiter=null;g=g.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC||i.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC;c&&!g?(a.body.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC?(h.s2=a,h.s1=b):(h.s1=a,h.s2=b),h.kinematic=!1,d.geom.ZPP_SweepDistance.staticSweep(h,this.pre_dt,0,f.Config.collisionSlopCCD)):(h.s1=a,h.s2=b,h.kinematic=g,h.s1.body.sweepFrozen||h.s2.body.sweepFrozen?(h.s1.body.sweepFrozen&&(a=h.s1,h.s1=h.s2,h.s2=a,h.frozen1=
!1,h.frozen2=!0),d.geom.ZPP_SweepDistance.staticSweep(h,this.pre_dt,0,f.Config.collisionSlopCCD)):d.geom.ZPP_SweepDistance.dynamicSweep(h,this.pre_dt,0,f.Config.collisionSlopCCD));c&&0>h.toi||h.failed?(c=h,c.next=d.geom.ZPP_ToiEvent.zpp_pool,d.geom.ZPP_ToiEvent.zpp_pool=c):(this.toiEvents.add(h),h.frozen1=h.s1.body.sweepFrozen,h.frozen2=h.s2.body.sweepFrozen,h.arbiter=null!=e?e.colarb:null)}return e},bodyCbWake:function(a){if(a.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)if(this.midstep)for(var b=
a.cbSet.bodylisteners.head;null!=b;){var c=b.elt;c.event==d.util.ZPP_Flags.id_CbEvent_WAKE&&(c=this.push_callback(c),c.event=d.util.ZPP_Flags.id_CbEvent_WAKE,c.body=a);b=b.next}else a.component.woken=!0},bodyCbSleep:function(a){if(a.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)for(var b=a.cbSet.bodylisteners.head;null!=b;){var c=b.elt;c.event==d.util.ZPP_Flags.id_CbEvent_SLEEP&&(c=this.push_callback(c),c.event=d.util.ZPP_Flags.id_CbEvent_SLEEP,c.body=a);b=b.next}},constraintCbWake:function(a){if(null!=
a.cbSet)if(this.midstep)for(var b=a.cbSet.conlisteners.head;null!=b;){var c=b.elt;c.event==d.util.ZPP_Flags.id_CbEvent_WAKE&&(c=this.push_callback(c),c.event=d.util.ZPP_Flags.id_CbEvent_WAKE,c.constraint=a);b=b.next}else a.component.woken=!0},constraintCbSleep:function(a){if(null!=a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var c=b.elt;c.event==d.util.ZPP_Flags.id_CbEvent_SLEEP&&(c=this.push_callback(c),c.event=d.util.ZPP_Flags.id_CbEvent_SLEEP,c.constraint=a);b=b.next}},constraintCbBreak:function(a){if(null!=
a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var c=b.elt;c.event==d.util.ZPP_Flags.id_CbEvent_BREAK&&(c=this.push_callback(c),c.event=d.util.ZPP_Flags.id_CbEvent_BREAK,c.constraint=a);b=b.next}},nullListenerType:function(a,b){for(var c=new d.util.ZNPList_ZPP_Interactor,e=a.interactors.head;null!=e;)c.add(e.elt),e=e.next;if(a!=b)for(e=b.interactors.head;null!=e;)c.add(e.elt),e=e.next;for(;null!=c.head;)if(e=c.pop_unsafe(),null!=e.icompound){for(var e=e.icompound,g=e.bodies.head;null!=g;)c.add(g.elt),
g=g.next;for(e=e.compounds.head;null!=e;)c.add(e.elt),e=e.next}else{g=null!=e.ibody?e.ibody:e.ishape.body;e=null!=e.ishape?e.ishape:null;for(g=g.arbiters.head;null!=g;){var f=g.elt;if(0!=f.present&&(null==e||f.ws1==e||f.ws2==e)){this.MRCA_chains(f.ws1,f.ws2);for(f=this.mrca1.head;null!=f;){var h=f.elt;if(!(h.cbSet!=a&&h.cbSet!=b))for(var k=this.mrca2.head;null!=k;){var l=k.elt;if(!(h.cbSet==a&&l.cbSet!=b||h.cbSet==b&&l.cbSet!=a))if(l=d.phys.ZPP_Interactor.get(h,l),null!=l){for(;null!=l.arbiters.head;)l.arbiters.pop_unsafe().present--;
this.remove_callbackset(l)}k=k.next}f=f.next}}g=g.next}}},nullInteractorType:function(a,b){null==b&&(b=a);if(null!=a.icompound){for(var c=a.icompound,e=c.bodies.head;null!=e;)this.nullInteractorType(e.elt,b),e=e.next;for(c=c.compounds.head;null!=c;)this.nullInteractorType(c.elt,b),c=c.next}else{e=null!=a.ibody?a.ibody:a.ishape.body;c=null!=a.ishape?a.ishape:null;for(e=e.arbiters.head;null!=e;){var g=e.elt;if(0!=g.present&&(null==c||g.ws1==c||g.ws2==c)){this.MRCA_chains(g.ws1,g.ws2);for(var f=this.mrca1.head;null!=
f;){for(var h=f.elt,k=this.mrca2.head;null!=k;){var l=k.elt;h!=b&&l!=b||(l=d.phys.ZPP_Interactor.get(h,l),null!=l&&(g.present--,l.remove_arb(g),null==l.arbiters.head&&this.remove_callbackset(l)));k=k.next}f=f.next}}e=e.next}}},freshListenerType:function(a,b){for(var c=new d.util.ZNPList_ZPP_Interactor,e=a.interactors.head;null!=e;)c.add(e.elt),e=e.next;if(a!=b)for(e=b.interactors.head;null!=e;)c.add(e.elt),e=e.next;for(;null!=c.head;)if(e=c.pop_unsafe(),null!=e.icompound){for(var e=e.icompound,g=
e.bodies.head;null!=g;)c.add(g.elt),g=g.next;for(e=e.compounds.head;null!=e;)c.add(e.elt),e=e.next}else{g=null!=e.ibody?e.ibody:e.ishape.body;e=null!=e.ishape?e.ishape:null;for(g=g.arbiters.head;null!=g;){var f=g.elt;if(f.presentable&&(null==e||f.ws1==e||f.ws2==e)){this.MRCA_chains(f.ws1,f.ws2);for(var h=this.mrca1.head;null!=h;){var k=h.elt;if(!(k.cbSet!=a&&k.cbSet!=b))for(var l=this.mrca2.head;null!=l;){var m=l.elt;if(!(k.cbSet==a&&m.cbSet!=b||k.cbSet==b&&m.cbSet!=a)){var p=d.phys.ZPP_Interactor.get(k,
m);null==p&&(p=d.space.ZPP_CallbackSet.get(k,m),this.add_callbackset(p));p.arbiters.inlined_has(f)?p=!1:(m=void 0,p.arbiters.inlined_add(f),p=m=!0);p&&f.present++}l=l.next}h=h.next}}g=g.next}}},freshInteractorType:function(a,b){null==b&&(b=a);if(null!=a.icompound){for(var c=a.icompound,e=c.bodies.head;null!=e;)this.freshInteractorType(e.elt,b),e=e.next;for(c=c.compounds.head;null!=c;)this.freshInteractorType(c.elt,b),c=c.next}else{e=null!=a.ibody?a.ibody:a.ishape.body;c=null!=a.ishape?a.ishape:null;
for(e=e.arbiters.head;null!=e;){var g=e.elt;if(g.presentable&&(null==c||g.ws1==c||g.ws2==c)){this.MRCA_chains(g.ws1,g.ws2);for(var f=this.mrca1.head;null!=f;){for(var h=f.elt,k=this.mrca2.head;null!=k;){var l=k.elt;if(!(h!=b&&l!=b)){var m=h.cbSet,p=l.cbSet;m.validate();p.validate();m.manager.pair(m,p).empty_intersection()||(m=d.phys.ZPP_Interactor.get(h,l),null==m&&(m=d.space.ZPP_CallbackSet.get(h,l),this.add_callbackset(m)),m.arbiters.inlined_has(g)?l=!1:(l=void 0,m.arbiters.inlined_add(g),l=!0),
l&&g.present++)}k=k.next}f=f.next}}e=e.next}}},wakeCompound:function(a){for(var b=a.bodies.head;null!=b;){var c=b.elt;c.world||(c.component.waket=this.stamp+(this.midstep?0:1),c.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(c.kinematicDelaySleep=!0),c.component.sleeping&&this.really_wake(c,!1));b=b.next}for(b=a.constraints.head;null!=b;)this.wake_constraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.wakeCompound(a.elt),a=a.next},wakeIsland:function(a){for(;null!=a.comps.head;){var b=a.comps.pop_unsafe();
b.waket=this.stamp+(this.midstep?0:1);if(b.isBody){var c=b.body;this.live.add(c);for(var e=c.arbiters.head;null!=e;){var g=e.elt;g.sleeping&&(g.sleeping=!1,g.up_stamp+=this.stamp-g.sleep_stamp,g.type==d.dynamics.ZPP_Arbiter.COL?(g=g.colarb,g.stat?this.c_arbiters_true.inlined_add(g):this.c_arbiters_false.inlined_add(g)):g.type==d.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(g.fluidarb):this.s_arbiters.inlined_add(g.sensorarb));e=e.next}this.bodyCbWake(c);b.sleeping=!1;b.island=null;b.parent=
b;b.rank=0;if(c.type!=d.util.ZPP_Flags.id_BodyType_STATIC)for(b=c.shapes.head;null!=b;)c=b.elt,null!=c.node&&this.bphase.sync(c),b=b.next}else c=b.constraint,this.live_constraints.inlined_add(c),this.constraintCbWake(c),b.sleeping=!1,b.island=null,b.parent=b,b.rank=0}a.next=d.space.ZPP_Island.zpp_pool;d.space.ZPP_Island.zpp_pool=a},non_inlined_wake:function(a,b){null==b&&(b=!1);a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=
!0),a.component.sleeping&&this.really_wake(a,b))},really_wake:function(a,b){null==b&&(b=!1);if(null==a.component.island){a.component.sleeping=!1;a.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC||a.type==d.util.ZPP_Flags.id_BodyType_STATIC?this.staticsleep.inlined_add(a):this.live.inlined_add(a);for(var c=a.constraints.head;null!=c;){var e=c.elt;e.space==this&&this.wake_constraint(e);c=c.next}for(c=a.arbiters.head;null!=c;){e=c.elt;if(e.sleeping)if(e.sleeping=!1,e.up_stamp+=this.stamp+(this.midstep?
0:1)-e.sleep_stamp,e.type==d.dynamics.ZPP_Arbiter.COL){var g=e.colarb;g.stat?this.c_arbiters_true.inlined_add(g):this.c_arbiters_false.inlined_add(g)}else e.type==d.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(e.fluidarb):this.s_arbiters.inlined_add(e.sensorarb);if(e.type!=d.dynamics.ZPP_Arbiter.SENSOR&&(!e.cleared&&e.up_stamp>=this.stamp&&0!=(e.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT))&&(e.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&e.b1.component.sleeping&&(g=e.b1,g.world||(g.component.waket=
this.stamp+(this.midstep?0:1),g.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(g.kinematicDelaySleep=!0),g.component.sleeping&&this.really_wake(g,!1))),e.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&e.b2.component.sleeping))e=e.b2,e.world||(e.component.waket=this.stamp+(this.midstep?0:1),e.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!1));c=c.next}!b&&a.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.bodyCbWake(a);if(!b&&!this.bphase.is_sweep&&
a.type!=d.util.ZPP_Flags.id_BodyType_STATIC)for(c=a.shapes.head;null!=c;)e=c.elt,null!=e.node&&this.bphase.sync(e),c=c.next}else this.wakeIsland(a.component.island)},wake_constraint:function(a,b){null==b&&(b=!1);return a.active&&(a.component.waket=this.stamp+(this.midstep?0:1),a.component.sleeping)?(null==a.component.island?(a.component.sleeping=!1,this.live_constraints.inlined_add(a),a.wake_connected(),b||this.constraintCbWake(a)):this.wakeIsland(a.component.island),!0):!1},doForests:function(a){for(var b=
this.c_arbiters_false.head;null!=b;){var c=b.elt;if(!c.cleared&&c.up_stamp==this.stamp&&0!=(c.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&c.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&c.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var e;if(c.b1.component==c.b1.component.parent)e=c.b1.component;else{e=c.b1.component;for(var g=null;e!=e.parent;){var f=e.parent;e.parent=g;g=e;e=f}for(;null!=g;)f=g.parent,g.parent=e,g=f}if(c.b2.component==c.b2.component.parent)c=c.b2.component;else{c=c.b2.component;
for(g=null;c!=c.parent;)f=c.parent,c.parent=g,g=c,c=f;for(;null!=g;)f=g.parent,g.parent=c,g=f}e!=c&&(e.rank<c.rank?e.parent=c:e.rank>c.rank?c.parent=e:(c.parent=e,e.rank++))}b=b.next}for(b=this.f_arbiters.head;null!=b;){c=b.elt;if(!c.cleared&&c.up_stamp==this.stamp&&0!=(c.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&c.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&c.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){if(c.b1.component==c.b1.component.parent)e=c.b1.component;else{e=c.b1.component;for(g=
null;e!=e.parent;)f=e.parent,e.parent=g,g=e,e=f;for(;null!=g;)f=g.parent,g.parent=e,g=f}if(c.b2.component==c.b2.component.parent)c=c.b2.component;else{c=c.b2.component;for(g=null;c!=c.parent;)f=c.parent,c.parent=g,g=c,c=f;for(;null!=g;)f=g.parent,g.parent=c,g=f}e!=c&&(e.rank<c.rank?e.parent=c:e.rank>c.rank?c.parent=e:(c.parent=e,e.rank++))}b=b.next}for(b=this.live_constraints.head;null!=b;)b.elt.forest(),b=b.next;for(;null!=this.live.head;){e=this.live.inlined_pop_unsafe();b=e.component;if(b==b.parent)c=
b;else{c=b;for(g=null;c!=c.parent;)f=c.parent,c.parent=g,g=c,c=f;for(;null!=g;)f=g.parent,g.parent=c,g=f}null==c.island&&(null==d.space.ZPP_Island.zpp_pool?c.island=new d.space.ZPP_Island:(c.island=d.space.ZPP_Island.zpp_pool,d.space.ZPP_Island.zpp_pool=c.island.next,c.island.next=null),c.island.waket=0,this.islands.inlined_add(c.island),c.island.sleep=!0);b.island=c.island;b.island.comps.inlined_add(b);e=e.atRest(a);b.island.sleep=b.island.sleep&&e;b.waket>b.island.waket&&(b.island.waket=b.waket)}for(;null!=
this.live_constraints.head;){a=this.live_constraints.inlined_pop_unsafe().component;if(a==a.parent)b=a;else{b=a;for(e=null;b!=b.parent;)c=b.parent,b.parent=e,e=b,b=c;for(;null!=e;)c=e.parent,e.parent=b,e=c}a.island=b.island;a.island.comps.inlined_add(a);a.waket>a.island.waket&&(a.island.waket=a.waket)}for(;null!=this.islands.next;)if(a=this.islands.inlined_pop_unsafe(),a.sleep)for(a=a.comps.head;null!=a;){e=a.elt;if(e.isBody){b=e.body;b.velx=0;b.vely=0;b.angvel=0;e.sleeping=!0;for(e=b.shapes.head;null!=
e;)this.bphase.sync(e.elt),e=e.next;this.bodyCbSleep(b)}else this.constraintCbSleep(e.constraint),e.sleeping=!0;a=a.next}else{for(;null!=a.comps.head;)b=a.comps.inlined_pop_unsafe(),b.waket=a.waket,b.isBody?this.live.inlined_add(b.body):this.live_constraints.inlined_add(b.constraint),b.sleeping=!1,b.island=null,b.parent=b,b.rank=0;a.next=d.space.ZPP_Island.zpp_pool;d.space.ZPP_Island.zpp_pool=a}},sleepArbiters:function(){var a=null,b=this.c_arbiters_true,c=b.head,d=null!=this.c_arbiters_false;d&&
null==c&&(d=!1,c=this.c_arbiters_false.head,b=this.c_arbiters_false,a=null);for(;null!=c;){var e=c.elt;e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,c=b.inlined_erase(a)):(a=c,c=c.next);d&&null==c&&(d=!1,c=this.c_arbiters_false.head,b=this.c_arbiters_false,a=null)}a=null;b=this.f_arbiters;c=b.head;d=!1;for(;null!=c;)if(e=c.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,c=b.inlined_erase(a)):(a=c,c=c.next),d&&
null==c)d=!1,a=b=null;a=null;b=this.s_arbiters;c=b.head;d=!1;for(;null!=c;)if(e=c.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,c=b.inlined_erase(a)):(a=c,c=c.next),d&&null==c)d=!1,a=b=null},static_validation:function(a){null!=a.shapes.head&&a.validate_aabb();a.validate_mass();a.validate_inertia();for(var b=a.shapes.head;null!=b;){var c=b.elt;c.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&(c.polygon.splice_collinear(),c.polygon.validate_gaxi());b=b.next}a.sweepFrozen=
!0},validation:function(){this.cbsets.validate();for(var a=this.live.head;null!=a;){var b=a.elt;b.sweepRadius=0;for(var c=b.shapes.head;null!=c;){var e=c.elt;e.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&(e.polygon.splice_collinear(),e.polygon.validate_gaxi());e.validate_sweepRadius();e.sweepRadius>b.sweepRadius&&(b.sweepRadius=e.sweepRadius);c=c.next}b.validate_mass();b.validate_inertia();null!=b.shapes.head&&(b.validate_aabb(),b.validate_worldCOM());b.validate_gravMass();b.zip_axis&&(b.zip_axis=
!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);if(b.component.woken&&null!=b.cbSet)for(c=b.cbSet.bodylisteners.head;null!=c;)e=c.elt,e.event==d.util.ZPP_Flags.id_CbEvent_WAKE&&(e=this.push_callback(e),e.event=d.util.ZPP_Flags.id_CbEvent_WAKE,e.body=b),c=c.next;b.component.woken=!1;for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),b=b.next;a=a.next}for(a=this.kinematics.head;null!=a;){b=a.elt;b.sweepRadius=0;for(c=b.shapes.head;null!=c;)e=c.elt,e.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&
(e.polygon.splice_collinear(),e.polygon.validate_gaxi()),e.validate_sweepRadius(),e.sweepRadius>b.sweepRadius&&(b.sweepRadius=e.sweepRadius),c=c.next;b.validate_mass();b.validate_inertia();null!=b.shapes.head&&(b.validate_aabb(),b.validate_worldCOM());b.validate_gravMass();b.zip_axis&&(b.zip_axis=!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),b=b.next;a=a.next}for(a=this.live_constraints.head;null!=a;){b=a.elt;if(b.active){if(b.component.woken&&
null!=b.cbSet)for(c=b.cbSet.conlisteners.head;null!=c;)e=c.elt,e.event==d.util.ZPP_Flags.id_CbEvent_WAKE&&(e=this.push_callback(e),e.event=d.util.ZPP_Flags.id_CbEvent_WAKE,e.constraint=b),c=c.next;b.component.woken=!1}a=a.next}},updateVel:function(a){for(var b=1-a*this.global_lin_drag,c=1-a*this.global_ang_drag,d=this.live.head;null!=d;){var e=d.elt;if(0!=e.smass){var f=a*e.imass;e.velx=b*e.velx+(e.forcex+this.gravityx*e.gravMass)*f;e.vely=b*e.vely+(e.forcey+this.gravityy*e.gravMass)*f}if(0!=e.sinertia){var h=
f=0,f=e.worldCOMx-e.posx,h=e.worldCOMy-e.posy;e.angvel=c*e.angvel+(e.torque+(this.gravityy*f-this.gravityx*h)*e.gravMass)*a*e.iinertia}d=d.next}},updatePos:function(a){for(var b=2*Math.PI/a,c=this.live.head;null!=c;){var e=c.elt;e.pre_posx=e.posx;e.pre_posy=e.posy;e.pre_rot=e.rot;e.sweepTime=0;e.sweep_angvel=e.angvel%b;e.sweepIntegrate(a);if(e.disableCCD)e.sweepFrozen=!0,e.bullet=!1;else{var g=f.Config.staticCCDLinearThreshold*e.sweepRadius,i=f.Config.staticCCDAngularThreshold;if((e.velx*e.velx+e.vely*
e.vely)*a*a>g*g||e.angvel*e.angvel*a*a>i*i||e.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC){g=e.sweep_angvel;0>g&&(g=-g);for(var i=1/g,h=e.shapes.head;null!=h;){var k=h.elt,l=k.aabb,m=l.minx,p=l.miny,q=l.maxx,t=l.maxy,u=0.008333333333333333*g*a*k.sweepCoef|0;8<u&&(u=8);var s=g*a/u;e.sweepIntegrate(a);k.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.circle._force_validate_aabb():k.polygon._force_validate_aabb();m<l.minx?l.minx=m:m=l.minx;p<l.miny?l.miny=p:p=l.miny;q>l.maxx?l.maxx=q:q=l.maxx;t>l.maxy?
l.maxy=t:t=l.maxy;for(var w=1;w<u;){var y=w++;e.sweepIntegrate(s*y*i);k.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.circle._force_validate_aabb():k.polygon._force_validate_aabb();m<l.minx?l.minx=m:m=l.minx;p<l.miny?l.miny=p:p=l.miny;q>l.maxx?l.maxx=q:q=l.maxx;t>l.maxy?l.maxy=t:t=l.maxy}this.bphase.sync(k);h=h.next}e.sweepFrozen=!1;if(e.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&e.bulletEnabled&&(g=f.Config.bulletCCDLinearThreshold*e.sweepRadius,i=f.Config.bulletCCDAngularThreshold,(e.velx*e.velx+
e.vely*e.vely)*a*a>g*g||e.angvel*e.angvel*a*a>i*i))e.bullet=!0}else e.sweepFrozen=!0,e.bullet=!1}c=c.next}for(c=this.kinematics.head;null!=c;){e=c.elt;e.pre_posx=e.posx;e.pre_posy=e.posy;e.pre_rot=e.rot;e.sweepTime=0;e.sweep_angvel=e.angvel%b;e.sweepIntegrate(a);if(e.disableCCD)e.sweepFrozen=!0,e.bullet=!1;else if(g=f.Config.staticCCDLinearThreshold*e.sweepRadius,i=f.Config.staticCCDAngularThreshold,(e.velx*e.velx+e.vely*e.vely)*a*a>g*g||e.angvel*e.angvel*a*a>i*i||e.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC){g=
e.sweep_angvel;0>g&&(g=-g);i=1/g;for(h=e.shapes.head;null!=h;){k=h.elt;l=k.aabb;m=l.minx;p=l.miny;q=l.maxx;t=l.maxy;u=0.008333333333333333*g*a*k.sweepCoef|0;8<u&&(u=8);s=g*a/u;e.sweepIntegrate(a);k.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?k.circle._force_validate_aabb():k.polygon._force_validate_aabb();m<l.minx?l.minx=m:m=l.minx;p<l.miny?l.miny=p:p=l.miny;q>l.maxx?l.maxx=q:q=l.maxx;t>l.maxy?l.maxy=t:t=l.maxy;for(w=1;w<u;)y=w++,e.sweepIntegrate(s*y*i),k.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
k.circle._force_validate_aabb():k.polygon._force_validate_aabb(),m<l.minx?l.minx=m:m=l.minx,p<l.miny?l.miny=p:p=l.miny,q>l.maxx?l.maxx=q:q=l.maxx,t>l.maxy?l.maxy=t:t=l.maxy;this.bphase.sync(k);h=h.next}e.sweepFrozen=!1;if(e.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&e.bulletEnabled&&(g=f.Config.bulletCCDLinearThreshold*e.sweepRadius,i=f.Config.bulletCCDAngularThreshold,(e.velx*e.velx+e.vely*e.vely)*a*a>g*g||e.angvel*e.angvel*a*a>i*i))e.bullet=!0}else e.sweepFrozen=!0,e.bullet=!1;c=c.next}},continuous:null,
presteparb:function(a,b,c){null==c&&(c=!1);var e=this;if(!a.cleared&&a.b1.component.sleeping&&a.b2.component.sleeping)return a.sleep_stamp=this.stamp,a.sleeping=!0;if(!a.cleared||0!=a.present||a.intchange){var g=!c&&a.up_stamp==this.stamp-1&&!a.cleared&&!a.intchange,c=a.fresh&&!a.cleared&&!a.intchange;g&&(a.endGenerated=this.stamp);if(c||g||a.cleared||a.intchange){this.inlined_MRCA_chains(a.ws1,a.ws2);for(g=this.mrca1.head;null!=g;){for(var i=g.elt,h=this.mrca2.head;null!=h;){var k=h.elt,l=i.cbSet,
m=k.cbSet;if(!l.manager.pair(l,m).empty_intersection()){var p=[d.phys.ZPP_Interactor.get(i,k)];c||a.intchange?(null==p[0]&&(p[0]=d.space.ZPP_CallbackSet.get(i,k),this.add_callbackset(p[0])),l.manager.pair(l,m).forall(d.util.ZPP_Flags.id_CbEvent_BEGIN,function(b){return function(c){if((c.itype&a.type)!=0&&b[0].empty_arb(c.itype)){var g=e.push_callback(c);g.event=d.util.ZPP_Flags.id_CbEvent_BEGIN;d.phys.ZPP_Interactor.int_callback(b[0],c,g);g.set=b[0]}}}(p)),p[0].arbiters.inlined_has(a)?p=!1:(k=void 0,
p[0].arbiters.inlined_add(a),p=k=!0),p&&a.present++):(a.present--,p[0].remove_arb(a),l.manager.pair(l,m).forall(d.util.ZPP_Flags.id_CbEvent_END,function(b){return function(c){if((c.itype&a.type)!=0&&b[0].empty_arb(c.itype)){var g=e.push_callback(c);g.event=d.util.ZPP_Flags.id_CbEvent_END;d.phys.ZPP_Interactor.int_callback(b[0],c,g);g.set=b[0]}}}(p)),null==p[0].arbiters.head&&this.remove_callbackset(p[0]))}h=h.next}g=g.next}}a.fresh=!1;a.intchange=!1}if(a.cleared||a.up_stamp+(a.type==d.dynamics.ZPP_Arbiter.COL?
f.Config.arbiterExpirationDelay:0)<this.stamp)return a.type==d.dynamics.ZPP_Arbiter.SENSOR?a.sensorarb.retire():a.type==d.dynamics.ZPP_Arbiter.FLUID?a.fluidarb.retire():a.colarb.retire(),!0;c=a.active;a.active=a.presentable=a.up_stamp==this.stamp;0!=(a.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)?a.active&&a.type!=d.dynamics.ZPP_Arbiter.SENSOR&&(null!=a.colarb?a.colarb.preStep(b)&&(a.active=!1):a.fluidarb.preStep(this,b)):null!=a.colarb&&a.colarb.cleanupContacts()&&(a.active=!1);c!=a.active&&(a.b1.arbiters.modified=
!0,a.b2.arbiters.modified=!0,this.c_arbiters_true.modified=this.c_arbiters_false.modified=!0,this.s_arbiters.modified=this.f_arbiters.modified=!0);return!1},prestep:function(a){for(var b=null,c=this.live_constraints.head;null!=c;){var d=c.elt;d.preStep(a)?(c=this.live_constraints.erase(b),d.broken(),this.constraintCbBreak(d),d.removeOnBreak?(d.component.sleeping=!0,this.midstep=!1,null!=d.compound?d.compound.wrap_constraints.remove(d.outer):this.wrap_constraints.remove(d.outer),this.midstep=!0):d.active=
!1,d.clearcache()):(b=c,c=c.next)}var b=null,c=this.c_arbiters_true,d=c.head,e=null!=this.c_arbiters_false;e&&null==d&&(e=!1,d=this.c_arbiters_false.head,c=this.c_arbiters_false,b=null);for(;null!=d;)if(this.presteparb(d.elt,a)?d=c.inlined_erase(b):(b=d,d=d.next),e&&null==d)e=!1,d=this.c_arbiters_false.head,c=this.c_arbiters_false,b=null;b=null;c=this.f_arbiters;d=c.head;e=!1;for(;null!=d;)if(this.presteparb(d.elt,a)?d=c.inlined_erase(b):(b=d,d=d.next),e&&null==d)e=!1,b=c=null;b=null;c=this.s_arbiters;
d=c.head;e=!1;for(;null!=d;)if(this.presteparb(d.elt,a)?d=c.inlined_erase(b):(b=d,d=d.next),e&&null==d)e=!1,b=c=null},warmStart:function(){for(var a=this.f_arbiters.head;null!=a;){var b=a.elt;b.active&&0!=(b.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&b.warmStart();a=a.next}a=this.c_arbiters_false.head;b=!0;null==a&&(a=this.c_arbiters_true.head,b=!1);for(;null!=a;){var c=a.elt;c.active&&0!=(c.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&c.warmStart();a=a.next;b&&null==a&&(a=this.c_arbiters_true.head,
b=!1)}for(a=this.live_constraints.head;null!=a;)a.elt.warmStart(),a=a.next},iterateVel:function(a){for(var b=0;b<a;){b++;for(var c=this.f_arbiters.head;null!=c;){var e=c.elt;e.active&&0!=(e.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&e.applyImpulseVel();c=c.next}c=null;for(e=this.live_constraints.head;null!=e;){var g=e.elt;g.applyImpulseVel()?(e=this.live_constraints.erase(c),g.broken(),this.constraintCbBreak(g),g.removeOnBreak?(g.component.sleeping=!0,this.midstep=!1,null!=g.compound?g.compound.wrap_constraints.remove(g.outer):
this.wrap_constraints.remove(g.outer),this.midstep=!0):g.active=!1,g.clearcache()):(c=e,e=e.next)}c=this.c_arbiters_false.head;e=!0;null==c&&(c=this.c_arbiters_true.head,e=!1);for(;null!=c;)g=c.elt,g.active&&0!=(g.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&g.applyImpulseVel(),c=c.next,e&&null==c&&(c=this.c_arbiters_true.head,e=!1)}},iteratePos:function(a){for(var b=0;b<a;){b++;for(var c=null,e=this.live_constraints.head;null!=e;){var g=e.elt;!g.__velocity&&g.stiff&&g.applyImpulsePos()?(e=this.live_constraints.erase(c),
g.broken(),this.constraintCbBreak(g),g.removeOnBreak?(g.component.sleeping=!0,this.midstep=!1,null!=g.compound?g.compound.wrap_constraints.remove(g.outer):this.wrap_constraints.remove(g.outer),this.midstep=!0):g.active=!1,g.clearcache()):(c=e,e=e.next)}c=this.c_arbiters_false.head;e=!0;null==c&&(c=this.c_arbiters_true.head,e=!1);for(;null!=c;)g=c.elt,g.active&&0!=(g.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)&&g.applyImpulsePos(),c=c.next,e&&null==c&&(c=this.c_arbiters_true.head,e=!1)}},group_ignore:function(a,
b){var c=a.lookup_group();if(null==c)return!1;var d=b.lookup_group();if(null==d)return!1;for(var e=!1;null!=c&&null!=d;){if(c==d){e=c.ignore;break}c.depth<d.depth?d=d.group:c=c.group}return e},interactionType:function(a,b,c,d){var e;e=!1;for(var f=c.constraints.head;null!=f;){var h=f.elt;if(h.ignore&&h.pair_exists(c.id,d.id)){e=!0;break}f=f.next}return!e&&!this.group_ignore(a,b)?(a.sensorEnabled||b.sensorEnabled)&&a.filter.shouldSense(b.filter)?2:(a.fluidEnabled||b.fluidEnabled)&&a.filter.shouldFlow(b.filter)&&
!(0==c.imass&&0==d.imass&&0==c.iinertia&&0==d.iinertia)?0:a.filter.shouldCollide(b.filter)&&!(0==c.imass&&0==d.imass&&0==c.iinertia&&0==d.iinertia)?1:-1:-1},precb:null,prelisteners:null,narrowPhase:function(a,b,c,e,g){var i=this,h=null,k=a.body,l=b.body,m=this.interactionType(a,b,k,l);if(-1!=m){var p,q;a.type>b.type?(p=b,q=a):a.type==b.type?a.id<b.id?(p=a,q=b):(q=a,p=b):(p=a,q=b);var t=p==b;if(0==m){var u;if(null==e){for(var s=null,w=(k.arbiters.length<l.arbiters.length?k:l).arbiters.head;null!=w;){var y=
w.elt;if(y.id==p.id&&y.di==q.id){s=y;break}w=w.next}u=s}else u=e;var z=null==u,v,A=!1;z?(null==d.dynamics.ZPP_FluidArbiter.zpp_pool?v=new d.dynamics.ZPP_FluidArbiter:(v=d.dynamics.ZPP_FluidArbiter.zpp_pool,d.dynamics.ZPP_FluidArbiter.zpp_pool=v.next,v.next=null),null):null==u.fluidarb?(u.cleared=!0,u.b1.arbiters.inlined_try_remove(u),u.b2.arbiters.inlined_try_remove(u),null!=u.pair&&(u.pair.arb=null,u.pair=null),u.active=!1,this.f_arbiters.modified=!0,null==d.dynamics.ZPP_FluidArbiter.zpp_pool?v=
new d.dynamics.ZPP_FluidArbiter:(v=d.dynamics.ZPP_FluidArbiter.zpp_pool,d.dynamics.ZPP_FluidArbiter.zpp_pool=v.next,v.next=null),null,A=z=v.intchange=!0):v=u.fluidarb;var B=d.util.ZPP_Flags.id_InteractionType_FLUID;if(z||v.stamp!=this.stamp||g)if(v.stamp=this.stamp,d.geom.ZPP_Collide.flowCollide(p,q,v)){z?(v.b1=a.body,v.ws1=a,v.b2=b.body,v.ws2=b,v.id=p.id,v.di=q.id,v.b1.arbiters.inlined_add(v),v.b2.arbiters.inlined_add(v),v.active=!0,v.present=0,v.cleared=!1,v.sleeping=!1,v.fresh=!1,v.presentable=
!1,v.nx=0,v.ny=1,v.dampx=0,v.dampy=0,v.adamp=0,this.f_arbiters.inlined_add(v),v.fresh=!A):v.fresh=v.up_stamp<this.stamp-1||v.endGenerated==this.stamp&&g;v.up_stamp=v.stamp;if(v.fresh||0==(v.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)){v.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;var r=!1;this.inlined_MRCA_chains(v.ws1.id>v.ws2.id?v.ws2:v.ws1,v.ws1.id>v.ws2.id?v.ws1:v.ws2);for(var C=this.mrca1.head;null!=C;){for(var D=C.elt,F=this.mrca2.head;null!=F;){var G=F.elt,H=D.cbSet,O=G.cbSet;if(!H.manager.pair(H,
O).empty_intersection()){var M=null,P=null;this.prelisteners.inlined_clear();H.manager.pair(H,O).forall(d.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){if((b.itype&B)!=0){a[0]=i.prelisteners.inlined_insert(a[0],b);r=r||!b.pure}}}([null]));if(null!=this.prelisteners.head)if(M=d.phys.ZPP_Interactor.get(D,G),null==M&&(P=d.space.ZPP_CallbackSet.get(D,G),this.add_callbackset(P)),null==M||(M.FLUIDstamp!=this.stamp||g)&&0==(M.FLUIDstate&d.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=P&&(M=P);
if(null!=M)for(var Q=this.prelisteners.head;null!=Q;)Q.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY&&(M.COLLISIONstamp=this.stamp,M.SENSORstamp=this.stamp),M.FLUIDstamp=this.stamp,Q=Q.next;var S=v.active;v.active=!0;this.precb.zpp_inner.pre_arbiter=v;this.precb.zpp_inner.set=M;for(var R=this.prelisteners.head;null!=R;){var U=R.elt;this.precb.zpp_inner.listener=U;d.phys.ZPP_Interactor.int_callback(M,U,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=D!=this.precb.zpp_inner.int1;var V=U.handlerp(this.precb);
if(null!=V){var X=V,ha=void 0;null==d.util.ZPP_Flags.PreFlag_ACCEPT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);ha=d.util.ZPP_Flags.PreFlag_ACCEPT;if(X==ha)v.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT|d.util.ZPP_Flags.id_ImmState_ALWAYS;else{var na=V,aa=void 0;null==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);
aa=d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;if(na==aa)v.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;else{var oa=V,ua=void 0;null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);ua=d.util.ZPP_Flags.PreFlag_IGNORE;v.immState=oa==ua?d.util.ZPP_Flags.id_ImmState_IGNORE|d.util.ZPP_Flags.id_ImmState_ALWAYS:d.util.ZPP_Flags.id_ImmState_IGNORE}}}R=R.next}v.active=S;if(null!=M)for(var Y=this.prelisteners.head;null!=
Y;)Y.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY&&(M.COLLISIONstate=v.immState,M.SENSORstate=v.immState),M.FLUIDstate=v.immState,Y=Y.next}else null==M?0==(v.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)&&(v.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT):v.immState=M.FLUIDstate}F=F.next}C=C.next}if(r&&0==(v.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)){if(v.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var xa=v.b1;xa.world||(xa.component.waket=this.stamp+(this.midstep?0:1),xa.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(xa.kinematicDelaySleep=!0),xa.component.sleeping&&this.really_wake(xa,!1))}if(v.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var va=v.b2;va.world||(va.component.waket=this.stamp+(this.midstep?0:1),va.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(va.kinematicDelaySleep=!0),va.component.sleeping&&this.really_wake(va,!1))}}}if(0!=(v.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)){if(v.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&v.b1.component.sleeping){var Aa=v.b1;Aa.world||(Aa.component.waket=
this.stamp+(this.midstep?0:1),Aa.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Aa.kinematicDelaySleep=!0),Aa.component.sleeping&&this.really_wake(Aa,!1))}if(v.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&v.b2.component.sleeping){var ia=v.b2;ia.world||(ia.component.waket=this.stamp+(this.midstep?0:1),ia.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ia.kinematicDelaySleep=!0),ia.component.sleeping&&this.really_wake(ia,!1))}}v.sleeping&&(v.sleeping=!1,this.f_arbiters.inlined_add(v));h=v}else if(z){var Ga=
v;Ga.next=d.dynamics.ZPP_FluidArbiter.zpp_pool;d.dynamics.ZPP_FluidArbiter.zpp_pool=Ga;h=null}else h=v;else h=v}else if(1==m){var la;la=c?this.c_arbiters_true:this.c_arbiters_false;var ja;if(null==e){for(var Ha=null,za=(k.arbiters.length<l.arbiters.length?k:l).arbiters.head;null!=za;){var db=za.elt;if(db.id==p.id&&db.di==q.id){Ha=db;break}za=za.next}ja=Ha}else ja=e;var Qa=null==ja,E,xb=!1;Qa?(null==d.dynamics.ZPP_ColArbiter.zpp_pool?E=new d.dynamics.ZPP_ColArbiter:(E=d.dynamics.ZPP_ColArbiter.zpp_pool,
d.dynamics.ZPP_ColArbiter.zpp_pool=E.next,E.next=null),null,E.stat=c):null==ja.colarb?(ja.cleared=!0,ja.b1.arbiters.inlined_try_remove(ja),ja.b2.arbiters.inlined_try_remove(ja),null!=ja.pair&&(ja.pair.arb=null,ja.pair=null),ja.active=!1,this.f_arbiters.modified=!0,null==d.dynamics.ZPP_ColArbiter.zpp_pool?E=new d.dynamics.ZPP_ColArbiter:(E=d.dynamics.ZPP_ColArbiter.zpp_pool,d.dynamics.ZPP_ColArbiter.zpp_pool=E.next,E.next=null),null,E.intchange=!0,E.stat=c,xb=Qa=!0):(E=ja.colarb,t=p!=E.s1,E.stat!=
c&&(E.stat=c,E.sleeping||((c?this.c_arbiters_false:this.c_arbiters_true).remove(E),la.add(E))));var Nb=d.util.ZPP_Flags.id_InteractionType_COLLISION;if(Qa||E.stamp!=this.stamp||g)if(E.stamp=this.stamp,d.geom.ZPP_Collide.contactCollide(p,q,E,t)){if(Qa){E.b1=a.body;E.ws1=a;E.b2=b.body;E.ws2=b;E.id=p.id;E.di=q.id;E.b1.arbiters.inlined_add(E);E.b2.arbiters.inlined_add(E);E.active=!0;E.present=0;E.cleared=!1;E.sleeping=!1;E.fresh=!1;E.presentable=!1;E.s1=a;E.s2=b;if(!E.userdef_restitution&&(E.restitution=
E.s1.material.elasticity<=Math.NEGATIVE_INFINITY||E.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:E.s1.material.elasticity>=Math.POSITIVE_INFINITY||E.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(E.s1.material.elasticity+E.s2.material.elasticity)/2,0>E.restitution&&(E.restitution=0),1<E.restitution))E.restitution=1;E.userdef_dyn_fric||(E.dyn_fric=Math.sqrt(E.s1.material.dynamicFriction*E.s2.material.dynamicFriction));E.userdef_stat_fric||(E.stat_fric=Math.sqrt(E.s1.material.staticFriction*
E.s2.material.staticFriction));E.userdef_rfric||(E.rfric=Math.sqrt(E.s1.material.rollingFriction*E.s2.material.rollingFriction));la.inlined_add(E);E.fresh=!xb}else E.fresh=E.up_stamp<this.stamp-1||E.endGenerated==this.stamp&&g;E.up_stamp=E.stamp;if(E.fresh||0==(E.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)){E.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;var Ra=!1;this.inlined_MRCA_chains(E.ws1.id>E.ws2.id?E.ws2:E.ws1,E.ws1.id>E.ws2.id?E.ws1:E.ws2);for(var eb=this.mrca1.head;null!=eb;){for(var Z=
eb.elt,Kb=this.mrca2.head;null!=Kb;){var J=Kb.elt,Ia=Z.cbSet,rb=J.cbSet;if(!Ia.manager.pair(Ia,rb).empty_intersection()){var ba=null,pa=null;this.prelisteners.inlined_clear();Ia.manager.pair(Ia,rb).forall(d.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){if((b.itype&Nb)!=0){a[0]=i.prelisteners.inlined_insert(a[0],b);Ra=Ra||!b.pure}}}([null]));if(null!=this.prelisteners.head)if(ba=d.phys.ZPP_Interactor.get(Z,J),null==ba&&(pa=d.space.ZPP_CallbackSet.get(Z,J),this.add_callbackset(pa)),null==
ba||(ba.COLLISIONstamp!=this.stamp||g)&&0==(ba.COLLISIONstate&d.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=pa&&(ba=pa);if(null!=ba)for(var ca=this.prelisteners.head;null!=ca;)ca.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY?(ba.COLLISIONstamp=this.stamp,ba.SENSORstamp=this.stamp,ba.FLUIDstamp=this.stamp):ba.COLLISIONstamp=this.stamp,ca=ca.next;var Sa=E.active;E.active=!0;E.cleanupContacts();this.precb.zpp_inner.pre_arbiter=E;this.precb.zpp_inner.set=ba;for(var $=this.prelisteners.head;null!=$;){var Ja=
$.elt;this.precb.zpp_inner.listener=Ja;d.phys.ZPP_Interactor.int_callback(ba,Ja,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=Z!=this.precb.zpp_inner.int1;var Ba=Ja.handlerp(this.precb);if(null!=Ba){var bb=Ba,fb=void 0;null==d.util.ZPP_Flags.PreFlag_ACCEPT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);fb=d.util.ZPP_Flags.PreFlag_ACCEPT;if(bb==fb)E.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT|d.util.ZPP_Flags.id_ImmState_ALWAYS;
else{var gb=Ba,yb=void 0;null==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);yb=d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;if(gb==yb)E.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;else{var sb=Ba,zb=void 0;null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);zb=d.util.ZPP_Flags.PreFlag_IGNORE;
E.immState=sb==zb?d.util.ZPP_Flags.id_ImmState_IGNORE|d.util.ZPP_Flags.id_ImmState_ALWAYS:d.util.ZPP_Flags.id_ImmState_IGNORE}}}$=$.next}E.active=Sa;if(null!=ba)for(var ma=this.prelisteners.head;null!=ma;)ma.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY?(ba.COLLISIONstate=E.immState,ba.SENSORstate=E.immState,ba.FLUIDstate=E.immState):ba.COLLISIONstate=E.immState,ma=ma.next}else null==ba?0==(E.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)&&(E.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT):E.immState=
ba.COLLISIONstate}Kb=Kb.next}eb=eb.next}if(Ra&&0==(E.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)){if(E.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var ga=E.b1;ga.world||(ga.component.waket=this.stamp+(this.midstep?0:1),ga.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ga.kinematicDelaySleep=!0),ga.component.sleeping&&this.really_wake(ga,!1))}if(E.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC){var Ka=E.b2;Ka.world||(Ka.component.waket=this.stamp+(this.midstep?0:1),Ka.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(Ka.kinematicDelaySleep=!0),Ka.component.sleeping&&this.really_wake(Ka,!1))}}}if(0!=(E.immState&d.util.ZPP_Flags.id_ImmState_ACCEPT)){if(E.b1.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&E.b1.component.sleeping){var fa=E.b1;fa.world||(fa.component.waket=this.stamp+(this.midstep?0:1),fa.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(fa.kinematicDelaySleep=!0),fa.component.sleeping&&this.really_wake(fa,!1))}if(E.b2.type==d.util.ZPP_Flags.id_BodyType_DYNAMIC&&E.b2.component.sleeping){var Ta=E.b2;Ta.world||
(Ta.component.waket=this.stamp+(this.midstep?0:1),Ta.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Ta.kinematicDelaySleep=!0),Ta.component.sleeping&&this.really_wake(Ta,!1))}}E.sleeping&&(E.sleeping=!1,la.inlined_add(E));h=E}else if(Qa){var qa=E;qa.userdef_dyn_fric=!1;qa.userdef_stat_fric=!1;qa.userdef_restitution=!1;qa.userdef_rfric=!1;qa.__ref_edge1=qa.__ref_edge2=null;qa.next=d.dynamics.ZPP_ColArbiter.zpp_pool;d.dynamics.ZPP_ColArbiter.zpp_pool=qa;h=null}else h=E;else h=E}else{var ra;if(null==
e){for(var Jb=null,hb=(k.arbiters.length<l.arbiters.length?k:l).arbiters.head;null!=hb;){var ib=hb.elt;if(ib.id==p.id&&ib.di==q.id){Jb=ib;break}hb=hb.next}ra=Jb}else ra=e;var tb=null==ra,K,Vb=!1;tb?(null==d.dynamics.ZPP_SensorArbiter.zpp_pool?K=new d.dynamics.ZPP_SensorArbiter:(K=d.dynamics.ZPP_SensorArbiter.zpp_pool,d.dynamics.ZPP_SensorArbiter.zpp_pool=K.next,K.next=null),null):null==ra.sensorarb?(ra.cleared=!0,ra.b1.arbiters.inlined_try_remove(ra),ra.b2.arbiters.inlined_try_remove(ra),null!=ra.pair&&
(ra.pair.arb=null,ra.pair=null),ra.active=!1,this.f_arbiters.modified=!0,null==d.dynamics.ZPP_SensorArbiter.zpp_pool?K=new d.dynamics.ZPP_SensorArbiter:(K=d.dynamics.ZPP_SensorArbiter.zpp_pool,d.dynamics.ZPP_SensorArbiter.zpp_pool=K.next,K.next=null),null,Vb=tb=K.intchange=!0):K=ra.sensorarb;var Ca=d.util.ZPP_Flags.id_InteractionType_SENSOR;if(tb||K.stamp!=this.stamp||g)if(K.stamp=this.stamp,d.geom.ZPP_Collide.testCollide(p,q)){tb?(K.b1=a.body,K.ws1=a,K.b2=b.body,K.ws2=b,K.id=p.id,K.di=q.id,K.b1.arbiters.inlined_add(K),
K.b2.arbiters.inlined_add(K),K.active=!0,K.present=0,K.cleared=!1,K.sleeping=!1,K.fresh=!1,K.presentable=!1,this.s_arbiters.inlined_add(K),K.fresh=!Vb):K.fresh=K.up_stamp<this.stamp-1||K.endGenerated==this.stamp&&g;K.up_stamp=K.stamp;if(K.fresh||0==(K.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)){K.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;var Ua=!1;this.inlined_MRCA_chains(K.ws1.id>K.ws2.id?K.ws2:K.ws1,K.ws1.id>K.ws2.id?K.ws1:K.ws2);for(var Ab=this.mrca1.head;null!=Ab;){for(var ub=Ab.elt,jb=
this.mrca2.head;null!=jb;){var La=jb.elt,Ma=ub.cbSet,kb=La.cbSet;if(!Ma.manager.pair(Ma,kb).empty_intersection()){var da=null,Lb=null;this.prelisteners.inlined_clear();Ma.manager.pair(Ma,kb).forall(d.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){if((b.itype&Ca)!=0){a[0]=i.prelisteners.inlined_insert(a[0],b);Ua=Ua||!b.pure}}}([null]));if(null!=this.prelisteners.head)if(da=d.phys.ZPP_Interactor.get(ub,La),null==da&&(Lb=d.space.ZPP_CallbackSet.get(ub,La),this.add_callbackset(Lb)),null==
da||(da.SENSORstamp!=this.stamp||g)&&0==(da.SENSORstate&d.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=Lb&&(da=Lb);if(null!=da)for(var Da=this.prelisteners.head;null!=Da;)Da.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY?(da.COLLISIONstamp=this.stamp,da.SENSORstamp=this.stamp,da.FLUIDstamp=this.stamp):da.SENSORstamp=this.stamp,Da=Da.next;var Va=K.active;K.active=!0;this.precb.zpp_inner.pre_arbiter=K;this.precb.zpp_inner.set=da;for(var cb=this.prelisteners.head;null!=cb;){var lb=cb.elt;this.precb.zpp_inner.listener=
lb;d.phys.ZPP_Interactor.int_callback(da,lb,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=ub!=this.precb.zpp_inner.int1;var Ea=lb.handlerp(this.precb);if(null!=Ea){var Na=Ea,Wa=void 0;null==d.util.ZPP_Flags.PreFlag_ACCEPT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);Wa=d.util.ZPP_Flags.PreFlag_ACCEPT;if(Na==Wa)K.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT|d.util.ZPP_Flags.id_ImmState_ALWAYS;else{var Bb=Ea,Fa=void 0;
null==d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);Fa=d.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;if(Bb==Fa)K.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT;else{var wa=Ea,vb=void 0;null==d.util.ZPP_Flags.PreFlag_IGNORE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.PreFlag_IGNORE=new f.callbacks.PreFlag,d.util.ZPP_Flags.internal=!1);vb=d.util.ZPP_Flags.PreFlag_IGNORE;K.immState=wa==vb?d.util.ZPP_Flags.id_ImmState_IGNORE|
d.util.ZPP_Flags.id_ImmState_ALWAYS:d.util.ZPP_Flags.id_ImmState_IGNORE}}}cb=cb.next}K.active=Va;if(null!=da)for(var Cb=this.prelisteners.head;null!=Cb;)Cb.elt.itype==d.util.ZPP_Flags.id_InteractionType_ANY?(da.COLLISIONstate=K.immState,da.SENSORstate=K.immState,da.FLUIDstate=K.immState):da.SENSORstate=K.immState,Cb=Cb.next}else null==da?0==(K.immState&d.util.ZPP_Flags.id_ImmState_ALWAYS)&&(K.immState=d.util.ZPP_Flags.id_ImmState_ACCEPT):K.immState=da.SENSORstate}jb=jb.next}Ab=Ab.next}if(Ua&&0==(K.immState&
d.util.ZPP_Flags.id_ImmState_ALWAYS)){if(K.b1.type!=d.util.ZPP_Flags.id_BodyType_STATIC){var mb=K.b1;mb.world||(mb.component.waket=this.stamp+(this.midstep?0:1),mb.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(mb.kinematicDelaySleep=!0),mb.component.sleeping&&this.really_wake(mb,!1))}if(K.b2.type!=d.util.ZPP_Flags.id_BodyType_STATIC){var ka=K.b2;ka.world||(ka.component.waket=this.stamp+(this.midstep?0:1),ka.type==d.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ka.kinematicDelaySleep=!0),ka.component.sleeping&&
this.really_wake(ka,!1))}}}K.sleeping&&(K.sleeping=!1,this.s_arbiters.inlined_add(K));h=K}else if(tb){var nb=K;nb.next=d.dynamics.ZPP_SensorArbiter.zpp_pool;d.dynamics.ZPP_SensorArbiter.zpp_pool=nb;h=null}else h=K;else h=K}}return h},mrca1:null,mrca2:null,MRCA_chains:function(a,b){this.inlined_MRCA_chains(a,b)},inlined_MRCA_chains:function(a,b){this.mrca1.inlined_clear();this.mrca2.inlined_clear();null!=a.cbSet&&this.mrca1.inlined_add(a);null!=a.body.cbSet&&this.mrca1.inlined_add(a.body);null!=b.cbSet&&
this.mrca2.inlined_add(b);null!=b.body.cbSet&&this.mrca2.inlined_add(b.body);for(var c=a.body.compound,d=b.body.compound;c!=d;)(null==c?0:c.depth)<(null==d?0:d.depth)?(null!=d.cbSet&&this.mrca2.inlined_add(d),d=d.compound):(null!=c.cbSet&&this.mrca1.inlined_add(c),c=c.compound)},__class__:d.space.ZPP_Space};d.space.ZPP_SweepData=function(){this.next=this.prev=this.shape=this.aabb=null};l["zpp_nape.space.ZPP_SweepData"]=d.space.ZPP_SweepData;d.space.ZPP_SweepData.__name__=["zpp_nape","space","ZPP_SweepData"];
d.space.ZPP_SweepData.prototype={next:null,prev:null,shape:null,aabb:null,free:function(){this.aabb=this.shape=this.prev=null},alloc:function(){},gt:function(a){return this.aabb.minx>a.aabb.minx},__class__:d.space.ZPP_SweepData};d.space.ZPP_SweepPhase=function(a){this.list=this.failed=null;d.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!0;this.sweep=this};l["zpp_nape.space.ZPP_SweepPhase"]=d.space.ZPP_SweepPhase;d.space.ZPP_SweepPhase.__name__=["zpp_nape","space","ZPP_SweepPhase"];d.space.ZPP_SweepPhase.__super__=
d.space.ZPP_Broadphase;d.space.ZPP_SweepPhase.prototype=z(d.space.ZPP_Broadphase.prototype,{list:null,__insert:function(a){var b;null==d.space.ZPP_SweepData.zpp_pool?b=new d.space.ZPP_SweepData:(b=d.space.ZPP_SweepData.zpp_pool,d.space.ZPP_SweepData.zpp_pool=b.next,b.next=null);null;a.sweep=b;b.shape=a;b.aabb=a.aabb;b.next=this.list;null!=this.list&&(this.list.prev=b);this.list=b},__remove:function(a){var b=a.sweep;null==b.prev?this.list=b.next:b.prev.next=b.next;null!=b.next&&(b.next.prev=b.prev);
a.sweep=null;b.prev=null;b.shape=null;b.aabb=null;b.next=d.space.ZPP_SweepData.zpp_pool;d.space.ZPP_SweepData.zpp_pool=b},__sync:function(a){!this.space.continuous&&(a.zip_aabb&&null!=a.body)&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb())},sync_broadphase:function(){this.space.validation();null!=this.list&&this.sync_broadphase_fast()},sync_broadphase_fast:function(){for(var a=this.list.next;null!=a;){var b=a.next,c=a.prev;if(!(a.aabb.minx>
c.aabb.minx)){for(;null!=c.prev&&c.prev.aabb.minx>a.aabb.minx;)c=c.prev;var d=a.prev;d.next=a.next;null!=a.next&&(a.next.prev=d);null==c.prev?(a.prev=null,this.list=a,a.next=c,c.prev=a):(a.prev=c.prev,c.prev=a,a.prev.next=a,a.next=c)}a=b}},broadphase:function(a,b){if(null!=this.list){this.sync_broadphase_fast();for(var c=this.list;null!=c;){for(var e=c.next,g=c.shape,f=g.body,h=c.aabb.maxx;null!=e&&!(e.aabb.minx>h);){var k=e.shape,l=k.body;if(l!=f&&!(f.type==d.util.ZPP_Flags.id_BodyType_STATIC&&l.type==
d.util.ZPP_Flags.id_BodyType_STATIC)&&(!f.component.sleeping||!l.component.sleeping))g.aabb.intersectY(k.aabb)&&(b?a.narrowPhase(g,k,f.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC||l.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC,null,!1):a.continuousEvent(g,k,f.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC||l.type!=d.util.ZPP_Flags.id_BodyType_DYNAMIC,null,!1));e=e.next}c=c.next}}},clear:function(){for(;null!=this.list;)this.list.shape.removedFromSpace(),this.__remove(this.list.shape)},shapesUnderPoint:function(a,
b,c,e){this.sync_broadphase();for(var g=d.geom.ZPP_Vec2.get(a,b,null),e=null==e?new f.shape.ShapeList:e,i=this.list;null!=i&&i.aabb.minx>a;)i=i.next;for(;null!=i&&i.aabb.minx<=a;){if(i.aabb.maxx>=a&&i.aabb.miny<=b&&i.aabb.maxy>=b){var h=i.shape;if(null==c||h.filter.shouldCollide(c))h.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?d.geom.ZPP_Collide.circleContains(h.circle,g)&&e.push(h.outer):d.geom.ZPP_Collide.polyContains(h.polygon,g)&&e.push(h.outer)}i=i.next}null!=g.outer&&(g.outer.zpp_inner=null,
g.outer=null);g._isimmutable=null;g._validate=null;g._invalidate=null;g.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=g;return e},bodiesUnderPoint:function(a,b,c,e){this.sync_broadphase();for(var g=d.geom.ZPP_Vec2.get(a,b,null),e=null==e?new f.phys.BodyList:e,i=this.list;null!=i&&i.aabb.minx>a;)i=i.next;for(;null!=i&&i.aabb.minx<=a;){if(i.aabb.maxx>=a&&i.aabb.miny<=b&&i.aabb.maxy>=b){var h=i.shape,k=h.body.outer;if(!e.has(k)&&(null==c||h.filter.shouldCollide(c)))h.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
d.geom.ZPP_Collide.circleContains(h.circle,g)&&e.push(k):d.geom.ZPP_Collide.polyContains(h.polygon,g)&&e.push(k)}i=i.next}null!=g.outer&&(g.outer.zpp_inner=null,g.outer=null);g._isimmutable=null;g._validate=null;g._invalidate=null;g.next=d.geom.ZPP_Vec2.zpp_pool;d.geom.ZPP_Vec2.zpp_pool=g;return e},shapesInAABB:function(a,b,c,e,g){this.sync_broadphase();this.updateAABBShape(a);for(var a=this.aabbShape.zpp_inner.aabb,g=null==g?new f.shape.ShapeList:g,i=this.list;null!=i&&i.aabb.maxx<a.minx;)i=i.next;
for(;null!=i&&i.aabb.minx<=a.maxx;){var h=i.shape;if(null==e||h.filter.shouldCollide(e))b?c?d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,h)&&g.push(h.outer):a.contains(i.aabb)?g.push(h.outer):i.aabb.intersect(a)&&d.geom.ZPP_Collide.testCollide_safe(h,this.aabbShape.zpp_inner)&&g.push(h.outer):(c?a.contains(i.aabb):i.aabb.intersect(a))&&g.push(h.outer);i=i.next}return g},failed:null,bodiesInAABB:function(a,b,c,e,g){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;
g=null==g?new f.phys.BodyList:g;null==this.failed&&(this.failed=new f.phys.BodyList);for(var i=this.list;null!=i&&i.aabb.maxx<a.minx;)i=i.next;for(;null!=i&&i.aabb.minx<=a.maxx;){var h=i.shape,k=h.body.outer;if(i.aabb.intersect(a)&&(null==e||h.filter.shouldCollide(e)))b?c?this.failed.has(k)||(h=d.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,h),!g.has(k)&&h?g.push(k):h||(g.remove(k),this.failed.push(k))):!g.has(k)&&d.geom.ZPP_Collide.testCollide_safe(h,this.aabbShape.zpp_inner)&&g.push(k):
c?this.failed.has(k)||(h=a.contains(h.aabb),!g.has(k)&&h?g.push(k):h||(g.remove(k),this.failed.push(k))):!g.has(k)&&a.contains(h.aabb)&&g.push(k);i=i.next}this.failed.clear();return g},shapesInCircle:function(a,b,c,e,g,i){this.sync_broadphase();this.updateCircShape(a,b,c);a=this.circShape.zpp_inner.aabb;i=null==i?new f.shape.ShapeList:i;for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;){if(b.aabb.intersect(a)&&(c=b.shape,null==g||c.filter.shouldCollide(g)))e?
d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,c)&&i.push(c.outer):d.geom.ZPP_Collide.testCollide_safe(c,this.circShape.zpp_inner)&&i.push(c.outer);b=b.next}return i},bodiesInCircle:function(a,b,c,e,g,i){this.sync_broadphase();this.updateCircShape(a,b,c);a=this.circShape.zpp_inner.aabb;i=null==i?new f.phys.BodyList:i;null==this.failed&&(this.failed=new f.phys.BodyList);for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;){if(b.aabb.intersect(a)){var h=
b.shape,c=h.body.outer;if(null==g||h.filter.shouldCollide(g))e?this.failed.has(c)||(h=d.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,h),!i.has(c)&&h?i.push(c):h||(i.remove(c),this.failed.push(c))):!i.has(c)&&d.geom.ZPP_Collide.testCollide_safe(h,this.circShape.zpp_inner)&&i.push(c)}b=b.next}this.failed.clear();return i},shapesInShape:function(a,b,c,e){this.sync_broadphase();this.validateShape(a);for(var g=a.aabb,e=null==e?new f.shape.ShapeList:e,i=this.list;null!=i&&i.aabb.maxx<g.minx;)i=
i.next;for(;null!=i&&i.aabb.minx<=g.maxx;){if(i.aabb.intersect(g)){var h=i.shape;if(null==c||h.filter.shouldCollide(c))b?d.geom.ZPP_Collide.containTest(a,h)&&e.push(h.outer):d.geom.ZPP_Collide.testCollide_safe(h,a)&&e.push(h.outer)}i=i.next}return e},bodiesInShape:function(a,b,c,e){this.sync_broadphase();this.validateShape(a);var g=a.aabb,e=null==e?new f.phys.BodyList:e;null==this.failed&&(this.failed=new f.phys.BodyList);for(var i=this.list;null!=i&&i.aabb.maxx<g.minx;)i=i.next;for(;null!=i&&i.aabb.minx<=
g.maxx;){if(i.aabb.intersect(g)){var h=i.shape,k=h.body.outer;if(null==c||h.filter.shouldCollide(c))b?this.failed.has(k)||(h=d.geom.ZPP_Collide.containTest(a,h),!e.has(k)&&h?e.push(k):h||(e.remove(k),this.failed.push(k))):!e.has(k)&&d.geom.ZPP_Collide.testCollide_safe(a,h)&&e.push(k)}i=i.next}this.failed.clear();return e},rayCast:function(a,b,c){this.sync_broadphase();a.validate_dir();var e=a.rayAABB(),g=a.maxdist,f=null;if(0==a.dirx)for(var h=this.list;null!=h&&h.aabb.minx<=e.minx;){if(h.aabb.intersect(e)&&
(null==c||h.shape.filter.shouldCollide(c))){var k=a.aabbsect(h.aabb);0<=k&&k<g&&(k=h.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(h.shape.circle,b,g):a.polysect(h.shape.polygon,b,g),null!=k&&(g=k.zpp_inner.toiDistance,null!=f&&f.zpp_inner.free(),f=k))}h=h.next}else if(0>a.dirx){h=this.list;for(k=null;null!=h&&h.aabb.minx<=e.maxx;)k=h,h=h.next;for(h=k;null!=h;){if(h.aabb.intersect(e)&&(null==c||h.shape.filter.shouldCollide(c)))k=a.aabbsect(h.aabb),0<=k&&k<g&&(k=h.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
a.circlesect(h.shape.circle,b,g):a.polysect(h.shape.polygon,b,g),null!=k&&(g=k.zpp_inner.toiDistance,null!=f&&f.zpp_inner.free(),f=k));h=h.prev}}else for(h=this.list;null!=h&&h.aabb.minx<=e.maxx&&h.aabb.minx<a.originx+a.dirx*g;){if(h.aabb.intersect(e)&&(null==c||h.shape.filter.shouldCollide(c)))k=a.aabbsect(h.aabb),0<=k&&k<g&&(k=h.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(h.shape.circle,b,g):a.polysect(h.shape.polygon,b,g),null!=k&&(g=k.zpp_inner.toiDistance,null!=f&&f.zpp_inner.free(),
f=k));h=h.next}null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e.wrap_min=e.wrap_max=null;e._invalidate=null;e._validate=null;e.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=e;return f},rayMultiCast:function(a,b,c,e){this.sync_broadphase();a.validate_dir();var g=a.rayAABB(),e=null==e?new f.geom.RayResultList:e;if(0==a.dirx)for(var i=this.list;null!=i&&i.aabb.minx<=g.minx;){if(i.aabb.intersect(g)&&(null==c||i.shape.filter.shouldCollide(c)))0<=a.aabbsect(i.aabb)&&(i.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?
a.circlesect2(i.shape.circle,b,e):a.polysect2(i.shape.polygon,b,e));i=i.next}else if(0>a.dirx){for(var i=this.list,h=null;null!=i&&i.aabb.minx<=g.maxx;)h=i,i=i.next;for(i=h;null!=i;){if(i.aabb.intersect(g)&&(null==c||i.shape.filter.shouldCollide(c)))0<=a.aabbsect(i.aabb)&&(i.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(i.shape.circle,b,e):a.polysect2(i.shape.polygon,b,e));i=i.prev}}else for(i=this.list;null!=i&&i.aabb.minx<=g.maxx;){if(i.aabb.intersect(g)&&(null==c||i.shape.filter.shouldCollide(c)))0<=
a.aabbsect(i.aabb)&&(i.shape.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(i.shape.circle,b,e):a.polysect2(i.shape.polygon,b,e));i=i.next}null!=g.outer&&(g.outer.zpp_inner=null,g.outer=null);g.wrap_min=g.wrap_max=null;g._invalidate=null;g._validate=null;g.next=d.geom.ZPP_AABB.zpp_pool;d.geom.ZPP_AABB.zpp_pool=g;return e},__class__:d.space.ZPP_SweepPhase});d.util.ZNPArray2_Float=function(a){this.width=0;this.list=null;this.width=a;this.list=[]};l["zpp_nape.util.ZNPArray2_Float"]=d.util.ZNPArray2_Float;
d.util.ZNPArray2_Float.__name__=["zpp_nape","util","ZNPArray2_Float"];d.util.ZNPArray2_Float.prototype={list:null,width:null,resize:function(a,b,c){this.width=a;for(var d=0,a=a*b;d<a;)b=d++,this.list[b]=c},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,c){return this.list[b*this.width+a]=c},__class__:d.util.ZNPArray2_Float};d.util.ZNPArray2_ZPP_GeomVert=function(a){this.width=0;this.list=null;this.width=a;this.list=[]};l["zpp_nape.util.ZNPArray2_ZPP_GeomVert"]=d.util.ZNPArray2_ZPP_GeomVert;
d.util.ZNPArray2_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPArray2_ZPP_GeomVert"];d.util.ZNPArray2_ZPP_GeomVert.prototype={list:null,width:null,resize:function(a,b,c){this.width=a;for(var d=0,a=a*b;d<a;)b=d++,this.list[b]=c},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,c){return this.list[b*this.width+a]=c},__class__:d.util.ZNPArray2_ZPP_GeomVert};d.util.ZNPArray2_ZPP_MarchPair=function(a){this.width=0;this.list=null;this.width=a;this.list=[]};l["zpp_nape.util.ZNPArray2_ZPP_MarchPair"]=
d.util.ZNPArray2_ZPP_MarchPair;d.util.ZNPArray2_ZPP_MarchPair.__name__=["zpp_nape","util","ZNPArray2_ZPP_MarchPair"];d.util.ZNPArray2_ZPP_MarchPair.prototype={list:null,width:null,resize:function(a,b,c){this.width=a;for(var d=0,a=a*b;d<a;)b=d++,this.list[b]=c},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,c){return this.list[b*this.width+a]=c},__class__:d.util.ZNPArray2_ZPP_MarchPair};d.util.ZPP_Debug=function(a,b){this.viewport=this.iport=this.tmpab=null;this.xdet=this.width=
this.height=0;this.xnull=!1;this.xform=null;this.bg_r=this.bg_g=this.bg_b=this.bg_col=0;this.d_shape=null;this.isbmp=!1;this.outer=null;this.xnull=!0;this.xdet=1;this.width=a;this.height=b;this.viewport=d.geom.ZPP_AABB.get(0,0,a,b);this.iport=d.geom.ZPP_AABB.get(0,0,a,b);this.tmpab=new d.geom.ZPP_AABB};l["zpp_nape.util.ZPP_Debug"]=d.util.ZPP_Debug;d.util.ZPP_Debug.__name__=["zpp_nape","util","ZPP_Debug"];d.util.ZPP_Debug.prototype={outer:null,isbmp:null,d_shape:null,bg_r:null,bg_g:null,bg_b:null,
bg_col:null,xform:null,xnull:null,xdet:null,width:null,height:null,viewport:null,iport:null,xform_invalidate:function(){this.xdet=d.util.ZPP_Math.sqrt(function(a){a=a.xform.outer.get_determinant();return 0>a?-a:a}(this));this.xnull=1==this.xform.a&&0==this.xform.b&&0==this.xform.c&&1==this.xform.d&&0==this.xform.tx&&0==this.xform.ty;var a=this.xform.outer.inverse(),b=f.geom.Vec2.get(null,null,null),c=a.transform(b);c.zpp_inner.validate();this.iport.minx=c.zpp_inner.x;c.zpp_inner.validate();this.iport.miny=
c.zpp_inner.y;this.iport.maxx=this.iport.minx;this.iport.maxy=this.iport.miny;c.dispose();b.set_x(this.width);c=a.transform(b);this.iport.setExpandPoint(function(){c.zpp_inner.validate();return c.zpp_inner.x}(this),function(){c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();b.set_y(this.height);c=a.transform(b);this.iport.setExpandPoint(function(){c.zpp_inner.validate();return c.zpp_inner.x}(this),function(){c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();b.zpp_inner.validate();
0!=b.zpp_inner.x&&(b.zpp_inner.x=0,b.zpp_inner.invalidate());b.zpp_inner.validate();b.zpp_inner.x;c=a.transform(b);this.iport.setExpandPoint(function(){c.zpp_inner.validate();return c.zpp_inner.x}(this),function(){c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();b.dispose()},setform:function(){this.xform=(new f.geom.Mat23).zpp_inner;this.xform._invalidate=w(this,this.xform_invalidate)},tmpab:null,cull:function(a){if(this.xnull)return a.intersect(this.viewport);var b=0,c=0,d=0,e=0,d=
a.minx,e=a.miny;this.tmpab.minx=this.xform.a*d+this.xform.b*e+this.xform.tx;this.tmpab.miny=this.xform.c*d+this.xform.d*e+this.xform.ty;this.tmpab.maxx=this.tmpab.minx;this.tmpab.maxy=this.tmpab.miny;d=a.maxx;b=this.xform.a*d+this.xform.b*e+this.xform.tx;c=this.xform.c*d+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,c);e=a.maxy;b=this.xform.a*d+this.xform.b*e+this.xform.tx;c=this.xform.c*d+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,c);d=a.minx;b=this.xform.a*d+this.xform.b*
e+this.xform.tx;c=this.xform.c*d+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,c);return this.tmpab.intersect(this.viewport)},sup_setbg:function(a){this.bg_r=a>>16&255;this.bg_g=a>>8&255;this.bg_b=a&255;this.bg_col=a},__class__:d.util.ZPP_Debug};d.util.ZPP_ShapeDebug=function(a,b){this.outer_zn=this.shape=this.graphics=this.compoundstack=this.shapeList=this.bodyList=null;d.util.ZPP_Debug.call(this,a,b);this.shape=new e.display.Shape;this.shape.set_scrollRect(new e.geom.Rectangle(0,0,a,
b));this.graphics=this.shape.get_graphics();this.isbmp=!1;this.d_shape=this};l["zpp_nape.util.ZPP_ShapeDebug"]=d.util.ZPP_ShapeDebug;d.util.ZPP_ShapeDebug.__name__=["zpp_nape","util","ZPP_ShapeDebug"];d.util.ZPP_ShapeDebug.__super__=d.util.ZPP_Debug;d.util.ZPP_ShapeDebug.prototype=z(d.util.ZPP_Debug.prototype,{outer_zn:null,shape:null,graphics:null,setbg:function(a){this.sup_setbg(a)},compoundstack:null,draw_compound:function(a,b,c,d){for(var e=a.compounds.head;null!=e;)this.draw_compound(e.elt,b,
c,d),e=e.next;for(e=a.bodies.head;null!=e;){var f=e.elt;f.outer.debugDraw&&this.draw_body(f,b,c,d);e=e.next}for(a=a.constraints.head;null!=a;)b=a.elt,b.active&&b.outer.debugDraw&&b.draw(this.outer),a=a.next},shapeList:null,bodyList:null,draw_space:function(a,b,c,e){if(this.outer.cullingEnabled){if(this.outer.drawBodies)if(this.outer.drawBodyDetail)for(var g=this.bodyList=a.bphase.bodiesInAABB(this.iport,!1,!1,null,this.bodyList);null!=g.zpp_inner.inner.head;){var f=g.shift();f.debugDraw&&this.draw_body(f.zpp_inner,
b,c,e)}else for(g=this.shapeList=a.bphase.shapesInAABB(this.iport,!1,!1,null,this.shapeList);null!=g.zpp_inner.inner.head;)f=g.shift(),(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).debugDraw&&this.draw_shape(f.zpp_inner,b,c,e)}else if(this.outer.drawBodies){null==this.compoundstack&&(this.compoundstack=new d.util.ZNPList_ZPP_Compound);for(g=a.bodies.head;null!=g;)f=g.elt,f.outer.debugDraw&&this.draw_body(f,b,c,e),g=g.next;for(g=a.compounds.head;null!=g;)this.compoundstack.add(g.elt),g=g.next;
for(;null!=this.compoundstack.head;){g=this.compoundstack.pop_unsafe();for(f=g.bodies.head;null!=f;){var h=f.elt;h.outer.debugDraw&&this.draw_body(h,b,c,e);f=f.next}for(g=g.compounds.head;null!=g;)this.compoundstack.add(g.elt),g=g.next}}if(this.outer.drawCollisionArbiters||this.outer.drawFluidArbiters||this.outer.drawSensorArbiters)for(g=a.outer.get_arbiters().iterator();g.hasNext();)g.zpp_critical=!1,f=g.zpp_inner.at(g.zpp_i++),this.draw_arbiter(f.zpp_inner,b,c,e);if(this.outer.drawConstraints){null==
this.compoundstack&&(this.compoundstack=new d.util.ZNPList_ZPP_Compound);for(b=a.constraints.head;null!=b;)c=b.elt,c.active&&c.outer.debugDraw&&c.draw(this.outer),b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next;for(;null!=this.compoundstack.head;){a=this.compoundstack.pop_unsafe();for(b=a.constraints.head;null!=b;)c=b.elt,c.active&&c.outer.debugDraw&&c.draw(this.outer),b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next}}},draw_body:function(a,
b,c,d){for(var e=a.shapes.head;null!=e;)this.draw_shape(e.elt,b,c,d),e=e.next;if(this.outer.drawBodyDetail){var f;f=null==this.outer.colour?C["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);c=0.7*((f&16711680)>>16);e=0.7*((f&65280)>>8);f=0.7*(f&255);null!=a.space&&a.outer.zpp_inner.component.sleeping&&(c=0.4*c+0.6*this.bg_r,e=0.4*e+0.6*this.bg_g,f=0.4*f+0.6*this.bg_b);c=-16777216|(c|0)<<16|(e|0)<<8|f|0;this.graphics.lineStyle(this.outer_zn.thickness,-16777216|(0.8*(c>>16&255)+
255*(1-0.8)|0)<<16|(0.8*(c>>8&255)+0*(1-0.8)|0)<<8|0.8*(c&255)+0*(1-0.8)|0,1);var h=f=e=c=0;if(null!=a.shapes.head)if(a.validate_worldCOM(),d?(c=a.worldCOMx,e=a.worldCOMy):(c=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,e=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(c,e,1),a.validate_aabb(),d)this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height());else{e=c=0;c=b.a*a.aabb.minx+b.b*a.aabb.miny+b.tx;e=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty;f=a.aabb.width();var h=0,k=b.a*
f+b.b*h,h=b.c*f+b.d*h;f=k;var k=0,l=a.aabb.height(),m=b.a*k+b.b*l,l=b.c*k+b.d*l,k=m;this.graphics.moveTo(c,e);this.graphics.lineTo(c+f,e+h);this.graphics.lineTo(c+f+k,e+h+l);this.graphics.lineTo(c+k,e+l);this.graphics.lineTo(c,e)}d?(f=a.pre_posx,h=a.pre_posy):(f=b.a*a.pre_posx+b.b*a.pre_posy+b.tx,h=b.c*a.pre_posx+b.d*a.pre_posy+b.ty);d?(c=a.posx,e=a.posy):(c=b.a*a.posx+b.b*a.posy+b.tx,e=b.c*a.posx+b.d*a.posy+b.ty);this.graphics.moveTo(f,h);this.graphics.lineTo(c,e);this.graphics.drawCircle(c,e,1)}},
draw_shape:function(a,b,c,e){var g,f;f=null==this.outer.colour?C["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);g=-16777216|(0.7*((f&16711680)>>16)|0)<<16|(0.7*((f&65280)>>8)|0)<<8|0.7*(f&255)|0;f=a.body;if(null!=f){var h;h=null==this.outer.colour?C["int"](16777215*Math.exp(-(f.id%500)/1500)):this.outer.colour(f.id);var k=0.7*((h&16711680)>>16),l=0.7*((h&65280)>>8),m=0.7*(h&255);null!=f.space&&f.outer.zpp_inner.component.sleeping&&(k=0.4*k+0.6*this.bg_r,l=0.4*l+0.6*this.bg_g,
m=0.4*m+0.6*this.bg_b);h=g;k=-16777216|(k|0)<<16|(l|0)<<8|m|0;g=-16777216|(0.2*(h>>16&255)+0.8*(k>>16&255)|0)<<16|(0.2*(h>>8&255)+0.8*(k>>8&255)|0)<<8|0.2*(h&255)+0.8*(k&255)|0;this.graphics.lineStyle(this.outer_zn.thickness,g,1);if(a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE){if(k=a.circle,k.zip_worldCOM&&null!=k.body&&(k.zip_worldCOM=!1,k.zip_localCOM&&(k.zip_localCOM=!1,k.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&k.polygon.__validate_localCOM(),null!=k.wrap_localCOM&&(k.wrap_localCOM.zpp_inner.x=
k.localCOMx,k.wrap_localCOM.zpp_inner.y=k.localCOMy)),k.body.validate_axis(),k.worldCOMx=k.body.posx+(k.body.axisy*k.localCOMx-k.body.axisx*k.localCOMy),k.worldCOMy=k.body.posy+(k.localCOMx*k.body.axisx+k.localCOMy*k.body.axisy)),l=k.worldCOMx,h=k.worldCOMy,e||(m=b.a*l+b.b*h+b.tx,h=b.c*l+b.d*h+b.ty,l=m),this.graphics.drawCircle(l,h,k.radius*c),this.outer.drawShapeAngleIndicators)c=k.worldCOMx+0.3*k.radius*f.axisy,l=k.worldCOMy+0.3*k.radius*f.axisx,h=k.worldCOMx+k.radius*f.axisy,f=k.worldCOMy+k.radius*
f.axisx,e||(k=b.a*c+b.b*l+b.tx,l=b.c*c+b.d*l+b.ty,c=k),e||(k=b.a*h+b.b*f+b.tx,f=b.c*h+b.d*f+b.ty,h=k),this.graphics.moveTo(c,l),this.graphics.lineTo(h,f)}else{f=a.polygon;f.validate_gverts();k=f.gverts.next;c=k.x;k=k.y;e||(l=b.a*c+b.b*k+b.tx,k=b.c*c+b.d*k+b.ty,c=l);this.graphics.moveTo(c,k);l=c;h=k;for(m=f.gverts.next.next;null!=m;){k=m;c=k.x;k=k.y;if(!e)var p=b.a*c+b.b*k+b.tx,k=b.c*c+b.d*k+b.ty,c=p;this.graphics.lineTo(c,k);m=m.next}this.graphics.lineTo(l,h);this.outer.drawShapeAngleIndicators&&
(f.zip_worldCOM&&null!=f.body&&(f.zip_worldCOM=!1,f.zip_localCOM&&(f.zip_localCOM=!1,f.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&f.polygon.__validate_localCOM(),null!=f.wrap_localCOM&&(f.wrap_localCOM.zpp_inner.x=f.localCOMx,f.wrap_localCOM.zpp_inner.y=f.localCOMy)),f.body.validate_axis(),f.worldCOMx=f.body.posx+(f.body.axisy*f.localCOMx-f.body.axisx*f.localCOMy),f.worldCOMy=f.body.posy+(f.localCOMx*f.body.axisx+f.localCOMy*f.body.axisy)),e?(c=f.worldCOMx,k=f.worldCOMy):(c=b.a*f.worldCOMx+b.b*
f.worldCOMy+b.tx,k=b.c*f.worldCOMx+b.d*f.worldCOMy+b.ty),this.graphics.moveTo(c,k),this.graphics.lineTo(l,h))}this.outer.drawShapeDetail&&((a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==d.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),
a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy)),this.graphics.lineStyle(this.outer_zn.thickness,function(){var a=g;return-16777216|((a>>16&255)*0.8+255*(1-0.8)|0)<<16|((a>>8&255)*0.8+0*(1-0.8)|0)<<8|(a&255)*0.8+0*(1-0.8)|0}(this),1),c=f=0,e?(f=a.worldCOMx,c=a.worldCOMy):(f=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,c=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(f,c,1),a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==d.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():
a.polygon.__validate_aabb()),e)?this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height()):(f=e=0,e=b.a*a.aabb.minx+b.b*a.aabb.miny+b.tx,f=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty,c=a.aabb.width(),k=0,l=b.a*c+b.b*k,k=b.c*c+b.d*k,c=l,l=0,a=a.aabb.height(),h=b.a*l+b.b*a,a=b.c*l+b.d*a,l=h,this.graphics.moveTo(e,f),this.graphics.lineTo(e+c,f+k),this.graphics.lineTo(e+c+l,f+k+a),this.graphics.lineTo(e+l,f+a),this.graphics.lineTo(e,f)))}},draw_arbiter:function(a,b,c,e){var g=0,f=0;if(a.outer.zpp_inner.type==
d.dynamics.ZPP_Arbiter.SENSOR)this.outer.drawSensorArbiters&&(a=a.outer,this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(178.5+(a>>8&255)*(1-0.7)|0)<<8|0+(a&255)*(1-0.7)|0}(this),1),e?(g=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x(),f=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()):(g=b.a*(a.zpp_inner.ws1.id>
a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x()+b.b*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.tx,f=b.c*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x()+b.d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.ty),this.graphics.moveTo(g,f),e?(g=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?
a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x(),f=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()):(g=b.a*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x()+b.b*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.tx,f=b.c*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x()+
b.d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.ty),this.graphics.lineTo(g,f));else if(a.outer.zpp_inner.type==d.dynamics.ZPP_Arbiter.FLUID)this.outer.drawFluidArbiters&&(a=a.outer.get_fluidArbiter(),this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1),e?(null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),
g=a.zpp_inner.fluidarb.wrap_position.get_x(),null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),f=a.zpp_inner.fluidarb.wrap_position.get_y()):(e=b.a,null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),e*=a.zpp_inner.fluidarb.wrap_position.get_x(),c=b.b,null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),g=e+c*a.zpp_inner.fluidarb.wrap_position.get_y()+b.tx,e=b.c,null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),
e*=a.zpp_inner.fluidarb.wrap_position.get_x(),c=b.d,null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition(),f=e+c*a.zpp_inner.fluidarb.wrap_position.get_y()+b.ty),this.graphics.drawCircle(g,f,0.75));else if(this.outer.drawCollisionArbiters&&(a=a.outer.get_collisionArbiter(),null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts(),!a.zpp_inner.colarb.wrap_contacts.empty())){var h=0,c=0;null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();
if(2==a.zpp_inner.colarb.wrap_contacts.get_length()){null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();var k=a.zpp_inner.colarb.wrap_contacts.at(0).get_position();null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();c=a.zpp_inner.colarb.wrap_contacts.at(1).get_position();null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();var h=a.zpp_inner.colarb.wrap_normal,l=0.661437828,m=0.75;h.zpp_inner.validate();g=h.zpp_inner.y;k.zpp_inner.validate();
g*=k.zpp_inner.x;h.zpp_inner.validate();f=h.zpp_inner.x;k.zpp_inner.validate();g-=f*k.zpp_inner.y;h.zpp_inner.validate();f=h.zpp_inner.y;c.zpp_inner.validate();f*=c.zpp_inner.x;h.zpp_inner.validate();var p=h.zpp_inner.x;c.zpp_inner.validate();g<f-p*c.zpp_inner.y&&(l=-l,m=-m);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1);k.zpp_inner.validate();g=k.zpp_inner.x;h.zpp_inner.validate();
g+=h.zpp_inner.x*m;h.zpp_inner.validate();g-=h.zpp_inner.y*l;k.zpp_inner.validate();f=k.zpp_inner.y;h.zpp_inner.validate();f+=h.zpp_inner.y*m;h.zpp_inner.validate();f+=h.zpp_inner.x*l;e||(p=b.a*g+b.b*f+b.tx,f=b.c*g+b.d*f+b.ty,g=p);this.graphics.moveTo(g,f);c.zpp_inner.validate();g=c.zpp_inner.x;h.zpp_inner.validate();g+=h.zpp_inner.x*m;h.zpp_inner.validate();g+=h.zpp_inner.y*l;c.zpp_inner.validate();f=c.zpp_inner.y;h.zpp_inner.validate();f+=h.zpp_inner.y*m;h.zpp_inner.validate();f-=h.zpp_inner.x*
l;e||(p=b.a*g+b.b*f+b.tx,f=b.c*g+b.d*f+b.ty,g=p);this.graphics.lineTo(g,f);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|0+(a&255)*(1-0.7)|0}(this),1);k.zpp_inner.validate();g=k.zpp_inner.x;h.zpp_inner.validate();g-=h.zpp_inner.x*m;h.zpp_inner.validate();g-=h.zpp_inner.y*l;k.zpp_inner.validate();f=k.zpp_inner.y;h.zpp_inner.validate();f-=h.zpp_inner.y*m;h.zpp_inner.validate();f+=h.zpp_inner.x*l;
e||(p=b.a*g+b.b*f+b.tx,f=b.c*g+b.d*f+b.ty,g=p);this.graphics.moveTo(g,f);c.zpp_inner.validate();g=c.zpp_inner.x;h.zpp_inner.validate();g-=h.zpp_inner.x*m;h.zpp_inner.validate();g+=h.zpp_inner.y*l;c.zpp_inner.validate();f=c.zpp_inner.y;h.zpp_inner.validate();m=f-h.zpp_inner.y*m;h.zpp_inner.validate();f=m-h.zpp_inner.x*l;e||(h=b.a*g+b.b*f+b.tx,f=b.c*g+b.d*f+b.ty,g=h);this.graphics.lineTo(g,f);k.zpp_inner.validate();h=k.zpp_inner.x;c.zpp_inner.validate();h=0.5*(h+c.zpp_inner.x);k.zpp_inner.validate();
k=k.zpp_inner.y;c.zpp_inner.validate();c=0.5*(k+c.zpp_inner.y);e||(k=b.a*h+b.b*c+b.tx,c=b.c*h+b.d*c+b.ty,h=k)}else null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts(),h=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_x(),null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts(),c=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_y(),e||(k=b.a*h+b.b*c+b.tx,c=b.c*h+b.d*c+b.ty,h=k),this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=
~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1),this.graphics.drawCircle(h,c,1);this.graphics.lineStyle(this.outer_zn.thickness,function(a){var b=~a.bg_col,a=a.bg_col;return-16777216|(0.7*(b>>16&255)+(a>>16&255)*(1-0.7)|0)<<16|(0.7*(b>>8&255)+(a>>8&255)*(1-0.7)|0)<<8|0.7*(b&255)+(a&255)*(1-0.7)|0}(this),1);this.graphics.moveTo(h,c);null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();g=5*a.zpp_inner.colarb.wrap_normal.get_x();
null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();f=5*a.zpp_inner.colarb.wrap_normal.get_y();e||(e=b.a*g+b.b*f,f=b.c*g+b.d*f,g=e);this.graphics.lineTo(h+g,c+f)}},__class__:d.util.ZPP_ShapeDebug});d.util.Hashable2_Boolfalse=function(){this.id=this.di=0;this.next=this.hnext=null;this.value=!1};l["zpp_nape.util.Hashable2_Boolfalse"]=d.util.Hashable2_Boolfalse;d.util.Hashable2_Boolfalse.__name__=["zpp_nape","util","Hashable2_Boolfalse"];d.util.Hashable2_Boolfalse.get=function(a,b,c){a=
d.util.Hashable2_Boolfalse.getpersist(a,b);a.value=c;return a};d.util.Hashable2_Boolfalse.getpersist=function(a,b){var c;null==d.util.Hashable2_Boolfalse.zpp_pool?c=new d.util.Hashable2_Boolfalse:(c=d.util.Hashable2_Boolfalse.zpp_pool,d.util.Hashable2_Boolfalse.zpp_pool=c.next,c.next=null);null;c.id=a;c.di=b;return c};d.util.Hashable2_Boolfalse.ordered_get=function(a,b,c){return a<=b?d.util.Hashable2_Boolfalse.get(a,b,c):d.util.Hashable2_Boolfalse.get(b,a,c)};d.util.Hashable2_Boolfalse.ordered_get_persist=
function(a,b){return a<=b?d.util.Hashable2_Boolfalse.getpersist(a,b):d.util.Hashable2_Boolfalse.getpersist(b,a)};d.util.Hashable2_Boolfalse.prototype={value:null,next:null,hnext:null,id:null,di:null,free:function(){},alloc:function(){},__class__:d.util.Hashable2_Boolfalse};d.util.FastHash2_Hashable2_Boolfalse=function(){this.cnt=0;this.table=null;this.cnt=0;this.table=[];for(var a=0;1048576>a;)a++,this.table.push(null)};l["zpp_nape.util.FastHash2_Hashable2_Boolfalse"]=d.util.FastHash2_Hashable2_Boolfalse;
d.util.FastHash2_Hashable2_Boolfalse.__name__=["zpp_nape","util","FastHash2_Hashable2_Boolfalse"];d.util.FastHash2_Hashable2_Boolfalse.prototype={table:null,cnt:null,empty:function(){return 0==this.cnt},clear:function(){for(var a=0,b=this.table.length;a<b;){var c=a++,d=this.table[c];if(null!=d){for(;null!=d;){var e=d.hnext;d.hnext=null;d;d=e}this.table[c]=null}}},get:function(a,b){var c=this.table[106039*a+b&1048575];if(null==c)return null;if(!(c.id==a&&c.di==b)){do c=c.hnext;while(null!=c&&(c.id!=
a||c.di!=b))}return c},ordered_get:function(a,b){if(a>b)var c=a,a=b,b=c;return this.get(a,b)},has:function(a,b){var c=this.table[106039*a+b&1048575];if(null==c)return!1;if(c.id==a&&c.di==b)return!0;do c=c.hnext;while(null!=c&&(c.id!=a||c.di!=b));return null!=c},maybeAdd:function(a){var b=106039*a.id+a.di&1048575,c=this.table[b];null==c?(this.table[b]=a,a.hnext=null):(a.hnext=c.hnext,c.hnext=a);this.cnt++},add:function(a){var b=106039*a.id+a.di&1048575,c=this.table[b];null==c?(this.table[b]=a,a.hnext=
null):(a.hnext=c.hnext,c.hnext=a);this.cnt++},remove:function(a){var b=106039*a.id+a.di&1048575,c=this.table[b];if(c==a)this.table[b]=c.hnext;else if(null!=c){do b=c,c=c.hnext;while(null!=c&&c!=a);b.hnext=c.hnext}a.hnext=null;this.cnt--},hash:function(a,b){return 106039*a+b&1048575},__class__:d.util.FastHash2_Hashable2_Boolfalse};d.util.ZNPList_ZPP_CallbackSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CallbackSet"]=d.util.ZNPList_ZPP_CallbackSet;
d.util.ZNPList_ZPP_CallbackSet.__name__=["zpp_nape","util","ZNPList_ZPP_CallbackSet"];d.util.ZNPList_ZPP_CallbackSet.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_CallbackSet.zpp_pool?b=new d.util.ZNPNode_ZPP_CallbackSet:(b=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool,d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CallbackSet.zpp_pool?c=new d.util.ZNPNode_ZPP_CallbackSet:(c=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool,d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=
a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool;d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=
c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CallbackSet.zpp_pool;d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=
b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CallbackSet};d.util.ZNPList_ZPP_Shape=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Shape"]=d.util.ZNPList_ZPP_Shape;d.util.ZNPList_ZPP_Shape.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];d.util.ZNPList_ZPP_Shape.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Shape.zpp_pool?b=new d.util.ZNPNode_ZPP_Shape:(b=d.util.ZNPNode_ZPP_Shape.zpp_pool,d.util.ZNPNode_ZPP_Shape.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Shape.zpp_pool?c=new d.util.ZNPNode_ZPP_Shape:
(c=d.util.ZNPNode_ZPP_Shape.zpp_pool,d.util.ZNPNode_ZPP_Shape.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Shape.zpp_pool;d.util.ZNPNode_ZPP_Shape.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Shape.zpp_pool;d.util.ZNPNode_ZPP_Shape.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=
!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Shape};d.util.ZNPList_ZPP_Body=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Body"]=d.util.ZNPList_ZPP_Body;d.util.ZNPList_ZPP_Body.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];d.util.ZNPList_ZPP_Body.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Body.zpp_pool?b=new d.util.ZNPNode_ZPP_Body:(b=d.util.ZNPNode_ZPP_Body.zpp_pool,d.util.ZNPNode_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;
null==d.util.ZNPNode_ZPP_Body.zpp_pool?c=new d.util.ZNPNode_ZPP_Body:(c=d.util.ZNPNode_ZPP_Body.zpp_pool,d.util.ZNPNode_ZPP_Body.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Body.zpp_pool;d.util.ZNPNode_ZPP_Body.zpp_pool=a;null==this.head&&(this.pushmod=!0);
this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=
c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Body.zpp_pool;d.util.ZNPNode_ZPP_Body.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=
this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Body};d.util.ZNPList_ZPP_Compound=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Compound"]=d.util.ZNPList_ZPP_Compound;d.util.ZNPList_ZPP_Compound.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];d.util.ZNPList_ZPP_Compound.prototype=
{head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Compound.zpp_pool?b=new d.util.ZNPNode_ZPP_Compound:(b=d.util.ZNPNode_ZPP_Compound.zpp_pool,d.util.ZNPNode_ZPP_Compound.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=
a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Compound.zpp_pool?c=new d.util.ZNPNode_ZPP_Compound:(c=d.util.ZNPNode_ZPP_Compound.zpp_pool,d.util.ZNPNode_ZPP_Compound.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;
this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Compound.zpp_pool;d.util.ZNPNode_ZPP_Compound.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Compound.zpp_pool;d.util.ZNPNode_ZPP_Compound.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;
return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Compound};d.util.ZNPList_ZPP_Arbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Arbiter"]=
d.util.ZNPList_ZPP_Arbiter;d.util.ZNPList_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];d.util.ZNPList_ZPP_Arbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Arbiter.zpp_pool?b=new d.util.ZNPNode_ZPP_Arbiter:(b=d.util.ZNPNode_ZPP_Arbiter.zpp_pool,d.util.ZNPNode_ZPP_Arbiter.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Arbiter.zpp_pool?c=new d.util.ZNPNode_ZPP_Arbiter:(c=d.util.ZNPNode_ZPP_Arbiter.zpp_pool,d.util.ZNPNode_ZPP_Arbiter.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=
c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Arbiter.zpp_pool;d.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));
a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Arbiter.zpp_pool;d.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Arbiter};
d.util.ZNPList_ZPP_CbSetPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CbSetPair"]=d.util.ZNPList_ZPP_CbSetPair;d.util.ZNPList_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPList_ZPP_CbSetPair"];d.util.ZNPList_ZPP_CbSetPair.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==d.util.ZNPNode_ZPP_CbSetPair.zpp_pool?b=new d.util.ZNPNode_ZPP_CbSetPair:(b=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool,d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CbSetPair.zpp_pool?c=new d.util.ZNPNode_ZPP_CbSetPair:(c=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool,
d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool;d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,
this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CbSetPair.zpp_pool;d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},
reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CbSetPair};d.util.ZNPList_ZPP_CutInt=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CutInt"]=d.util.ZNPList_ZPP_CutInt;d.util.ZNPList_ZPP_CutInt.__name__=["zpp_nape","util","ZNPList_ZPP_CutInt"];d.util.ZNPList_ZPP_CutInt.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_CutInt.zpp_pool?b=new d.util.ZNPNode_ZPP_CutInt:(b=d.util.ZNPNode_ZPP_CutInt.zpp_pool,d.util.ZNPNode_ZPP_CutInt.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CutInt.zpp_pool?c=new d.util.ZNPNode_ZPP_CutInt:(c=d.util.ZNPNode_ZPP_CutInt.zpp_pool,d.util.ZNPNode_ZPP_CutInt.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CutInt.zpp_pool;d.util.ZNPNode_ZPP_CutInt.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==
a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CutInt.zpp_pool;d.util.ZNPNode_ZPP_CutInt.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},
back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CutInt};d.util.ZNPList_ZPP_CutVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_CutVert"]=d.util.ZNPList_ZPP_CutVert;d.util.ZNPList_ZPP_CutVert.__name__=["zpp_nape","util","ZNPList_ZPP_CutVert"];d.util.ZNPList_ZPP_CutVert.prototype=
{head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_CutVert.zpp_pool?b=new d.util.ZNPNode_ZPP_CutVert:(b=d.util.ZNPNode_ZPP_CutVert.zpp_pool,d.util.ZNPNode_ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=
a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_CutVert.zpp_pool?c=new d.util.ZNPNode_ZPP_CutVert:(c=d.util.ZNPNode_ZPP_CutVert.zpp_pool,d.util.ZNPNode_ZPP_CutVert.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;
this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_CutVert.zpp_pool;d.util.ZNPNode_ZPP_CutVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_CutVert.zpp_pool;d.util.ZNPNode_ZPP_CutVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},
splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_CutVert};d.util.ZNPList_ZPP_PartitionVertex=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_PartitionVertex"]=
d.util.ZNPList_ZPP_PartitionVertex;d.util.ZNPList_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionVertex"];d.util.ZNPList_ZPP_PartitionVertex.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZNPNode_ZPP_PartitionVertex:(b=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,
d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?c=new d.util.ZNPNode_ZPP_PartitionVertex:(c=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=c.next,c.next=null);
null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;
this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=
c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},
reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_PartitionVertex};d.util.ZNPList_ZPP_PartitionedPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_PartitionedPoly"]=d.util.ZNPList_ZPP_PartitionedPoly;d.util.ZNPList_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionedPoly"];d.util.ZNPList_ZPP_PartitionedPoly.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?b=new d.util.ZNPNode_ZPP_PartitionedPoly:(b=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?c=new d.util.ZNPNode_ZPP_PartitionedPoly:(c=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;
this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_PartitionedPoly};d.util.ZNPList_ZPP_GeomVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_GeomVert"]=
d.util.ZNPList_ZPP_GeomVert;d.util.ZNPList_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPList_ZPP_GeomVert"];d.util.ZNPList_ZPP_GeomVert.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_GeomVert.zpp_pool?b=new d.util.ZNPNode_ZPP_GeomVert:(b=d.util.ZNPNode_ZPP_GeomVert.zpp_pool,d.util.ZNPNode_ZPP_GeomVert.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_GeomVert.zpp_pool?c=new d.util.ZNPNode_ZPP_GeomVert:(c=d.util.ZNPNode_ZPP_GeomVert.zpp_pool,d.util.ZNPNode_ZPP_GeomVert.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=
c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_GeomVert.zpp_pool;d.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));
a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_GeomVert.zpp_pool;d.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_GeomVert};
d.util.ZNPList_ZPP_SimplifyP=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_SimplifyP"]=d.util.ZNPList_ZPP_SimplifyP;d.util.ZNPList_ZPP_SimplifyP.__name__=["zpp_nape","util","ZNPList_ZPP_SimplifyP"];d.util.ZNPList_ZPP_SimplifyP.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==d.util.ZNPNode_ZPP_SimplifyP.zpp_pool?b=new d.util.ZNPNode_ZPP_SimplifyP:(b=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool,d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_SimplifyP.zpp_pool?c=new d.util.ZNPNode_ZPP_SimplifyP:(c=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool,
d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool;d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,
this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimplifyP.zpp_pool;d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},
reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_SimplifyP};d.util.ZNPList_ZPP_SimpleVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_SimpleVert"]=d.util.ZNPList_ZPP_SimpleVert;d.util.ZNPList_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleVert"];d.util.ZNPList_ZPP_SimpleVert.prototype={head:null,begin:function(){return this.head},modified:null,
pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_SimpleVert.zpp_pool?b=new d.util.ZNPNode_ZPP_SimpleVert:(b=d.util.ZNPNode_ZPP_SimpleVert.zpp_pool,d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_SimpleVert.zpp_pool?c=new d.util.ZNPNode_ZPP_SimpleVert:(c=d.util.ZNPNode_ZPP_SimpleVert.zpp_pool,d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimpleVert.zpp_pool;
d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimpleVert.zpp_pool;d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<
b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=
c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_SimpleVert};d.util.ZNPList_ZPP_SimpleEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_SimpleEvent"]=d.util.ZNPList_ZPP_SimpleEvent;
d.util.ZNPList_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleEvent"];d.util.ZNPList_ZPP_SimpleEvent.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZNPNode_ZPP_SimpleEvent:(b=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?c=new d.util.ZNPNode_ZPP_SimpleEvent:(c=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=
a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=
c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=
b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_SimpleEvent};d.util.ZNPList_ZPP_AABBPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_AABBPair"]=d.util.ZNPList_ZPP_AABBPair;d.util.ZNPList_ZPP_AABBPair.__name__=["zpp_nape","util","ZNPList_ZPP_AABBPair"];d.util.ZNPList_ZPP_AABBPair.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},
add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_AABBPair.zpp_pool?b=new d.util.ZNPNode_ZPP_AABBPair:(b=d.util.ZNPNode_ZPP_AABBPair.zpp_pool,d.util.ZNPNode_ZPP_AABBPair.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_AABBPair.zpp_pool?
c=new d.util.ZNPNode_ZPP_AABBPair:(c=d.util.ZNPNode_ZPP_AABBPair.zpp_pool,d.util.ZNPNode_ZPP_AABBPair.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_AABBPair.zpp_pool;d.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},
pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},
inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_AABBPair.zpp_pool;d.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;
return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_AABBPair};d.util.ZNPList_ZPP_Edge=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Edge"]=d.util.ZNPList_ZPP_Edge;d.util.ZNPList_ZPP_Edge.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];d.util.ZNPList_ZPP_Edge.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Edge.zpp_pool?b=new d.util.ZNPNode_ZPP_Edge:(b=d.util.ZNPNode_ZPP_Edge.zpp_pool,d.util.ZNPNode_ZPP_Edge.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Edge.zpp_pool?c=new d.util.ZNPNode_ZPP_Edge:(c=d.util.ZNPNode_ZPP_Edge.zpp_pool,d.util.ZNPNode_ZPP_Edge.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Edge.zpp_pool;
d.util.ZNPNode_ZPP_Edge.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,
c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Edge.zpp_pool;d.util.ZNPNode_ZPP_Edge.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);
return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=
!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Edge};d.util.ZNPList_ZPP_Component=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Component"]=d.util.ZNPList_ZPP_Component;d.util.ZNPList_ZPP_Component.__name__=
["zpp_nape","util","ZNPList_ZPP_Component"];d.util.ZNPList_ZPP_Component.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Component.zpp_pool?b=new d.util.ZNPNode_ZPP_Component:(b=d.util.ZNPNode_ZPP_Component.zpp_pool,d.util.ZNPNode_ZPP_Component.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=
this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Component.zpp_pool?c=new d.util.ZNPNode_ZPP_Component:(c=d.util.ZNPNode_ZPP_Component.zpp_pool,d.util.ZNPNode_ZPP_Component.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=
!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Component.zpp_pool;d.util.ZNPNode_ZPP_Component.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,
d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;
a.next=d.util.ZNPNode_ZPP_Component.zpp_pool;d.util.ZNPNode_ZPP_Component.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},
empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Component};
d.util.ZNPList_ZPP_AABBNode=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_AABBNode"]=d.util.ZNPList_ZPP_AABBNode;d.util.ZNPList_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPList_ZPP_AABBNode"];d.util.ZNPList_ZPP_AABBNode.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==d.util.ZNPNode_ZPP_AABBNode.zpp_pool?b=new d.util.ZNPNode_ZPP_AABBNode:(b=d.util.ZNPNode_ZPP_AABBNode.zpp_pool,d.util.ZNPNode_ZPP_AABBNode.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_AABBNode.zpp_pool?c=new d.util.ZNPNode_ZPP_AABBNode:(c=d.util.ZNPNode_ZPP_AABBNode.zpp_pool,
d.util.ZNPNode_ZPP_AABBNode.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_AABBNode.zpp_pool;d.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,
this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_AABBNode.zpp_pool;d.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_AABBNode};d.util.ZNPList_ZPP_InteractionGroup=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=d.util.ZNPList_ZPP_InteractionGroup;d.util.ZNPList_ZPP_InteractionGroup.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];d.util.ZNPList_ZPP_InteractionGroup.prototype={head:null,begin:function(){return this.head},modified:null,
pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?b=new d.util.ZNPNode_ZPP_InteractionGroup:(b=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?c=new d.util.ZNPNode_ZPP_InteractionGroup:(c=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;
this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;this.modified=!0;this.length--;
this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_InteractionGroup};d.util.ZNPList_ZPP_FluidArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=
null};l["zpp_nape.util.ZNPList_ZPP_FluidArbiter"]=d.util.ZNPList_ZPP_FluidArbiter;d.util.ZNPList_ZPP_FluidArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_FluidArbiter"];d.util.ZNPList_ZPP_FluidArbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?b=new d.util.ZNPNode_ZPP_FluidArbiter:
(b=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?c=new d.util.ZNPNode_ZPP_FluidArbiter:(c=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=
c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,
this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=
!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_FluidArbiter};d.util.ZNPList_ZPP_SensorArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_SensorArbiter"]=d.util.ZNPList_ZPP_SensorArbiter;d.util.ZNPList_ZPP_SensorArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_SensorArbiter"];d.util.ZNPList_ZPP_SensorArbiter.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?b=new d.util.ZNPNode_ZPP_SensorArbiter:(b=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?c=new d.util.ZNPNode_ZPP_SensorArbiter:(c=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=
a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_SensorArbiter};d.util.ZNPList_ZPP_ColArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_ColArbiter"]=
d.util.ZNPList_ZPP_ColArbiter;d.util.ZNPList_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_ColArbiter"];d.util.ZNPList_ZPP_ColArbiter.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_ColArbiter.zpp_pool?b=new d.util.ZNPNode_ZPP_ColArbiter:(b=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool,d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_ColArbiter.zpp_pool?c=new d.util.ZNPNode_ZPP_ColArbiter:(c=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool,d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=
a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool;d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=
c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_ColArbiter.zpp_pool;d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;
b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_ColArbiter};d.util.ZNPList_ZPP_Listener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_Listener"]=d.util.ZNPList_ZPP_Listener;d.util.ZNPList_ZPP_Listener.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];d.util.ZNPList_ZPP_Listener.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},
add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_Listener.zpp_pool?b=new d.util.ZNPNode_ZPP_Listener:(b=d.util.ZNPNode_ZPP_Listener.zpp_pool,d.util.ZNPNode_ZPP_Listener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_Listener.zpp_pool?
c=new d.util.ZNPNode_ZPP_Listener:(c=d.util.ZNPNode_ZPP_Listener.zpp_pool,d.util.ZNPNode_ZPP_Listener.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_Listener.zpp_pool;d.util.ZNPNode_ZPP_Listener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},
pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},
inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_Listener.zpp_pool;d.util.ZNPNode_ZPP_Listener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;
return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_Listener};d.util.ZNPList_ZPP_ToiEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_ToiEvent"]=d.util.ZNPList_ZPP_ToiEvent;d.util.ZNPList_ZPP_ToiEvent.__name__=["zpp_nape","util","ZNPList_ZPP_ToiEvent"];d.util.ZNPList_ZPP_ToiEvent.prototype={head:null,begin:function(){return this.head},
modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ZPP_ToiEvent.zpp_pool?b=new d.util.ZNPNode_ZPP_ToiEvent:(b=d.util.ZNPNode_ZPP_ToiEvent.zpp_pool,d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},
insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_ToiEvent.zpp_pool?c=new d.util.ZNPNode_ZPP_ToiEvent:(c=d.util.ZNPNode_ZPP_ToiEvent.zpp_pool,d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=
d.util.ZNPNode_ZPP_ToiEvent.zpp_pool;d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_ToiEvent.zpp_pool;d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&
null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=
c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_ToiEvent};d.util.ZNPList_ConvexResult=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ConvexResult"]=d.util.ZNPList_ConvexResult;
d.util.ZNPList_ConvexResult.__name__=["zpp_nape","util","ZNPList_ConvexResult"];d.util.ZNPList_ConvexResult.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_ConvexResult.zpp_pool?b=new d.util.ZNPNode_ConvexResult:(b=d.util.ZNPNode_ConvexResult.zpp_pool,d.util.ZNPNode_ConvexResult.zpp_pool=b.next,
b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ConvexResult.zpp_pool?c=new d.util.ZNPNode_ConvexResult:(c=d.util.ZNPNode_ConvexResult.zpp_pool,d.util.ZNPNode_ConvexResult.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);
this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ConvexResult.zpp_pool;d.util.ZNPNode_ConvexResult.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));
a=b;a.elt=null;a.next=d.util.ZNPNode_ConvexResult.zpp_pool;d.util.ZNPNode_ConvexResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ConvexResult};
d.util.ZNPList_ZPP_GeomPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=d.util.ZNPList_ZPP_GeomPoly;d.util.ZNPList_ZPP_GeomPoly.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"];d.util.ZNPList_ZPP_GeomPoly.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==d.util.ZNPNode_ZPP_GeomPoly.zpp_pool?b=new d.util.ZNPNode_ZPP_GeomPoly:(b=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool,d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==d.util.ZNPNode_ZPP_GeomPoly.zpp_pool?c=new d.util.ZNPNode_ZPP_GeomPoly:(c=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool,
d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool;d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,
this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_ZPP_GeomPoly.zpp_pool;d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_ZPP_GeomPoly};d.util.ZNPList_RayResult=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};l["zpp_nape.util.ZNPList_RayResult"]=d.util.ZNPList_RayResult;d.util.ZNPList_RayResult.__name__=["zpp_nape","util","ZNPList_RayResult"];d.util.ZNPList_RayResult.prototype={head:null,begin:function(){return this.head},modified:null,pushmod:null,length:null,setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==d.util.ZNPNode_RayResult.zpp_pool?b=new d.util.ZNPNode_RayResult:(b=d.util.ZNPNode_RayResult.zpp_pool,d.util.ZNPNode_RayResult.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;
null==d.util.ZNPNode_RayResult.zpp_pool?c=new d.util.ZNPNode_RayResult:(c=d.util.ZNPNode_RayResult.zpp_pool,d.util.ZNPNode_RayResult.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=d.util.ZNPNode_RayResult.zpp_pool;d.util.ZNPNode_RayResult.zpp_pool=a;null==this.head&&(this.pushmod=
!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.erase(b);d=!0;break}b=c;c=c.next}return d},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,c=this.head,d=!1;null!=c;){if(c.elt==a){this.inlined_erase(b);d=
!0;break}b=c;c=c.next}return d},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,c;null==a?(b=this.head,this.head=c=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,c=b.next,a.next=c,null==c&&(this.pushmod=!0));a=b;a.elt=null;a.next=d.util.ZNPNode_RayResult.zpp_pool;d.util.ZNPNode_RayResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return c},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var c=this.head;null!=c;){if(c.elt==a){b=!0;break}c=c.next}return b},front:function(){return this.head.elt},back:function(){for(var a=
this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:d.util.ZNPList_RayResult};d.util.ZNPNode_ZPP_CbType=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CbType"]=d.util.ZNPNode_ZPP_CbType;d.util.ZNPNode_ZPP_CbType.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"];d.util.ZNPNode_ZPP_CbType.prototype={next:null,alloc:function(){},free:function(){this.elt=
null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CbType};d.util.ZNPNode_ZPP_CallbackSet=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CallbackSet"]=d.util.ZNPNode_ZPP_CallbackSet;d.util.ZNPNode_ZPP_CallbackSet.__name__=["zpp_nape","util","ZNPNode_ZPP_CallbackSet"];d.util.ZNPNode_ZPP_CallbackSet.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CallbackSet};d.util.ZNPNode_ZPP_Shape=
function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Shape"]=d.util.ZNPNode_ZPP_Shape;d.util.ZNPNode_ZPP_Shape.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];d.util.ZNPNode_ZPP_Shape.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Shape};d.util.ZNPNode_ZPP_Body=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Body"]=d.util.ZNPNode_ZPP_Body;d.util.ZNPNode_ZPP_Body.__name__=["zpp_nape",
"util","ZNPNode_ZPP_Body"];d.util.ZNPNode_ZPP_Body.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Body};d.util.ZNPNode_ZPP_Constraint=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Constraint"]=d.util.ZNPNode_ZPP_Constraint;d.util.ZNPNode_ZPP_Constraint.__name__=["zpp_nape","util","ZNPNode_ZPP_Constraint"];d.util.ZNPNode_ZPP_Constraint.prototype={next:null,alloc:function(){},free:function(){this.elt=
null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Constraint};d.util.ZNPNode_ZPP_Compound=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Compound"]=d.util.ZNPNode_ZPP_Compound;d.util.ZNPNode_ZPP_Compound.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];d.util.ZNPNode_ZPP_Compound.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Compound};d.util.ZNPNode_ZPP_InteractionListener=
function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_InteractionListener"]=d.util.ZNPNode_ZPP_InteractionListener;d.util.ZNPNode_ZPP_InteractionListener.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionListener"];d.util.ZNPNode_ZPP_InteractionListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_InteractionListener};d.util.ZNPNode_ZPP_CbSet=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CbSet"]=
d.util.ZNPNode_ZPP_CbSet;d.util.ZNPNode_ZPP_CbSet.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSet"];d.util.ZNPNode_ZPP_CbSet.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CbSet};d.util.ZNPNode_ZPP_Interactor=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Interactor"]=d.util.ZNPNode_ZPP_Interactor;d.util.ZNPNode_ZPP_Interactor.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"];d.util.ZNPNode_ZPP_Interactor.prototype=
{next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Interactor};d.util.ZNPNode_ZPP_BodyListener=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_BodyListener"]=d.util.ZNPNode_ZPP_BodyListener;d.util.ZNPNode_ZPP_BodyListener.__name__=["zpp_nape","util","ZNPNode_ZPP_BodyListener"];d.util.ZNPNode_ZPP_BodyListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:d.util.ZNPNode_ZPP_BodyListener};d.util.ZNPNode_ZPP_Arbiter=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=d.util.ZNPNode_ZPP_Arbiter;d.util.ZNPNode_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];d.util.ZNPNode_ZPP_Arbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Arbiter};d.util.ZNPNode_ZPP_ConstraintListener=function(){this.next=this.elt=null};
l["zpp_nape.util.ZNPNode_ZPP_ConstraintListener"]=d.util.ZNPNode_ZPP_ConstraintListener;d.util.ZNPNode_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPNode_ZPP_ConstraintListener"];d.util.ZNPNode_ZPP_ConstraintListener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_ConstraintListener};d.util.ZNPNode_ZPP_CbSetPair=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CbSetPair"]=d.util.ZNPNode_ZPP_CbSetPair;
d.util.ZNPNode_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSetPair"];d.util.ZNPNode_ZPP_CbSetPair.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CbSetPair};d.util.ZNPNode_ZPP_CutInt=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CutInt"]=d.util.ZNPNode_ZPP_CutInt;d.util.ZNPNode_ZPP_CutInt.__name__=["zpp_nape","util","ZNPNode_ZPP_CutInt"];d.util.ZNPNode_ZPP_CutInt.prototype=
{next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CutInt};d.util.ZNPNode_ZPP_CutVert=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_CutVert"]=d.util.ZNPNode_ZPP_CutVert;d.util.ZNPNode_ZPP_CutVert.__name__=["zpp_nape","util","ZNPNode_ZPP_CutVert"];d.util.ZNPNode_ZPP_CutVert.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_CutVert};
d.util.ZNPNode_ZPP_PartitionVertex=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_PartitionVertex"]=d.util.ZNPNode_ZPP_PartitionVertex;d.util.ZNPNode_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionVertex"];d.util.ZNPNode_ZPP_PartitionVertex.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_PartitionVertex};d.util.ZNPNode_ZPP_PartitionedPoly=function(){this.next=this.elt=
null};l["zpp_nape.util.ZNPNode_ZPP_PartitionedPoly"]=d.util.ZNPNode_ZPP_PartitionedPoly;d.util.ZNPNode_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionedPoly"];d.util.ZNPNode_ZPP_PartitionedPoly.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_PartitionedPoly};d.util.ZNPNode_ZPP_GeomVert=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_GeomVert"]=d.util.ZNPNode_ZPP_GeomVert;
d.util.ZNPNode_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomVert"];d.util.ZNPNode_ZPP_GeomVert.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_GeomVert};d.util.ZNPNode_ZPP_SimplifyP=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_SimplifyP"]=d.util.ZNPNode_ZPP_SimplifyP;d.util.ZNPNode_ZPP_SimplifyP.__name__=["zpp_nape","util","ZNPNode_ZPP_SimplifyP"];d.util.ZNPNode_ZPP_SimplifyP.prototype=
{next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_SimplifyP};d.util.ZNPNode_ZPP_SimpleVert=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_SimpleVert"]=d.util.ZNPNode_ZPP_SimpleVert;d.util.ZNPNode_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleVert"];d.util.ZNPNode_ZPP_SimpleVert.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:d.util.ZNPNode_ZPP_SimpleVert};d.util.ZNPNode_ZPP_SimpleEvent=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_SimpleEvent"]=d.util.ZNPNode_ZPP_SimpleEvent;d.util.ZNPNode_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleEvent"];d.util.ZNPNode_ZPP_SimpleEvent.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_SimpleEvent};d.util.ZNPNode_ZPP_AABBPair=function(){this.next=
this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_AABBPair"]=d.util.ZNPNode_ZPP_AABBPair;d.util.ZNPNode_ZPP_AABBPair.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBPair"];d.util.ZNPNode_ZPP_AABBPair.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_AABBPair};d.util.ZNPNode_ZPP_Edge=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Edge"]=d.util.ZNPNode_ZPP_Edge;d.util.ZNPNode_ZPP_Edge.__name__=["zpp_nape",
"util","ZNPNode_ZPP_Edge"];d.util.ZNPNode_ZPP_Edge.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Edge};d.util.ZNPNode_ZPP_Vec2=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Vec2"]=d.util.ZNPNode_ZPP_Vec2;d.util.ZNPNode_ZPP_Vec2.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];d.util.ZNPNode_ZPP_Vec2.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:d.util.ZNPNode_ZPP_Vec2};d.util.ZNPNode_ZPP_Component=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_Component"]=d.util.ZNPNode_ZPP_Component;d.util.ZNPNode_ZPP_Component.__name__=["zpp_nape","util","ZNPNode_ZPP_Component"];d.util.ZNPNode_ZPP_Component.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Component};d.util.ZNPNode_ZPP_AABBNode=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_AABBNode"]=
d.util.ZNPNode_ZPP_AABBNode;d.util.ZNPNode_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBNode"];d.util.ZNPNode_ZPP_AABBNode.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_AABBNode};d.util.ZNPNode_ZPP_InteractionGroup=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=d.util.ZNPNode_ZPP_InteractionGroup;d.util.ZNPNode_ZPP_InteractionGroup.__name__=["zpp_nape",
"util","ZNPNode_ZPP_InteractionGroup"];d.util.ZNPNode_ZPP_InteractionGroup.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_InteractionGroup};d.util.ZNPNode_ZPP_FluidArbiter=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_FluidArbiter"]=d.util.ZNPNode_ZPP_FluidArbiter;d.util.ZNPNode_ZPP_FluidArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_FluidArbiter"];d.util.ZNPNode_ZPP_FluidArbiter.prototype=
{next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_FluidArbiter};d.util.ZNPNode_ZPP_SensorArbiter=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_SensorArbiter"]=d.util.ZNPNode_ZPP_SensorArbiter;d.util.ZNPNode_ZPP_SensorArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_SensorArbiter"];d.util.ZNPNode_ZPP_SensorArbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},
__class__:d.util.ZNPNode_ZPP_SensorArbiter};d.util.ZNPNode_ZPP_ColArbiter=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_ColArbiter"]=d.util.ZNPNode_ZPP_ColArbiter;d.util.ZNPNode_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_ColArbiter"];d.util.ZNPNode_ZPP_ColArbiter.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_ColArbiter};d.util.ZNPNode_ZPP_Listener=function(){this.next=this.elt=
null};l["zpp_nape.util.ZNPNode_ZPP_Listener"]=d.util.ZNPNode_ZPP_Listener;d.util.ZNPNode_ZPP_Listener.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"];d.util.ZNPNode_ZPP_Listener.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_Listener};d.util.ZNPNode_ZPP_ToiEvent=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_ToiEvent"]=d.util.ZNPNode_ZPP_ToiEvent;d.util.ZNPNode_ZPP_ToiEvent.__name__=
["zpp_nape","util","ZNPNode_ZPP_ToiEvent"];d.util.ZNPNode_ZPP_ToiEvent.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_ToiEvent};d.util.ZNPNode_ConvexResult=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ConvexResult"]=d.util.ZNPNode_ConvexResult;d.util.ZNPNode_ConvexResult.__name__=["zpp_nape","util","ZNPNode_ConvexResult"];d.util.ZNPNode_ConvexResult.prototype={next:null,alloc:function(){},
free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ConvexResult};d.util.ZNPNode_ZPP_GeomPoly=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=d.util.ZNPNode_ZPP_GeomPoly;d.util.ZNPNode_ZPP_GeomPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];d.util.ZNPNode_ZPP_GeomPoly.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_ZPP_GeomPoly};
d.util.ZNPNode_RayResult=function(){this.next=this.elt=null};l["zpp_nape.util.ZNPNode_RayResult"]=d.util.ZNPNode_RayResult;d.util.ZNPNode_RayResult.__name__=["zpp_nape","util","ZNPNode_RayResult"];d.util.ZNPNode_RayResult.prototype={next:null,alloc:function(){},free:function(){this.elt=null},elt:null,elem:function(){return this.elt},__class__:d.util.ZNPNode_RayResult};d.util.ZPP_MixVec2List=function(){this.at_index=0;this.at_ite=null;this.zip_length=!1;this._length=0;this.inner=null;f.geom.Vec2List.call(this);
this.at_ite=null;this.at_index=0;this.zip_length=!0;this._length=0};l["zpp_nape.util.ZPP_MixVec2List"]=d.util.ZPP_MixVec2List;d.util.ZPP_MixVec2List.__name__=["zpp_nape","util","ZPP_MixVec2List"];d.util.ZPP_MixVec2List.get=function(a,b){null==b&&(b=!1);var c=new d.util.ZPP_MixVec2List;c.inner=a;c.zpp_inner.immutable=b;return c};d.util.ZPP_MixVec2List.__super__=f.geom.Vec2List;d.util.ZPP_MixVec2List.prototype=z(f.geom.Vec2List.prototype,{inner:null,_length:null,zip_length:null,at_ite:null,at_index:null,
zpp_gl:function(){this.zpp_vm();if(this.zip_length){this._length=0;for(var a=this.inner.next;null!=a;)this._length++,a=a.next;this.zip_length=!1}return this._length},zpp_vm:function(){this.zpp_inner.validate();this.inner.modified&&(this.zip_length=!0,this._length=0,this.at_ite=null)},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.at_index||null==this.at_ite){this.at_index=0;for(this.at_ite=this.inner.next;;)break}for(;this.at_index!=a;){this.at_index++;for(this.at_ite=
this.at_ite.next;;)break}return this.at_ite.wrapper()},push:function(a){this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag)this.inner.add(a.zpp_inner);else{var c=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(c,a.zpp_inner)}this.zpp_inner.invalidate();null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},unshift:function(a){this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=
this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag){var c=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(c,a.zpp_inner)}else this.inner.add(a.zpp_inner);this.zpp_inner.invalidate();null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},pop:function(){this.zpp_inner.modify_test();this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||
this.inner.pop()}else{null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=null);var b=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.inner.next:b.next,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){this.zpp_inner.modify_test();this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=
null);var b;b=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.inner.next:b.next,c=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(c);this.zpp_inner.dontremove||this.inner.erase(b)}else a=this.inner.next,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},remove:function(a){this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var c=this.inner.next;null!=
c;){if(a.zpp_inner==c){b=!0;break}c=c.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},__class__:d.util.ZPP_MixVec2List});d.util.ZPP_ConstraintList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=
!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Constraint;this._invalidated=!0};l["zpp_nape.util.ZPP_ConstraintList"]=d.util.ZPP_ConstraintList;d.util.ZPP_ConstraintList.__name__=["zpp_nape","util","ZPP_ConstraintList"];d.util.ZPP_ConstraintList.get=function(a,b){null==b&&(b=!1);var c=new f.constraint.ConstraintList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=
!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ConstraintList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},
modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_ConstraintList};d.util.ZPP_BodyList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=
this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Body;this._invalidated=!0};l["zpp_nape.util.ZPP_BodyList"]=d.util.ZPP_BodyList;d.util.ZPP_BodyList.__name__=["zpp_nape","util","ZPP_BodyList"];d.util.ZPP_BodyList.get=function(a,b){null==b&&(b=!1);var c=new f.phys.BodyList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_BodyList.prototype={outer:null,
inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,
null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_BodyList};d.util.ZPP_InteractorList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=
this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Interactor;this._invalidated=!0};l["zpp_nape.util.ZPP_InteractorList"]=d.util.ZPP_InteractorList;d.util.ZPP_InteractorList.__name__=["zpp_nape","util","ZPP_InteractorList"];d.util.ZPP_InteractorList.get=function(a,b){null==b&&(b=!1);var c=new f.phys.InteractorList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_InteractorList.prototype={outer:null,inner:null,immutable:null,
_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},
invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_InteractorList};d.util.ZPP_CompoundList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=
null;this.inner=new d.util.ZNPList_ZPP_Compound;this._invalidated=!0};l["zpp_nape.util.ZPP_CompoundList"]=d.util.ZPP_CompoundList;d.util.ZPP_CompoundList.__name__=["zpp_nape","util","ZPP_CompoundList"];d.util.ZPP_CompoundList.get=function(a,b){null==b&&(b=!1);var c=new f.phys.CompoundList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_CompoundList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,
adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&
this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_CompoundList};d.util.ZPP_ListenerList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Listener;this._invalidated=
!0};l["zpp_nape.util.ZPP_ListenerList"]=d.util.ZPP_ListenerList;d.util.ZPP_ListenerList.__name__=["zpp_nape","util","ZPP_ListenerList"];d.util.ZPP_ListenerList.get=function(a,b){null==b&&(b=!1);var c=new f.callbacks.ListenerList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ListenerList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,
reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,
at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_ListenerList};d.util.ZPP_CbTypeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_CbType;this._invalidated=!0};l["zpp_nape.util.ZPP_CbTypeList"]=
d.util.ZPP_CbTypeList;d.util.ZPP_CbTypeList.__name__=["zpp_nape","util","ZPP_CbTypeList"];d.util.ZPP_CbTypeList.get=function(a,b){null==b&&(b=!1);var c=new f.callbacks.CbTypeList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_CbTypeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,
__class__:d.util.ZPP_CbTypeList};d.util.ZPP_Vec2List=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Vec2;this._invalidated=!0};l["zpp_nape.util.ZPP_Vec2List"]=d.util.ZPP_Vec2List;d.util.ZPP_Vec2List.__name__=["zpp_nape","util",
"ZPP_Vec2List"];d.util.ZPP_Vec2List.get=function(a,b){null==b&&(b=!1);var c=new f.geom.Vec2List;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_Vec2List.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,
this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_Vec2List};d.util.ZPP_GeomPolyList=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_GeomPoly;this._invalidated=!0};l["zpp_nape.util.ZPP_GeomPolyList"]=d.util.ZPP_GeomPolyList;d.util.ZPP_GeomPolyList.__name__=["zpp_nape","util","ZPP_GeomPolyList"];d.util.ZPP_GeomPolyList.get=function(a,b){null==
b&&(b=!1);var c=new f.geom.GeomPolyList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_GeomPolyList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=
!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_GeomPolyList};d.util.ZPP_RayResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=
null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_RayResult;this._invalidated=!0};l["zpp_nape.util.ZPP_RayResultList"]=d.util.ZPP_RayResultList;d.util.ZPP_RayResultList.__name__=["zpp_nape","util","ZPP_RayResultList"];d.util.ZPP_RayResultList.get=function(a,b){null==b&&(b=!1);var c=new f.geom.RayResultList;
c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_RayResultList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=
!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_RayResultList};d.util.ZPP_ConvexResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=
this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ConvexResult;this._invalidated=!0};l["zpp_nape.util.ZPP_ConvexResultList"]=d.util.ZPP_ConvexResultList;d.util.ZPP_ConvexResultList.__name__=["zpp_nape","util","ZPP_ConvexResultList"];d.util.ZPP_ConvexResultList.get=function(a,b){null==b&&(b=!1);var c=new f.geom.ConvexResultList;c.zpp_inner.inner=
a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ConvexResultList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;
this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_ConvexResultList};d.util.ZPP_EdgeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=
!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Edge;this._invalidated=!0};l["zpp_nape.util.ZPP_EdgeList"]=d.util.ZPP_EdgeList;d.util.ZPP_EdgeList.__name__=["zpp_nape","util","ZPP_EdgeList"];d.util.ZPP_EdgeList.get=function(a,b){null==b&&(b=!1);var c=new f.shape.EdgeList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};
d.util.ZPP_EdgeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_EdgeList};d.util.ZPP_ShapeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;
this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Shape;this._invalidated=!0};l["zpp_nape.util.ZPP_ShapeList"]=d.util.ZPP_ShapeList;d.util.ZPP_ShapeList.__name__=["zpp_nape","util","ZPP_ShapeList"];d.util.ZPP_ShapeList.get=function(a,b){null==b&&(b=!1);var c=new f.shape.ShapeList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ShapeList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,
_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=
!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_ShapeList};d.util.ZPP_InteractionGroupList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_InteractionGroup;
this._invalidated=!0};l["zpp_nape.util.ZPP_InteractionGroupList"]=d.util.ZPP_InteractionGroupList;d.util.ZPP_InteractionGroupList.__name__=["zpp_nape","util","ZPP_InteractionGroupList"];d.util.ZPP_InteractionGroupList.get=function(a,b){null==b&&(b=!1);var c=new f.dynamics.InteractionGroupList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_InteractionGroupList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,
_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=
!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_InteractionGroupList};d.util.ZPP_ArbiterList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.util.ZNPList_ZPP_Arbiter;
this._invalidated=!0};l["zpp_nape.util.ZPP_ArbiterList"]=d.util.ZPP_ArbiterList;d.util.ZPP_ArbiterList.__name__=["zpp_nape","util","ZPP_ArbiterList"];d.util.ZPP_ArbiterList.get=function(a,b){null==b&&(b=!1);var c=new f.dynamics.ArbiterList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ArbiterList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,
dontremove:null,reverse_flag:null,valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},
at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,__class__:d.util.ZPP_ArbiterList};d.util.ZPP_ContactList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new d.dynamics.ZPP_Contact;this._invalidated=!0};l["zpp_nape.util.ZPP_ContactList"]=
d.util.ZPP_ContactList;d.util.ZPP_ContactList.__name__=["zpp_nape","util","ZPP_ContactList"];d.util.ZPP_ContactList.get=function(a,b){null==b&&(b=!1);var c=new f.dynamics.ContactList;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};d.util.ZPP_ContactList.prototype={outer:null,inner:null,immutable:null,_invalidated:null,_invalidate:null,_validate:null,_modifiable:null,adder:null,post_adder:null,subber:null,dontremove:null,reverse_flag:null,valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},at_index:null,at_ite:null,push_ite:null,zip_length:null,user_length:null,
__class__:d.util.ZPP_ContactList};d.util.ZPP_Math=function(){};l["zpp_nape.util.ZPP_Math"]=d.util.ZPP_Math;d.util.ZPP_Math.__name__=["zpp_nape","util","ZPP_Math"];d.util.ZPP_Math.sqrt=function(a){return Math.sqrt(a)};d.util.ZPP_Math.invsqrt=function(a){return 1/Math.sqrt(a)};d.util.ZPP_Math.sqr=function(a){return a*a};d.util.ZPP_Math.clamp2=function(a,b){return d.util.ZPP_Math.clamp(a,-b,b)};d.util.ZPP_Math.clamp=function(a,b,c){return a<b?b:a>c?c:a};d.util.ZPP_PubPool=function(){};l["zpp_nape.util.ZPP_PubPool"]=
d.util.ZPP_PubPool;d.util.ZPP_PubPool.__name__=["zpp_nape","util","ZPP_PubPool"];d.util.ZPP_Set_ZPP_Body=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_Body"]=d.util.ZPP_Set_ZPP_Body;d.util.ZPP_Set_ZPP_Body.__name__=["zpp_nape","util","ZPP_Set_ZPP_Body"];d.util.ZPP_Set_ZPP_Body.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,
colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=
a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=
this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==
c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=
a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=
a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);
break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_Body.zpp_pool;d.util.ZPP_Set_ZPP_Body.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=
null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_Body.zpp_pool;d.util.ZPP_Set_ZPP_Body.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=
d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=
a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=
f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_Body.zpp_pool?
b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&
this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);
null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_Body.zpp_pool?b=new d.util.ZPP_Set_ZPP_Body:
(b=d.util.ZPP_Set_ZPP_Body.zpp_pool,d.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_Body};d.util.ZPP_Set_ZPP_CbSetPair=function(){this.colour=0;this.lt=this.swapped=
this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_CbSetPair"]=d.util.ZPP_Set_ZPP_CbSetPair;d.util.ZPP_Set_ZPP_CbSetPair.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSetPair"];d.util.ZPP_Set_ZPP_CbSetPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;
if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=
this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=
this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=
a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},
predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==
e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=
b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;
a.swapped=null;a.next=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=
1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,
k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=
1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,
d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},
try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=
null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?
b=new d.util.ZPP_Set_ZPP_CbSetPair:(b=d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_CbSetPair};d.util.ZPP_Set_ZPP_PartitionVertex=
function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_PartitionVertex"]=d.util.ZPP_Set_ZPP_PartitionVertex;d.util.ZPP_Set_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionVertex"];d.util.ZPP_Set_ZPP_PartitionVertex.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=
this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},
empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;
return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=
this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=
a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;
c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=
1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,
b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=
b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=
a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=
f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,
c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=
b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,
c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=
b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionVertex:(b=d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,
a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_PartitionVertex};d.util.ZPP_Set_ZPP_PartitionPair=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_PartitionPair"]=d.util.ZPP_Set_ZPP_PartitionPair;d.util.ZPP_Set_ZPP_PartitionPair.__name__=
["zpp_nape","util","ZPP_Set_ZPP_PartitionPair"];d.util.ZPP_Set_ZPP_PartitionPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,
e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=
b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=
null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=
a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=
a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=
c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=
a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==
a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=
b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;
null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?
b=new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,
a))if(null==c.next){null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=
new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,
a))if(null==c.next){null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionPair:(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new d.util.ZPP_Set_ZPP_PartitionPair:
(b=d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_PartitionPair};d.util.ZPP_Set_ZPP_SimpleVert=function(){this.colour=
0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_SimpleVert"]=d.util.ZPP_Set_ZPP_SimpleVert;d.util.ZPP_Set_ZPP_SimpleVert.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleVert"];d.util.ZPP_Set_ZPP_SimpleVert.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=
a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==
this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=
this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;
return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=
this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;
var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=
a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==
c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=
d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,
e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-
1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?
b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;
null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:
(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=
0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleVert:(b=d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=
1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_SimpleVert};d.util.ZPP_Set_ZPP_SimpleSeg=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_SimpleSeg"]=d.util.ZPP_Set_ZPP_SimpleSeg;d.util.ZPP_Set_ZPP_SimpleSeg.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleSeg"];d.util.ZPP_Set_ZPP_SimpleSeg.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,
swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=
a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=
this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=
c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=
a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;
if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=
e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=
b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=
a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&
0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=
d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,
b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=
b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,
c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;
b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleSeg:(b=d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=
a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_SimpleSeg};d.util.ZPP_Set_ZPP_SimpleEvent=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_SimpleEvent"]=d.util.ZPP_Set_ZPP_SimpleEvent;d.util.ZPP_Set_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleEvent"];d.util.ZPP_Set_ZPP_SimpleEvent.prototype=
{free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=
d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=
b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=
c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=
a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=
b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);
break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a},clear:function(){this.clear_with(function(){})},
clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=
0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=
b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;
null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:
(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?
b=new d.util.ZPP_Set_ZPP_SimpleEvent:(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,
d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:
(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new d.util.ZPP_Set_ZPP_SimpleEvent:(b=d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=
a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_SimpleEvent};d.util.ZPP_Set_ZPP_CbSet=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};l["zpp_nape.util.ZPP_Set_ZPP_CbSet"]=d.util.ZPP_Set_ZPP_CbSet;
d.util.ZPP_Set_ZPP_CbSet.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSet"];d.util.ZPP_Set_ZPP_CbSet.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},lt:null,swapped:null,data:null,prev:null,next:null,parent:null,colour:null,verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var e=d.data;if(c)if(b==e)c=!1;else{if(!this.lt(e,b)&&
this.lt(b,e))return!1}else if(!this.lt(b,e)&&this.lt(e,b))return!1;if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=
this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;
return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var d=c.data;if(!this.lt(d,a)){b=d;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=
this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else for(var b=a,a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent;return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else for(var b=a,a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent;return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==
a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var c=a.data;a.data=b.data;b.data=c;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(c=a.parent;;){c.colour++;c.prev.colour--;c.next.colour--;var e=c.prev;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);
break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}e=c.next;if(-1==e.colour){this.__fix_neg_red(e);break}else if(0==e.colour){if(null!=e.prev&&0==e.prev.colour){this.__fix_dbl_red(e.prev);break}if(null!=e.next&&0==e.next.colour){this.__fix_dbl_red(e.next);break}}if(2==c.colour)if(null==c.parent)c.colour=1;else{c=c.parent;continue}break}c=a.parent;null==c?this.parent=b:c.prev==a?c.prev=b:c.next=b;null!=b&&(b.parent=c);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=
null;a.next=d.util.ZPP_Set_ZPP_CbSet.zpp_pool;d.util.ZPP_Set_ZPP_CbSet.zpp_pool=a},clear:function(){this.clear_with(function(){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var c=a.parent;null!=c&&(a==c.prev?c.prev=null:c.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=d.util.ZPP_Set_ZPP_CbSet.zpp_pool;d.util.ZPP_Set_ZPP_CbSet.zpp_pool=
a;return c},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,d=a.next,e=d.prev,f=d.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=d.data;d.data=a;null!=this.swapped&&this.swapped(b.data,d.data);d.prev=f;null!=f&&(f.parent=d);d.next=b.next;null!=b.next&&(b.next.parent=d);b.next=d}else c=a.next,d=a.prev,e=d.next,f=d.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=d.data,d.data=a,null!=this.swapped&&this.swapped(b.data,
d.data),d.next=f,null!=f&&(f.parent=d),d.prev=b.prev,null!=b.prev&&(b.prev.parent=d),b.prev=d;null!=d&&(d.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var d,e,f,h,k,l,m;b==c.prev?(f=c,m=c.next,a==b.prev?(d=a,e=b,h=a.prev,k=a.next,l=b.next):(d=b,e=a,h=b.prev,k=a.prev,l=a.next)):(d=c,h=c.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,
m=b.next):(e=b,f=a,k=b.prev,l=a.prev,m=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);d.prev=h;null!=h&&(h.parent=d);d.next=k;null!=k&&(k.parent=d);e.prev=d;null!=d&&(d.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=m;null!=m&&(m.parent=f);e.colour=c.colour-1;d.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,c=
null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,
a))if(null==c.next){null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,c=null;if(null==this.parent)null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,
d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(c=this.parent;;)if(this.lt(a,c.data))if(null==c.prev){null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;c.prev=b;b.parent=c;break}else c=c.prev;else if(this.lt(c.data,a))if(null==c.next){null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,
d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;c.next=b;b.parent=c;break}else c=c.next;else break;if(null==b)return c;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==d.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new d.util.ZPP_Set_ZPP_CbSet:(b=d.util.ZPP_Set_ZPP_CbSet.zpp_pool,d.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,
a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:d.util.ZPP_Set_ZPP_CbSet};var V,Je=0;Array.prototype.indexOf&&(B.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;l.Math=Math;Math.isFinite=
function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=l.String=String;String.__name__=["String"];l.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];var Jc=l.Int={__name__:["Int"]},Ke=l.Dynamic={__name__:["Dynamic"]},Xc=l.Float=Number;Xc.__name__=["Float"];var Yc=l.Bool=Boolean;Yc.__ename__=["Bool"];var Zc=l.Class={__name__:["Class"]},Ag={};H.Element="element";H.PCData="pcdata";H.CData="cdata";H.Comment="comment";
H.DocType="doctype";H.ProcessingInstruction="processingInstruction";H.Document="document";null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);q.images=new p.ds.StringMap;q.urlLoaders=new p.ds.StringMap;q.assetsLoaded=0;q.total=0;e.display.DisplayObject.__instanceCount=0;e.display.DisplayObject.__worldRenderDirty=0;e.display.DisplayObject.__worldTransformDirty=0;F.stageWidth=720;F.stageHeight=480;F.physDebug=!1;F.debugMenu=!1;F.showFps=!1;F.numLevels=27;G.currentVersion=
1;G.onMobile=!1;e.events.Event.ACTIVATE="activate";e.events.Event.ADDED="added";e.events.Event.ADDED_TO_STAGE="addedToStage";e.events.Event.CANCEL="cancel";e.events.Event.CHANGE="change";e.events.Event.CLOSE="close";e.events.Event.COMPLETE="complete";e.events.Event.CONNECT="connect";e.events.Event.CONTEXT3D_CREATE="context3DCreate";e.events.Event.DEACTIVATE="deactivate";e.events.Event.ENTER_FRAME="enterFrame";e.events.Event.ID3="id3";e.events.Event.INIT="init";e.events.Event.MOUSE_LEAVE="mouseLeave";
e.events.Event.OPEN="open";e.events.Event.REMOVED="removed";e.events.Event.REMOVED_FROM_STAGE="removedFromStage";e.events.Event.RENDER="render";e.events.Event.RESIZE="resize";e.events.Event.SCROLL="scroll";e.events.Event.SELECT="select";e.events.Event.TAB_CHILDREN_CHANGE="tabChildrenChange";e.events.Event.TAB_ENABLED_CHANGE="tabEnabledChange";e.events.Event.TAB_INDEX_CHANGE="tabIndexChange";e.events.Event.UNLOAD="unload";e.events.Event.SOUND_COMPLETE="soundComplete";h.alagatar.DataManager.OwnAchieve=
"ownAchieve";h.alagatar.DataManager.newHealth4=0;h.alagatar.DataManager.newHealth5=1;h.alagatar.DataManager.killSkeleton=2;h.alagatar.DataManager.destroyBarrel=3;h.alagatar.DataManager.useLift=4;h.alagatar.DataManager.useTeleport=5;h.alagatar.DataManager.allStars=6;h.alagatar.DataManager.level7=7;h.alagatar.DataManager.level26=8;h.alagatar.DataManager.run=9;e.display.Tilesheet.TILE_SCALE=1;e.display.Tilesheet.TILE_ROTATION=2;e.display.Tilesheet.TILE_RGB=4;e.display.Tilesheet.TILE_ALPHA=8;e.display.Tilesheet.TILE_TRANS_2x2=
16;e.display.Tilesheet.TILE_BLEND_NORMAL=0;e.display.Tilesheet.TILE_BLEND_ADD=65536;e.display.Tilesheet.TILE_BLEND_MULTIPLY=131072;e.display.Tilesheet.TILE_BLEND_SCREEN=262144;p.Serializer.USE_CACHE=!1;p.Serializer.USE_ENUM_INDEX=!1;p.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";p.Unserializer.DEFAULT_RESOLVER=R;p.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";p.Unserializer.CODES=null;p.ds.ObjectMap.count=0;Q=p.xml.Parser;
X=new p.ds.StringMap;X.set("lt","<");X.set("gt",">");X.set("amp","&");X.set("quot",'"');X.set("apos","'");X.set("nbsp",String.fromCharCode(160));Q.escapes=X;m.actuators.SimpleActuator.actuators=[];m.actuators.SimpleActuator.actuatorsLength=0;m.actuators.SimpleActuator.addedEvent=!1;m.Actuate.defaultActuator=m.actuators.SimpleActuator;m.Actuate.defaultEase=m.easing.Expo.get_easeOut();m.Actuate.targetLibraries=new p.ds.ObjectMap;f.Config.epsilon=1E-8;f.Config.fluidAngularDragFriction=2.5;f.Config.fluidAngularDrag=
100;f.Config.fluidVacuumDrag=0.5;f.Config.fluidLinearDrag=0.5;f.Config.collisionSlop=0.2;f.Config.collisionSlopCCD=0.5;f.Config.distanceThresholdCCD=0.05;f.Config.staticCCDLinearThreshold=0.05;f.Config.staticCCDAngularThreshold=0.005;f.Config.bulletCCDLinearThreshold=0.125;f.Config.bulletCCDAngularThreshold=0.0125;f.Config.dynamicSweepLinearThreshold=17;f.Config.dynamicSweepAngularThreshold=0.6;f.Config.angularCCDSlipScale=0.75;f.Config.arbiterExpirationDelay=6;f.Config.staticFrictionThreshold=2;
f.Config.elasticThreshold=20;f.Config.sleepDelay=60;f.Config.linearSleepThreshold=0.2;f.Config.angularSleepThreshold=0.4;f.Config.contactBiasCoef=0.3;f.Config.contactStaticBiasCoef=0.6;f.Config.contactContinuousBiasCoef=0.4;f.Config.contactContinuousStaticBiasCoef=0.5;f.Config.constraintLinearSlop=0.1;f.Config.constraintAngularSlop=0.001;f.Config.illConditionedThreshold=2E8;f.callbacks.CbTypeIterator.zpp_pool=null;f.callbacks.ListenerIterator.zpp_pool=null;f.constraint.ConstraintIterator.zpp_pool=
null;f.dynamics.ArbiterIterator.zpp_pool=null;f.dynamics.ContactIterator.zpp_pool=null;f.dynamics.InteractionGroupIterator.zpp_pool=null;f.geom.ConvexResultIterator.zpp_pool=null;f.geom.GeomPolyIterator.zpp_pool=null;f.geom.RayResultIterator.zpp_pool=null;f.geom.Vec2Iterator.zpp_pool=null;f.phys.BodyIterator.zpp_pool=null;f.phys.CompoundIterator.zpp_pool=null;f.phys.InteractorIterator.zpp_pool=null;f.shape.EdgeIterator.zpp_pool=null;f.shape.ShapeIterator.zpp_pool=null;e.Assets.cache=new e.AssetCache;
e.Assets.libraries=new p.ds.StringMap;e.Assets.dispatcher=new e.events.EventDispatcher;e.Assets.initialized=!1;e.Lib.__sentWarnings=new p.ds.StringMap;e.Lib.__startTime=p.Timer.stamp();e.display.BitmapData.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.display.BitmapDataChannel.ALPHA=8;e.display.BitmapDataChannel.BLUE=4;e.display.BitmapDataChannel.GREEN=2;e.display.BitmapDataChannel.RED=1;e.display._CapsStyle.CapsStyle_Impl_.NONE="butt";e.display._CapsStyle.CapsStyle_Impl_.ROUND=
"round";e.display._CapsStyle.CapsStyle_Impl_.SQUARE="square";e.display.Graphics.TILE_SCALE=1;e.display.Graphics.TILE_ROTATION=2;e.display.Graphics.TILE_RGB=4;e.display.Graphics.TILE_ALPHA=8;e.display.Graphics.TILE_TRANS_2x2=16;e.display.Graphics.TILE_BLEND_NORMAL=0;e.display.Graphics.TILE_BLEND_ADD=65536;e.display._JointStyle.JointStyle_Impl_.MITER="miter";e.display._JointStyle.JointStyle_Impl_.ROUND="round";e.display._JointStyle.JointStyle_Impl_.BEVEL="bevel";e.display._StageQuality.StageQuality_Impl_.BEST=
"best";e.display._StageQuality.StageQuality_Impl_.HIGH="high";e.display._StageQuality.StageQuality_Impl_.MEDIUM="medium";e.display._StageQuality.StageQuality_Impl_.LOW="low";e.errors.Error.DEFAULT_TO_STRING="Error";e.events.TextEvent.LINK="link";e.events.TextEvent.TEXT_INPUT="textInput";e.events.ErrorEvent.ERROR="error";e.events._EventPhase.EventPhase_Impl_.CAPTURING_PHASE=0;e.events._EventPhase.EventPhase_Impl_.AT_TARGET=1;e.events._EventPhase.EventPhase_Impl_.BUBBLING_PHASE=2;e.events.FocusEvent.FOCUS_IN=
"focusIn";e.events.FocusEvent.FOCUS_OUT="focusOut";e.events.FocusEvent.KEY_FOCUS_CHANGE="keyFocusChange";e.events.FocusEvent.MOUSE_FOCUS_CHANGE="mouseFocusChange";e.events.HTTPStatusEvent.HTTP_RESPONSE_STATUS="httpResponseStatus";e.events.HTTPStatusEvent.HTTP_STATUS="httpStatus";e.events.IOErrorEvent.IO_ERROR="ioError";e.events.KeyboardEvent.KEY_DOWN="keyDown";e.events.KeyboardEvent.KEY_UP="keyUp";e.events.MouseEvent.CLICK="click";e.events.MouseEvent.DOUBLE_CLICK="doubleClick";e.events.MouseEvent.MIDDLE_CLICK=
"middleClick";e.events.MouseEvent.MIDDLE_MOUSE_DOWN="middleMouseDown";e.events.MouseEvent.MIDDLE_MOUSE_UP="middleMouseUp";e.events.MouseEvent.MOUSE_DOWN="mouseDown";e.events.MouseEvent.MOUSE_MOVE="mouseMove";e.events.MouseEvent.MOUSE_OUT="mouseOut";e.events.MouseEvent.MOUSE_OVER="mouseOver";e.events.MouseEvent.MOUSE_UP="mouseUp";e.events.MouseEvent.MOUSE_WHEEL="mouseWheel";e.events.MouseEvent.RIGHT_CLICK="rightClick";e.events.MouseEvent.RIGHT_MOUSE_DOWN="rightMouseDown";e.events.MouseEvent.RIGHT_MOUSE_UP=
"rightMouseUp";e.events.MouseEvent.ROLL_OUT="rollOut";e.events.MouseEvent.ROLL_OVER="rollOver";e.events.ProgressEvent.PROGRESS="progress";e.events.ProgressEvent.SOCKET_DATA="socketData";e.events.SecurityErrorEvent.SECURITY_ERROR="securityError";e.events.TimerEvent.TIMER="timer";e.events.TimerEvent.TIMER_COMPLETE="timerComplete";e.events.TouchEvent.TOUCH_BEGIN="touchBegin";e.events.TouchEvent.TOUCH_END="touchEnd";e.events.TouchEvent.TOUCH_MOVE="touchMove";e.events.TouchEvent.TOUCH_OUT="touchOut";e.events.TouchEvent.TOUCH_OVER=
"touchOver";e.events.TouchEvent.TOUCH_ROLL_OUT="touchRollOut";e.events.TouchEvent.TOUCH_ROLL_OVER="touchRollOver";e.events.TouchEvent.TOUCH_TAP="touchTap";e.external.ExternalInterface.available=!0;e.external.ExternalInterface.marshallExceptions=!1;e.geom.Matrix.__identity=new e.geom.Matrix;e.media.Sound.__registeredSounds=new p.ds.StringMap;e.net.URLRequestMethod.DELETE="DELETE";e.net.URLRequestMethod.GET="GET";e.net.URLRequestMethod.HEAD="HEAD";e.net.URLRequestMethod.OPTIONS="OPTIONS";e.net.URLRequestMethod.POST=
"POST";e.net.URLRequestMethod.PUT="PUT";e.system.ApplicationDomain.currentDomain=new e.system.ApplicationDomain(null);e.system.Capabilities.hasAccessibility=!1;e.system.SecurityDomain.currentDomain=new e.system.SecurityDomain;e.system.System.useCodePage=!1;e.text._AntiAliasType.AntiAliasType_Impl_.ADVANCED="advanced";e.text._AntiAliasType.AntiAliasType_Impl_.NORMAL="normal";e.ui._KeyLocation.KeyLocation_Impl_.STANDARD=0;e.ui._KeyLocation.KeyLocation_Impl_.LEFT=1;e.ui._KeyLocation.KeyLocation_Impl_.RIGHT=
2;e.ui._KeyLocation.KeyLocation_Impl_.NUM_PAD=3;e.ui.Keyboard.NUMBER_0=48;e.ui.Keyboard.NUMBER_1=49;e.ui.Keyboard.NUMBER_2=50;e.ui.Keyboard.NUMBER_3=51;e.ui.Keyboard.NUMBER_4=52;e.ui.Keyboard.NUMBER_5=53;e.ui.Keyboard.NUMBER_6=54;e.ui.Keyboard.NUMBER_7=55;e.ui.Keyboard.NUMBER_8=56;e.ui.Keyboard.NUMBER_9=57;e.ui.Keyboard.A=65;e.ui.Keyboard.B=66;e.ui.Keyboard.C=67;e.ui.Keyboard.D=68;e.ui.Keyboard.E=69;e.ui.Keyboard.F=70;e.ui.Keyboard.G=71;e.ui.Keyboard.H=72;e.ui.Keyboard.I=73;e.ui.Keyboard.J=74;e.ui.Keyboard.K=
75;e.ui.Keyboard.L=76;e.ui.Keyboard.M=77;e.ui.Keyboard.N=78;e.ui.Keyboard.O=79;e.ui.Keyboard.P=80;e.ui.Keyboard.Q=81;e.ui.Keyboard.R=82;e.ui.Keyboard.S=83;e.ui.Keyboard.T=84;e.ui.Keyboard.U=85;e.ui.Keyboard.V=86;e.ui.Keyboard.W=87;e.ui.Keyboard.X=88;e.ui.Keyboard.Y=89;e.ui.Keyboard.Z=90;e.ui.Keyboard.NUMPAD_0=96;e.ui.Keyboard.NUMPAD_1=97;e.ui.Keyboard.NUMPAD_2=98;e.ui.Keyboard.NUMPAD_3=99;e.ui.Keyboard.NUMPAD_4=100;e.ui.Keyboard.NUMPAD_5=101;e.ui.Keyboard.NUMPAD_6=102;e.ui.Keyboard.NUMPAD_7=103;e.ui.Keyboard.NUMPAD_8=
104;e.ui.Keyboard.NUMPAD_9=105;e.ui.Keyboard.NUMPAD_MULTIPLY=106;e.ui.Keyboard.NUMPAD_ADD=107;e.ui.Keyboard.NUMPAD_ENTER=108;e.ui.Keyboard.NUMPAD_SUBTRACT=109;e.ui.Keyboard.NUMPAD_DECIMAL=110;e.ui.Keyboard.NUMPAD_DIVIDE=111;e.ui.Keyboard.F1=112;e.ui.Keyboard.F2=113;e.ui.Keyboard.F3=114;e.ui.Keyboard.F4=115;e.ui.Keyboard.F5=116;e.ui.Keyboard.F6=117;e.ui.Keyboard.F7=118;e.ui.Keyboard.F8=119;e.ui.Keyboard.F9=120;e.ui.Keyboard.F10=121;e.ui.Keyboard.F11=122;e.ui.Keyboard.F12=123;e.ui.Keyboard.F13=124;
e.ui.Keyboard.F14=125;e.ui.Keyboard.F15=126;e.ui.Keyboard.BACKSPACE=8;e.ui.Keyboard.TAB=9;e.ui.Keyboard.ALTERNATE=18;e.ui.Keyboard.ENTER=13;e.ui.Keyboard.COMMAND=15;e.ui.Keyboard.SHIFT=16;e.ui.Keyboard.CONTROL=17;e.ui.Keyboard.CAPS_LOCK=20;e.ui.Keyboard.NUMPAD=21;e.ui.Keyboard.ESCAPE=27;e.ui.Keyboard.SPACE=32;e.ui.Keyboard.PAGE_UP=33;e.ui.Keyboard.PAGE_DOWN=34;e.ui.Keyboard.END=35;e.ui.Keyboard.HOME=36;e.ui.Keyboard.LEFT=37;e.ui.Keyboard.RIGHT=39;e.ui.Keyboard.UP=38;e.ui.Keyboard.DOWN=40;e.ui.Keyboard.INSERT=
45;e.ui.Keyboard.DELETE=46;e.ui.Keyboard.NUMLOCK=144;e.ui.Keyboard.BREAK=19;e.ui.Keyboard.SEMICOLON=186;e.ui.Keyboard.EQUAL=187;e.ui.Keyboard.COMMA=188;e.ui.Keyboard.MINUS=189;e.ui.Keyboard.PERIOD=190;e.ui.Keyboard.SLASH=191;e.ui.Keyboard.BACKQUOTE=192;e.ui.Keyboard.LEFTBRACKET=219;e.ui.Keyboard.BACKSLASH=220;e.ui.Keyboard.RIGHTBRACKET=221;e.ui.Keyboard.QUOTE=222;e.ui.Keyboard.DOM_VK_CANCEL=3;e.ui.Keyboard.DOM_VK_HELP=6;e.ui.Keyboard.DOM_VK_BACK_SPACE=8;e.ui.Keyboard.DOM_VK_TAB=9;e.ui.Keyboard.DOM_VK_CLEAR=
12;e.ui.Keyboard.DOM_VK_RETURN=13;e.ui.Keyboard.DOM_VK_ENTER=14;e.ui.Keyboard.DOM_VK_SHIFT=16;e.ui.Keyboard.DOM_VK_CONTROL=17;e.ui.Keyboard.DOM_VK_ALT=18;e.ui.Keyboard.DOM_VK_PAUSE=19;e.ui.Keyboard.DOM_VK_CAPS_LOCK=20;e.ui.Keyboard.DOM_VK_ESCAPE=27;e.ui.Keyboard.DOM_VK_SPACE=32;e.ui.Keyboard.DOM_VK_PAGE_UP=33;e.ui.Keyboard.DOM_VK_PAGE_DOWN=34;e.ui.Keyboard.DOM_VK_END=35;e.ui.Keyboard.DOM_VK_HOME=36;e.ui.Keyboard.DOM_VK_LEFT=37;e.ui.Keyboard.DOM_VK_UP=38;e.ui.Keyboard.DOM_VK_RIGHT=39;e.ui.Keyboard.DOM_VK_DOWN=
40;e.ui.Keyboard.DOM_VK_PRINTSCREEN=44;e.ui.Keyboard.DOM_VK_INSERT=45;e.ui.Keyboard.DOM_VK_DELETE=46;e.ui.Keyboard.DOM_VK_0=48;e.ui.Keyboard.DOM_VK_1=49;e.ui.Keyboard.DOM_VK_2=50;e.ui.Keyboard.DOM_VK_3=51;e.ui.Keyboard.DOM_VK_4=52;e.ui.Keyboard.DOM_VK_5=53;e.ui.Keyboard.DOM_VK_6=54;e.ui.Keyboard.DOM_VK_7=55;e.ui.Keyboard.DOM_VK_8=56;e.ui.Keyboard.DOM_VK_9=57;e.ui.Keyboard.DOM_VK_SEMICOLON=59;e.ui.Keyboard.DOM_VK_EQUALS=61;e.ui.Keyboard.DOM_VK_A=65;e.ui.Keyboard.DOM_VK_B=66;e.ui.Keyboard.DOM_VK_C=
67;e.ui.Keyboard.DOM_VK_D=68;e.ui.Keyboard.DOM_VK_E=69;e.ui.Keyboard.DOM_VK_F=70;e.ui.Keyboard.DOM_VK_G=71;e.ui.Keyboard.DOM_VK_H=72;e.ui.Keyboard.DOM_VK_I=73;e.ui.Keyboard.DOM_VK_J=74;e.ui.Keyboard.DOM_VK_K=75;e.ui.Keyboard.DOM_VK_L=76;e.ui.Keyboard.DOM_VK_M=77;e.ui.Keyboard.DOM_VK_N=78;e.ui.Keyboard.DOM_VK_O=79;e.ui.Keyboard.DOM_VK_P=80;e.ui.Keyboard.DOM_VK_Q=81;e.ui.Keyboard.DOM_VK_R=82;e.ui.Keyboard.DOM_VK_S=83;e.ui.Keyboard.DOM_VK_T=84;e.ui.Keyboard.DOM_VK_U=85;e.ui.Keyboard.DOM_VK_V=86;e.ui.Keyboard.DOM_VK_W=
87;e.ui.Keyboard.DOM_VK_X=88;e.ui.Keyboard.DOM_VK_Y=89;e.ui.Keyboard.DOM_VK_Z=90;e.ui.Keyboard.DOM_VK_CONTEXT_MENU=93;e.ui.Keyboard.DOM_VK_NUMPAD0=96;e.ui.Keyboard.DOM_VK_NUMPAD1=97;e.ui.Keyboard.DOM_VK_NUMPAD2=98;e.ui.Keyboard.DOM_VK_NUMPAD3=99;e.ui.Keyboard.DOM_VK_NUMPAD4=100;e.ui.Keyboard.DOM_VK_NUMPAD5=101;e.ui.Keyboard.DOM_VK_NUMPAD6=102;e.ui.Keyboard.DOM_VK_NUMPAD7=103;e.ui.Keyboard.DOM_VK_NUMPAD8=104;e.ui.Keyboard.DOM_VK_NUMPAD9=105;e.ui.Keyboard.DOM_VK_MULTIPLY=106;e.ui.Keyboard.DOM_VK_ADD=
107;e.ui.Keyboard.DOM_VK_SEPARATOR=108;e.ui.Keyboard.DOM_VK_SUBTRACT=109;e.ui.Keyboard.DOM_VK_DECIMAL=110;e.ui.Keyboard.DOM_VK_DIVIDE=111;e.ui.Keyboard.DOM_VK_F1=112;e.ui.Keyboard.DOM_VK_F2=113;e.ui.Keyboard.DOM_VK_F3=114;e.ui.Keyboard.DOM_VK_F4=115;e.ui.Keyboard.DOM_VK_F5=116;e.ui.Keyboard.DOM_VK_F6=117;e.ui.Keyboard.DOM_VK_F7=118;e.ui.Keyboard.DOM_VK_F8=119;e.ui.Keyboard.DOM_VK_F9=120;e.ui.Keyboard.DOM_VK_F10=121;e.ui.Keyboard.DOM_VK_F11=122;e.ui.Keyboard.DOM_VK_F12=123;e.ui.Keyboard.DOM_VK_F13=
124;e.ui.Keyboard.DOM_VK_F14=125;e.ui.Keyboard.DOM_VK_F15=126;e.ui.Keyboard.DOM_VK_F16=127;e.ui.Keyboard.DOM_VK_F17=128;e.ui.Keyboard.DOM_VK_F18=129;e.ui.Keyboard.DOM_VK_F19=130;e.ui.Keyboard.DOM_VK_F20=131;e.ui.Keyboard.DOM_VK_F21=132;e.ui.Keyboard.DOM_VK_F22=133;e.ui.Keyboard.DOM_VK_F23=134;e.ui.Keyboard.DOM_VK_F24=135;e.ui.Keyboard.DOM_VK_NUM_LOCK=144;e.ui.Keyboard.DOM_VK_SCROLL_LOCK=145;e.ui.Keyboard.DOM_VK_COMMA=188;e.ui.Keyboard.DOM_VK_PERIOD=190;e.ui.Keyboard.DOM_VK_SLASH=191;e.ui.Keyboard.DOM_VK_BACK_QUOTE=
192;e.ui.Keyboard.DOM_VK_OPEN_BRACKET=219;e.ui.Keyboard.DOM_VK_BACK_SLASH=220;e.ui.Keyboard.DOM_VK_CLOSE_BRACKET=221;e.ui.Keyboard.DOM_VK_QUOTE=222;e.ui.Keyboard.DOM_VK_META=224;e.ui.Keyboard.DOM_VK_KANA=21;e.ui.Keyboard.DOM_VK_HANGUL=21;e.ui.Keyboard.DOM_VK_JUNJA=23;e.ui.Keyboard.DOM_VK_FINAL=24;e.ui.Keyboard.DOM_VK_HANJA=25;e.ui.Keyboard.DOM_VK_KANJI=25;e.ui.Keyboard.DOM_VK_CONVERT=28;e.ui.Keyboard.DOM_VK_NONCONVERT=29;e.ui.Keyboard.DOM_VK_ACEPT=30;e.ui.Keyboard.DOM_VK_MODECHANGE=31;e.ui.Keyboard.DOM_VK_SELECT=
41;e.ui.Keyboard.DOM_VK_PRINT=42;e.ui.Keyboard.DOM_VK_EXECUTE=43;e.ui.Keyboard.DOM_VK_SLEEP=95;e.utils.Endian.BIG_ENDIAN="bigEndian";e.utils.Endian.LITTLE_ENDIAN="littleEndian";U.TJSON.OBJECT_REFERENCE_PREFIX="@~obRef#";d.ZPP_Const.FMAX=1E100;d.ZPP_ID._Constraint=0;d.ZPP_ID._Interactor=0;d.ZPP_ID._CbType=0;d.ZPP_ID._CbSet=0;d.ZPP_ID._Listener=0;d.ZPP_ID._ZPP_SimpleVert=0;d.ZPP_ID._ZPP_SimpleSeg=0;d.ZPP_ID._Space=0;d.ZPP_ID._InteractionGroup=0;d.callbacks.ZPP_Callback.zpp_pool=null;d.callbacks.ZPP_CbSet.zpp_pool=
null;d.callbacks.ZPP_CbSetPair.zpp_pool=null;d.callbacks.ZPP_CbType.ANY_SHAPE=new f.callbacks.CbType;d.callbacks.ZPP_CbType.ANY_BODY=new f.callbacks.CbType;d.callbacks.ZPP_CbType.ANY_COMPOUND=new f.callbacks.CbType;d.callbacks.ZPP_CbType.ANY_CONSTRAINT=new f.callbacks.CbType;d.util.ZPP_Flags.internal=!1;d.util.ZPP_Flags.id_ImmState_ACCEPT=1;d.util.ZPP_Flags.id_ImmState_IGNORE=2;d.util.ZPP_Flags.id_ImmState_ALWAYS=4;d.util.ZPP_Flags.id_GravMassMode_DEFAULT=0;d.util.ZPP_Flags.id_GravMassMode_FIXED=
1;d.util.ZPP_Flags.id_GravMassMode_SCALED=2;d.util.ZPP_Flags.id_InertiaMode_DEFAULT=0;d.util.ZPP_Flags.id_InertiaMode_FIXED=1;d.util.ZPP_Flags.id_MassMode_DEFAULT=0;d.util.ZPP_Flags.id_MassMode_FIXED=1;d.util.ZPP_Flags.id_BodyType_STATIC=1;d.util.ZPP_Flags.id_BodyType_DYNAMIC=2;d.util.ZPP_Flags.id_BodyType_KINEMATIC=3;d.util.ZPP_Flags.id_ListenerType_BODY=0;d.util.ZPP_Flags.id_ListenerType_CONSTRAINT=1;d.util.ZPP_Flags.id_PreFlag_ACCEPT=1;d.util.ZPP_Flags.id_ListenerType_INTERACTION=2;d.util.ZPP_Flags.id_PreFlag_IGNORE=
2;d.util.ZPP_Flags.id_ListenerType_PRE=3;d.util.ZPP_Flags.id_PreFlag_ACCEPT_ONCE=3;d.util.ZPP_Flags.id_PreFlag_IGNORE_ONCE=4;d.util.ZPP_Flags.id_CbEvent_BEGIN=0;d.util.ZPP_Flags.id_CbEvent_ONGOING=6;d.util.ZPP_Flags.id_InteractionType_COLLISION=1;d.util.ZPP_Flags.id_CbEvent_END=1;d.util.ZPP_Flags.id_InteractionType_SENSOR=2;d.util.ZPP_Flags.id_CbEvent_WAKE=2;d.util.ZPP_Flags.id_InteractionType_FLUID=4;d.util.ZPP_Flags.id_CbEvent_SLEEP=3;d.util.ZPP_Flags.id_InteractionType_ANY=7;d.util.ZPP_Flags.id_CbEvent_BREAK=
4;d.util.ZPP_Flags.id_CbEvent_PRE=5;d.util.ZPP_Flags.id_Winding_UNDEFINED=0;d.util.ZPP_Flags.id_Winding_CLOCKWISE=1;d.util.ZPP_Flags.id_Winding_ANTICLOCKWISE=2;d.util.ZPP_Flags.id_ValidationResult_VALID=0;d.util.ZPP_Flags.id_ValidationResult_DEGENERATE=1;d.util.ZPP_Flags.id_ValidationResult_CONCAVE=2;d.util.ZPP_Flags.id_ValidationResult_SELF_INTERSECTING=3;d.util.ZPP_Flags.id_ShapeType_CIRCLE=0;d.util.ZPP_Flags.id_ShapeType_POLYGON=1;d.util.ZPP_Flags.id_Broadphase_DYNAMIC_AABB_TREE=0;d.util.ZPP_Flags.id_Broadphase_SWEEP_AND_PRUNE=
1;d.util.ZPP_Flags.id_ArbiterType_COLLISION=1;d.util.ZPP_Flags.id_ArbiterType_SENSOR=2;d.util.ZPP_Flags.id_ArbiterType_FLUID=4;Q=d.callbacks.ZPP_Listener;null==d.util.ZPP_Flags.ListenerType_BODY&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_BODY=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);X=d.util.ZPP_Flags.ListenerType_BODY;null==d.util.ZPP_Flags.ListenerType_CONSTRAINT&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_CONSTRAINT=new f.callbacks.ListenerType,
d.util.ZPP_Flags.internal=!1);var za=d.util.ZPP_Flags.ListenerType_CONSTRAINT;null==d.util.ZPP_Flags.ListenerType_INTERACTION&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_INTERACTION=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);var Vc=d.util.ZPP_Flags.ListenerType_INTERACTION;null==d.util.ZPP_Flags.ListenerType_PRE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ListenerType_PRE=new f.callbacks.ListenerType,d.util.ZPP_Flags.internal=!1);Q.types=[X,za,Vc,d.util.ZPP_Flags.ListenerType_PRE];
Q=d.callbacks.ZPP_Listener;null==d.util.ZPP_Flags.CbEvent_BEGIN&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BEGIN=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);X=d.util.ZPP_Flags.CbEvent_BEGIN;null==d.util.ZPP_Flags.CbEvent_END&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_END=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);za=d.util.ZPP_Flags.CbEvent_END;null==d.util.ZPP_Flags.CbEvent_WAKE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_WAKE=new f.callbacks.CbEvent,
d.util.ZPP_Flags.internal=!1);Vc=d.util.ZPP_Flags.CbEvent_WAKE;null==d.util.ZPP_Flags.CbEvent_SLEEP&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_SLEEP=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);var Bg=d.util.ZPP_Flags.CbEvent_SLEEP;null==d.util.ZPP_Flags.CbEvent_BREAK&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_BREAK=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);var Cg=d.util.ZPP_Flags.CbEvent_BREAK;null==d.util.ZPP_Flags.CbEvent_PRE&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.CbEvent_PRE=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);var Dg=d.util.ZPP_Flags.CbEvent_PRE;null==d.util.ZPP_Flags.CbEvent_ONGOING&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.CbEvent_ONGOING=new f.callbacks.CbEvent,d.util.ZPP_Flags.internal=!1);Q.events=[X,za,Vc,Bg,Cg,Dg,d.util.ZPP_Flags.CbEvent_ONGOING];d.callbacks.ZPP_InteractionListener.UCbSet=new d.util.ZNPList_ZPP_CbSet;d.callbacks.ZPP_InteractionListener.VCbSet=new d.util.ZNPList_ZPP_CbSet;d.callbacks.ZPP_InteractionListener.WCbSet=
new d.util.ZNPList_ZPP_CbSet;d.callbacks.ZPP_InteractionListener.UCbType=new d.util.ZNPList_ZPP_CbType;d.callbacks.ZPP_InteractionListener.VCbType=new d.util.ZNPList_ZPP_CbType;d.callbacks.ZPP_InteractionListener.WCbType=new d.util.ZNPList_ZPP_CbType;d.constraint.ZPP_AngleDraw.maxarc=Math.PI/4;d.dynamics.ZPP_Arbiter.internal=!1;d.dynamics.ZPP_Arbiter.COL=1;d.dynamics.ZPP_Arbiter.FLUID=4;d.dynamics.ZPP_Arbiter.SENSOR=2;Q=d.dynamics.ZPP_Arbiter;null==d.util.ZPP_Flags.ArbiterType_COLLISION&&(d.util.ZPP_Flags.internal=
!0,d.util.ZPP_Flags.ArbiterType_COLLISION=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);X=d.util.ZPP_Flags.ArbiterType_COLLISION;null==d.util.ZPP_Flags.ArbiterType_SENSOR&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_SENSOR=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=!1);za=d.util.ZPP_Flags.ArbiterType_SENSOR;null==d.util.ZPP_Flags.ArbiterType_FLUID&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ArbiterType_FLUID=new f.dynamics.ArbiterType,d.util.ZPP_Flags.internal=
!1);Q.types=[null,X,za,null,d.util.ZPP_Flags.ArbiterType_FLUID];d.dynamics.ZPP_SensorArbiter.zpp_pool=null;d.dynamics.ZPP_FluidArbiter.zpp_pool=null;d.dynamics.ZPP_ColArbiter.FACE1=0;d.dynamics.ZPP_ColArbiter.FACE2=1;d.dynamics.ZPP_ColArbiter.CIRCLE=2;d.dynamics.ZPP_ColArbiter.zpp_pool=null;d.dynamics.ZPP_Contact.internal=!1;d.dynamics.ZPP_Contact.zpp_pool=null;d.dynamics.ZPP_InteractionFilter.zpp_pool=null;d.dynamics.ZPP_InteractionGroup.SHAPE=1;d.dynamics.ZPP_InteractionGroup.BODY=2;d.geom.ZPP_AABB.zpp_pool=
null;d.geom.ZPP_Collide.flowpoly=new d.util.ZNPList_ZPP_Vec2;d.geom.ZPP_Collide.flowsegs=new d.util.ZNPList_ZPP_Vec2;d.geom.ZPP_ConvexRayResult.convexPool=null;d.geom.ZPP_ConvexRayResult.rayPool=null;d.geom.ZPP_ConvexRayResult.internal=!1;d.geom.ZPP_CutVert.zpp_pool=null;d.geom.ZPP_CutInt.zpp_pool=null;d.geom.ZPP_Cutter.ints=null;d.geom.ZPP_Cutter.paths=null;d.geom.ZPP_GeomVert.zpp_pool=null;d.geom.ZPP_GeomVertexIterator.zpp_pool=null;d.geom.ZPP_MarchSpan.zpp_pool=null;d.geom.ZPP_MarchPair.zpp_pool=
null;d.geom.ZPP_MarchingSquares.me=new d.geom.ZPP_MarchingSquares;d.geom.ZPP_MarchingSquares.look_march=[-1,224,56,216,14,-1,54,214,131,99,-1,91,141,109,181,85];d.geom.ZPP_Mat23.zpp_pool=null;d.geom.ZPP_Monotone.queue=null;d.geom.ZPP_Monotone.edges=null;d.geom.ZPP_PartitionVertex.nextId=0;d.geom.ZPP_PartitionVertex.zpp_pool=null;d.geom.ZPP_PartitionedPoly.zpp_pool=null;d.geom.ZPP_SimpleVert.zpp_pool=null;d.geom.ZPP_SimpleSeg.zpp_pool=null;d.geom.ZPP_SimpleEvent.zpp_pool=null;d.geom.ZPP_Simple.sweep=
null;d.geom.ZPP_Simple.inthash=null;d.geom.ZPP_Simple.vertices=null;d.geom.ZPP_Simple.queue=null;d.geom.ZPP_Simple.ints=null;d.geom.ZPP_Simple.list_vertices=null;d.geom.ZPP_Simple.list_queue=null;d.geom.ZPP_SimplifyV.zpp_pool=null;d.geom.ZPP_SimplifyP.zpp_pool=null;d.geom.ZPP_Simplify.stack=null;d.geom.ZPP_ToiEvent.zpp_pool=null;d.geom.ZPP_PartitionPair.zpp_pool=null;d.geom.ZPP_Triangular.queue=null;d.geom.ZPP_Triangular.stack=null;d.geom.ZPP_Triangular.edgeSet=null;d.geom.ZPP_Vec2.zpp_pool=null;
Q=d.phys.ZPP_Body;null==d.util.ZPP_Flags.BodyType_STATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_STATIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);X=d.util.ZPP_Flags.BodyType_STATIC;null==d.util.ZPP_Flags.BodyType_DYNAMIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_DYNAMIC=new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);za=d.util.ZPP_Flags.BodyType_DYNAMIC;null==d.util.ZPP_Flags.BodyType_KINEMATIC&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.BodyType_KINEMATIC=
new f.phys.BodyType,d.util.ZPP_Flags.internal=!1);Q.types=[null,X,za,d.util.ZPP_Flags.BodyType_KINEMATIC];d.phys.ZPP_Body.bodystack=null;d.phys.ZPP_Body.bodyset=null;d.phys.ZPP_Body.cur_graph_depth=0;d.phys.ZPP_FluidProperties.zpp_pool=null;d.phys.ZPP_Material.zpp_pool=null;d.phys.ZPP_Material.WAKE=1;d.phys.ZPP_Material.PROPS=2;d.phys.ZPP_Material.ANGDRAG=4;d.phys.ZPP_Material.ARBITERS=8;Q=d.shape.ZPP_Shape;null==d.util.ZPP_Flags.ShapeType_CIRCLE&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_CIRCLE=
new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);X=d.util.ZPP_Flags.ShapeType_CIRCLE;null==d.util.ZPP_Flags.ShapeType_POLYGON&&(d.util.ZPP_Flags.internal=!0,d.util.ZPP_Flags.ShapeType_POLYGON=new f.shape.ShapeType,d.util.ZPP_Flags.internal=!1);Q.types=[X,d.util.ZPP_Flags.ShapeType_POLYGON];d.shape.ZPP_Edge.zpp_pool=null;d.shape.ZPP_Edge.internal=!1;d.space.ZPP_AABBNode.zpp_pool=null;d.space.ZPP_AABBPair.zpp_pool=null;d.space.ZPP_AABBTree.tmpaabb=new d.geom.ZPP_AABB;d.space.ZPP_DynAABBPhase.FATTEN=
3;d.space.ZPP_DynAABBPhase.VEL_STEPS=2;d.space.ZPP_Island.zpp_pool=null;d.space.ZPP_Component.zpp_pool=null;d.space.ZPP_CallbackSet.zpp_pool=null;d.space.ZPP_SweepData.zpp_pool=null;d.util.ZPP_Debug.internal=!1;d.util.Hashable2_Boolfalse.zpp_pool=null;d.util.ZNPNode_ZPP_CbType.zpp_pool=null;d.util.ZNPNode_ZPP_CallbackSet.zpp_pool=null;d.util.ZNPNode_ZPP_Shape.zpp_pool=null;d.util.ZNPNode_ZPP_Body.zpp_pool=null;d.util.ZNPNode_ZPP_Constraint.zpp_pool=null;d.util.ZNPNode_ZPP_Compound.zpp_pool=null;d.util.ZNPNode_ZPP_InteractionListener.zpp_pool=
null;d.util.ZNPNode_ZPP_CbSet.zpp_pool=null;d.util.ZNPNode_ZPP_Interactor.zpp_pool=null;d.util.ZNPNode_ZPP_BodyListener.zpp_pool=null;d.util.ZNPNode_ZPP_Arbiter.zpp_pool=null;d.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=null;d.util.ZNPNode_ZPP_CbSetPair.zpp_pool=null;d.util.ZNPNode_ZPP_CutInt.zpp_pool=null;d.util.ZNPNode_ZPP_CutVert.zpp_pool=null;d.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=null;d.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=null;d.util.ZNPNode_ZPP_GeomVert.zpp_pool=null;d.util.ZNPNode_ZPP_SimplifyP.zpp_pool=
null;d.util.ZNPNode_ZPP_SimpleVert.zpp_pool=null;d.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=null;d.util.ZNPNode_ZPP_AABBPair.zpp_pool=null;d.util.ZNPNode_ZPP_Edge.zpp_pool=null;d.util.ZNPNode_ZPP_Vec2.zpp_pool=null;d.util.ZNPNode_ZPP_Component.zpp_pool=null;d.util.ZNPNode_ZPP_AABBNode.zpp_pool=null;d.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=null;d.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=null;d.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=null;d.util.ZNPNode_ZPP_ColArbiter.zpp_pool=null;d.util.ZNPNode_ZPP_Listener.zpp_pool=
null;d.util.ZNPNode_ZPP_ToiEvent.zpp_pool=null;d.util.ZNPNode_ConvexResult.zpp_pool=null;d.util.ZNPNode_ZPP_GeomPoly.zpp_pool=null;d.util.ZNPNode_RayResult.zpp_pool=null;d.util.ZPP_ConstraintList.internal=!1;d.util.ZPP_BodyList.internal=!1;d.util.ZPP_InteractorList.internal=!1;d.util.ZPP_CompoundList.internal=!1;d.util.ZPP_ListenerList.internal=!1;d.util.ZPP_CbTypeList.internal=!1;d.util.ZPP_Vec2List.internal=!1;d.util.ZPP_GeomPolyList.internal=!1;d.util.ZPP_RayResultList.internal=!1;d.util.ZPP_ConvexResultList.internal=
!1;d.util.ZPP_EdgeList.internal=!1;d.util.ZPP_ShapeList.internal=!1;d.util.ZPP_InteractionGroupList.internal=!1;d.util.ZPP_ArbiterList.internal=!1;d.util.ZPP_ContactList.internal=!1;d.util.ZPP_PubPool.poolGeomPoly=null;d.util.ZPP_PubPool.poolVec2=null;d.util.ZPP_PubPool.poolVec3=null;d.util.ZPP_Set_ZPP_Body.zpp_pool=null;d.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=null;d.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=null;d.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=null;d.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=
null;d.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=null;d.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=null;d.util.ZPP_Set_ZPP_CbSet.zpp_pool=null;q.main()})("undefined"!=typeof window?window:exports);
